{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/lsl-animatex/index.js","node_modules/lsl-animatex/src/animation-job.js","node_modules/lsl-animatex/src/animator.js","node_modules/lsl-animatex/src/frame-latency-profiler.js","node_modules/lsl-animatex/src/index.js","node_modules/lsl-animatex/src/persistent-animation-job.js","node_modules/lsl-animatex/src/transient-animation-job.js","node_modules/lsl-animatex/src/util.js","node_modules/lsl-physx/src/collisions/collidables/index.js","node_modules/lsl-physx/src/collisions/collidables/src/aabb-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/capsule-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/line-segment.js","node_modules/lsl-physx/src/collisions/collidables/src/obb-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/sphere-collidable.js","node_modules/lsl-physx/src/collisions/collision-detection/index.js","node_modules/lsl-physx/src/collisions/collision-detection/src/aabb-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/capsule-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/obb-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/sphere-collision-detection.js","node_modules/lsl-physx/src/collisions/contact-calculation/index.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/aabb-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/capsule-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/obb-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/sphere-contact-calculation.js","node_modules/lsl-physx/src/collisions/index.js","node_modules/lsl-physx/src/collisions/src/collidable-factories.js","node_modules/lsl-physx/src/collisions/src/collidable-physics-job.js","node_modules/lsl-physx/src/collisions/src/collidable-store.js","node_modules/lsl-physx/src/collisions/src/collision-handler.js","node_modules/lsl-physx/src/collisions/src/collision-utils.js","node_modules/lsl-physx/src/index.js","node_modules/lsl-physx/src/integrator/index.js","node_modules/lsl-physx/src/integrator/src/integrator.js","node_modules/lsl-physx/src/integrator/src/rk4-integrator.js","node_modules/lsl-physx/src/src/physics-engine.js","node_modules/lsl-physx/src/src/physics-job.js","node_modules/lsl-physx/src/src/physics-state.js","node_modules/lsl-physx/src/util/index.js","node_modules/lsl-physx/src/util/src/force-utils.js","node_modules/lsl-physx/src/util/src/geometry.js","node_modules/lsl-physx/src/util/src/inertia-tensor-utils.js","node_modules/lsl-physx/src/util/src/util.js","src/cameras/index.js","src/cameras/src/camera.js","src/cameras/src/first-person-camera.js","src/cameras/src/fixed-camera.js","src/cameras/src/fixed-follow-camera.js","src/cameras/src/follow-camera.js","src/cameras/src/overhead-camera.js","src/cameras/src/third-person-camera.js","src/index.js","src/models/index.js","src/models/src/default-model.js","src/models/src/invisible-model-controller.js","src/models/src/model-controller.js","src/models/src/model-group-controller.js","src/models/src/model.js","src/models/src/standard-model-controller.js","src/program-wrapper/index.js","src/program-wrapper/src/group-program-wrapper.js","src/program-wrapper/src/program-wrapper-store.js","src/program-wrapper/src/program-wrapper.js","src/program-wrapper/src/texture-store.js","src/program-wrapper/src/uniform-setter.js","src/renderable-shapes/index.js","src/renderable-shapes/src/renderable-shape-factory.js","src/renderable-shapes/src/renderable-shape-store.js","src/renderable-shapes/src/shape-configs/capsule-renderable-shape.js","src/renderable-shapes/src/shape-configs/cube-renderable-shape.js","src/renderable-shapes/src/shape-configs/icosahedron-renderable-shape.js","src/renderable-shapes/src/shape-configs/icosphere-renderable-shape.js","src/renderable-shapes/src/shape-configs/lat-long-sphere-renderable-shape.js","src/renderable-shapes/src/shape-configs/tetrahedron-renderable-shape.js","src/src/grafx-controller.js","src/src/light.js","src/src/scene.js","src/util/index.js","src/util/src/geometry.js","src/util/src/gl-util.js","src/util/src/hash-map.js","src/util/src/util.js"],"names":[],"mappings":"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","file":"grafx.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export * from './src';\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","export * from './animation-job';\nexport * from './animator';\nexport * from './frame-latency-profiler';\nexport * from './persistent-animation-job';\nexport * from './transient-animation-job';\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","export * from './src/aabb-collidable';\nexport * from './src/capsule-collidable';\nexport * from './src/collidable';\nexport * from './src/line-segment';\nexport * from './src/obb-collidable';\nexport * from './src/sphere-collidable';\n","import {Collidable} from './collidable';\nimport {LineSegment} from './line-segment';\nimport {tmpVec1, tmpVec2} from '../../../util';\n\n/**\n * This class represents an axially-aligned bounding box (AABB).\n *\n * This is primarily useful for collision detection. An AABB is only appropriate for some\n * geometries. For other geometries, an oriented bounding box (OBB) or a bounding sphere may be more\n * appropriate.\n */\nclass Aabb extends Collidable {\n  /**\n   * @param {number} minX\n   * @param {number} minY\n   * @param {number} minZ\n   * @param {number} maxX\n   * @param {number} maxY\n   * @param {number} maxZ\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(minX, minY, minZ, maxX, maxY, maxZ, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.minX = minX;\n    this.minY = minY;\n    this.minZ = minZ;\n    this.maxX = maxX;\n    this.maxY = maxY;\n    this.maxZ = maxZ;\n  }\n\n  /**\n   * Creates a new bounding box with the dimensions of an axially-aligned cube centered around the \n   * given center and with the given half-side length.\n   *\n   * @param {vec3} center\n   * @param {number} halfSideLength\n   */\n  static createAsUniformAroundCenter(center, halfSideLength) {\n    const bounds = new Aabb(0, 0, 0, 0, 0, 0);\n    bounds.setAsUniformAroundCenter(center, halfSideLength);\n    return bounds;\n  }\n\n  /**\n   * Updates the dimensions of this bounding box to represent an axially-aligned cube centered\n   * around the given center and with the given half-side length.\n   *\n   * @param {vec3} center\n   * @param {number} halfSideLength\n   */\n  setAsUniformAroundCenter(center, halfSideLength) {\n    this.minX = center[0] - halfSideLength;\n    this.minY = center[1] - halfSideLength;\n    this.minZ = center[2] - halfSideLength;\n    this.maxX = center[0] + halfSideLength;\n    this.maxY = center[1] + halfSideLength;\n    this.maxZ = center[2] + halfSideLength;\n  }\n\n  /** @returns {number} */\n  get rangeX() {\n    return this.maxX - this.minX;\n  }\n  /** @returns {number} */\n  get rangeY() {\n    return this.maxY - this.minY;\n  }\n  /** @returns {number} */\n  get rangeZ() {\n    return this.maxZ - this.minZ;\n  }\n\n  /** @returns {number} */\n  get centerX() {\n    return this.minX + this.rangeX / 2;\n  }\n  /** @returns {number} */\n  get centerY() {\n    return this.minY + this.rangeY / 2;\n  }\n  /** @returns {number} */\n  get centerZ() {\n    return this.minZ + this.rangeZ / 2;\n  }\n\n  /** @returns {number} */\n  get surfaceArea() {\n    const rangeX = this.rangeX;\n    const rangeY = this.rangeY;\n    const rangeZ = this.rangeZ;\n    return 2 * (rangeX * rangeY + rangeX * rangeZ + rangeY * rangeZ);\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    // Reuse the same object when this is called multiple times.\n    this._centerOfVolume = this._centerOfVolume || vec3.create();\n    vec3.set(this._centerOfVolume, this.centerX, this.centerY, this.centerZ);\n    return this._centerOfVolume;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    const rangeX = this.rangeX;\n    const rangeY = this.rangeY;\n    const rangeZ = this.rangeZ;\n    this.minX = value[0] - rangeX / 2;\n    this.minY = value[1] - rangeY / 2;\n    this.minZ = value[2] - rangeZ / 2;\n    this.maxX = value[0] + rangeX / 2;\n    this.maxY = value[1] + rangeY / 2;\n    this.maxZ = value[2] + rangeZ / 2;\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    // Do nothing.\n  }\n\n  /**\n   * Calls the given callback once for each vertex.\n   *\n   * Stops as soon as the callback returns true for a vertex.\n   *\n   * @param {VertexCallback} callback\n   * @param {vec3} [vertex] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someVertex(callback, vertex) {\n    vertex = vertex || tmpVec1;\n\n    vec3.set(vertex, this.minX, this.minY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.minY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.maxY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.maxY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.minY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.minY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.maxY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.maxY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    return false;\n  }\n\n  /**\n   * Calls the given callback once for each edge.\n   *\n   * @param {EdgeCallback} callback\n   * @param {LineSegment} [edge] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someEdge(callback, edge) {\n    edge = edge || _segment;\n\n    //\n    // Edges along front face.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    //\n    // Edges along back face.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    //\n    // Edges between front and back faces.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    return false;\n  }\n}\n\nconst _segment = new LineSegment(vec3.create(), vec3.create());\n\nexport {Aabb};\n","import {Collidable} from './collidable';\nimport {LineSegment} from './line-segment';\n\n/**\n * This class represents a capsule.\n *\n * - A capsule is a cylinder with semi-spheres on either end.\n * - A capsule can represent a rough approximation of many useful shapes.\n * - A capsule can be used for relatively efficient collision detection.\n */\nclass Capsule extends Collidable {\n  /**\n   * The default orientation of the capsule is along the z-axis.\n   *\n   * @param {number} halfDistance Half the distance from the centers of the capsule end spheres.\n   * @param {number} radius\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(halfDistance, radius, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.halfDistance = halfDistance;\n    this.segment = new LineSegment(vec3.fromValues(0, 0, -halfDistance),\n        vec3.fromValues(0, 0, halfDistance));\n    this.radius = radius;\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    return this.segment.center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    this.segment.center = value;\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    this.segment.orientation = value;\n  }\n}\n\nexport {Capsule};\n","/**\n * This class represents a 3D collidable rigid object.\n *\n * This is useful for collision detection and response.\n *\n * @abstract\n */\nclass Collidable {\n  /**\n   * @param {boolean} isStationary\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(isStationary, physicsJob) {\n    // Collidable is an abstract class. It should not be instantiated directly.\n    if (new.target === Collidable) {\n      throw new TypeError('Cannot construct Collidable instances directly');\n    }\n\n    this.isStationary = isStationary;\n    this.physicsJob = physicsJob;\n    this.collisions = [];\n    this.previousCollisions = [];\n  }\n\n  /**\n   * Implementing classes can override this to provide a center of mass that is different than the\n   * center of volume.\n   *\n   * @returns {vec3}\n   */\n  get centerOfMass() {\n    return this.centerOfVolume;\n  }\n\n  /**\n   * @returns {vec3}\n   * @abstract\n   */\n  get centerOfVolume() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {Collidable}\n   * @abstract\n   */\n  get boundingVolume() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {vec3} value\n   * @abstract\n   */\n  set position(value) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {quat} value\n   * @abstract\n   */\n  set orientation(value) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {Collidable};\n","import {tmpVec1, tmpVec2} from '../../../util';\n\n/**\n * This class represents a line segment.\n */\nclass LineSegment {\n  /**\n   * @param {vec3} start\n   * @param {vec3} end\n   */\n  constructor(start, end) {\n    this.start = vec3.create();\n    this.end = vec3.create();\n    this._center = vec3.create();\n    this._originalOrientationStart = vec3.create();\n    this._originalOrientationEnd = vec3.create();\n    this.reset(start, end);\n  }\n\n  /**\n   * @param {vec3} start\n   * @param {vec3} end\n   */\n  reset(start, end) {\n    vec3.copy(this.start, start);\n    vec3.copy(this.end, end);\n    vec3.subtract(this._originalOrientationStart, this.start, this.center);\n    vec3.subtract(this._originalOrientationEnd, this.end, this.center);\n  }\n\n  /** @returns {LineSegment} */\n  clone() {\n    const segment = new LineSegment(this.start, this.end);\n    segment._originalOrientationStart = this._originalOrientationStart;\n    segment._originalOrientationEnd = this._originalOrientationEnd;\n    return segment;\n  }\n\n  /**\n   * The UN-NORMALIZED direction of this segment.\n   *\n   * @returns {vec3}\n   */\n  get dir() {\n    // Reuse the same object when this is called multiple times.\n    this._dir = this._dir || vec3.create();\n    return vec3.subtract(this._dir, this.end, this.start);\n  }\n\n  /** @returns {vec3} */\n  get center() {\n    vec3.lerp(this._center, this.start, this.end, 0.5);\n    return this._center;\n  }\n\n  /** @param {vec3} value */\n  set center(value) {\n    // Reuse the same object when this is called multiple times.\n    this._displacement = this._displacement || vec3.create();\n    vec3.subtract(this._displacement, value, this.center);\n\n    vec3.add(this.start, this.start, this._displacement);\n    vec3.add(this.end, this.end, this._displacement);\n  }\n\n  /** @param {quat} value */\n  set orientation(value) {\n    vec3.transformQuat(tmpVec1, this._originalOrientationStart, value);\n    vec3.transformQuat(tmpVec2, this._originalOrientationEnd, value);\n\n    // We don't want this to be re-calculated between start/end updates.\n    const center = this.center;\n\n    vec3.add(this.start, center, tmpVec1);\n    vec3.add(this.end, center, tmpVec2);\n  }\n}\n\nexport {LineSegment};\n","import {Collidable} from './collidable';\nimport {Sphere} from './sphere-collidable';\nimport {LineSegment} from './line-segment';\n\n/**\n * This class represents an oriented bounding box (OBB).\n *\n * This is useful both for collision detection and for representing any rotated rectangular cuboid.\n * An OBB is only appropriate for some geometries. For other geometries, an axially-aligned bounding\n * box (AABB) or a bounding sphere may be more appropriate.\n */\nclass Obb extends Collidable {\n  /**\n   * Defaults to being centered at the origin with its local axes aligned with the world axes.\n   *\n   * @param {number} halfSideLengthX\n   * @param {number} halfSideLengthY\n   * @param {number} halfSideLengthZ\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(halfSideLengthX, halfSideLengthY, halfSideLengthZ, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.extents = [\n      vec3.fromValues(halfSideLengthX, 0, 0),\n      vec3.fromValues(0, halfSideLengthY, 0),\n      vec3.fromValues(0, 0, halfSideLengthZ)\n    ];\n    this.axes = [\n      vec3.fromValues(1, 0, 0),\n      vec3.fromValues(0, 1, 0),\n      vec3.fromValues(0, 0, 1)\n    ];\n    this.halfSideLengths = [\n      halfSideLengthX,\n      halfSideLengthY,\n      halfSideLengthZ\n    ];\n    this._center = vec3.create();\n    this._orientation = quat.create();\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    return this._center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    // Reuse the same value when this is called multiple times.\n    if (!this._boundingSphere) {\n      const radius = Math.sqrt(this.halfSideLengthX * this.halfSideLengthX +\n          this.halfSideLengthY * this.halfSideLengthY +\n          this.halfSideLengthZ * this.halfSideLengthZ);\n      this._boundingSphere = new Sphere(0, 0, 0, radius, this.isStationary);\n    }\n    this._boundingSphere.position = this._center;\n    return this._boundingSphere;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    vec3.copy(this._center, value);\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    quat.copy(this._orientation, value);\n    this._updateExtents();\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this._orientation;\n  }\n\n  /** @returns {number} */\n  get halfSideLengthX() {\n    return this.halfSideLengths[0];\n  }\n  /** @param {number} value */\n  set halfSideLengthX(value) {\n    this.halfSideLengths[0] = value;\n    this._updateExtents();\n  }\n\n  /** @returns {number} */\n  get halfSideLengthY() {\n    return this.halfSideLengths[1];\n  }\n  /** @param {number} value */\n  set halfSideLengthY(value) {\n    this.halfSideLengths[1] = value;\n    this._updateExtents();\n  }\n\n  /** @returns {number} */\n  get halfSideLengthZ() {\n    return this.halfSideLengths[2];\n  }\n  /** @param {number} value */\n  set halfSideLengthZ(value) {\n    this.halfSideLengths[2] = value;\n    this._updateExtents();\n  }\n\n  /**\n   * Calls the given callback once for each vertex.\n   *\n   * Stops as soon as the callback returns true for a vertex.\n   *\n   * @param {VertexCallback} callback\n   * @param {vec3} [vertex] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someVertex(callback, vertex) {\n    vertex = vertex || _vertex1;\n\n    for (let xScale = -1; xScale <= 1; xScale += 2) {\n      for (let yScale = -1; yScale <= 1; yScale += 2) {\n        for (let zScale = -1; zScale <= 1; zScale += 2) {\n          vec3.copy(vertex, this._center);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[0], xScale);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[1], yScale);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[2], zScale);\n          if (callback(vertex)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Calls the given callback once for each edge.\n   *\n   * @param {EdgeCallback} callback\n   * @param {LineSegment} [edge] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someEdge(callback, edge) {\n    edge = edge || _segment;\n\n    return _edgeExtentScales.some(edgeExtentScalePair => {\n      const vertex1ExtentScales = edgeExtentScalePair[0];\n      const vertex2ExtentScales = edgeExtentScalePair[1];\n\n      // Calculate the edge's first and second vertex.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      for (let i = 0; i < 3; i++) {\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n      }\n\n      // Call back with the edge.\n      edge.reset(_vertex1, _vertex2);\n      return callback(edge);\n    });\n  }\n\n  /**\n   * Calls the given callback once for each face.\n   *\n   * @param {FaceCallback} callback\n   * @param {Array.<vec3>} [face] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someFace(callback, face) {\n    face = face || [];\n\n    return _faceExtentScales.some(faceExtentScales => {\n      const vertex1ExtentScales = faceExtentScales[0];\n      const vertex2ExtentScales = faceExtentScales[1];\n      const vertex3ExtentScales = faceExtentScales[2];\n      const vertex4ExtentScales = faceExtentScales[3];\n\n      // Calculate the face's vertices.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      vec3.copy(_vertex3, this._center);\n      vec3.copy(_vertex4, this._center);\n      for (let i = 0; i < 3; i++) {\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\n      }\n\n      // Call back with the face.\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\n      return callback(face);\n    });\n  }\n\n  /**\n   * Calls the given callback once for each face with a given additional offset from the center\n   * applied to each face.\n   *\n   * @param {FaceCallback} callback\n   * @param {number} radiusOffset\n   * @param {Array.<vec3>} [face] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  somePushedOutFace(callback, radiusOffset, face) {\n    face = face || [];\n\n    return _faceExtentScales.some((faceExtentScales, index) => {\n      const vertex1ExtentScales = faceExtentScales[0];\n      const vertex2ExtentScales = faceExtentScales[1];\n      const vertex3ExtentScales = faceExtentScales[2];\n      const vertex4ExtentScales = faceExtentScales[3];\n      const directionOffsets = _pushedOutFaceOffsetDirections[index];\n\n      // Calculate the face's vertices.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      vec3.copy(_vertex3, this._center);\n      vec3.copy(_vertex4, this._center);\n      for (let i = 0; i < 3; i++) {\n        // Add the offset for the normal vertex position.\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\n        // Add the pushed-out offset.\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n      }\n\n      // Call back with the face.\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\n      return callback(face);\n    });\n  }\n\n  _updateExtents() {\n    vec3.set(_vertex1, this.halfSideLengths[0], 0, 0);\n    vec3.transformQuat(this.extents[0], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, this.halfSideLengths[1], 0);\n    vec3.transformQuat(this.extents[1], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 0, this.halfSideLengths[2]);\n    vec3.transformQuat(this.extents[2], _vertex1, this._orientation);\n\n    vec3.set(_vertex1, 1, 0, 0);\n    vec3.transformQuat(this.axes[0], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 1, 0);\n    vec3.transformQuat(this.axes[1], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 0, 1);\n    vec3.transformQuat(this.axes[2], _vertex1, this._orientation);\n  }\n}\n\nconst _vertex1 = vec3.create();\nconst _vertex2 = vec3.create();\nconst _vertex3 = vec3.create();\nconst _vertex4 = vec3.create();\nconst _segment = new LineSegment(vec3.create(), vec3.create());\n\nconst _edgeExtentScales = [\n  // Front-face edges.\n  [[1, -1, -1], [1, -1, 1]],\n  [[1, -1, -1], [1, 1, -1]],\n  [[1, 1, 1], [1, -1, 1]],\n  [[1, 1, 1], [1, 1, -1]],\n  // Back-face edges.\n  [[-1, -1, -1], [-1, -1, 1]],\n  [[-1, -1, -1], [-1, 1, -1]],\n  [[-1, 1, 1], [-1, -1, 1]],\n  [[-1, 1, 1], [-1, 1, -1]],\n  // Front-to-back edges.\n  [[1, -1, 1], [-1, -1, 1]],\n  [[1, 1, -1], [-1, 1, -1]],\n  [[1, 1, 1], [-1, 1, 1]],\n  [[1, -1, -1], [-1, -1, -1]],\n];\n\nconst _faceExtentScales = [\n  [[1, -1, -1], [1, -1, 1], [1, 1, 1], [1, 1, -1]],\n  [[-1, -1, -1], [-1, -1, 1], [-1, 1, 1], [-1, 1, -1]],\n  [[-1, 1, -1], [1, 1, -1], [1, 1, 1], [-1, 1, 1]],\n  [[-1, -1, -1], [1, -1, -1], [1, -1, 1], [-1, -1, 1]],\n  [[-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1]],\n  [[-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1]],\n];\n\nconst _pushedOutFaceOffsetDirections = [\n  vec3.fromValues(1, 0, 0),\n  vec3.fromValues(-1, 0, 0),\n  vec3.fromValues(0, 1, 0),\n  vec3.fromValues(0, -1, 0),\n  vec3.fromValues(0, 0, 1),\n  vec3.fromValues(0, 0, -1),\n];\n\nexport {Obb};\n\n/**\n * @callback VertexCallback\n * @param {vec3}\n * @returns {boolean} If true, iteration will stop.\n */\n\n/**\n * @callback EdgeCallback\n * @param {LineSegment}\n * @returns {boolean} If true, iteration will stop.\n */\n\n/**\n * @callback FaceCallback\n * @param {Array.<vec3>}\n * @returns {boolean} If true, iteration will stop.\n */\n","import {Collidable} from './collidable';\n\n/**\n * This class represents a bounding sphere.\n *\n * This is primarily useful for collision detection. A bounding sphere is only appropriate for some\n * geometries. For other geometries, an axially-aligned bounding box may be more appropriate. For\n * others still, an oriented bounding box or a more complicated hierarchical model may be more\n * appropriate.\n */\nclass Sphere extends Collidable {\n  /**\n   * @param {number} centerX\n   * @param {number} centerY\n   * @param {number} centerZ\n   * @param {number} radius\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(centerX, centerY, centerZ, radius, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.centerX = centerX;\n    this.centerY = centerY;\n    this.centerZ = centerZ;\n    this.radius = radius;\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    // Reuse the same object when this is called multiple times.\n    this._center = this._center || vec3.create();\n    vec3.set(this._center, this.centerX, this.centerY, this.centerZ);\n    return this._center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    this.centerX = value[0];\n    this.centerY = value[1];\n    this.centerZ = value[2];\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    // Do nothing.\n  }\n}\n\nexport {Sphere};\n","import * as aabbCollisionDetection from './src/aabb-collision-detection';\nimport * as capsuleCollisionDetection from './src/capsule-collision-detection';\nimport * as obbCollisionDetection from './src/obb-collision-detection';\nimport * as sphereCollisionDetection from './src/sphere-collision-detection';\n\nexport {\n  aabbCollisionDetection,\n  capsuleCollisionDetection,\n  obbCollisionDetection,\n  sphereCollisionDetection,\n};\n","import * as sphereCollisionDetection from './sphere-collision-detection';\nimport * as obbCollisionDetection from './obb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\nimport {aabbVsPoint as geometryAabbVsPoint} from '../../../util';\n\n/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * axially-aligned bounding boxes and other shapes.\n */\n\n/**\n * @param {Aabb} aabb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction aabbVsPoint(aabb, point) {\n  return geometryAabbVsPoint(aabb, point);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction aabbVsSphere(aabb, sphere) {\n  return sphereCollisionDetection.sphereVsAabb(sphere, aabb);\n}\n\n/**\n * @param {Aabb} aabbA\n * @param {Aabb} aabbB\n * @returns {boolean}\n */\nfunction aabbVsAabb(aabbA, aabbB) {\n  return aabbA.maxX >= aabbB.minX && aabbA.minX <= aabbB.maxX &&\n      aabbA.maxY >= aabbB.minY && aabbA.minY <= aabbB.maxY &&\n      aabbA.maxZ >= aabbB.minZ && aabbA.minZ <= aabbB.maxZ;\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction aabbVsObb(aabb, obb) {\n  return obbCollisionDetection.obbVsAabb(obb, aabb);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction aabbVsCapsule(aabb, capsule) {\n  return capsuleCollisionDetection.capsuleVsAabb(capsule, aabb);\n}\n\nexport {\n  aabbVsPoint,\n  aabbVsSphere,\n  aabbVsAabb,\n  aabbVsObb,\n  aabbVsCapsule,\n};\n","/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * capsules and other shapes.\n */\n\nimport {\n  findClosestPointFromAabbToPoint,\n  findSquaredDistanceBetweenSegments,\n  findSquaredDistanceFromSegmentToPoint,\n  tmpVec1\n} from '../../../util';\nimport * as obbCollisionDetection from './obb-collision-detection';\n\n/**\n * @param {Capsule} capsule\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction capsuleVsPoint(capsule, point) {\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, point) <=\n      capsule.radius * capsule.radius;\n}\n\n/**\n * @param {Capsule} capsule\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction capsuleVsSphere(capsule, sphere) {\n  const sumOfRadii = capsule.radius + sphere.radius;\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, sphere.centerOfVolume) <=\n      sumOfRadii * sumOfRadii;\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Capsule} capsule\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction capsuleVsAabb(capsule, aabb) {\n  const squaredRadius = capsule.radius * capsule.radius;\n\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\n  // capsule-vs-AABB-face case).\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.start);\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.start) <= squaredRadius) {\n    return true;\n  }\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.end);\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.end) <= squaredRadius) {\n    return true;\n  }\n\n  // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\n  // case).\n  return aabb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) <= squaredRadius);\n\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\n}\n\n/**\n * @param {Capsule} capsule\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction capsuleVsObb(capsule, obb) {\n  return obbCollisionDetection.obbVsCapsule(obb, capsule);\n}\n\n/**\n * @param {Capsule} capsuleA\n * @param {Capsule} capsuleB\n * @returns {boolean}\n */\nfunction capsuleVsCapsule(capsuleA, capsuleB) {\n  const sumOfRadii = capsuleA.radius + capsuleB.radius;\n  return findSquaredDistanceBetweenSegments(capsuleA.segment, capsuleB.segment) <=\n      sumOfRadii * sumOfRadii;\n}\n\nexport {\n  capsuleVsPoint,\n  capsuleVsSphere,\n  capsuleVsAabb,\n  capsuleVsObb,\n  capsuleVsCapsule,\n};\n","/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * oriented bounding boxes and other shapes.\n */\n\nimport {\n  findClosestPointFromObbToPoint,\n  findPoiBetweenSegmentAndPlaneRegion,\n  findSquaredDistanceBetweenSegments,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4\n} from '../../../util';\nimport * as aabbCollisionDetection from './aabb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\n\n// TODO: Refactor these to not actually calculate the point of intersection. These checks can\n// instead be done more efficiently using SAT.\n\n/**\n * @param {Obb} obb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction obbVsPoint(obb, point) {\n  vec3.subtract(tmpVec4, point, obb.centerOfVolume);\n\n  vec3.set(tmpVec1, 1, 0, 0);\n  vec3.transformQuat(tmpVec1, tmpVec1, obb.orientation);\n  const axis1Distance = vec3.dot(tmpVec4, tmpVec1);\n\n  if (axis1Distance >= -obb.halfSideLengthX && axis1Distance <= obb.halfSideLengthX) {\n    vec3.set(tmpVec2, 0, 1, 0);\n    vec3.transformQuat(tmpVec2, tmpVec2, obb.orientation);\n    const axis2Distance = vec3.dot(tmpVec4, tmpVec2);\n\n    if (axis2Distance >= -obb.halfSideLengthY && axis2Distance <= obb.halfSideLengthY) {\n      vec3.set(tmpVec3, 0, 0, 1);\n      vec3.transformQuat(tmpVec3, tmpVec3, obb.orientation);\n      const axis3Distance = vec3.dot(tmpVec4, tmpVec3);\n\n      return axis3Distance >= -obb.halfSideLengthZ && axis3Distance <= obb.halfSideLengthZ;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @param {Obb} obb\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction obbVsSphere(obb, sphere) {\n  findClosestPointFromObbToPoint(tmpVec1, obb, sphere.centerOfVolume);\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <=\n      sphere.radius * sphere.radius;\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Obb} obb\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction obbVsAabb(obb, aabb) {\n  return _obbVsBoxHelper(obb, aabb, aabbCollisionDetection.aabbVsPoint);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Obb} obbA\n * @param {Obb} obbB\n * @returns {boolean}\n */\nfunction obbVsObb(obbA, obbB) {\n  return _obbVsBoxHelper(obbA, obbB, obbVsPoint);\n}\n\n/**\n * @param {Obb} obb\n * @param {Obb|Aabb} other\n * @param {Function} otherVsPointCallback\n * @returns {boolean}\n * @private\n */\nfunction _obbVsBoxHelper(obb, other, otherVsPointCallback) {\n  // Check whether any vertices from A lie within B's bounds.\n  if (obb.someVertex(vertex => otherVsPointCallback(other, vertex))) return true;\n\n  // Check whether any vertices from B lie within A's bounds.\n  if (other.someVertex(vertex => obbVsPoint(obb, vertex))) return true;\n\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\n  if (other.someEdge(edge =>\n          obb.someFace(face =>\n              findPoiBetweenSegmentAndPlaneRegion(tmpVec1, edge, ...face))))\n    return true;\n\n  return false;\n}\n\n/**\n * @param {Obb} obb\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction obbVsCapsule(obb, capsule) {\n  // Check the edges.\n  const squaredRadius = capsule.radius * capsule.radius;\n  let areIntersecting = obb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius);\n\n  if (areIntersecting) return true;\n\n  // Check the faces.\n  areIntersecting = obb.somePushedOutFace(face =>\n          findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\n\n  // Check for inclusion of one shape inside the other.\n  areIntersecting = areIntersecting || obbVsPoint(obb, capsule.centerOfVolume);\n  areIntersecting = areIntersecting || capsuleCollisionDetection.capsuleVsPoint(capsule,\n      obb.centerOfVolume);\n\n  return areIntersecting;\n}\n\nexport {\n  obbVsPoint,\n  obbVsSphere,\n  obbVsAabb,\n  obbVsObb,\n  obbVsCapsule,\n};\n","import {findClosestPointFromAabbToPoint, tmpVec1} from '../../../util';\nimport * as obbCollisionDetection from './obb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\n\n/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * spheres and other shapes.\n */\n\n/**\n * @param {Sphere} sphere\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction sphereVsPoint(sphere, point) {\n  return vec3.squaredDistance(point, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\n}\n\n/**\n * @param {Sphere} sphereA\n * @param {Sphere} sphereB\n * @returns {boolean}\n */\nfunction sphereVsSphere(sphereA, sphereB) {\n  const sumOfRadii = sphereA.radius + sphereB.radius;\n  return vec3.squaredDistance(sphereA.centerOfVolume, sphereB.centerOfVolume) <=\n      sumOfRadii * sumOfRadii;\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction sphereVsAabb(sphere, aabb) {\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, sphere.centerOfVolume);\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction sphereVsObb(sphere, obb) {\n  return obbCollisionDetection.obbVsSphere(obb, sphere);\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction sphereVsCapsule(sphere, capsule) {\n  return capsuleCollisionDetection.capsuleVsSphere(capsule, sphere);\n}\n\nexport {\n  sphereVsPoint,\n  sphereVsSphere,\n  sphereVsAabb,\n  sphereVsObb,\n  sphereVsCapsule,\n};\n","import * as aabbContactCalculation from './src/aabb-contact-calculation';\nimport * as capsuleContactCalculation from './src/capsule-contact-calculation';\nimport * as obbContactCalculation from './src/obb-contact-calculation';\nimport * as sphereContactCalculation from './src/sphere-contact-calculation';\n\nexport {\n  aabbContactCalculation,\n  capsuleContactCalculation,\n  obbContactCalculation,\n  sphereContactCalculation,\n};\n","/**\n * This module defines utility methods for calculating a contact point between axially-aligned \n * bounding boxes and other shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport * as sphereContactCalculation from './sphere-contact-calculation';\nimport * as obbContactCalculation from './obb-contact-calculation';\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\nimport {tmpVec1} from '../../../util';\nimport {aabbCollisionDetection} from '../../collision-detection';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {vec3} point\n */\nfunction aabbVsPoint(contactPoint, contactNormal, aabb, point) {\n  vec3.copy(contactPoint, point);\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Sphere} sphere\n */\nfunction aabbVsSphere(contactPoint, contactNormal, aabb, sphere) {\n  sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, sphere, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabbA\n * @param {Aabb} aabbB\n */\nfunction aabbVsAabb(contactPoint, contactNormal, aabbA, aabbB) {\n  // Compute the contact normal.\n  vec3.set(contactNormal, 0, 0, 0);\n  const xIntersectionDepth = Math.min(aabbA.maxX - aabbB.minX, aabbB.maxX - aabbA.minX);\n  const yIntersectionDepth = Math.min(aabbA.maxY - aabbB.minY, aabbB.maxY - aabbA.minY);\n  const zIntersectionDepth = Math.min(aabbA.maxZ - aabbB.minZ, aabbB.maxZ - aabbA.minZ);\n  // Assume that the direction of intersection corresponds to whichever axis has the shallowest\n  // intersection.\n  if (xIntersectionDepth <= yIntersectionDepth) {\n    if (xIntersectionDepth <= zIntersectionDepth) {\n      contactNormal[0] = aabbA.maxX - aabbB.minX <= aabbB.maxX - aabbA.minX ? 1 : -1;\n    } else {\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\n    }\n  } else {\n    if (yIntersectionDepth <= zIntersectionDepth) {\n      contactNormal[1] = aabbA.maxY - aabbB.minY <= aabbB.maxY - aabbA.minY ? 1 : -1;\n    } else {\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\n    }\n  }\n\n  // TODO: The two AABBs form a square intersection cross-section region along the direction of the\n  // normal. Calculate the center of that square to use as the point of contact.\n  if (!aabbA.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbB, vertex),\n          contactPoint)) {\n    aabbB.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbA, vertex), contactPoint);\n  }\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Obb} obb\n */\nfunction aabbVsObb(contactPoint, contactNormal, aabb, obb) {\n  obbContactCalculation.obbVsAabb(contactPoint, contactNormal, obb, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Capsule} capsule\n */\nfunction aabbVsCapsule(contactPoint, contactNormal, aabb, capsule) {\n  capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, capsule, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactNormal Output param.\n * @param {vec3} contactPoint\n * @param {Aabb} aabb\n * @private\n */\nfunction findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb) {\n  vec3.set(contactNormal, 0, 0, 0);\n  vec3.subtract(tmpVec1, contactPoint, aabb.centerOfVolume);\n  const xDistanceFromFace = aabb.rangeX / 2 - Math.abs(tmpVec1[0]);\n  const yDistanceFromFace = aabb.rangeY / 2 - Math.abs(tmpVec1[1]);\n  const zDistanceFromFace = aabb.rangeZ / 2 - Math.abs(tmpVec1[2]);\n  // Assume that the point is contacting whichever face it's closest to.\n  if (xDistanceFromFace <= yDistanceFromFace) {\n    if (xDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[0] = tmpVec1[0] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\n    }\n  } else {\n    if (yDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[1] = tmpVec1[1] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\n    }\n  }\n}\n\nexport {\n  aabbVsPoint,\n  aabbVsSphere,\n  aabbVsAabb,\n  aabbVsObb,\n  aabbVsCapsule,\n  findAabbNormalFromContactPoint,\n};\n","/**\n * This module defines utility methods for calculating a contact point between capsules and other \n * shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {\n  findClosestPointFromAabbToPoint,\n  findClosestPointOnSegmentToPoint,\n  findClosestPointsFromSegmentToSegment,\n  tmpVec1,\n  tmpVec2\n} from '../../../util';\nimport * as obbContactCalculation from './obb-contact-calculation';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {vec3} point\n */\nfunction capsuleVsPoint(contactPoint, contactNormal, capsule, point) {\n  vec3.copy(contactPoint, point);\n  findClosestPointOnSegmentToPoint(contactNormal, capsule.segment, point);\n  vec3.subtract(contactNormal, contactPoint, contactNormal);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * Finds the closest point on the surface of the capsule to the sphere center.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Sphere} sphere\n */\nfunction capsuleVsSphere(contactPoint, contactNormal, capsule, sphere) {\n  const sphereCenter = sphere.centerOfVolume;\n  findClosestPointOnSegmentToPoint(contactPoint, capsule.segment, sphereCenter);\n  vec3.subtract(contactNormal, sphereCenter, contactPoint);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, contactPoint, contactNormal, capsule.radius);\n}\n\n/**\n * Finds the closest point on the surface of the capsule to the AABB.\n *\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Aabb} aabb\n */\nfunction capsuleVsAabb(contactPoint, contactNormal, capsule, aabb) {\n  // tmpVec1 represents the closest point on the capsule to the AABB. tmpVec2\n  // represents the closest point on the AABB to the capsule.\n\n  //\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\n  // capsule-vs-AABB-face case).\n  //\n\n  const squaredRadius = capsule.radius * capsule.radius;\n  let doesAabbIntersectAnEndPoint = false;\n\n  let endPoint = capsule.segment.start;\n  findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\n  if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\n    doesAabbIntersectAnEndPoint = true;\n  } else {\n    endPoint = capsule.segment.end;\n    findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\n    if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\n      doesAabbIntersectAnEndPoint = true;\n    }\n  }\n\n  if (!doesAabbIntersectAnEndPoint) {\n    //\n    // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\n    // case).\n    //\n    aabb.someEdge(edge => {\n      findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\n          capsule.segment, edge);\n      const distance = vec3.squaredDistance(tmpVec1, tmpVec2);\n      return distance <= squaredRadius;\n    });\n  }\n\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\n\n  findClosestPointOnSegmentToPoint(tmpVec1, capsule.segment, tmpVec2);\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsule.radius);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Obb} obb\n */\nfunction capsuleVsObb(contactPoint, contactNormal, capsule, obb) {\n  obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, obb, capsule);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * Finds the closest point on the surface of capsule A to capsule B.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsuleA\n * @param {Capsule} capsuleB\n */\nfunction capsuleVsCapsule(contactPoint, contactNormal, capsuleA, capsuleB) {\n  findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\n      capsuleA.segment, capsuleB.segment);\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsuleA.radius);\n}\n\nexport {\n  capsuleVsPoint,\n  capsuleVsSphere,\n  capsuleVsAabb,\n  capsuleVsObb,\n  capsuleVsCapsule,\n};\n","/**\n * This module defines utility methods for calculating a contact point between oriented bounding\n * boxes and other shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {\n  findPoiBetweenSegmentAndPlaneRegion,\n  findClosestPointFromObbToPoint,\n  findSquaredDistanceBetweenSegments,\n  findClosestPointsFromSegmentToSegment,\n  tmpVec1\n} from '../../../util';\nimport {aabbCollisionDetection, obbCollisionDetection} from '../../collision-detection';\nimport {LineSegment} from '../../collidables';\nimport * as aabbContactCalculation from './aabb-contact-calculation';\n\n// TODO: There are more efficient (but far more complicated) algorithms for finding the point of\n// intersection with OBBs. Port over some other pre-existing solutions for these.\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {vec3} point\n */\nfunction obbVsPoint(contactPoint, contactNormal, obb, point) {\n  vec3.copy(contactPoint, point);\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n}\n\n/**\n * Finds the closest point anywhere inside the OBB to the center of the sphere.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Sphere} sphere\n */\nfunction obbVsSphere(contactPoint, contactNormal, obb, sphere) {\n  findClosestPointFromObbToPoint(contactPoint, obb, sphere.centerOfVolume);\n  vec3.subtract(contactNormal, sphere.centerOfVolume, contactPoint);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Aabb} aabb\n */\nfunction obbVsAabb(contactPoint, contactNormal, obb, aabb) {\n  return _obbVsBoxHelper(contactPoint, contactNormal, obb, aabb, aabbCollisionDetection.aabbVsPoint,\n      aabbContactCalculation.findAabbNormalFromContactPoint);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obbA\n * @param {Obb} obbB\n */\nfunction obbVsObb(contactPoint, contactNormal, obbA, obbB) {\n  return _obbVsBoxHelper(contactPoint, contactNormal, obbA, obbB, obbCollisionDetection.obbVsPoint,\n      findObbNormalFromContactPoint);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Obb|Aabb} other\n * @param {Function} otherVsPointCollisionDetectionCallback\n * @param {Function} findOtherNormalFromContactPoint\n * @private\n */\nfunction _obbVsBoxHelper(contactPoint, contactNormal, obb, other,\n                         otherVsPointCollisionDetectionCallback,\n                         findOtherNormalFromContactPoint) {\n  // Check whether any vertices from A lie within B's bounds.\n  if (obb.someVertex(vertex => otherVsPointCollisionDetectionCallback(other, vertex),\n          contactPoint)) {\n    findOtherNormalFromContactPoint(contactNormal, contactPoint, other);\n    vec3.negate(contactNormal, contactNormal);\n    return;\n  }\n\n  // Check whether any vertices from B lie within A's bounds.\n  if (other.someVertex(vertex => obbCollisionDetection.obbVsPoint(obb, vertex), contactPoint)) {\n    findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n    return;\n  }\n\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\n  other.someEdge(edge =>\n      obb.someFace(face => findPoiBetweenSegmentAndPlaneRegion(contactPoint, edge, ...face)));\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Capsule} capsule\n */\nfunction obbVsCapsule(contactPoint, contactNormal, obb, capsule) {\n  // tmpVec1 is the point on the capsule segment that is closest to the OBB.\n\n  //\n  // Check the edges.\n  //\n\n  const segment = new LineSegment(vec3.create(), vec3.create());\n  const squaredRadius = capsule.radius * capsule.radius;\n  const areIntersecting = obb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius, segment);\n\n  if (areIntersecting) {\n    findClosestPointsFromSegmentToSegment(tmpVec1, contactPoint, capsule.segment, segment);\n    vec3.subtract(contactNormal, tmpVec1, contactPoint);\n    vec3.normalize(contactNormal, contactNormal);\n    return;\n  }\n\n  //\n  // Check the faces.\n  //\n\n  obb.somePushedOutFace(face =>\n      findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\n\n  findObbNormalFromContactPoint(contactNormal, tmpVec1, obb);\n\n  // NOTE: This assumes that the angle between the capsule segment and the face plane is not oblique\n  // and that the depth of penetration is shallow. When both of these conditions are not true, the\n  // contact point will be offset from the intersection point on the pushed-out face.\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, -capsule.radius);\n}\n\n/**\n * @param {vec3} contactNormal Output param.\n * @param {vec3} contactPoint\n * @param {Obb} obb\n * @private\n */\nfunction findObbNormalFromContactPoint(contactNormal, contactPoint, obb) {\n  // Calculate the displacement along each axis.\n  const projections = [];\n  vec3.subtract(tmpVec1, contactPoint, obb.centerOfVolume);\n  for (let i = 0; i < 3; i++) {\n    projections[i] = vec3.dot(obb.axes[i], tmpVec1);\n  }\n\n  // Determine which face the normal is pointing away from.\n  vec3.set(contactNormal, 0, 0, 0);\n  const xDistanceFromFace = obb.halfSideLengths[0] - Math.abs(projections[0]);\n  const yDistanceFromFace = obb.halfSideLengths[1] - Math.abs(projections[1]);\n  const zDistanceFromFace = obb.halfSideLengths[2] - Math.abs(projections[2]);\n  // Assume that the point is contacting whichever face it's closest to.\n  if (xDistanceFromFace <= yDistanceFromFace) {\n    if (xDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[0] = projections[0] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\n    }\n  } else {\n    if (yDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[1] = projections[1] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\n    }\n  }\n\n  // Apply the OBB's orientation to the normal.\n  vec3.transformQuat(contactNormal, contactNormal, obb.orientation);\n}\n\nexport {\n  obbVsPoint,\n  obbVsSphere,\n  obbVsAabb,\n  obbVsObb,\n  obbVsCapsule,\n  findObbNormalFromContactPoint,\n};\n","/**\n * This module defines utility methods for calculating a contact point between spheres and other\n * shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {findClosestPointFromAabbSurfaceToPoint} from '../../../util';\nimport {findAabbNormalFromContactPoint} from './aabb-contact-calculation';\nimport * as obbContactCalculation from './obb-contact-calculation';\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {vec3} point\n */\nfunction sphereVsPoint(contactPoint, contactNormal, sphere, point) {\n  vec3.copy(contactPoint, point);\n  // Assume that the point is contacting the closest point on the surface of the sphere.\n  vec3.subtract(contactNormal, point, sphere.centerOfVolume);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphereA\n * @param {Sphere} sphereB\n */\nfunction sphereVsSphere(contactPoint, contactNormal, sphereA, sphereB) {\n  vec3.subtract(contactNormal, sphereB.centerOfVolume, sphereA.centerOfVolume);\n  vec3.normalize(contactNormal, contactNormal);\n  // The point on the surface of sphere A that is closest to the center of sphere B.\n  vec3.scaleAndAdd(contactPoint, sphereA.centerOfVolume, contactNormal, sphereA.radius);\n}\n\n/**\n * Finds the closest point on the surface of the AABB to the sphere center.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Aabb} aabb\n */\nfunction sphereVsAabb(contactPoint, contactNormal, sphere, aabb) {\n  findClosestPointFromAabbSurfaceToPoint(contactPoint, aabb, sphere.centerOfVolume);\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Obb} obb\n */\nfunction sphereVsObb(contactPoint, contactNormal, sphere, obb) {\n  obbContactCalculation.obbVsSphere(contactPoint, contactNormal, obb, sphere);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Capsule} capsule\n */\nfunction sphereVsCapsule(contactPoint, contactNormal, sphere, capsule) {\n  capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, capsule, sphere);\n  vec3.negate(contactNormal, contactNormal);\n}\n\nexport {\n  sphereVsPoint,\n  sphereVsSphere,\n  sphereVsAabb,\n  sphereVsObb,\n  sphereVsCapsule,\n};\n","export * from './collidables';\nexport * from './collision-detection';\nexport * from './contact-calculation';\n\nexport * from './src/collidable-factories';\nexport * from './src/collidable-physics-job';\nexport * from './src/collidable-store';\nexport * from './src/collision-handler';\nexport * from './src/collision-utils';\n","/**\n * This module defines a set of factory functions for creating Collidable instances.\n */\n\nimport {\n  Capsule,\n  Obb,\n  Sphere\n} from '../collidables';\nimport {_geometry} from '../../util';\n\n/**\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createCollidableFromRenderableShape(params, physicsJob) {\n  return _collidableCreators[params.collidableShapeId](params, physicsJob);\n}\n\n/**\n * This assumes the base RenderableShape has a side length of one unit.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createObbFromRenderableShape(params, physicsJob) {\n  const halfRangeX = params.scale[0] / 2;\n  const halfRangeY = params.scale[1] / 2;\n  const halfRangeZ = params.scale[2] / 2;\n  return new Obb(halfRangeX, halfRangeY, halfRangeZ, params.isStationary, physicsJob);\n}\n\n/**\n * This assumes the base RenderableShape has a \"radius\" of one unit.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createSphereFromRenderableShape(params, physicsJob) {\n  const radius = params.radius || vec3.length(params.scale) / Math.sqrt(3);\n  return new Sphere(0, 0, 0, radius, params.isStationary, physicsJob);\n}\n\n/**\n * The radius of the created capsule will be an average from the two shortest sides.\n *\n * There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createCapsuleFromRenderableShape(params, physicsJob) {\n  const scale = params.scale;\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\n  const isStationary = params.isStationary;\n  let radius = params.radius;\n\n  let halfDistance;\n\n  // There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\n  if (typeof radius === 'number' && typeof capsuleEndPointsDistance === 'number') {\n    halfDistance = capsuleEndPointsDistance / 2;\n  } else {\n    const copy = vec3.clone(scale);\n    copy.sort();\n\n    const length = copy[2];\n    radius = (copy[0] + copy[1]) / 2;\n    halfDistance = length / 2 - radius;\n  }\n\n  const orientation = quat.create();\n  if (scale[0] > scale[1]) {\n    if (scale[0] > scale[2]) {\n      vec3.rotateY(orientation, orientation, _geometry.HALF_PI);\n    } else {\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\n    }\n  } else {\n    if (scale[1] > scale[2]) {\n      vec3.rotateX(orientation, orientation, -_geometry.HALF_PI);\n    } else {\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\n    }\n  }\n\n  const capsule = new Capsule(halfDistance, radius, isStationary, physicsJob);\n  capsule.orientation = orientation;\n\n  return capsule;\n}\n\n/**\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createSphereOrCapsuleFromRenderableShape(params, physicsJob) {\n  const scale = params.scale;\n  const radius = params.radius;\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\n\n  const halfLengthX = scale[0] * radius;\n  const halfLengthY = scale[1] * radius;\n  const halfLengthZ = scale[2] * (radius + capsuleEndPointsDistance) / 2;\n\n  const minLength = Math.min(Math.min(halfLengthX, halfLengthY), halfLengthZ);\n  const maxLength = Math.max(Math.max(halfLengthX, halfLengthY), halfLengthZ);\n\n  if (maxLength / minLength >= _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD) {\n    return createCapsuleFromRenderableShape(params, physicsJob);\n  } else {\n    return createSphereFromRenderableShape(params, physicsJob);\n  }\n}\n\nconst _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD = 2;\n\nconst _collidableCreators = {\n  'CUBE': createObbFromRenderableShape,\n  'SPHERE_OR_CAPSULE': createSphereOrCapsuleFromRenderableShape,\n  'SPHERE': createSphereFromRenderableShape,\n  'CAPSULE': createCapsuleFromRenderableShape,\n};\n\nexport {\n  createCapsuleFromRenderableShape,\n  createCollidableFromRenderableShape,\n  createObbFromRenderableShape,\n  createSphereFromRenderableShape,\n  createSphereOrCapsuleFromRenderableShape,\n};\n\n/**\n * @typedef {Object} CollidableShapeConfig\n * @property {string} collidableShapeId The ID of the type of collidable shape.\n * @property {vec3} [scale]\n * @property {boolean} [isStationary=false] Whether the collidable is fixed in place.\n */\n\n/**\n * @typedef {CollidableShapeConfig} SphericalCollidableShapeParams\n * @property {number} radius\n */\n\n/**\n * @typedef {SphericalCollidableShapeParams} CapsuleCollidableShapeParams\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on either end\n * of the capsule.\n */\n","import {createCollidableFromRenderableShape} from './collidable-factories';\nimport {collidableStore} from './collidable-store';\nimport {PhysicsJob} from '../../src/physics-job';\nimport {createForCollidable} from '../../util';\n\n/**\n * A CollidablePhysicsJob extends the standard PhysicsJob with a collidable geometry.\n */\nclass CollidablePhysicsJob extends PhysicsJob {\n  /**\n   * @param {CollidableShapeConfig} collidableParams\n   * @param {PhysicsState} state\n   * @param {Array.<ForceApplier>} forceAppliers\n   * @param {Object} controller\n   * @param {CollisionHandler} collisionHandler\n   */\n  constructor(collidableParams, state, forceAppliers, controller, collisionHandler) {\n    super(forceAppliers, state);\n\n    collidableParams.scale = collidableParams.scale || vec3.fromValues(1, 1, 1);\n    this.collidable = createCollidableFromRenderableShape(collidableParams, this);\n    this.currentState.unrotatedInertiaTensor =\n        createForCollidable(this.collidable, this.currentState.mass);\n    this.currentState.updateDependentFields();\n    this.isAtRest = false;\n    this.controller = controller;\n    this._collisionHandler = collisionHandler;\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  addForceApplier(forceApplier) {\n    super.addForceApplier(forceApplier);\n    this.isAtRest = false;\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  removeForceApplier(forceApplier) {\n    super.removeForceApplier(forceApplier);\n    this.isAtRest = false;\n  }\n\n  /**\n   * This callback is triggered in response to a collision.\n   *\n   * @param {Collision} collision\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\n   */\n  handleCollision(collision) {\n    return this._collisionHandler(collision);\n  }\n\n  /**\n   * @param {number} [startTime]\n   * @override\n   */\n  start(startTime) {\n    super.start(startTime);\n    collidableStore.registerCollidable(this.collidable);\n  }\n\n  /**\n   * @override\n   */\n  finish() {\n    super.finish();\n    collidableStore.unregisterCollidable(this.collidable);\n  }\n\n  /** @returns {vec3} */\n  get position() {\n    return this.currentState.position;\n  }\n\n  /** @param {vec3} value */\n  set position(value) {\n    this.currentState.position = vec3.clone(value);\n    this.collidable.position = vec3.clone(value);\n  }\n}\n\nexport {CollidablePhysicsJob};\n\n/**\n * @typedef {Function} CollisionHandler\n * @param {Collision} collision\n * @returns {boolean} True if this needs the standard collision restitution to proceed.\n */\n","import {detectBoundingVolumeIntersection} from './collision-utils';\n\n// TODO: Implement some form of bounding volume hierarchy to make searching for potential collisions\n// more efficient.\n\n/**\n * This class registers and retrieves all Collidables within a scene.\n */\nclass CollidableStore {\n  constructor() {\n    this._collidables = [];\n  }\n\n  /**\n   * Caches the given program wrapper.\n   *\n   * This method is idempotent; a given program will only be cached once.\n   *\n   * @param {Collidable} collidable\n   */\n  registerCollidable(collidable) {\n    this._collidables.push(collidable);\n  }\n\n  /**\n   * @param {Collidable} collidable\n   */\n  unregisterCollidable(collidable) {\n    const index = this._collidables.indexOf(collidable);\n    if (index >= 0) {\n      this._collidables.splice(index, 1);\n    }\n  }\n\n  /**\n   * @param {Collidable} collidable\n   * @returns {Array.<Collidable>}\n   */\n  getPossibleCollisionsForCollidable(collidable) {\n    return this._collidables.filter(other =>\n      collidable !== other &&\n      detectBoundingVolumeIntersection(collidable, other));\n  }\n\n  /**\n   * @returns {Array.<Collision>}\n   */\n  getPossibleCollisionsForAllCollidables() {\n    const result = [];\n    for (let i = 0, count = this._collidables.length; i < count; i++) {\n      const collidableA = this._collidables[i];\n      for (let j = i + 1; j < count; j++) {\n        const collidableB = this._collidables[j];\n        if (detectBoundingVolumeIntersection(collidableA, collidableB)) {\n          result.push({collidableA: collidableA, collidableB: collidableB});\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @param {Function} callback\n   */\n  forEach(callback) {\n    this._collidables.forEach(callback);\n  }\n}\n\nconst collidableStore = new CollidableStore();\nexport {collidableStore};\n\n/**\n * @typedef {Object} Collision\n * @property {Collidable} collidableA\n * @property {Collidable} collidableB\n * @property {vec3} [contactPoint] In world coordinates.\n * @property {vec3} [contactNormal] Points away from body A and toward body B.\n * @property {number} [time]\n */\n","import {\n  areVec3sClose,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4,\n} from '../../util';\n\nimport {collidableStore} from './collidable-store';\nimport {detectIntersection, calculateContact} from './collision-utils';\n\n/**\n * This module defines a collision pipeline.\n *\n * These functions will detect collisions between collidable bodies and update their momenta in\n * response to the collisions.\n *\n * - Consists of an efficient broad-phase collision detection step followed by a precise\n *   narrow-phase step.\n * - Calculates the position, surface normal, and time of each contact.\n * - Calculates the impulse of a collision and updates the bodies' linear and angular momenta in\n *   response.\n * - Applies Coulomb friction to colliding bodies.\n * - Sub-divides the time step to more precisely determine when and where a collision occurs.\n * - Supports multiple collisions with a single body in a single time step.\n * - Efficiently supports bodies coming to rest against each other.\n * - Bodies will never penetrate one another.\n * - This does not address the tunnelling problem. That is, it is possible for two fast-moving\n *   bodies to pass through each other as long as they did not intersect each other during any time\n *   step.\n * - This only supports collisions between certain types of shapes. Fortunately, this set provides\n *   reasonable approximations for most other shapes. The supported types of shapes are: spheres,\n *   capsules, AABBs, and OBBs.\n *\n * ## Objects that come to rest\n *\n * An important efficiency improvement is to not process objects through the physics engine pipeline\n * after they have come to rest. The isAtRest field indicates when a body has come to rest.\n *\n * isAtRest is set to true after a physics frame is finished if the collisions, forces, position,\n * and orientation of a job have not changed from the previous to the current state.\n *\n * isAtRest is set to false from two possible events: after a physics frame is finished if the\n * collisions have changed from the previous to the current state, or when a force is added to\n * removed from the job.\n *\n * ## Collision calculations do not consider velocity\n *\n * Collision detection works by waiting until two bodies intersect. However, because time frames are\n * not infinitely small, when an intersection is detected, it's already past the exact instance of\n * collision. To alleviate problems from this, the velocity of each body can be considered when\n * calculating the collision time, position, and contact normal. However, taking velocity into\n * account makes the contact calculations much more complex, so we do not consider velocity in our\n * calculations.\n *\n * A notable consequence of this is that the calculated contact normals can be incorrect. Consider\n * the following moving squares. At time t2 they are found to have collided. The calculated contact\n * point will be somewhere within the intersection of the corners. But the calculated contact normal\n * will point upwards, while the true contact normal should point to the right. This is because the\n * contact calculations do not consider velocity and instead only consider the shallowest direction\n * of overlap.\n *\n * // Time t1\n *                    +------------+\n *                    |            |\n *                    |            |\n *                <-- |      B     |\n *                    |            |\n *  +------------+    |            |\n *  |            |    +------------+\n *  |            |\n *  |      A     | -->\n *  |            |\n *  |            |\n *  +------------+\n *\n * // Time t2\n *         +------------+\n *         |            |\n *         |            |\n *         |      B     |\n *         |            |\n *  +------------+      |\n *  |      +-----|------+\n *  |            |\n *  |      A     |\n *  |            |\n *  |            |\n *  +------------+\n */\n\n/**\n * Detect and handle any collisions between a given job and all other collidable bodies.\n *\n * @param {CollidablePhysicsJob} job\n * @param {DOMHighResTimeStamp} elapsedTime\n * @param {PhysicsConfig} physicsParams\n */\nfunction handleCollisionsForJob(job, elapsedTime, physicsParams) {\n  const collidable = job.collidable;\n\n  // Clear any previous collision info.\n  collidable.previousCollisions = collidable.collisions;\n  collidable.collisions = [];\n\n  // Find all colliding collidables.\n  const collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\n\n  // Store the time of collision for each collision.\n  const collisions = _recordCollisions(collidable, collidingCollidables, elapsedTime);\n\n  // Calculate the points of contact for each collision.\n  _calculatePointsOfContact(collisions);\n\n  // Collision resolution.\n  _resolveCollisions(collisions, physicsParams);\n}\n\n/**\n * Finds all other collidables that intersect with the given collidable.\n *\n * @param {Collidable} collidable\n * @returns {Array.<Collidable>}\n */\nfunction findIntersectingCollidablesForCollidable(collidable) {\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\n  const collidingCollidables = collidableStore.getPossibleCollisionsForCollidable(collidable);\n\n  // Narrow-phase collision detection (pairs that actually intersect).\n  return _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables);\n}\n\n/**\n * @param {Array.<CollidablePhysicsJob>} jobs\n */\nfunction determineJobsAtRest(jobs) {\n  jobs.forEach(job => job.isAtRest = _isJobAtRest(job));\n}\n\nfunction recordOldCollisionsForDevModeForAllCollidables() {\n  collidableStore.forEach(_recordOldCollisionsForDevModeForCollidable);\n}\n\n/**\n * Logs a warning message for any pair of objects that intersect.\n */\nfunction checkThatNoObjectsCollide() {\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\n  let collisions = collidableStore.getPossibleCollisionsForAllCollidables();\n\n  // Narrow-phase collision detection (pairs that actually intersect).\n  collisions = _detectPreciseCollisionsFromCollisions(collisions);\n\n  collisions.forEach(collision => {\n    console.warn('Objects still intersect after collision resolution', collision);\n  });\n}\n\n/**\n * Create collision objects that record the time of collision and the collidables in the collision.\n *\n * Also record references to these collisions on the collidables.\n *\n * @param {Collidable} collidable\n * @param {Array.<Collidable>} collidingCollidables\n * @param {DOMHighResTimeStamp} elapsedTime\n * @returns {Array.<Collision>}\n * @private\n */\nfunction _recordCollisions(collidable, collidingCollidables, elapsedTime) {\n  return collidingCollidables.map(other => {\n    const collision = {\n      collidableA: collidable,\n      collidableB: other,\n      time: elapsedTime\n    };\n\n    // Record the fact that these objects collided (the ModelController may want to handle this).\n    collision.collidableA.collisions.push(collision);\n    collision.collidableB.collisions.push(collision);\n\n    return collision;\n  });\n}\n\n/**\n * Narrow-phase collision detection.\n *\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\n *\n * @param {Array.<Collision>} collisions\n * @returns {Array.<Collision>}\n * @private\n */\nfunction _detectPreciseCollisionsFromCollisions(collisions) {\n  return collisions.filter(collision => {\n    // TODO:\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\n    //       x-vs-y-specific intersection detection methods).\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\n    //   before collision and the time from the sub-step after collision (determined from the\n    //   previous temporal bisection search...)\n\n    return detectIntersection(collision.collidableA, collision.collidableB);\n  });\n}\n\n/**\n * Narrow-phase collision detection.\n *\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\n *\n * @param {Collidable} collidable\n * @param {Array.<Collidable>} collidingCollidables\n * @returns {Array.<Collidable>}\n * @private\n */\nfunction _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables) {\n  return collidingCollidables.filter(other => {\n    // TODO:\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\n    //       x-vs-y-specific intersection detection methods).\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\n    //   before collision and the time from the sub-step after collision (determined from the\n    //   previous temporal bisection search...)\n\n    return detectIntersection(collidable, other);\n  });\n}\n\n/**\n * Calculate the intersection position and contact normal of each collision.\n *\n * @param {Array.<Collision>} collisions\n * @private\n */\nfunction _calculatePointsOfContact(collisions) {\n  collisions.forEach(calculateContact);\n}\n\n/**\n * Updates the linear and angular momenta of each body in response to its collision.\n *\n * @param {Array.<Collision>} collisions\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollisions(collisions, physicsParams) {\n  collisions.forEach(collision => {\n    // If neither physics job needs the standard collision restitution, then don't do it.\n    if (_notifyPhysicsJobsOfCollision(collision)) {\n      if (collision.collidableA.physicsJob && collision.collidableB.physicsJob) {\n        // Neither of the collidables is stationary.\n        _resolveCollision(collision, physicsParams);\n      } else {\n        // One of the two collidables is stationary.\n        _resolveCollisionWithStationaryObject(collision, physicsParams);\n      }\n    }\n  });\n}\n\n/**\n * @param {Collision} collision\n * @returns {boolean} True if one of the PhysicsJobs need the standard collision restitution to\n * proceed.\n * @private\n */\nfunction _notifyPhysicsJobsOfCollision(collision) {\n  return collision.collidableA.physicsJob.handleCollision(collision) ||\n      collision.collidableB.physicsJob.handleCollision(collision)\n}\n\n/**\n * Resolve a collision between two moving, physics-based objects.\n *\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model).\n *\n * @param {Collision} collision\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollision(collision, physicsParams) {\n  const collidableA = collision.collidableA;\n  const collidableB = collision.collidableB;\n  const previousStateA = collidableA.physicsJob.previousState;\n  const previousStateB = collidableB.physicsJob.previousState;\n  const nextStateA = collidableA.physicsJob.currentState;\n  const nextStateB = collidableB.physicsJob.currentState;\n  const centerA = collidableA.centerOfMass;\n  const centerB = collidableB.centerOfMass;\n  const contactPoint = collision.contactPoint;\n\n  const contactPointOffsetA = tmpVec3;\n  vec3.subtract(contactPointOffsetA, contactPoint, centerA);\n  const contactPointOffsetB = tmpVec4;\n  vec3.subtract(contactPointOffsetB, contactPoint, centerB);\n\n  //\n  // Calculate the relative velocity of the bodies at the point of contact.\n  //\n  // We use the velocity from the previous state, since it is the velocity that led to the\n  // collision.\n  //\n\n  const velocityA = tmpVec1;\n  vec3.cross(tmpVec1, previousStateA.angularVelocity, contactPointOffsetA);\n  vec3.add(velocityA, previousStateA.velocity, tmpVec1);\n\n  const velocityB = tmpVec2;\n  vec3.cross(tmpVec2, previousStateB.angularVelocity, contactPointOffsetB);\n  vec3.add(velocityB, previousStateB.velocity, tmpVec2);\n\n  const relativeVelocity = vec3.create();\n  vec3.subtract(relativeVelocity, velocityB, velocityA);\n\n  if (vec3.dot(relativeVelocity, collision.contactNormal) >= 0) {\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\n    // incorrectly (this is likely due to the time step being too large and the fact that our\n    // contact calculations don't consider velocity). So update the contact normal to be in the\n    // direction of the relative velocity.\n\n    // TODO: Check that this works as expected.\n\n    // console.warn('Non-collision because objects are moving away from each other.');\n\n    vec3.copy(collision.contactNormal, relativeVelocity);\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\n    vec3.negate(collision.contactNormal, collision.contactNormal);\n  }\n\n  _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\n      contactPointOffsetB, physicsParams);\n\n  // NOTE: This state reversion is only applied to collidableA. This assumes that only A is moving\n  // during this iteration of the collision pipeline.\n\n  // Revert to the position and orientation from immediately before the collision.\n  vec3.copy(nextStateA.position, previousStateA.position);\n  quat.copy(nextStateA.orientation, previousStateA.orientation);\n\n  // Also revert the collidables' position and orientation.\n  collidableA.position = previousStateA.position;\n  collidableA.orientation = previousStateA.orientation;\n\n  nextStateA.updateDependentFields();\n  nextStateB.updateDependentFields();\n}\n\n/**\n * Resolve a collision between one moving, physics-based object and one stationary object.\n *\n * @param {Collision} collision\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollisionWithStationaryObject(collision, physicsParams) {\n  const contactNormal = collision.contactNormal;\n\n  let physicsCollidable;\n  if (collision.collidableA.physicsJob) {\n    physicsCollidable = collision.collidableA;\n  } else {\n    physicsCollidable = collision.collidableB;\n    vec3.negate(contactNormal, contactNormal);\n  }\n\n  const previousState = physicsCollidable.physicsJob.previousState;\n  const nextState = physicsCollidable.physicsJob.currentState;\n  const center = physicsCollidable.centerOfMass;\n  const contactPoint = collision.contactPoint;\n\n  const contactPointOffset = tmpVec3;\n  vec3.subtract(contactPointOffset, contactPoint, center);\n\n  // Calculate the relative velocity of the bodies at the point of contact. We use the velocity from\n  // the previous state, since it is the velocity that led to the collision.\n  const velocity = vec3.create();\n  vec3.cross(tmpVec1, previousState.angularVelocity, contactPointOffset);\n  vec3.add(velocity, previousState.velocity, tmpVec1);\n\n  if (vec3.dot(velocity, contactNormal) <= 0) {\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\n    // incorrectly (this is likely due to the time step being too large and the fact that our\n    // contact calculations don't consider velocity). So update the contact normal to be in the\n    // direction of the relative velocity.\n\n    // TODO: Check that this works as expected.\n\n    console.warn('Non-collision because object is moving away from stationary object.');\n\n    vec3.copy(collision.contactNormal, velocity);\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\n    vec3.negate(collision.contactNormal, collision.contactNormal);\n  }\n\n  _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\n      contactPointOffset, physicsParams);\n\n  // Revert to the position and orientation from immediately before the collision.\n  vec3.copy(nextState.position, previousState.position);\n  quat.copy(nextState.orientation, previousState.orientation);\n\n  // Also revert the collidable's position and orientation.\n  physicsCollidable.position = previousState.position;\n  physicsCollidable.orientation = previousState.orientation;\n\n  nextState.updateDependentFields();\n}\n\n/**\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\n *\n * @param {Collision} collision\n * @param {vec3} relativeVelocity\n * @param {vec3} contactPointOffsetA\n * @param {vec3} contactPointOffsetB\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\n                                    contactPointOffsetB, physicsParams) {\n  const collidableA = collision.collidableA;\n  const collidableB = collision.collidableB;\n\n  const stateA = collidableA.physicsJob.currentState;\n  const stateB = collidableB.physicsJob.currentState;\n\n  const contactNormal = collision.contactNormal;\n\n  //\n  // Calculate and apply the main collision impulse.\n  //\n\n  vec3.scale(tmpVec1, relativeVelocity, -(1 + physicsParams.coefficientOfRestitution));\n  const numerator = vec3.dot(tmpVec1, contactNormal);\n\n  vec3.cross(tmpVec1, contactPointOffsetA, contactNormal);\n  vec3.transformMat3(tmpVec1, tmpVec1, stateA.inverseInertiaTensor);\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffsetA);\n\n  vec3.cross(tmpVec2, contactPointOffsetB, contactNormal);\n  vec3.transformMat3(tmpVec2, tmpVec2, stateB.inverseInertiaTensor);\n  vec3.cross(tmpVec2, tmpVec2, contactPointOffsetB);\n\n  vec3.add(tmpVec1, tmpVec1, tmpVec2);\n  const denominator = vec3.dot(tmpVec1, contactNormal) + stateA.inverseMass + stateB.inverseMass;\n\n  const impulseMagnitude = numerator / denominator;\n\n  _applyImpulse(stateA, -impulseMagnitude, contactNormal, contactPointOffsetA);\n  _applyImpulse(stateB, impulseMagnitude, contactNormal, contactPointOffsetB);\n\n  //\n  // Calculate and apply a dynamic friction impulse.\n  //\n\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\n\n  const tangent = tmpVec2;\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(relativeVelocity, contactNormal));\n  vec3.subtract(tangent, relativeVelocity, tmpVec1);\n  vec3.normalize(tangent, tangent);\n\n  _applyImpulse(stateA, frictionImpulseMagnitude, tangent, contactPointOffsetA);\n  _applyImpulse(stateB, -frictionImpulseMagnitude, tangent, contactPointOffsetB);\n}\n\n/**\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\n *\n * @param {Collidable} physicsCollidable\n * @param {Collision} collision\n * @param {vec3} velocity\n * @param {vec3} contactPointOffset\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\n                                                        contactPointOffset, physicsParams) {\n  const state = physicsCollidable.physicsJob.currentState;\n  const contactNormal = collision.contactNormal;\n\n  //\n  // Calculate and apply the main collision impulse.\n  //\n\n  vec3.scale(tmpVec1, velocity, -(1 + physicsParams.coefficientOfRestitution));\n  const numerator = vec3.dot(tmpVec1, contactNormal);\n\n  vec3.cross(tmpVec1, contactPointOffset, contactNormal);\n  vec3.transformMat3(tmpVec1, tmpVec1, state.inverseInertiaTensor);\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffset);\n  const denominator = vec3.dot(tmpVec1, contactNormal) + state.inverseMass;\n\n  const impulseMagnitude = numerator / denominator;\n\n  _applyImpulse(state, impulseMagnitude, contactNormal, contactPointOffset);\n\n  //\n  // Calculate and apply a dynamic friction impulse.\n  //\n\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\n\n  const tangent = tmpVec2;\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(velocity, contactNormal));\n  vec3.subtract(tangent, velocity, tmpVec1);\n  vec3.normalize(tangent, tangent);\n\n  _applyImpulse(state, frictionImpulseMagnitude, tangent, contactPointOffset);\n}\n\n/**\n * @param {PhysicsState} state\n * @param {number} impulseMagnitude\n * @param {vec3} impulseDirection\n * @param {vec3} contactPointOffset\n * @private\n */\nfunction _applyImpulse(state, impulseMagnitude, impulseDirection, contactPointOffset) {\n  // Calculate the updated linear momenta.\n  const finalLinearMomentum = vec3.create();\n  vec3.scaleAndAdd(finalLinearMomentum, state.momentum, impulseDirection, impulseMagnitude);\n\n  // Calculate the updated angular momenta.\n  const finalAngularMomentum = vec3.create();\n  vec3.cross(tmpVec1, contactPointOffset, impulseDirection);\n  vec3.scaleAndAdd(finalAngularMomentum, state.angularMomentum, tmpVec1, impulseMagnitude);\n\n  // Apply the updated momenta.\n  vec3.copy(state.momentum, finalLinearMomentum);\n  vec3.copy(state.angularMomentum, finalAngularMomentum);\n}\n\n/**\n * @param {CollidablePhysicsJob} job\n * @returns {boolean}\n * @private\n */\nfunction _isJobAtRest(job) {\n  return areVec3sClose(job.currentState.position, job.previousState.position) &&\n      areVec3sClose(job.currentState.velocity, job.previousState.velocity) &&\n      areVec3sClose(job.currentState.orientation, job.previousState.orientation) &&\n      _doCollisionsMatch(job.collidable.collisions, job.collidable.previousCollisions);\n}\n\n/**\n * @param {Array.<Collision>} collisionsA\n * @param {Array.<Collision>} collisionsB\n * @returns {boolean}\n * @private\n */\nfunction _doCollisionsMatch(collisionsA, collisionsB) {\n  const count = collisionsA.length;\n\n  if (count !== collisionsB.length) return false;\n\n  for (let i = 0; i < count; i++) {\n    const collisionA = collisionsA[i];\n    const collisionB = collisionsB[i];\n    if (collisionA.collidableA !== collisionB.collidableA ||\n        collisionA.collidableB !== collisionB.collidableB ||\n        !areVec3sClose(collisionA.contactPoint, collisionB.contactPoint) ||\n        !areVec3sClose(collisionA.contactNormal, collisionB.contactNormal)) {\n      return false\n    }\n  }\n\n  return true;\n}\n\n/**\n * @param {Collidable} collidable\n * @private\n */\nfunction _recordOldCollisionsForDevModeForCollidable(collidable) {\n  if (!collidable.extraPreviousCollisions) {\n    collidable.extraPreviousCollisions = [];\n  }\n\n  for (let i = 3; i > 0; i--) {\n    collidable.extraPreviousCollisions[i] = collidable.extraPreviousCollisions[i - 1];\n  }\n  collidable.extraPreviousCollisions[0] = collidable.previousCollisions;\n}\n\n/**\n * @param {Collision} collision\n * @param {Object} thisController\n * @returns {Object}\n */\nfunction getOtherControllerFromCollision(collision, thisController) {\n  const controllerA = collision.collidableA.physicsJob.controller;\n  const controllerB = collision.collidableB.physicsJob.controller;\n  if (controllerA === thisController) {\n    return controllerB;\n  } else if (controllerB === thisController) {\n    return controllerA;\n  } else {\n    throw new Error('Neither collidable corresponds to the given controller');\n  }\n}\n\nexport {\n  handleCollisionsForJob,\n  findIntersectingCollidablesForCollidable,\n  determineJobsAtRest,\n  recordOldCollisionsForDevModeForAllCollidables,\n  checkThatNoObjectsCollide,\n  getOtherControllerFromCollision,\n};\n","import {\n  Aabb,\n  Capsule,\n  Obb,\n  Sphere\n} from '../collidables';\n\nimport {\n  aabbCollisionDetection,\n  capsuleCollisionDetection,\n  obbCollisionDetection,\n  sphereCollisionDetection,\n} from '../collision-detection';\n\nimport {\n  aabbContactCalculation,\n  capsuleContactCalculation,\n  obbContactCalculation,\n  sphereContactCalculation,\n} from '../contact-calculation';\n\n/**\n * This module defines a collection of static utility functions for detecting and responding to\n * collisions.\n */\n\n/**\n * @param {Collidable} a\n * @param {Collidable} b\n * @returns {boolean}\n */\nfunction detectIntersection(a, b) {\n  if (a instanceof Sphere) {\n    if (b instanceof Sphere) {\n      return sphereCollisionDetection.sphereVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return sphereCollisionDetection.sphereVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return sphereCollisionDetection.sphereVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return sphereCollisionDetection.sphereVsObb(a, b);\n    } else {\n      return sphereCollisionDetection.sphereVsPoint(a, b);\n    }\n  } else if (a instanceof Aabb) {\n    if (b instanceof Sphere) {\n      return aabbCollisionDetection.aabbVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return aabbCollisionDetection.aabbVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return aabbCollisionDetection.aabbVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return aabbCollisionDetection.aabbVsObb(a, b);\n    } else {\n      return aabbCollisionDetection.aabbVsPoint(a, b);\n    }\n  } else if (a instanceof Capsule) {\n    if (b instanceof Sphere) {\n      return capsuleCollisionDetection.capsuleVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return capsuleCollisionDetection.capsuleVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return capsuleCollisionDetection.capsuleVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return capsuleCollisionDetection.capsuleVsObb(a, b);\n    } else {\n      return capsuleCollisionDetection.capsuleVsPoint(a, b);\n    }\n  } else if (a instanceof Obb) {\n    if (b instanceof Sphere) {\n      return obbCollisionDetection.obbVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return obbCollisionDetection.obbVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return obbCollisionDetection.obbVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return obbCollisionDetection.obbVsObb(a, b);\n    } else {\n      return obbCollisionDetection.obbVsPoint(a, b);\n    }\n  } else {\n    if (b instanceof Sphere) {\n      return sphereCollisionDetection.sphereVsPoint(b, a);\n    } else if (b instanceof Aabb) {\n      return aabbCollisionDetection.aabbVsPoint(b, a);\n    } else if (b instanceof Capsule) {\n      return capsuleCollisionDetection.capsuleVsPoint(b, a);\n    } else if (b instanceof Obb) {\n      return obbCollisionDetection.obbVsPoint(b, a);\n    } else {\n      return false;\n    }\n  }\n}\n\n/**\n * @param {Collision} collision\n */\nfunction calculateContact(collision) {\n  const a = collision.collidableA;\n  const b = collision.collidableB;\n  const contactPoint = vec3.create();\n  const contactNormal = vec3.create();\n\n  if (a instanceof Sphere) {\n    if (b instanceof Sphere) {\n      sphereContactCalculation.sphereVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      sphereContactCalculation.sphereVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      sphereContactCalculation.sphereVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Aabb) {\n    if (b instanceof Sphere) {\n      aabbContactCalculation.aabbVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      aabbContactCalculation.aabbVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      aabbContactCalculation.aabbVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      aabbContactCalculation.aabbVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Capsule) {\n    if (b instanceof Sphere) {\n      capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      capsuleContactCalculation.capsuleVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      capsuleContactCalculation.capsuleVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Obb) {\n    if (b instanceof Sphere) {\n      obbContactCalculation.obbVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      obbContactCalculation.obbVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      obbContactCalculation.obbVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else {\n    if (b instanceof Sphere) {\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Aabb) {\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Capsule) {\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Obb) {\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, b, a);\n    } else {}\n    vec3.negate(contactNormal, contactNormal);\n  }\n\n  collision.contactPoint = contactPoint;\n  collision.contactNormal = contactNormal;\n}\n\n/**\n * @param {Collidable} a\n * @param {Collidable} b\n * @returns {boolean}\n */\nfunction detectBoundingVolumeIntersection(a, b) {\n  return detectIntersection(a.boundingVolume, b.boundingVolume);\n}\n\nexport {\n  detectIntersection,\n  calculateContact,\n  detectBoundingVolumeIntersection,\n};\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from './collisions';\nexport * from './integrator';\nexport * from './util';\n\nexport * from './src/physics-engine';\nexport * from './src/physics-job';\nexport * from './src/physics-state';\n","export * from './src/integrator';\nexport * from './src/rk4-integrator';\n","/**\n * This class numerically integrates the equations of motion. That is, an integrator implements\n * physics simulations by updating position and velocity values for each time step.\n *\n * @abstract\n */\nclass Integrator {\n  constructor() {\n    // Integrator is an abstract class. It should not be instantiated directly.\n    if (new.target === Integrator) {\n      throw new TypeError('Cannot construct Integrator instances directly');\n    }\n  }\n\n  /**\n   * Integrate the state from t to t + dt.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} t Total elapsed time.\n   * @param {number} dt Duration of the current time step.\n   * @abstract\n   */\n  integrate(job, t, dt) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {PhysicsDerivative}\n   */\n  static createDerivative() {\n    return {\n      velocity: vec3.create(),\n      force: vec3.create(),\n      spin: quat.create(),\n      torque: vec3.create()\n    };\n  }\n}\n\nexport {Integrator};\n\n/**\n * @typedef {Object} PhysicsDerivative\n * @property {vec3} velocity Derivative of position.\n * @property {vec3} force Derivative of momentum.\n * @property {quat} spin Derivative of orientation.\n * @property {vec3} torque Derivative of angular momentum.\n */\n\n/**\n * @typedef {Object} ForceApplierOutput\n * @property {vec3} force\n * @property {vec3} torque\n */\n\n/**\n * @typedef {Object} ForceApplierInput\n * @property {PhysicsState} state\n * @property {number} t\n * @property {number} dt\n */\n","import {_geometry, _util} from '../../util';\nimport {Integrator} from './integrator';\nimport {PhysicsState} from '../../src/physics-state';\n\n// TODO: Account for the fact that collisions take place between time steps; integration should\n// really consider the previous state as being the time and state at the moment of collision.\n\n/**\n * This class numerically integrates the equations of motion. That is, this implements physics\n * simulations by updating position and velocity values for each time step.\n *\n * This integrator is an implementation of the classical Runge-Kutta method (RK4)\n * (https://en.wikipedia.org/wiki/Runge_kutta).\n *\n * This integrator causes energy to be lost at a small rate. This is a common problem for numerical\n * integrators, and is usually negligible.\n */\nclass RK4Integrator extends Integrator {\n  constructor() {\n    super();\n    if (_util.isInDevMode) {\n      this._wrapForDevMode();\n    }\n  }\n\n  /**\n   * Integrate the state from t to t + dt.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} t Total elapsed time.\n   * @param {number} dt Duration of the current time step.\n   */\n  integrate(job, t, dt) {\n    const state = job.currentState;\n    _tempState.copy(state);\n\n    _calculateDerivative(_a, _tempState, job, t, 0, _EMPTY_DERIVATIVE);\n    _calculateDerivative(_b, _tempState, job, t, dt * 0.5, _a);\n    _calculateDerivative(_c, _tempState, job, t, dt * 0.5, _b);\n    _calculateDerivative(_d, _tempState, job, t, dt, _c);\n\n    _calculateVec3DerivativeWeightedSum(\n        _positionDerivative, _a.velocity, _b.velocity, _c.velocity, _d.velocity);\n    _calculateVec3DerivativeWeightedSum(\n        _momentumDerivative, _a.force, _b.force, _c.force, _d.force);\n    _calculateQuatDerivativeWeightedSum(_orientationDerivative, _a.spin, _b.spin, _c.spin, _d.spin);\n    _calculateVec3DerivativeWeightedSum(\n        _angularMomentumDerivative, _a.torque, _b.torque, _c.torque, _d.torque);\n\n    vec3.scaleAndAdd(state.position, state.position, _positionDerivative, dt);\n    vec3.scaleAndAdd(state.momentum, state.momentum, _momentumDerivative, dt);\n    _geometry.scaleAndAddQuat(state.orientation, state.orientation, _orientationDerivative, dt);\n    vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, _angularMomentumDerivative, dt);\n\n    state.updateDependentFields();\n  }\n\n  /**\n   * Wraps the integrate method and check for NaN values after each integration.\n   *\n   * @private\n   */\n  _wrapForDevMode() {\n    const unguardedIntegrate = this.integrate.bind(this);\n    this.integrate = (job, t, dt) => {\n      unguardedIntegrate(job, t, dt);\n      _checkForStateError(job.currentState);\n    };\n  }\n}\n\n/**\n * Calculate the derivative from the given state with the given time step.\n *\n * @param {PhysicsDerivative} out\n * @param {PhysicsState} state\n * @param {PhysicsJob} job\n * @param {number} t\n * @param {number} dt\n * @param {PhysicsDerivative} d\n * @private\n */\nfunction _calculateDerivative(out, state, job, t, dt, d) {\n  vec3.scaleAndAdd(state.position, state.position, d.velocity, dt);\n  vec3.scaleAndAdd(state.momentum, state.momentum, d.force, dt);\n  _geometry.scaleAndAddQuat(state.orientation, state.orientation, d.spin, dt);\n  vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, d.torque, dt);\n\n  state.updateDependentFields();\n\n  out.velocity = state.velocity;\n  out.spin = state.spin;\n  vec3.set(out.force, 0, 0, 0);\n  vec3.set(out.torque, 0, 0, 0);\n\n  _forceApplierOutput.force = out.force;\n  _forceApplierOutput.torque = out.torque;\n  _forceApplierInput.state = state;\n  _forceApplierInput.t = t + dt;\n  _forceApplierInput.dt = dt;\n\n  job.applyForces(_forceApplierOutput, _forceApplierInput);\n}\n\nconst _EMPTY_DERIVATIVE = Integrator.createDerivative();\n\nconst _tempState = new PhysicsState();\nconst _a = Integrator.createDerivative();\nconst _b = Integrator.createDerivative();\nconst _c = Integrator.createDerivative();\nconst _d = Integrator.createDerivative();\n\nconst _positionDerivative = vec3.create();\nconst _momentumDerivative = vec3.create();\nconst _orientationDerivative = quat.create();\nconst _angularMomentumDerivative = vec3.create();\n\nconst _forceApplierOutput = {};\nconst _forceApplierInput = {};\n\n/**\n * @param {vec3} out\n * @param {vec3} a\n * @param {vec3} b\n * @param {vec3} c\n * @param {vec3} d\n * @private\n */\nfunction _calculateVec3DerivativeWeightedSum(out, a, b, c, d) {\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {quat} c\n * @param {quat} d\n * @private\n */\nfunction _calculateQuatDerivativeWeightedSum(out, a, b, c, d) {\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\n  out[3] = 1 / 6 * (a[3] + 2 * (b[3] + c[3]) + d[3]);\n}\n\n/**\n * @param {PhysicsState} state\n * @private\n */\nfunction _checkForStateError(state) {\n  const errorProperties = [\n    'position',\n    'momentum',\n    'orientation',\n    'angularMomentum',\n  ].filter(property => _containsNaN(state[property]));\n  const property = errorProperties[0];\n  if (property) {\n    throw new Error(`${property} contains a NaN value after integrating: ${state[property]}`);\n  }\n}\n\n/**\n * Determines whether the given vector contains a NaN value.\n *\n * @param {vec3} v\n * @private\n */\nfunction _containsNaN(v) {\n  return isNaN(v[0]) || isNaN(v[1]) || isNaN(v[2]);\n}\n\nconst rk4Integrator = new RK4Integrator();\n\nexport {rk4Integrator};\n","import {FrameLatencyProfiler, PersistentAnimationJob} from 'lsl-animatex';\nimport {_util} from '../util';\n\nimport {\n  checkThatNoObjectsCollide,\n  CollidablePhysicsJob,\n  determineJobsAtRest,\n  handleCollisionsForJob,\n  recordOldCollisionsForDevModeForAllCollidables,\n} from '../collisions';\nimport {PhysicsState} from './physics-state';\nimport {rk4Integrator} from '../integrator';\n\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Physics frame duration';\n\n/**\n * This physics engine simulates high-performance, three-dimensional rigid-body dynamics.\n *\n * Notable features:\n * - Includes collision detection with impulse-based resolution.\n * - Decouples the physics simulation and animation rendering time steps, and uses a fixed timestep\n * for the physics loop. This gives us numerical stability and precise reproducibility.\n * - Suppresses linear and angular momenta below a certain threshold.\n *\n * The engine consists primarily of a collection of individual physics jobs and an update loop. This\n * update loop is in turn controlled by the animation loop. However, whereas the animation loop\n * renders each job once per frame loop--regardless of how much time actually elapsed since the\n * previous frame--the physics loop updates its jobs at a constant rate. To reconcile these frame\n * rates, the physics loop runs as many times as is needed in order to catch up to the time of the\n * current animation frame. The physics frame rate should be much higher than the animation frame\n * rate.\n *\n * It is VERY IMPORTANT for a PhysicsJob to minimize the runtime of its update step.\n *\n * ## A note on job order\n *\n * The integration+collision pipeline handle one job at a time. A consequence of this design\n * is that half of the collisions technically represent a false interaction between the state of the\n * first object at time t and the state of the second object at time t - 1.\n *\n * This implementation prevents a more problematic issue. If all objects were first integrated, then\n * all objects were checked for collisions, then all collisions were resolved, then the following\n * scenario could arise:\n * - The next position of object A collides with the previous position of object B, but not with the\n *   next position of object B, so object A moves successfully to its new position.\n * - The next position of object B collides with the next position of object C, so objects B and C\n *   are reset to their previous positions.\n * - Object B and C now intersect.\n */\nclass PhysicsEngine extends PersistentAnimationJob {\n  /**\n   * Clients should call PhysicsEngine.create instead of instantiating a PhysicsEngine directly.\n   *\n   * @param {PhysicsConfig} physicsParams\n   */\n  constructor(physicsParams) {\n    super();\n\n    if (_physicsEngine) {\n      throw new Error('Can\\'t instantiate multiple instances of PhysicsEngine.');\n    }\n\n    _physicsEngine = this;\n\n    this._physicsParams = physicsParams;\n    this.integrator = rk4Integrator;\n    this._elapsedTime = 0.0;\n    this._remainingTime = 0.0;\n    this._nonCollidableJobs = [];\n    this._collidableJobs = [];\n\n    if (_util.isInDevMode) {\n      this._setUpForInDevMode();\n    }\n  }\n\n  /**\n   * @param {PhysicsConfig} physicsParams\n   */\n  static create(physicsParams) {\n    new PhysicsEngine(physicsParams);\n  }\n\n  reset() {\n    this._elapsedTime = 0.0;\n    this._remainingTime = 0.0;\n    this._nonCollidableJobs = [];\n    this._collidableJobs = [];\n  }\n\n  /**\n   * Adds the given PhysicsJob.\n   *\n   * @param {PhysicsJob} job\n   */\n  addJob(job) {\n    // console.debug(`Starting PhysicsJob`);\n\n    if (job instanceof CollidablePhysicsJob) {\n      this._collidableJobs.push(job);\n    } else {\n      this._nonCollidableJobs.push(job);\n    }\n  }\n\n  /**\n   * Removes the given PhysicsJob.\n   *\n   * Throws no error if the job is not registered.\n   *\n   * @param {PhysicsJob} job\n   */\n  removeJob(job) {\n    // console.debug(`Cancelling PhysicsJob`);\n    this._removeJob(job);\n  }\n\n  /**\n   * Wraps the draw and update methods in a profiler function that will track the frame latencies.\n   *\n   * @private\n   */\n  _setUpForInDevMode() {\n    const unwrappedUpdate = this.update.bind(this);\n    const latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD, \n        this._physicsParams.timeStepDuration, _LATENCY_LOG_LABEL);\n    latencyProfiler.start();\n\n    this.update = (...args) => {\n      const beforeTime = performance.now();\n      unwrappedUpdate(...args);\n      const deltaTime = performance.now() - beforeTime;\n      latencyProfiler.recordFrameLatency(deltaTime);\n    };\n  }\n\n  /**\n   * Update the physics state for the current animation update frame.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._remainingTime += deltaTime;\n\n    // Run as many constant-interval physics updates as are needed for the given animation frame\n    // interval.\n    while (this._remainingTime >= this._physicsParams.timeStepDuration) {\n      this._updateToNextPhysicsFrame();\n      this._elapsedTime += this._physicsParams.timeStepDuration;\n      this._remainingTime -= this._physicsParams.timeStepDuration;\n    }\n\n    // Calculate the intermediate physics state to use for rendering the current animation frame.\n    const partialRatio = this._remainingTime / this._physicsParams.timeStepDuration;\n    this._setPartialStateForRenderTimeStepForAllJobs(partialRatio);\n  }\n\n  _updateToNextPhysicsFrame() {\n    if (_util.isInDevMode) {\n      this._recordOldStatesForAllJobsForDevMode();\n      recordOldCollisionsForDevModeForAllCollidables();\n    }\n\n    this._nonCollidableJobs.forEach(this._integratePhysicsStateForJob.bind(this));\n    this._collidableJobs.forEach(job => {\n      if (!job.isAtRest) {\n        this._integratePhysicsStateForCollidableJob(job);\n        handleCollisionsForJob(job, this._elapsedTime, this._physicsParams);\n      }\n    });\n\n    if (_util.isInDevMode) {\n      checkThatNoObjectsCollide();\n    }\n\n    this._suppressLowMomentaForAllJobs();\n\n    determineJobsAtRest(this._collidableJobs);\n  }\n\n  /**\n   * Removes the given job from the collection of active jobs if it exists.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    if (job instanceof CollidablePhysicsJob) {\n      _removeJobFromCollection(job, index, this._collidableJobs);\n    } else {\n      _removeJobFromCollection(job, index, this._nonCollidableJobs);\n    }\n  }\n\n  /**\n   * Update the current physics state for a job for the current physics update frame.\n   *\n   * This includes applying all forces that have been registered with the physics job.\n   *\n   * @param {CollidablePhysicsJob} job\n   * @private\n   */\n  _integratePhysicsStateForCollidableJob(job) {\n    this._integratePhysicsStateForJob(job);\n\n    // Update the collidable's position and orientation.\n    job.collidable.position = job.currentState.position;\n    job.collidable.orientation = job.currentState.orientation;\n  }\n\n  /**\n   * Update the current physics state for a job for the current physics update frame.\n   *\n   * This includes applying all forces that have been registered with the physics job.\n   *\n   * @param {PhysicsJob} job\n   * @private\n   */\n  _integratePhysicsStateForJob(job) {\n    job.previousState.copy(job.currentState);\n    this.integrator.integrate(job, this._elapsedTime, this._physicsParams.timeStepDuration);\n  }\n\n  _suppressLowMomentaForAllJobs() {\n    this._collidableJobs.forEach(job => _suppressLowMomentaForJob(job,\n        this._physicsParams.lowMomentumSuppressionThreshold,\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\n    this._nonCollidableJobs.forEach(job => _suppressLowMomentaForJob(job,\n        this._physicsParams.lowMomentumSuppressionThreshold,\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\n  }\n\n  /**\n   * Calculate the intermediate physics state to use for rendering the current animation frame. The\n   * given ratio specifies how far the current render frame is between the previous and current\n   * physics update frames.\n   *\n   * @param {number} partialRatio\n   * @private\n   */\n  _setPartialStateForRenderTimeStepForAllJobs(partialRatio) {\n    this._collidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\n    this._nonCollidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\n  }\n\n  _recordOldStatesForAllJobsForDevMode() {\n    this._collidableJobs.forEach(_recordOldStatesForJob);\n    this._nonCollidableJobs.forEach(_recordOldStatesForJob);\n  }\n\n  draw() {}\n\n  /**\n   * @returns {PhysicsEngine}\n   */\n  static get instance() {\n    if (!_physicsEngine) {\n      throw new Error('Can\\'t access PhysicsEngine.instance before it has been instantiated.');\n    }\n    return _physicsEngine;\n  }\n}\n\n/**\n * @param {PhysicsJob} job\n * @param {number} lowMomentumSuppressionThreshold\n * @param {number} lowAngularMomentumSuppressionThreshold\n * @private\n */\nfunction _suppressLowMomentaForJob(job, lowMomentumSuppressionThreshold,\n                                   lowAngularMomentumSuppressionThreshold) {\n  const currentState = job.currentState;\n\n  if (vec3.squaredLength(currentState.momentum) < lowMomentumSuppressionThreshold) {\n    vec3.set(currentState.momentum, 0, 0, 0);\n  }\n\n  if (vec3.squaredLength(currentState.angularMomentum) < lowAngularMomentumSuppressionThreshold) {\n    vec3.set(currentState.angularMomentum, 0, 0, 0);\n  }\n}\n\n/**\n * @param {PhysicsJob} job\n * @param {number} index\n * @param {Array.<PhysicsJob>} jobs\n * @private\n */\nfunction _removeJobFromCollection(job, index, jobs) {\n  if (index >= 0) {\n    jobs.splice(index, 1);\n  } else {\n    const count = jobs.length;\n    for (index = 0; index < count; index++) {\n      if (jobs[index] === job) {\n        jobs.splice(index, 1);\n        break;\n      }\n    }\n  }\n}\n\n/**\n * @param {number} partialRatio\n * @param {PhysicsJob} job\n * @private\n */\nfunction _setPartialStateForRenderTimeStepForJob(partialRatio, job) {\n  job.renderState.lerp(job.previousState, job.currentState, partialRatio);\n}\n\n/**\n * @param {PhysicsJob} job\n * @private\n */\nfunction _recordOldStatesForJob(job) {\n  if (!job.extraPreviousStates) {\n    job.extraPreviousStates = [];\n    for (let i = 0; i < 4; i++) {\n      job.extraPreviousStates[i] = new PhysicsState();\n    }\n  }\n\n  for (let i = 3; i > 0; i--) {\n    job.extraPreviousStates[i].copy(job.extraPreviousStates[i - 1]);\n  }\n  job.extraPreviousStates[0].copy(job.previousState);\n}\n\nlet _physicsEngine = null;\n\nexport {PhysicsEngine};\n","import {animator} from 'lsl-animatex';\nimport {PhysicsEngine} from './physics-engine';\nimport {PhysicsState} from './physics-state';\nimport {_util} from '../util';\n\n/**\n * A PhysicsJob maintains a current force/momentum state and defines a method for applying forces at\n * a given physics time step.\n */\nclass PhysicsJob {\n  /**\n   * @param {Array.<ForceApplier>} [forceAppliers]\n   * @param {PhysicsState} [state]\n   */\n  constructor(forceAppliers, state) {\n    forceAppliers = forceAppliers || [];\n    state = state || new PhysicsState();\n\n    this.startTime = null;\n    this.currentState = state;\n    this.previousState = null;\n    this.renderState = null;\n    this._forceAppliers = forceAppliers;\n  }\n\n  /**\n   * @param {ForceApplierOutput} outputParams\n   * @param {ForceApplierInput} inputParams\n   */\n  applyForces(outputParams, inputParams) {\n    this._forceAppliers.forEach(forceApplier => forceApplier(outputParams, inputParams));\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   * @param {number} [index=0] The index to add the given force applier in the current list of\n   * appliers.\n   */\n  addForceApplier(forceApplier, index = 0) {\n    this._forceAppliers.splice(index, 0, forceApplier);\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  removeForceApplier(forceApplier) {\n    this._forceAppliers.splice(this._forceAppliers.indexOf(forceApplier), 1);\n  }\n\n  /**\n   * Registers this PhysicsJob and all of its descendant child jobs with the physics engine.\n   *\n   * @param {number} [startTime]\n   */\n  start(startTime) {\n    this.startTime = startTime || animator.currentTime;\n\n    const previousState = new PhysicsState();\n    previousState.copy(this.currentState);\n    const renderState = new PhysicsState();\n    renderState.copy(this.currentState);\n\n    this.previousState = previousState;\n    this.renderState = renderState;\n\n    if (_util.isInDevMode) {\n      // It is useful for debugging to be able to trace the states back to their jobs.\n      this.currentState.job = this;\n      this.previousState.job = this;\n      this.renderState.job = this;\n    }\n\n    PhysicsEngine.instance.addJob(this);\n  }\n\n  /**\n   * Unregisters this PhysicsJob and all of its descendant child jobs with the physics engine.\n   *\n   * Throws no error if the job is not registered.\n   */\n  finish() {\n    PhysicsEngine.instance.removeJob(this);\n  }\n\n  /**\n   * @param {number} [startTime]\n   */\n  restart(startTime) {\n    this.finish();\n    this.start(startTime);\n  }\n}\n\nexport {PhysicsJob};\n\n/**\n * @typedef {Function} ForceApplier\n * @property {vec3} force Output.\n * @property {vec3} torque Output.\n * @property {PhysicsState} state Input.\n * @property {number} t Input.\n * @property {number} dt Input.\n */\n\n/**\n * @typedef {Object} PhysicsConfig\n * @property {number} timeStepDuration\n * @property {number} gravity\n * @property {vec3} _gravityVec\n * @property {number} linearDragCoefficient\n * @property {number} angularDragCoefficient\n * @property {number} coefficientOfRestitution\n * @property {number} coefficientOfFriction\n * @property {number} lowMomentumSuppressionThreshold\n * @property {number} lowAngularMomentumSuppressionThreshold\n */\n","import {rotateTensor, createBoxInertiaTensor} from '../util';\n\n/**\n * This class represents the state of an object that is needed for a physics simulation (such as\n * position, momentum, and mass).\n */\nclass PhysicsState {\n  /**\n   * @param {DynamicsConfig} [dynamicsParams={}]\n   */\n  constructor(dynamicsParams = {}) {\n    const position = dynamicsParams.position || vec3.create();\n    const momentum = dynamicsParams.momentum || vec3.create();\n    const orientation = dynamicsParams.orientation || quat.create();\n    const angularMomentum = dynamicsParams.angularMomentum || vec3.create();\n    const mass = dynamicsParams.mass || 1;\n    const unrotatedInertiaTensor = dynamicsParams.unrotatedInertiaTensor || createBoxInertiaTensor(1, 1, 1, mass);\n\n    // Constant fields.\n\n    this.mass = mass;\n    this.inverseMass = 1 / mass;\n    this.unrotatedInertiaTensor = unrotatedInertiaTensor;\n\n    // Independent fields.\n\n    this.position = position;\n    this.momentum = momentum;\n    this.orientation = orientation;\n    this.angularMomentum = angularMomentum;\n\n    // Dependent fields.\n\n    // Linear velocity.\n    this.velocity = vec3.create();\n    // Quaternion-based representation of the rate of change in orientation.\n    this.spin = quat.create();\n    // Vector-based representation of the angular velocity.\n    this.angularVelocity = vec3.create();\n    // The inverse inertia tensor rotated to the world coordinate frame.\n    this.inverseInertiaTensor = mat3.create();\n\n    this.updateDependentFields();\n  }\n\n  updateDependentFields() {// TODO: Test this somehow...\n    // Update linear velocity.\n    vec3.scale(this.velocity, this.momentum, this.inverseMass);\n\n    // Update angular velocity.\n    quat.normalize(this.orientation, this.orientation);\n    rotateTensor(this.inverseInertiaTensor, this.unrotatedInertiaTensor, this.orientation);\n    mat3.invert(this.inverseInertiaTensor, this.unrotatedInertiaTensor);\n    vec3.transformMat3(this.angularVelocity, this.angularMomentum, this.inverseInertiaTensor);\n    quat.set(this.spin, this.angularVelocity[0], this.angularVelocity[1],\n        this.angularVelocity[2], 0);\n    quat.scale(this.spin, this.spin, 0.5);\n    quat.multiply(this.spin, this.spin, this.orientation);\n  }\n\n  /**\n   * Perform a deep copy.\n   *\n   * @param {PhysicsState} other\n   */\n  copy(other) {\n    this.mass = other.mass;\n    this.inverseMass = other.inverseMass;\n    mat3.copy(this.unrotatedInertiaTensor, other.unrotatedInertiaTensor);\n    mat3.copy(this.inverseInertiaTensor, other.inverseInertiaTensor);\n    vec3.copy(this.position, other.position);\n    vec3.copy(this.momentum, other.momentum);\n    quat.copy(this.orientation, other.orientation);\n    vec3.copy(this.angularMomentum, other.angularMomentum);\n    vec3.copy(this.velocity, other.velocity);\n    quat.copy(this.spin, other.spin);\n    vec3.copy(this.angularVelocity, other.angularVelocity);\n  }\n\n  /**\n   * @param {PhysicsState} a\n   * @param {PhysicsState} b\n   * @param {number} partialRatio\n   */\n  lerp(a, b, partialRatio) {\n    vec3.lerp(this.position, a.position, b.position, partialRatio);\n    vec3.lerp(this.momentum, a.momentum, b.momentum, partialRatio);\n    quat.slerp(this.orientation, a.orientation, b.orientation, partialRatio);\n    quat.normalize(this.orientation, this.orientation);\n    vec3.lerp(this.angularMomentum, a.angularMomentum, b.angularMomentum, partialRatio);\n    this.updateDependentFields();\n  }\n}\n\nexport {PhysicsState};\n\n/**\n * @typedef {Object} DynamicsConfig\n * @property {vec3} [position]\n * @property {vec3} [momentum]\n * @property {quat} [orientation]\n * @property {vec3} [angularMomentum]\n * @property {number} [mass]\n * @property {mat3} [unrotatedInertiaTensor]\n */\n","export * from './src/force-utils';\nexport * from './src/geometry';\nexport * from './src/inertia-tensor-utils';\nexport * from './src/util';\n","/**\n * This module defines a collection of static general utility functions for calculating forces.\n */\n\n/**\n * @param {GravityApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyGravity(config, output, input) {\n  vec3.scaleAndAdd(output.force, output.force, config._gravityVec, input.state.mass);\n}\n\n/**\n * @param {LinearDragApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyLinearDrag(config, output, input) {\n  const dragMagnitude = -vec3.squaredLength(input.state.velocity) * config.linearDragCoefficient;\n  vec3.normalize(_vec3, input.state.velocity);\n  vec3.scaleAndAdd(output.force, output.force, _vec3, dragMagnitude);\n}\n\n/**\n * @param {AngularDragApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyAngularDrag(config, output, input) {\n  vec3.scaleAndAdd(output.torque, output.torque, input.state.angularVelocity,\n      config.angularDragCoefficient);\n}\n\n/**\n * Applies a simple linear spring force (using Hooke's law).\n *\n * force = displacement * coefficient\n *\n * @param {LinearSpringForceApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyLinearSpringForce(config, output, input) {\n  vec3.subtract(_vec3, config.getIntendedPosition(), input.state.position);\n  vec3.scaleAndAdd(output.force, output.force, _vec3, config.springCoefficient);\n}\n\n/**\n * @param {SpringDampingApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applySpringDamping(config, output, input) {\n  vec3.scale(_vec3, input.state.velocity, -config.dampingCoefficient);\n  vec3.add(output.force, output.force, _vec3);\n}\n\nconst _vec3 = vec3.create();\n\nexport {\n  applyAngularDrag,\n  applyGravity,\n  applyLinearDrag,\n  applyLinearSpringForce,\n  applySpringDamping,\n}\n\n/**\n * @typedef {Object} GravityApplierConfig\n * @property {vec3} _gravityVec\n */\n\n/**\n * @typedef {Object} LinearDragApplierConfig\n * @property {number} linearDragCoefficient\n */\n\n/**\n * @typedef {Object} AngularDragApplierConfig\n * @property {number} angularDragCoefficient\n */\n\n/**\n * @typedef {Object} LinearSpringForceApplierConfig\n * @property {number} springCoefficient\n * @property {Function.<vec3>} getIntendedPosition\n */\n\n/**\n * @typedef {Object} SpringDampingApplierConfig\n * @property {number} dampingCoefficient\n */\n","/**\n * This module defines a collection of static geometry utility functions.\n */\n\nconst EPSILON = 0.0000001;\nconst HALF_PI = Math.PI / 2;\nconst TWO_PI = Math.PI * 2;\n\n/**\n * Finds the minimum squared distance between two line segments.\n *\n * @param {LineSegment} segmentA\n * @param {LineSegment} segmentB\n * @returns {number}\n */\nfunction findSquaredDistanceBetweenSegments(segmentA, segmentB) {\n  findClosestPointsFromSegmentToSegment(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB,\n      segmentA, segmentB);\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB);\n}\n\n/**\n * Finds the minimum squared distance between a line segment and a point.\n *\n * @param {LineSegment} segment\n * @param {vec3} point\n * @returns {number}\n */\nfunction findSquaredDistanceFromSegmentToPoint(segment, point) {\n  findClosestPointOnSegmentToPoint(_segmentDistance_tmpVecA, segment, point);\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, point);\n}\n\nconst _segmentDistance_tmpVecA = vec3.create();\nconst _segmentDistance_tmpVecB = vec3.create();\n\n/**\n * @param {vec3} outputPoint Output parameter.\n * @param {Aabb} aabb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint) {\n  outputPoint[0] = aabb.minX > targetPoint[0]\n      ? aabb.minX\n      : aabb.maxX < targetPoint[0]\n          ? aabb.maxX\n          : targetPoint[0];\n  outputPoint[1] = aabb.minY > targetPoint[1]\n      ? aabb.minY\n      : aabb.maxY < targetPoint[1]\n          ? aabb.maxY\n          : targetPoint[1];\n  outputPoint[2] = aabb.minZ > targetPoint[2]\n      ? aabb.minZ\n      : aabb.maxZ < targetPoint[2]\n          ? aabb.maxZ\n          : targetPoint[2];\n}\n\n/**\n * @param {vec3} outputPoint Output parameter.\n * @param {Aabb} aabb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromAabbSurfaceToPoint(outputPoint, aabb, targetPoint) {\n  findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint);\n\n  // If the calculated point lies within the AABB, then we need to adjust one coordinate to lie\n  // along the edge of the AABB.\n  if (aabbVsPoint(aabb, outputPoint)) {\n    // Calculate the closest vertex.\n    _tmpVec1[0] = targetPoint[0] - aabb.minX < aabb.maxX - targetPoint[0]\n        ? aabb.minX\n        : aabb.maxX;\n    _tmpVec1[1] = targetPoint[1] - aabb.minY < aabb.maxY - targetPoint[1]\n        ? aabb.minY\n        : aabb.maxY;\n    _tmpVec1[2] = targetPoint[2] - aabb.minZ < aabb.maxZ - targetPoint[2]\n        ? aabb.minZ\n        : aabb.maxZ;\n\n    // Calculate the distance to the vertex along each dimension.\n    _tmpVec2[0] = _tmpVec1[0] - outputPoint[0];\n    _tmpVec2[0] = _tmpVec2[0] < 0 ? -_tmpVec2[0] : _tmpVec2[0];\n    _tmpVec2[1] = _tmpVec1[1] - outputPoint[1];\n    _tmpVec2[1] = _tmpVec2[1] < 1 ? -_tmpVec2[1] : _tmpVec2[1];\n    _tmpVec2[2] = _tmpVec1[2] - outputPoint[2];\n    _tmpVec2[2] = _tmpVec2[2] < 2 ? -_tmpVec2[2] : _tmpVec2[2];\n\n    // Determine along which dimension the point is closest to the AABB.\n    const index = _tmpVec2[0] < _tmpVec2[1]\n        ? (_tmpVec2[0] < _tmpVec2[2]\n            ? 0\n            : 2)\n        : (_tmpVec2[1] < _tmpVec2[2]\n            ? 1\n            : 2);\n\n    outputPoint[index] = _tmpVec1[index];\n  }\n}\n\n/**\n * Finds the point of intersection between a line segment and a coplanar quadrilateral.\n *\n * This assumes the region is not degenerate (has non-zero side lengths).\n *\n * @param {vec3} poi Output param. Null if there is no intersection.\n * @param {LineSegment} segment\n * @param {vec3} planeVertex1\n * @param {vec3} planeVertex2\n * @param {vec3} planeVertex3\n * @param {vec3} planeVertex4\n * @returns {boolean} True if there is an intersection.\n */\nfunction findPoiBetweenSegmentAndPlaneRegion(poi, segment, planeVertex1, planeVertex2, planeVertex3,\n                                             planeVertex4) {\n  return findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex2, planeVertex3) ||\n      findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex3, planeVertex4);\n}\n\n/**\n * Finds the point of intersection between a line segment and a triangle.\n *\n * This assumes the triangle is not degenerate (has non-zero side lengths).\n *\n * ----------------------------------------------------------------------------\n * Originally based on Dan Sunday's algorithms at http://geomalgorithms.com/a06-_intersect-2.html.\n *\n * Copyright 2001 softSurfer, 2012 Dan Sunday\n * This code may be freely used and modified for any purpose\n * providing that this copyright notice is included with it.\n * SoftSurfer makes no warranty for this code, and cannot be held\n * liable for any real or imagined damage resulting from its use.\n * Users of this code must verify correctness for their application.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} poi Output param. Null if there is no intersection.\n * @param {LineSegment} segment\n * @param {vec3} triangleVertex1\n * @param {vec3} triangleVertex2\n * @param {vec3} triangleVertex3\n * @returns {boolean} True if there is an intersection.\n */\nfunction findPoiBetweenSegmentAndTriangle(poi, segment, triangleVertex1, triangleVertex2,\n                                          triangleVertex3) {\n  //\n  // Find the point of intersection between the segment and the triangle's plane.\n  //\n\n  // First triangle edge.\n  vec3.subtract(_tmpVec1, triangleVertex2, triangleVertex1);\n  // Second triangle edge.\n  vec3.subtract(_tmpVec2, triangleVertex3, triangleVertex1);\n  // Triangle normal.\n  vec3.cross(_tmpVec3, _tmpVec1, _tmpVec2);\n  // Triangle to segment.\n  vec3.subtract(_tmpVec4, segment.start, triangleVertex1);\n\n  const normalToSegmentProj = vec3.dot(_tmpVec3, segment.dir);\n\n  if (normalToSegmentProj < EPSILON && normalToSegmentProj > -EPSILON) {\n    // The line segment is parallel to the triangle.\n    return false;\n  }\n\n  const normalToDiffProj = -vec3.dot(_tmpVec3, _tmpVec4);\n  const segmentNormalizedDistance = normalToDiffProj / normalToSegmentProj;\n\n  if (segmentNormalizedDistance < 0 || segmentNormalizedDistance > 1) {\n    // The line segment ends before intersecting the plane.\n    return false;\n  }\n\n  vec3.scaleAndAdd(poi, segment.start, segment.dir, segmentNormalizedDistance);\n\n  //\n  // Determine whether the point of intersection lies within the triangle.\n  //\n\n  const edge1DotEdge1 = vec3.dot(_tmpVec1, _tmpVec1);\n  const edge1DotEdge2 = vec3.dot(_tmpVec1, _tmpVec2);\n  const edge2DotEdge2 = vec3.dot(_tmpVec2, _tmpVec2);\n  // Triangle to point of intersection.\n  vec3.subtract(_tmpVec3, poi, triangleVertex1);\n  const diffDotEdge1 = vec3.dot(_tmpVec3, _tmpVec1);\n  const diffDotEdge2 = vec3.dot(_tmpVec3, _tmpVec2);\n  const denominator = edge1DotEdge2 * edge1DotEdge2 - edge1DotEdge1 * edge2DotEdge2;\n\n  // Check the triangle's parametric coordinates.\n  const s = (edge1DotEdge2 * diffDotEdge2 - edge2DotEdge2 * diffDotEdge1) / denominator;\n  if (s < 0 || s > 1) {\n    return false;\n  }\n  const t = (edge1DotEdge2 * diffDotEdge1 - edge1DotEdge1 * diffDotEdge2) / denominator;\n  if (t < 0 || s + t > 1) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/1093e39d91def7ff6905fb7489893190d7d81353/src/Geometry/OBB.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} outputPoint Output parameter.\n * @param {Obb} obb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromObbToPoint(outputPoint, obb, targetPoint) {\n  vec3.subtract(_tmpVec1, targetPoint, obb.centerOfVolume);\n  vec3.copy(outputPoint, obb.centerOfVolume);\n  for (let i = 0; i < 3; i++) {\n    // Compute the displacement along this axis.\n    let projection = vec3.dot(obb.axes[i], _tmpVec1);\n    projection = projection > obb.halfSideLengths[i] ? obb.halfSideLengths[i] :\n        (projection < -obb.halfSideLengths[i] ? -obb.halfSideLengths[i] : projection);\n    vec3.scaleAndAdd(outputPoint, outputPoint, obb.axes[i], projection);\n  }\n}\n\n/**\n * Finds the closest position on one line segment to the other line segment, and vice versa.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} closestA Output param.\n * @param {vec3} closestB Output param.\n * @param {LineSegment} segmentA\n * @param {LineSegment} segmentB\n */\nfunction findClosestPointsFromSegmentToSegment(closestA, closestB, segmentA, segmentB) {\n  const {distA, distB} = findClosestPointsFromLineToLine(\n      segmentA.start, segmentA.dir, segmentB.start, segmentB.dir);\n\n  const isDistAInBounds = distA >= 0 && distA <= 1;\n  const isDistBInBounds = distB >= 0 && distB <= 1;\n\n  if (isDistAInBounds) {\n    if (isDistBInBounds) {\n      // The distances along both line segments are within bounds.\n      vec3.scaleAndAdd(closestA, segmentA.start, segmentA.dir, distA);\n      vec3.scaleAndAdd(closestB, segmentB.start, segmentB.dir, distB);\n    } else {\n      // Only the distance along the first line segment is within bounds.\n      if (distB < 0) {\n        vec3.copy(closestB, segmentB.start);\n      } else {\n        vec3.copy(closestB, segmentB.end);\n      }\n      findClosestPointOnSegmentToPoint(closestA, segmentA, closestB);\n    }\n  } else {\n    if (isDistBInBounds) {\n      // Only the distance along the second line segment is within bounds.\n      if (distA < 0) {\n        vec3.copy(closestA, segmentA.start);\n      } else {\n        vec3.copy(closestA, segmentA.end);\n      }\n      findClosestPointOnSegmentToPoint(closestB, segmentB, closestA);\n    } else {\n      // Neither of the distances along either line segment are within bounds.\n      if (distA < 0) {\n        vec3.copy(closestA, segmentA.start);\n      } else {\n        vec3.copy(closestA, segmentA.end);\n      }\n\n      if (distB < 0) {\n        vec3.copy(closestB, segmentB.start);\n      } else {\n        vec3.copy(closestB, segmentB.end);\n      }\n\n      const altClosestA = vec3.create();\n      const altClosestB = vec3.create();\n\n      findClosestPointOnSegmentToPoint(altClosestA, segmentA, closestB);\n      findClosestPointOnSegmentToPoint(altClosestB, segmentB, closestA);\n\n      if (vec3.squaredDistance(altClosestA, closestB) <\n          vec3.squaredDistance(altClosestB, closestA)) {\n        vec3.copy(closestA, altClosestA);\n      } else {\n        vec3.copy(closestB, altClosestB);\n      }\n    }\n  }\n}\n\n/**\n * Finds the closest position on a line segment to a point.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} closestPoint Output param.\n * @param {LineSegment} segment\n * @param {vec3} point\n * @private\n */\nfunction findClosestPointOnSegmentToPoint(closestPoint, segment, point) {\n  const dirSquaredLength = vec3.squaredLength(segment.dir);\n\n  if (!dirSquaredLength) {\n    // The point is at the segment start.\n    vec3.copy(closestPoint, segment.start);\n  } else {\n    // Calculate the projection of the point onto the line extending through the segment.\n    vec3.subtract(_tmpVec1, point, segment.start);\n    const t = vec3.dot(_tmpVec1, segment.dir) / dirSquaredLength;\n\n    if (t < 0) {\n      // The point projects beyond the segment start.\n      vec3.copy(closestPoint, segment.start);\n    } else if (t > 1) {\n      // The point projects beyond the segment end.\n      vec3.copy(closestPoint, segment.end);\n    } else {\n      // The point projects between the start and end of the segment.\n      vec3.scaleAndAdd(closestPoint, segment.start, segment.dir, t);\n    }\n  }\n}\n\n/**\n * Finds the closest position on one line to the other line, and vice versa.\n *\n * The positions are represented as scalar-value distances from the \"start\" positions of each line.\n * These are scaled according to the given direction vectors.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/Line.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} startA The start position of line A.\n * @param {vec3} dirA The (unnormalized) direction of line A. Cannot be zero.\n * @param {vec3} startB The start position of line B.\n * @param {vec3} dirB The (unnormalized) direction of line B. Cannot be zero.\n * @returns {{distA: Number, distB: Number}}\n */\nfunction findClosestPointsFromLineToLine(startA, dirA, startB, dirB) {\n  vec3.subtract(_tmpVec1, startA, startB);\n  const dirBDotDirAToB = vec3.dot(dirB, _tmpVec1);\n  const dirADotDirAToB = vec3.dot(dirA, _tmpVec1);\n\n  const sqrLenDirB = vec3.squaredLength(dirB);\n  const sqrLenDirA = vec3.squaredLength(dirA);\n\n  const dirADotDirB = vec3.dot(dirA, dirB);\n\n  const denominator = sqrLenDirA * sqrLenDirB - dirADotDirB * dirADotDirB;\n\n  const distA = denominator < EPSILON\n      ? 0\n      : (dirADotDirB * dirBDotDirAToB - sqrLenDirB * dirADotDirAToB) / denominator;\n  const distB = (dirBDotDirAToB + dirADotDirB * distA) / sqrLenDirB;\n\n  return {\n    distA: distA,\n    distB: distB\n  };\n}\n\n/**\n * A good description of why we need these special operations for rotating tensors can be found\n * here: http://www.randygaul.net/2014/04/09/transformations-change-of-basis-matrix/.\n *\n * @param {mat3} output Output param.\n * @param {mat3} tensor\n * @param {quat} rotation\n */\nfunction rotateTensor(output, tensor, rotation) {// TODO: Test this somehow...\n  mat3.fromQuat(_tmpMat, rotation);\n  mat3.multiply(output, _tmpMat, tensor);\n  mat3.invert(_tmpMat, _tmpMat);\n  mat3.multiply(output, output, _tmpMat);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction aabbVsPoint(aabb, point) {\n  return point[0] >= aabb.minX && point[0] <= aabb.maxX &&\n      point[1] >= aabb.minY && point[1] <= aabb.maxY &&\n      point[2] >= aabb.minZ && point[2] <= aabb.maxZ\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {number} scale\n * @returns {quat}\n */\nfunction scaleAndAddQuat(out, a, b, scale) {\n  return quat.set(out,\n      a[0] + b[0] * scale,\n      a[1] + b[1] * scale,\n      a[2] + b[2] * scale,\n      a[3] + b[3] * scale);\n}\n\n/**\n * @param {vec3} a\n * @param {vec3} b\n * @returns {boolean}\n */\nfunction areVec3sClose(a, b) {\n  for (let i = 0; i < 3; i++) {\n    if (a[i] - b[i] > EPSILON || b[i] - a[i] > EPSILON) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Re-used across the geometry utility functions, so we don't instantiate as many vec3 objects.\nconst _tmpVec1 = vec3.create();\nconst _tmpVec2 = vec3.create();\nconst _tmpVec3 = vec3.create();\nconst _tmpVec4 = vec3.create();\nconst _tmpMat = mat3.create();\n\n// Exposed to consumers, so they don't have to instantiate as many vec3 objects.\nconst tmpVec1 = vec3.create();\nconst tmpVec2 = vec3.create();\nconst tmpVec3 = vec3.create();\nconst tmpVec4 = vec3.create();\n\nconst _geometry = {\n  EPSILON,\n  HALF_PI,\n  TWO_PI,\n  scaleAndAddQuat,\n};\n\nexport {\n  _geometry,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4,\n  findSquaredDistanceBetweenSegments,\n  findSquaredDistanceFromSegmentToPoint,\n  findClosestPointFromAabbToPoint,\n  findClosestPointFromAabbSurfaceToPoint,\n  findPoiBetweenSegmentAndTriangle,\n  findPoiBetweenSegmentAndPlaneRegion,\n  findClosestPointFromObbToPoint,\n  findClosestPointsFromSegmentToSegment,\n  findClosestPointOnSegmentToPoint,\n  findClosestPointsFromLineToLine,\n  rotateTensor,\n  aabbVsPoint,\n  areVec3sClose,\n};\n","/**\n * This module defines a collection of static utility functions for calculating inertia tensors.\n */\n\nimport {_geometry, rotateTensor} from './geometry';\n\n/**\n * @param {number} radius\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createSphereInertiaTensor(radius, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n  const moment = 2 / 5 * mass * radius * radius;\n  tensor[0] = moment;\n  tensor[4] = moment;\n  tensor[8] = moment;\n  return tensor;\n}\n\n/**\n * @param {number} rangeX\n * @param {number} rangeY\n * @param {number} rangeZ\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createBoxInertiaTensor(rangeX, rangeY, rangeZ, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n  const tmp = mass / 12;\n  const xRangeSquared = rangeX * rangeX;\n  const yRangeSquared = rangeY * rangeY;\n  const zRangeSquared = rangeZ * rangeZ;\n  tensor[0] = tmp * (yRangeSquared + zRangeSquared);\n  tensor[4] = tmp * (xRangeSquared + yRangeSquared);\n  tensor[8] = tmp * (xRangeSquared + zRangeSquared);\n  return tensor;\n}\n\n/**\n * ----------------------------------------------------------------------------\n * Originally based on Bojan Lovrovic's algorithm at\n * http://www.gamedev.net/page/resources/_/technical/math-and-physics/capsule-inertia-tensor-r3856.\n *\n * Copyright 2014 Bojan Lovrovic\n *\n * GameDev.net Open License\n * (http://www.gamedev.net/page/resources/_/gdnethelp/gamedevnet-open-license-r2956)\n *\n * TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n *\n * 1. Definitions.\n *\n * \"Article\" shall refer to any body of text written by Author which describes and documents the use\n * and/or operation of Source. It specifically does not refer to any accompanying Source either\n * embedded within the body of text or attached to the article as a file.\n *\n * \"Author\" means the individual or entity that offers the Work under the terms of this License.\n *\n * \"License\" shall mean the terms and conditions for use, reproduction, and distribution as defined\n * by Sections 1 through 9 of this document.\n *\n * \"Licensor\" shall mean the copyright owner or entity authorized by the copyright owner that is\n * granting the License.\n *\n * \"You\" (or \"Your\") shall mean an individual or entity exercising permissions granted by this\n * License.\n *\n * \"Source\" shall include all software text source code and configuration files used to create\n * executable software\n *\n * \"Object\" shall mean any Source which has been converted into a machine executable software\n *\n * \"Work\" consists of both the Article and Source\n *\n * \"Publisher\" refers to GameDev.net LLC\n *\n * This agreement is between You and Author, the owner and creator of the Work located at\n * Gamedev.net.\n *\n * 2. Fair Dealing Rights.\n *\n * Nothing in this License is intended to reduce, limit, or restrict any uses free from copyright or\n * rights arising from limitations or exceptions that are provided for in connection with the\n * copyright protection under copyright law or other applicable laws.\n *\n * 3. Grant of Copyright License.\n *\n * Subject to the terms and conditions of this License, the Author hereby grants to You a perpetual,\n * worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to the Work\n * under the following stated terms:\n * You may not reproduce the Article on any other website outside of Gamedev.net without express\n * written permission from the Author\n * You may use, copy, link, modify and distribute under Your own terms, binary Object code versions\n * based on the Work in your own software\n * You may reproduce, prepare derivative Works of, publicly display, publicly perform, sublicense,\n * and distribute the Source and such derivative Source in Source form only as part of a larger\n * software distribution and provided that attribution to the original Author is granted.\n * The origin of this Work must not be misrepresented; you must not claim that you wrote the\n * original Source. If you use this Source in a product, an acknowledgment of the Author name would\n * be appreciated but is not required.\n *\n * 4. Restrictions.\n *\n * The license granted in Section 3 above is expressly made subject to and limited by the following\n * restrictions:\n * Altered Source versions must be plainly marked as such, and must not be misrepresented as being\n * the original software.\n * This License must be visibly linked to from any online distribution of the Article by URI and\n * using the descriptive text \"Licensed under the GameDev.net Open License\"\n * Neither the name of the Author of this Work, nor any of their trademarks or service marks, may be\n * used to endorse or promote products derived from this Work without express prior permission of\n * the Author\n * Except as expressly stated herein, nothing in this License grants any license to Author's\n * trademarks, copyrights, patents, trade secrets or any other intellectual property. No license is\n * granted to the trademarks of Author even if such marks are included in the Work. Nothing in this\n * License shall be interpreted to prohibit Author from licensing under terms different from this\n * License any Work that Author otherwise would have a right to license.\n *\n * 5. Grant of Patent License.\n *\n * Subject to the terms and conditions of this License, each Contributor hereby grants to You a\n * perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in\n * this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise\n * transfer the Work, where such license applies only to those patent claims licensable by such\n * Contributor that are necessarily infringed by their Contribution(s) alone or by combination of\n * their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute\n * patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit)\n * alleging that the Work or Source incorporated within the Work constitutes direct or contributory\n * patent infringement, then any patent licenses granted to You under this License for that Work\n * shall terminate as of the date such litigation is filed.\n *\n * 6. Limitation of Liability.\n *\n * In no event and under no legal theory, whether in tort (including negligence), contract, or\n * otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or\n * agreed to in writing, shall any Author or Publisher be liable to You for damages, including any\n * direct, indirect, special, incidental, or consequential damages of any character arising as a\n * result of this License or out of the use or inability to use the Work (including but not limited\n * to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all\n * other commercial damages or losses), even if such Author has been advised of the possibility of\n * such damages.\n *\n * 7. DISCLAIMER OF WARRANTY\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\n * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * 8. Publisher.\n *\n * The parties hereby confirm that the Publisher shall not, under any circumstances, be responsible\n * for and shall not have any liability in respect of the subject matter of this License. The\n * Publisher makes no warranty whatsoever in connection with the Work and shall not be liable to You\n * or any party on any legal theory for any damages whatsoever, including without limitation any\n * general, special, incidental or consequential damages arising in connection to this license. The\n * Publisher reserves the right to cease making the Work available to You at any time without notice\n *\n * 9. Termination\n *\n * This License and the rights granted hereunder will terminate automatically upon any breach by You\n * of the terms of this License. Individuals or entities who have received Deriviative Works from\n * You under this License, however, will not have their licenses terminated provided such\n * individuals or entities remain in full compliance with those licenses. Sections 1, 2, 6, 7, 8 and\n * 9 will survive any termination of this License.\n * Subject to the above terms and conditions, the license granted here is perpetual (for the\n * duration of the applicable copyright in the Work). Notwithstanding the above, Licensor reserves\n * the right to release the Work under different license terms or to stop distributing the Work at\n * any time; provided, however that any such election will not serve to withdraw this License (or\n * any other license that has been, or is required to be, granted under the terms of this License),\n * and this License will continue in full force and effect unless terminated as stated above.\n * ----------------------------------------------------------------------------\n *\n * @param {number} halfDistance\n * @param {number} radius\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createCapsuleInertiaTensor(halfDistance, radius, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n\n  const cylinderHeight = halfDistance * 2;\n  const radiusSquared = radius * radius;\n  const cylinderVolume = Math.PI * radiusSquared * cylinderHeight;\n  const hemisphereCombinedVolume = 4 / 3 * Math.PI * radiusSquared;\n  const cylinderMass = cylinderVolume / (cylinderVolume * hemisphereCombinedVolume) * mass;\n  const hemisphereMass = (mass - cylinderMass) / 2;\n\n  // Contribution from the cylinder.\n  tensor[4] = radiusSquared * cylinderMass / 2;\n  tensor[0] = tensor[4] / 2 + cylinderMass * cylinderHeight * cylinderHeight / 12;\n  tensor[8] = tensor[0];\n\n  // Contributions from the hemispheres.\n  const tmp1 = hemisphereMass * 2 * radiusSquared / 5;\n  tensor[4] += tmp1 * 2;\n  const tmp2 =\n      (tmp1 + hemisphereMass * (halfDistance * halfDistance + 3 / 8 * cylinderHeight * radius)) * 2;\n  tensor[0] += tmp2;\n  tensor[8] += tmp2;\n\n  // The above calculations assume the capsule is aligned along the y-axis. However, our default\n  // capsule orientation is aligned along the z-axis.\n  const rotation = quat.create();\n  quat.rotateX(rotation, rotation, _geometry.HALF_PI);\n  rotateTensor(tensor, tensor, rotation);\n\n  return tensor;\n}\n\n/**\n * @param {Collidable} collidable\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createForCollidable(collidable, mass) {\n  switch (collidable.constructor.name) {\n    case 'Sphere':\n      return createSphereInertiaTensor(collidable.radius, mass);\n    case 'Aabb':\n      return createBoxInertiaTensor(collidable.rangeX, collidable.rangeY, collidable.rangeZ, mass);\n    case 'Capsule':\n      return createCapsuleInertiaTensor(collidable.halfDistance, collidable.radius, mass);\n    case 'Obb':\n      return createBoxInertiaTensor(collidable.halfSideLengths[0] * 2,\n          collidable.halfSideLengths[1] * 2, collidable.halfSideLengths[2] * 2, mass);\n  }\n}\n\nexport {\n  createSphereInertiaTensor,\n  createBoxInertiaTensor,\n  createCapsuleInertiaTensor,\n  createForCollidable,\n};\n","/**\n * This module defines a collection of static general utility functions.\n */\n\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\nconst isInDevMode = true;\n\nconst _util = {\n  isInDevMode: isInDevMode\n};\n\nexport {\n  _util,\n};\n","export * from './src/camera';\r\nexport * from './src/first-person-camera';\r\nexport * from './src/fixed-camera';\r\nexport * from './src/fixed-follow-camera';\r\nexport * from './src/follow-camera';\r\nexport * from './src/third-person-camera';\r\nexport * from './src/overhead-camera';\r\n","import { PersistentAnimationJob } from 'lsl-animatex';\r\n\r\n// TODO: Make the rotation quaternion based with 6DoF.\r\n\r\n// TODO: Add support for scripting the camera to follow a curve:\r\n// (https://msdn.microsoft.com/en-us/library/bb203908(v=xnagamestudio.31).aspx)\r\n\r\n/**\r\n * This class defines common camera logic.\r\n *\r\n * @abstract\r\n */\r\nclass Camera extends PersistentAnimationJob {\r\n  /**\r\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\r\n   * the old camera. This enables a smooth transition when changing cameras.\r\n   *\r\n   * @param {CameraConfig} cameraParams\r\n   * @param {Camera} [oldCamera]\r\n   */\r\n  constructor(cameraParams, oldCamera) {\r\n    super();\r\n\r\n    // Camera is an abstract class. It should not be instantiated directly.\r\n    if (new.target === Camera) {\r\n      throw new TypeError('Cannot construct Camera instances directly');\r\n    }\r\n\r\n    this._cameraParams = cameraParams;\r\n    this._fovY = null;\r\n    this._aspectRatio = null;\r\n    this._zNear = null;\r\n    this._zFar = null;\r\n    this._position = vec3.create();\r\n    this._orientation = quat.create(); // TODO: Use this.\r\n    this._viewMatrix = mat4.create();\r\n    this._projectionMatrix = mat4.create();\r\n    this._viewProjectionMatrix = mat4.create();\r\n\r\n    this._matchOldCamera(oldCamera);\r\n  }\r\n\r\n  reset() {\r\n    this._setPerspective(this._cameraParams.fovY, this._cameraParams.defaultAspectRatio,\r\n      this._cameraParams._zNear, this._cameraParams._zFar);\r\n  }\r\n\r\n  // TODO: Call this after adding support for dynamically switching cameras.\r\n  destroy() {}\r\n\r\n  /**\r\n   * Set this camera's orientation and position.\r\n   *\r\n   * @param {vec3} eye The camera position.\r\n   * @param {vec3} target The focal point.\r\n   * @param {vec3} up The local up direction.\r\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\r\n   * @protected\r\n   */\r\n  _setPositionAndLookAt(eye, target, up, viewDirection) {\r\n    vec3.copy(this._position, eye);\r\n    this._setLookAtFromCurrentPosition(target, up, viewDirection);\r\n  }\r\n\r\n  /**\r\n   * Set this camera's orientation, but do not change its position.\r\n   *\r\n   * @param {vec3} target The focal point.\r\n   * @param {vec3} up The local up direction.\r\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\r\n   * @protected\r\n   */\r\n  _setLookAtFromCurrentPosition(target, up, viewDirection) {\r\n    mat4.lookAt(this._viewMatrix, this._position, target, up);\r\n    quat.rotationTo(this._orientation, this._cameraParams._defaultLookAtDirection, viewDirection); // TODO: Check this; might need to swap arguments.\r\n    this._updateViewProjectionMatrix();\r\n  }\r\n\r\n  /**\r\n   * Translate this camera by the given amount from its current position.\r\n   *\r\n   * @param {vec3} translation\r\n   * @protected\r\n   */\r\n  _translate(translation) {\r\n    vec3.add(this._position, this._position, translation);\r\n  }\r\n\r\n  /**\r\n   * Rotate this camera by the given amount from its current orientation.\r\n   *\r\n   * @param {quat} rotation\r\n   * @protected\r\n   */\r\n  _rotate(rotation) {\r\n    // TODO\r\n  }\r\n\r\n  /**\r\n   * @param {number} fovY In radians.\r\n   * @param {number} aspectRatio Width / height.\r\n   * @param {number} zNear\r\n   * @param {number} zFar\r\n   * @protected\r\n   */\r\n  _setPerspective(fovY, aspectRatio, zNear, zFar) {\r\n    this._fovY = fovY;\r\n    this._aspectRatio = aspectRatio;\r\n    this._zNear = zNear;\r\n    this._zFar = zFar;\r\n    this._updateProjectionMatrix();\r\n  }\r\n\r\n  /**\r\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\r\n   * projection matrices is updated.\r\n   *\r\n   * @protected\r\n   */\r\n  _updateProjectionMatrix() {\r\n    mat4.perspective(\r\n      this._projectionMatrix, this._fovY, this._aspectRatio, this._zNear, this._zFar);\r\n    this._updateViewProjectionMatrix();\r\n  }\r\n\r\n  /**\r\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\r\n   * projection matrices is updated.\r\n   *\r\n   * @protected\r\n   */\r\n  _updateViewProjectionMatrix() {\r\n    mat4.multiply(this._viewProjectionMatrix, this._projectionMatrix, this._viewMatrix);\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   * @abstract\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  draw() {}\r\n\r\n  /**\r\n   * @param {number} fovY The vertical field of view, in radians.\r\n   * @protected\r\n   */\r\n  set fov(fovY) {\r\n    this._fovY = fovY;\r\n    this._updateProjectionMatrix();\r\n  }\r\n\r\n  /**\r\n   * @param {number} aspectRatio Width / height.\r\n   */\r\n  set aspectRatio(aspectRatio) {\r\n    this._setPerspective(this._cameraParams.fovY, aspectRatio, this._cameraParams._zNear,\r\n      this._cameraParams._zFar);\r\n  }\r\n\r\n  /** @returns {vec3} */\r\n  get position() {\r\n    return this._position;\r\n  }\r\n  /** @returns {quat} */\r\n  get orientation() {\r\n    return this._orientation;\r\n  }\r\n  /** @returns {mat4} */\r\n  get viewMatrix() {\r\n    return this._viewMatrix;\r\n  }\r\n  /** @returns {mat4} */\r\n  get projectionMatrix() {\r\n    return this._projectionMatrix;\r\n  }\r\n  /** @returns {mat4} */\r\n  get viewProjectionMatrix() { // TODO: Stop using the above two getters and use this instead?\r\n    return this._viewProjectionMatrix;\r\n  }\r\n\r\n  /**\r\n   * Update this camera's state to match the given old camera.\r\n   *\r\n   * @param {Camera} oldCamera\r\n   * @protected\r\n   */\r\n  _matchOldCamera(oldCamera) {\r\n    if (!oldCamera) {\r\n      return;\r\n    }\r\n    this._fovY = oldCamera._fovY;\r\n    this._aspectRatio = oldCamera._aspectRatio;\r\n    this._zNear = oldCamera._zNear;\r\n    this._zFar = oldCamera._zFar;\r\n    vec3.copy(this._position, oldCamera._position);\r\n    vec3.copy(this._orientation, oldCamera._orientation);\r\n    mat4.copy(this._viewMatrix, oldCamera._viewMatrix);\r\n    mat4.copy(this._projectionMatrix, oldCamera._projectionMatrix);\r\n    mat4.copy(this._viewProjectionMatrix, oldCamera._viewProjectionMatrix);\r\n  }\r\n}\r\n\r\nexport { Camera };\r\n\r\n/**\r\n * @typedef {Function} CameraConfig\r\n * @property {number} fovY\r\n * @property {number} defaultAspectRatio\r\n * @property {number} _zNear\r\n * @property {number} _zFar\r\n * @property {vec3} _defaultLookAtDirection\r\n */\r\n\r\n/**\r\n * @typedef {Object} FollowCameraConfig\r\n * @property {number} springCoefficient\r\n * @property {number} dampingCoefficient\r\n * @property {number} intendedDistanceFromTarget\r\n * @property {number} intendedRotationAngleFromTarget\r\n * @property {vec3} intendedRotationAxisFromTarget\r\n * @property {vec3} _intendedTranslationFromTarget\r\n */\r\n\r\n/**\r\n * @typedef {Object} FirstPersonCameraConfig\r\n * @property {vec3} intendedDisplacementFromTarget\r\n * @property {vec3} viewDirection\r\n * @property {number} targetDistance\r\n */\r\n\r\n/**\r\n * @typedef {Object} FixedCameraConfig\r\n * @property {vec3} position\r\n * @property {vec3} viewDirection\r\n * @property {vec3} _up\r\n */\r\n","import { Camera } from './camera';\r\n\r\n/**\r\n * This class defines a first-person camera.\r\n *\r\n * A first-person camera is positioned at a character and moves and rotates with the character.\r\n */\r\nclass FirstPersonCamera extends Camera {\r\n  /**\r\n   * @param {CameraTarget} cameraTarget\r\n   * @param {FirstPersonCameraConfig} firstPersonCameraParams\r\n   * @param {CameraConfig} cameraParams\r\n   * @param {Camera} [oldCamera]\r\n   */\r\n  constructor(cameraTarget, firstPersonCameraParams, cameraParams, oldCamera) {\r\n    super(cameraParams, oldCamera);\r\n    this._cameraTarget = cameraTarget;\r\n    this._firstPersonCameraParams = firstPersonCameraParams;\r\n    this._cameraTarget = cameraTarget;\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    this._updatePosition();\r\n    this._updateOrientation();\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _updatePosition() {\r\n    const intendedPosition = this._getIntendedPosition();\r\n    vec3.copy(this._position, intendedPosition);\r\n  }\r\n\r\n  /**\r\n   * Update the camera's orientation using the \"look at\" method according to its position and the\r\n   * position of its target.\r\n   *\r\n   * @protected\r\n   */\r\n  _updateOrientation() {\r\n    // Get the view direction, and transform it to align with the target's orientation.\r\n    const viewDirection = vec3.create();\r\n    vec3.copy(viewDirection, this._firstPersonCameraParams.viewDirection);\r\n    vec3.transformQuat(viewDirection, viewDirection, this._cameraTarget.orientation);\r\n\r\n    const target = vec3.create();\r\n    vec3.scaleAndAdd(target, this._position, viewDirection,\r\n      this._firstPersonCameraParams.targetDistance);\r\n\r\n    // Initialize \"up\" as the world z-axis.\r\n    const up = vec3.fromValues(0, 1, 0);\r\n\r\n    // Transform \"up\" to align with the camera target's local z-axis.\r\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\r\n\r\n    const right = vec3.create();\r\n    vec3.cross(right, viewDirection, up);\r\n\r\n    // Transform \"up\" to align with the camera's local z-axis.\r\n    vec3.cross(up, right, viewDirection);\r\n\r\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\r\n  }\r\n\r\n  /**\r\n   * The intended position for this camera to be in according to the position and orientation of the\r\n   * camera target.\r\n   *\r\n   * @returns {vec3}\r\n   * @protected\r\n   * @abstract\r\n   */\r\n  _getIntendedPosition() {\r\n    const intendedPosition = vec3.create();\r\n    vec3.transformMat4(\r\n      intendedPosition,\r\n      this._firstPersonCameraParams.intendedDisplacementFromTarget,\r\n      this._cameraTarget.worldTransform);\r\n    return intendedPosition;\r\n  }\r\n}\r\n\r\nexport { FirstPersonCamera };\r\n","import {Camera} from './camera';\r\n\r\n/**\r\n * This class defines a fixed camera.\r\n *\r\n * A fixed camera's position and orientation are updated manually and remain fixed until a later\r\n * update.\r\n */\r\nclass FixedCamera extends Camera {\r\n  /**\r\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\r\n   * the old camera. This enables a smooth transition when changing cameras.\r\n   *\r\n   * @param {FixedCameraConfig} fixedCameraParams\r\n   * @param {CameraConfig} cameraParams\r\n   * @param {Camera} [oldCamera]\r\n   */\r\n  constructor(fixedCameraParams, cameraParams, oldCamera) {\r\n    super(cameraParams, oldCamera);\r\n\r\n    this._position = fixedCameraParams.position;\r\n    this._viewDirection = fixedCameraParams.viewDirection;\r\n    this._up = fixedCameraParams._up;\r\n    this.__target = vec3.create();\r\n  }\r\n\r\n  reset() {\r\n    super.reset();\r\n    this._update();\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {}\r\n\r\n  _update() {\r\n    vec3.normalize(this._viewDirection, this._viewDirection);\r\n    vec3.normalize(this._up, this._up);\r\n\r\n    // Transform \"up\" to align with the camera's local z-axis.\r\n    const right = vec3.create();\r\n    vec3.cross(right, this._viewDirection, this._up);\r\n    vec3.cross(this._up, right, this._viewDirection);\r\n\r\n    this._setPositionAndLookAt(this._position, this._target, this._up, this._viewDirection);\r\n  }\r\n\r\n  /** @param {vec3} newDirection */\r\n  set viewDirection(newDirection) {\r\n    vec3.copy(this._viewDirection, newDirection);\r\n    this._update();\r\n  }\r\n\r\n  /** @param {vec3} newUp */\r\n  set up(newUp) {\r\n    vec3.copy(this._up, newUp);\r\n    this._update();\r\n  }\r\n\r\n  /** @param {vec3} newPosition */\r\n  set position(newPosition) {\r\n    vec3.copy(this._position, newPosition);\r\n    this._update();\r\n  }\r\n\r\n  /** @returns {vec3} */\r\n  // TODO: Look into whatever bug prevents the parent-class getter from working.\r\n  get position() {\r\n    return this._position;\r\n  }\r\n\r\n  /** @returns {vec3} */\r\n  get viewDirection() {\r\n    return this._viewDirection;\r\n  }\r\n  /** @returns {vec3} */\r\n  get up() {\r\n    return this._up;\r\n  }\r\n  /**\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  get _target() {\r\n    return vec3.add(this.__target, this._position, this._viewDirection);\r\n  }\r\n\r\n  /**\r\n   * @param {Camera} oldCamera\r\n   * @protected\r\n   */\r\n  _matchOldCamera(oldCamera) {\r\n    super._matchOldCamera(oldCamera);\r\n    if (oldCamera instanceof FixedCamera) {\r\n      vec3.copy(this._viewDirection, oldCamera._viewDirection);\r\n      vec3.copy(this._up, oldCamera._up);\r\n    }\r\n  }\r\n}\r\n\r\nexport {FixedCamera};\r\n","import {FollowCamera} from './follow-camera';\r\n\r\n/**\r\n * This class defines a fixed-offset follow camera.\r\n *\r\n * This camera is positioned at a relative, fixed distance and rotation from the observed target\r\n * and follows the target's position and orientation at this fixed distance.\r\n *\r\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\r\n */\r\nclass FixedFollowCamera extends FollowCamera {\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    this._updatePosition();\r\n    this._updateOrientation();\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _updatePosition() {\r\n    const intendedPosition = this._getIntendedPosition();\r\n    vec3.copy(this._position, intendedPosition);\r\n  }\r\n}\r\n\r\nexport {FixedFollowCamera};\r\n","import {ThirdPersonCamera} from './third-person-camera';\r\n\r\n/**\r\n * This class defines an abstract follow camera.\r\n *\r\n * This is a third-person type of camera whose roll always matches that of the target.\r\n */\r\nclass FollowCamera extends ThirdPersonCamera {\r\n  /**\r\n   * Update the camera's orientation using the \"look at\" method according to its position and the\r\n   * position of its target.\r\n   *\r\n   * @protected\r\n   */\r\n  _updateOrientation() {\r\n    const target = this._cameraTarget.position;\r\n\r\n    const viewDirection = vec3.create();\r\n    vec3.subtract(viewDirection, target, this._position);\r\n    vec3.normalize(viewDirection, viewDirection);\r\n\r\n    // Initialize \"up\" as the world z-axis.\r\n    const up = vec3.fromValues(0, 1, 0);\r\n\r\n    // Transform \"up\" to align with the camera target's local z-axis.\r\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\r\n\r\n    const right = vec3.create();\r\n    vec3.cross(right, viewDirection, up);\r\n\r\n    // Transform \"up\" to align with the camera's local z-axis.\r\n    vec3.cross(up, right, viewDirection);\r\n\r\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\r\n  }\r\n}\r\n\r\nexport {FollowCamera};\r\n","import {ThirdPersonCamera} from './third-person-camera';\r\n\r\n/**\r\n * This class defines an overhead camera.\r\n *\r\n * An overhead camera sits above the observed character and moves relative to the character without\r\n * rotating.\r\n *\r\n * An overhead camera's rotation with the character includes only yaw; it has a fixed pitch and\r\n * roll.\r\n */\r\nclass OverheadCamera extends ThirdPersonCamera {\r\n  /**\r\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\r\n   * the old camera. This enables a smooth transition when changing cameras.\r\n   *\r\n   * @param {CameraTarget} cameraTarget\r\n   * @param {FollowCameraConfig} followCameraParams\r\n   * @param {CameraConfig} cameraParams\r\n   * @param {Camera} [oldCamera]\r\n   */\r\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\r\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\r\n\r\n    this.reset();\r\n  }\r\n\r\n  reset() {\r\n    super.reset();\r\n  }\r\n\r\n  // TODO: Implement this!\r\n}\r\n\r\nexport {OverheadCamera};\r\n","import {Camera} from './camera';\r\n\r\n/**\r\n * This class defines an abstract third-person camera.\r\n *\r\n * A third-person camera follows a target from a distance.\r\n *\r\n * @abstract\r\n */\r\nclass ThirdPersonCamera extends Camera {\r\n  /**\r\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\r\n   * the old camera. This enables a smooth transition when changing cameras.\r\n   *\r\n   * @param {CameraTarget} cameraTarget\r\n   * @param {FollowCameraConfig} followCameraParams\r\n   * @param {CameraConfig} cameraParams\r\n   * @param {Camera} [oldCamera]\r\n   */\r\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\r\n    super(cameraParams, oldCamera);\r\n\r\n    // ThirdPersonCamera is an abstract class. It should not be instantiated directly.\r\n    if (new.target === ThirdPersonCamera) {\r\n      throw new TypeError('Cannot construct ThirdPersonCamera instances directly');\r\n    }\r\n\r\n    this._followCameraParams = followCameraParams;\r\n    this._cameraTarget = cameraTarget;\r\n  }\r\n\r\n  /**\r\n   * The intended position for this camera to be in according to the position and orientation of the\r\n   * camera target.\r\n   *\r\n   * @returns {vec3}\r\n   * @protected\r\n   * @abstract\r\n   */\r\n  _getIntendedPosition() {\r\n    const intendedPosition = vec3.create();\r\n    vec3.transformMat4(\r\n        intendedPosition,\r\n        this._followCameraParams._intendedTranslationFromTarget,\r\n        this._cameraTarget.worldTransform);\r\n    return intendedPosition;\r\n  }\r\n\r\n  /** @param {CameraTarget} cameraTarget */\r\n  set cameraTarget(cameraTarget) {\r\n    this._cameraTarget = cameraTarget;\r\n  }\r\n}\r\n\r\nexport {ThirdPersonCamera};\r\n\r\n/**\r\n * @typedef {Object} CameraTarget\r\n * @property {vec3} position In world coordinates.\r\n * @property {quat} orientation Relative to the world axes.\r\n * @property {mat4} worldTransform The model transform matrix, in world coordinates.\r\n */\r\n","/**\r\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\r\n * conveniently accessible via this single module.\r\n */\r\n\r\nexport * from './cameras';\r\nexport * from './models';\r\nexport * from './program-wrapper';\r\nexport * from './renderable-shapes';\r\nexport * from './util';\r\n\r\nexport * from './src/grafx-controller';\r\nexport * from './src/light';\r\nexport * from './src/scene';\r\n","export * from './src/default-model';\r\nexport * from './src/invisible-model-controller';\r\nexport * from './src/model';\r\nexport * from './src/model-controller';\r\nexport * from './src/model-group-controller';\r\nexport * from './src/standard-model-controller';\r\n","import {createBufferFromData} from '../../util';\r\nimport {Model} from './model';\r\n\r\n/**\r\n * This class defines a default implementation of the rigid model.\r\n *\r\n * This implementation accepts a RenderableShape and applies standard OpenGL binding logic on top\r\n * of it.\r\n */\r\nclass DefaultModel extends Model {\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {RenderableShape} shapeConfig\r\n   */\r\n  constructor(gl, shapeConfig) {\r\n    super(gl);\r\n    this._shapeConfig = shapeConfig;\r\n    this._initializeBuffers();\r\n    this._initializeConfigs();\r\n  }\r\n\r\n  _initializeBuffers() {\r\n    // Create, bind, and move data into buffers for the vertex positions, normals, texture\r\n    // coordinates, and element array.\r\n    this._vertexPositionsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexPositions);\r\n    this._vertexNormalsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexNormals);\r\n    this._textureCoordinatesBuffer =\r\n        createBufferFromData(this._gl, this._shapeConfig.textureCoordinates);\r\n    if (this._shapeConfig.vertexIndices) {\r\n      this._vertexIndicesBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexIndices,\r\n          this._gl.ELEMENT_ARRAY_BUFFER);\r\n    }\r\n  }\r\n\r\n  _initializeConfigs() {\r\n    this._vertexPositionsConfig = {\r\n      buffer: this._vertexPositionsBuffer,\r\n      size: 3,\r\n      type: this._gl.FLOAT,\r\n      normalized: false,\r\n      stride: 0,\r\n      offset: 0\r\n    };\r\n    this._textureCoordinatesConfig = {\r\n      buffer: this._textureCoordinatesBuffer,\r\n      size: 2,\r\n      type: this._gl.FLOAT,\r\n      normalized: false,\r\n      stride: 0,\r\n      offset: 0\r\n    };\r\n    this._vertexNormalsConfig = {\r\n      buffer: this._vertexNormalsBuffer,\r\n      size: 3,\r\n      type: this._gl.FLOAT,\r\n      normalized: false,\r\n      stride: 0,\r\n      offset: 0\r\n    };\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get elementCount() {\r\n    return this._shapeConfig.elementCount;\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get mode() {\r\n    return this._gl.TRIANGLES;\r\n    //return this._gl.LINE_STRIP;// TODO: REMOVE ME\r\n  }\r\n}\r\n\r\nexport {DefaultModel};\r\n","import {ModelController} from './model-controller';\r\n\r\n/**\r\n * This class defines an extension of the model-controller class that will maintain state but will\r\n * never render anything.\r\n */\r\nclass InvisibleModelController extends ModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} params\r\n   */\r\n  constructor(params) {\r\n    super(params);\r\n  }\r\n\r\n  destroy() {}\r\n\r\n  update(currentTime, deltaTime) {}\r\n\r\n  draw() {}\r\n\r\n  /**\r\n   * Initializes the program variables configuration.\r\n   *\r\n   * @protected\r\n   */\r\n  _setUpProgramVariablesConfig() {\r\n    this._programVariablesConfig = {};\r\n  }\r\n\r\n  /**\r\n   * Overrides the default method to instead do nothing.\r\n   *\r\n   * @param {string} id\r\n   * @returns {Promise}\r\n   */\r\n  _setUpProgramWrapper(id) {\r\n    this._programWrapperId = id;\r\n    this._programWrapperPromise = Promise.resolve(null);\r\n    return this._programWrapperPromise;\r\n  }\r\n}\r\n\r\nexport {InvisibleModelController};\r\n","import {PersistentAnimationJob} from 'lsl-animatex';\r\nimport {\r\n  programWrapperStore,\r\n  textureStore,\r\n} from '../../program-wrapper';\r\n\r\n/**\r\n * This class defines a model-controller class.\r\n *\r\n * This should be extended by all components that handle models--i.e., anything that will be\r\n * rendering shapes.\r\n *\r\n * @implements {ModelControllerInterface}\r\n * @abstract\r\n */\r\nclass ModelController extends PersistentAnimationJob {\r\n  /**\r\n   * PRECONDITION: The ProgramWrapper referenced by the given params must have already been\r\n   * registered.\r\n   *\r\n   * @param {ModelControllerConfig} params\r\n   */\r\n  constructor(params) {\r\n    super();\r\n\r\n    // ModelController is an abstract class. It should not be instantiated directly.\r\n    if (new.target === ModelController) {\r\n      throw new TypeError('Cannot construct ModelController instances directly');\r\n    }\r\n\r\n    this._gl = params.gl;\r\n    this._getViewMatrix = params.getViewMatrix;\r\n    this._getProjectionMatrix = params.getProjectionMatrix;\r\n    this._getParentWorldTransform = params.getParentWorldTransform;\r\n    this._localTransform = mat4.create();\r\n    this._worldTransform = mat4.create();\r\n    this._texture = null;\r\n    this._programWrapper = null;\r\n    this._programWrapperId = null;\r\n    this._drawFrameHandler = () => this.draw();\r\n    this._programVariablesConfig = null;\r\n\r\n    this.position = vec3.create();\r\n    this.scale = vec3.fromValues(1, 1, 1);\r\n\r\n    this._setUpTexture(params.texturePath);\r\n    this._setUpProgramWrapper(params.programWrapperId);\r\n\r\n    this._isReadyPromise = Promise.all([\r\n      this._texturePromise,\r\n      this._programWrapperPromise,\r\n    ]);\r\n  }\r\n\r\n  reset() {}\r\n\r\n  /**\r\n   * Called when this is done being used, and is being destroyed from memory.\r\n   */\r\n  destroy() {\r\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\r\n  }\r\n\r\n  /**\r\n   * Calls update, updateTransforms, and updateChildren.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  updateSelfAndChildren(currentTime, deltaTime) {\r\n    this.update(currentTime, deltaTime);\r\n    this.updateTransforms();\r\n    this.updateChildren(currentTime, deltaTime);\r\n  }\r\n\r\n  /**\r\n   * Updates relevant state for the sub-class.\r\n   *\r\n   * - This does not recursively update descendant model controllers; that's handled by\r\n   *   updateChildren.\r\n   * - This does not update the local or world-coordinate transforms; that's handled by\r\n   *   updateTransforms.\r\n   * - This is called before updateLocalTransform and updateChildren.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * Updates the world-coordinate and local-coordinate model matrices.\r\n   *\r\n   * This is called after update and before updateChildren.\r\n   *\r\n   * NOTE: All overrides of this method should update [this._localTransform].\r\n   */\r\n  updateTransforms() {\r\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\r\n  }\r\n\r\n  /**\r\n   * Updates relevant state for any children model controllers.\r\n   *\r\n   * This is called after update and updateLocalTransform.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  updateChildren(currentTime, deltaTime) {}\r\n\r\n  /**\r\n   * @abstract\r\n   */\r\n  draw() {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * Gets the model transform matrix, in local coordinates.\r\n   *\r\n   * @returns {mat4}\r\n   */\r\n  get localTransform() {\r\n    return this._localTransform;\r\n  }\r\n\r\n  /**\r\n   * Gets the model transform matrix, in world coordinates.\r\n   *\r\n   * @returns {mat4}\r\n   */\r\n  get worldTransform() {\r\n    return this._worldTransform;\r\n  }\r\n\r\n  /**\r\n   * Returns a promise that resolves when this model controller is ready for the app to run.\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  getIsReady() {\r\n    return this._isReadyPromise;\r\n  }\r\n\r\n  /** @param {string} id */\r\n  set programWrapperId(id) {\r\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\r\n    this._setUpProgramWrapper(id);\r\n  }\r\n\r\n  /** @param {string} value */\r\n  set texturePath(value) {\r\n    this._setUpTexture(value);\r\n  }\r\n\r\n  /**\r\n   * Initializes the program variables configuration.\r\n   *\r\n   * @protected\r\n   * @abstract\r\n   */\r\n  _setUpProgramVariablesConfig() {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * @param {string} [texturePath]\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  _setUpTexture(texturePath) {\r\n    this._texturePromise = texturePath\r\n        ? textureStore.loadTexture(this._gl, texturePath)\r\n        : Promise.resolve(null);\r\n\r\n    // Assign the actual texture.\r\n    this._texturePromise = this._texturePromise\r\n        .then(texture => this._texture = texture)\r\n        .then(() => this._setUpProgramVariablesConfig());\r\n\r\n    return this._texturePromise;\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  _setUpProgramWrapper(id) {\r\n    this._programWrapperId = id;\r\n    this._programWrapperPromise = programWrapperStore.getProgramWrapperPromise(id)\r\n        .then(programWrapper => this._programWrapper = programWrapper);\r\n    Promise.all([this._programWrapperPromise, this._texturePromise])\r\n        .then(() => programWrapperStore.registerDrawFrameHandler(id, this._drawFrameHandler));\r\n    return this._programWrapperPromise;\r\n  }\r\n}\r\n\r\nexport {ModelController};\r\n\r\n/**\r\n * @typedef {Object} ModelControllerInterface\r\n * @property {Function.<Promise>} getIsReady\r\n * @property {Function} reset\r\n * @property {Function} destroy\r\n * @property {mat4} localTransform\r\n * @property {mat4} worldTransform\r\n * @property {vec3} position\r\n */\r\n\r\n/**\r\n * @typedef {Object} ModelControllerConfig\r\n * @property {WebGLRenderingContext} gl\r\n * @property {Function.<mat4>} getViewMatrix\r\n * @property {Function.<mat4>} getProjectionMatrix\r\n * @property {Function.<mat4>} getParentWorldTransform\r\n * @property {string} programWrapperId\r\n * @property {string} [texturePath]\r\n */\r\n\r\n/**\r\n * @typedef {Object} ModelGroupControllerConfig\r\n * @property {WebGLRenderingContext} gl\r\n * @property {Function.<mat4>} getViewMatrix\r\n * @property {Function.<mat4>} getProjectionMatrix\r\n * @property {Function.<mat4>} getParentWorldTransform\r\n */\r\n","import { PersistentAnimationJob } from 'lsl-animatex';\r\n\r\n/**\r\n * This class controls groups of models.\r\n *\r\n * This is useful for higher-level controllers that control other models and also transform them.\r\n *\r\n * @implements {ModelControllerInterface}\r\n * @abstract\r\n */\r\nclass ModelGroupController extends PersistentAnimationJob {\r\n  /**\r\n   * If either of the shader paths are omitted, then this model controller will not create a\r\n   * rendering program configuration.\r\n   *\r\n   * @param {ModelGroupControllerConfig} params\r\n   */\r\n  constructor(params) {\r\n    super();\r\n\r\n    // ModelGroupController is an abstract class. It should not be instantiated directly.\r\n    if (new.target === ModelGroupController) {\r\n      throw new TypeError('Cannot construct ModelGroupController instances directly');\r\n    }\r\n\r\n    this._gl = params.gl;\r\n    this._getViewMatrix = params.getViewMatrix;\r\n    this._getProjectionMatrix = params.getProjectionMatrix;\r\n    this._getParentWorldTransform = params.getParentWorldTransform || (() => mat4.create());\r\n    this._localTransform = mat4.create();\r\n    this._worldTransform = mat4.create();\r\n    this._modelCtrls = [];\r\n  }\r\n\r\n  destroy() {\r\n    this.clearModelControllers();\r\n  }\r\n\r\n  reset() {\r\n    this._triggerOnAllModelControllers('reset');\r\n  }\r\n\r\n  clearModelControllers() {\r\n    this._triggerOnAllModelControllers('destroy');\r\n    this._modelCtrls = [];\r\n  }\r\n\r\n  /**\r\n   * Calls update, updateTransforms, and updateChildren.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  updateSelfAndChildren(currentTime, deltaTime) {\r\n    this.update(currentTime, deltaTime);\r\n    this.updateTransforms();\r\n    this.updateChildren(currentTime, deltaTime);\r\n  }\r\n\r\n  /**\r\n   * Updates relevant state for the sub-class.\r\n   *\r\n   * - This does not recursively update descendant model controllers; that's handled by\r\n   *   updateChildren.\r\n   * - This does not update the local or world-coordinate transforms; that's handled by\r\n   *   updateTransforms.\r\n   * - This is called before updateLocalTransform and updateChildren.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {}\r\n\r\n  /**\r\n   * Updates the world-coordinate and local-coordinate model matrices.\r\n   *\r\n   * This is called after update and before updateChildren.\r\n   *\r\n   * NOTE: All implementations of this method should update [this._localTransform].\r\n   */\r\n  updateTransforms() {\r\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\r\n  }\r\n\r\n  /**\r\n   * Updates relevant state for any children model controllers.\r\n   *\r\n   * This is called after update and updateLocalTransform.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  updateChildren(currentTime, deltaTime) {\r\n    this._triggerOnAllModelControllers('updateSelfAndChildren', [currentTime, deltaTime]);\r\n  }\r\n\r\n  draw() {\r\n    // We don't call draw on the children model controllers, because they register themselves to be\r\n    // drawn with their given shader program.\r\n  }\r\n\r\n  /**\r\n   * @param {ModelControllerInterface} modelCtrl\r\n   * @returns {Promise.<ModelControllerInterface>}\r\n   * @protected\r\n   */\r\n  _startModelController(modelCtrl) {\r\n    return modelCtrl.getIsReady().then(() => {\r\n      modelCtrl.reset();\r\n      this._modelCtrls.push(modelCtrl);\r\n      return modelCtrl;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {ModelControllerInterface} modelCtrl\r\n   * @protected\r\n   */\r\n  _onModelControllerDestroyed(modelCtrl) {\r\n    const index = this._modelCtrls.indexOf(modelCtrl);\r\n    this._modelCtrls.splice(index, 1);\r\n    modelCtrl.destroy();\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} targetPosition\r\n   * @param {number} maxSquaredDistance\r\n   * @protected\r\n   */\r\n  _removeDistantModelControllers(targetPosition, maxSquaredDistance) {\r\n    this._modelCtrls\r\n      // Get the ModelControllers that are too far away.\r\n      .filter(modelCtrl =>\r\n        vec3.squaredDistance(modelCtrl.position, targetPosition) > maxSquaredDistance)\r\n      // Remove the far-away ModelControllers.\r\n      .forEach(modelCtrl => this._onModelControllerDestroyed(modelCtrl));\r\n  }\r\n\r\n  /**\r\n   * Gets the model transform matrix, in local coordinates.\r\n   *\r\n   * @returns {mat4}\r\n   */\r\n  get localTransform() {\r\n    return this._localTransform;\r\n  }\r\n\r\n  /**\r\n   * Gets the model transform matrix, in world coordinates.\r\n   *\r\n   * @returns {mat4}\r\n   */\r\n  get worldTransform() {\r\n    return this._worldTransform;\r\n  }\r\n\r\n  /**\r\n   * Returns a promise that resolves when this model controller is ready for the app to run.\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  getIsReady() {\r\n    return Promise.all(this._modelCtrls.map(controller => controller.getIsReady()));\r\n  }\r\n\r\n  /**\r\n   * @param {string} methodName\r\n   * @param {Array.<*>} [args]\r\n   * @protected\r\n   */\r\n  _triggerOnAllModelControllers(methodName, args = []) {\r\n    //this._demoObject[methodName](...args);\r\n    this._modelCtrls.forEach(object => object[methodName](...args));\r\n  }\r\n}\r\n\r\nexport { ModelGroupController };\r\n","/**\r\n * This class defines a top-level model.\r\n *\r\n * @abstract\r\n */\r\nclass Model {\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   */\r\n  constructor(gl) {\r\n    // Model is an abstract class. It should not be instantiated directly.\r\n    if (new.target === Model) {\r\n      throw new TypeError('Cannot construct Model instances directly');\r\n    }\r\n\r\n    this._gl = gl;\r\n    this.bounds = null;\r\n\r\n    this._vertexPositionsBuffer = null;\r\n    this._vertexNormalsBuffer = null;\r\n    this._textureCoordinatesBuffer = null;\r\n\r\n    this._vertexPositionsConfig = null;\r\n    this._textureCoordinatesConfig = null;\r\n    this._vertexNormalsConfig = null;\r\n\r\n    // If this is kept null, then gl.drawArrays will be used (with gl.ARRAY_BUFFER) instead of\r\n    // gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER).\r\n    this._vertexIndicesBuffer = null;\r\n  }\r\n\r\n  /**\r\n   * Updates the normals on this shape to either be spherical (point outwards from the center) or\r\n   * orthogonal to the faces of their triangles.\r\n   *\r\n   * @param {boolean} isUsingSphericalNormals\r\n   * @protected\r\n   * @abstract\r\n   */\r\n  _setNormals(isUsingSphericalNormals) {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /** @returns {?AttributeConfig} */\r\n  get vertexPositionsConfig() {\r\n    return this._vertexPositionsConfig;\r\n  }\r\n\r\n  /** @returns {?AttributeConfig} */\r\n  get textureCoordinatesConfig() {\r\n    return this._textureCoordinatesConfig;\r\n  }\r\n\r\n  /** @returns {?AttributeConfig} */\r\n  get vertexNormalsConfig() {\r\n    return this._vertexNormalsConfig;\r\n  }\r\n\r\n  /** @returns {?WebGLBuffer} */\r\n  get vertexIndicesBuffer() {\r\n    return this._vertexIndicesBuffer;\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   * @abstract\r\n   */\r\n  get elementCount() {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   * @abstract\r\n   */\r\n  get mode() {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n}\r\n\r\nexport {Model};\r\n","import {renderableShapeFactory} from '../../renderable-shapes';\r\n\r\nimport {ModelController} from './model-controller';\r\n\r\n/**\r\n * This class defines an extension of the model-controller class that uses a common set of program\r\n * variables and transformation matrices.\r\n */\r\nclass StandardModelController extends ModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} params\r\n   * @param {RenderableShapeConfig} shapeParams\r\n   */\r\n  constructor(params, shapeParams) {\r\n    super(params);\r\n\r\n    this.scale = shapeParams.scale || vec3.fromValues(1, 1, 1);\r\n    this._mvMatrix = mat4.create();\r\n    this._normalMatrix = mat4.create();\r\n    this._model = renderableShapeFactory.createModel(this._gl, shapeParams);\r\n  }\r\n\r\n  update(currentTime, deltaTime) {}\r\n\r\n  draw() {\r\n    // Update the model-view matrix.\r\n    mat4.multiply(this._mvMatrix, this._getViewMatrix(), this._worldTransform);\r\n\r\n    // Update the normal matrix.\r\n    mat4.invert(this._normalMatrix, this._mvMatrix);\r\n    mat4.transpose(this._normalMatrix, this._normalMatrix);\r\n\r\n    // Update the uniform variables.\r\n    this._programVariablesConfig.uniforms['uPMatrix'] = this._getProjectionMatrix();\r\n    this._programVariablesConfig.uniforms['uMVMatrix'] = this._mvMatrix;\r\n    this._programVariablesConfig.uniforms['uNormalMatrix'] = this._normalMatrix;\r\n\r\n    // Draw shapes using the current variables configuration.\r\n    this._programWrapper.draw(this._gl, this._programVariablesConfig, 0, this._model.elementCount);\r\n  }\r\n\r\n  /**\r\n   * Initializes the program variables configuration.\r\n   *\r\n   * @protected\r\n   */\r\n  _setUpProgramVariablesConfig() {\r\n    this._programVariablesConfig = {\r\n      attributes: {\r\n        aVertexPosition: this._model.vertexPositionsConfig,\r\n        aTextureCoord: this._model.textureCoordinatesConfig,\r\n        aVertexNormal: this._model.vertexNormalsConfig,\r\n      },\r\n      uniforms: {\r\n        uPMatrix: this._getProjectionMatrix(),\r\n        uMVMatrix: this._mvMatrix,\r\n        uNormalMatrix: this._normalMatrix,\r\n        uSampler: this._texture,\r\n      },\r\n      mode: this._model.mode,\r\n      vertexIndices: this._model.vertexIndicesBuffer,\r\n      elementCount: this._model.elementCount,\r\n    };\r\n  }\r\n}\r\n\r\nexport {StandardModelController};\r\n","export * from './src/program-wrapper';\r\nexport * from './src/program-wrapper-store';\r\nexport * from './src/texture-store';\r\nexport * from './src/uniform-setter';\r\n","import {bindFramebuffer} from '../../util';\r\n\r\nimport {programWrapperStore} from './program-wrapper-store';\r\n\r\n/**\r\n * This class wraps a collection of ProgramWrappers and supports drawing them as a group.\r\n */\r\nclass GroupProgramWrapper {\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramWrapperConfig} config\r\n   */\r\n  constructor(gl, config) {\r\n    this.config = config;\r\n    this._childrenProgramWrappers = [];\r\n    this._isReady = null;\r\n\r\n    this._loadChildren(gl, config).then(() => {\r\n      if (config.initialize) config.initialize(gl);\r\n      if (config.isAPostProcessor) {\r\n        _createChildrenFramebuffersAndTextures(gl, config);\r\n      }\r\n    });\r\n  }\r\n\r\n  /** @returns {string} */\r\n  get programId() {\r\n    return this.config.id;\r\n  }\r\n\r\n  /** @returns {Promise} */\r\n  getIsReady() {\r\n    return this._isReady;\r\n  }\r\n\r\n  /**\r\n   * Renders shapes using this program.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   */\r\n  draw(gl) {\r\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\r\n    this.config.childrenFramebufferIds.forEach(_clearFramebuffer.bind(this, gl));\r\n    this.config.childrenProgramsToDraw.forEach(_drawChildProgramWrapper.bind(this, gl));\r\n  }\r\n\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramWrapperConfig} config\r\n   * @private\r\n   */\r\n  _loadChildren(gl, config) {\r\n    this._isReady = Promise.all(\r\n        config.childrenProgramConfigs.map(config =>\r\n            programWrapperStore.loadProgramWrapper(gl, config)\r\n                .then(programWrapper => this._childrenProgramWrappers.push(programWrapper))));\r\n    return this._isReady;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {string} id\r\n * @private\r\n */\r\nfunction _clearFramebuffer(gl, id) {\r\n  const framebuffer = programWrapperStore.getFramebuffer(id);\r\n  bindFramebuffer(gl, framebuffer);\r\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {ProgramWrapperConfig} config\r\n * @private\r\n */\r\nfunction _createChildrenFramebuffersAndTextures(gl, config) {\r\n  config.childrenFramebufferIds.forEach(id =>\r\n      programWrapperStore.createNewFramebufferAndTexture(gl, id, false));\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {ChildProgramAndFramebufferIds} childProgramAndFramebufferIds\r\n * @private\r\n */\r\nfunction _drawChildProgramWrapper(gl, childProgramAndFramebufferIds) {\r\n  const {programId, inputFramebufferIds, outputFramebufferId} = childProgramAndFramebufferIds;\r\n\r\n  const framebuffer = outputFramebufferId ?\r\n      programWrapperStore.getFramebuffer(outputFramebufferId) : null;\r\n  const programWrapper = programWrapperStore.getProgramWrapper(programId);\r\n  const programVariablesConfig =\r\n      programWrapper.config.getProgramVariablesConfig(gl, inputFramebufferIds);\r\n\r\n  bindFramebuffer(gl, framebuffer);\r\n  programWrapper.setProgram(gl);\r\n  programWrapper.draw(gl, programVariablesConfig);\r\n}\r\n\r\nexport {GroupProgramWrapper};\r\n","import {createFramebuffer, createRenderBuffer, createTextureForRendering} from '../../util';\r\n\r\nimport {GroupProgramWrapper} from './group-program-wrapper';\r\nimport {ProgramWrapper} from './program-wrapper';\r\n\r\n/**\r\n * This class loads, compiles, and stores WebGL rendering programs.\r\n *\r\n * Also, this stores draw-frame handlers for a given program. This makes it easy for a top-level\r\n * controller to group together draw calls for a given program and therefore minimize program\r\n * switches.\r\n *\r\n * Also, this distinguishes between rendering programs that are used for rendering individual models\r\n * and post-processing programs that are used for manipulating the entire frame after all the models\r\n * have rendered.\r\n *\r\n * This also allows for grouping programs, which consist of multiple child programs that are all\r\n * rendered in sequence for a related purpose.\r\n */\r\nclass ProgramWrapperStore {\r\n  constructor() {\r\n    this._modelProgramCache = {};\r\n    this._sortedModelPrograms = [];\r\n    this._postProcessingProgramCache = {};\r\n    this._sortedPostProcessingPrograms = [];\r\n    this._frambuffers = {};\r\n    this._textures = {};\r\n    this._renderBuffers = {};\r\n  }\r\n\r\n  /**\r\n   * Loads and caches a program wrapper using the given configuration.\r\n   *\r\n   * This method is idempotent; a given program will only be cached once.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramWrapperConfig} params\r\n   * @returns {Promise.<ProgramWrapper|GroupProgramWrapper, Error>}\r\n   * @private\r\n   */\r\n  loadProgramWrapper(gl, params) {\r\n    let cache;\r\n    let sortedList;\r\n    if (params.isAPostProcessor) {\r\n      cache = this._postProcessingProgramCache;\r\n      sortedList = this._sortedPostProcessingPrograms;\r\n    } else {\r\n      cache = this._modelProgramCache;\r\n      sortedList = this._sortedModelPrograms;\r\n    }\r\n    let cacheInfo = cache[params.id];\r\n\r\n    // Cache the program if it has not been previously registered.\r\n    if (!cacheInfo) {\r\n      cacheInfo = {};\r\n\r\n      cacheInfo.params = params;\r\n      cacheInfo.renderPriority = params.renderPriority;\r\n\r\n      let programWrapper = params.childrenProgramConfigs ?\r\n          new GroupProgramWrapper(gl, params) : new ProgramWrapper(gl, params);\r\n\r\n      cacheInfo.programWrapper = programWrapper;\r\n      cacheInfo.promise = programWrapper.getIsReady().then(() => cacheInfo.programWrapper);\r\n\r\n      if (params.isAPostProcessor) {\r\n        // As soon as we know we'll use a post-processing program, make sure we create the default\r\n        // framebuffer/texture for rendering models into.\r\n        if (!this.modelsFramebuffer) {\r\n          this.createNewFramebufferAndTexture(gl, MODELS_FRAMEBUFFER_ID, true);\r\n        }\r\n      } else {\r\n        // Post-processing programs are not used for rendering individual models.\r\n        cacheInfo.drawFrameHandlers = new Set();\r\n      }\r\n\r\n      // Store the program cache info in both a map and a list that is sorted by render priority.\r\n      cache[params.id] = cacheInfo;\r\n      sortedList.push(cacheInfo);\r\n      sortedList.sort(_compareProgramCacheInfo);\r\n    }\r\n\r\n    return cacheInfo.promise;\r\n  }\r\n\r\n  /**\r\n   * Registers the given draw-frame event handler for the given program.\r\n   *\r\n   * This method is idempotent; draw-frame handlers are stored in a set, so duplicate additions will\r\n   * overwrite previous additions.\r\n   *\r\n   * @param {string} id\r\n   * @param {Function} drawFrameHandler\r\n   */\r\n  registerDrawFrameHandler(id, drawFrameHandler) {\r\n    const programCacheInfo = this._modelProgramCache[id];\r\n\r\n    if (!programCacheInfo) {\r\n      if (this._postProcessingProgramCache[id]) {\r\n        // The program is not set up for rendering individual models.\r\n        throw new Error(`Cannot register a draw-frame handler for a program that is not set up for \r\n                         rendering individual models registered: ${id}`);\r\n      } else {\r\n        // The program has not been registered.\r\n        throw new Error(`Cannot register a draw-frame handler for a program that has not yet been \r\n                         registered: ${id}`);\r\n      }\r\n    }\r\n\r\n    // Store the draw-frame handler.\r\n    programCacheInfo.drawFrameHandlers.add(drawFrameHandler);\r\n  }\r\n\r\n  /**\r\n   * WARNING: This will remove the program from the store even if there are still other components\r\n   * depending on this program or its draw-frame handlers.\r\n   *\r\n   * @param {string} id\r\n   */\r\n  deleteProgramWrapper(id) {\r\n    // Determine which collections we're removing the program from.\r\n    let sortedPrograms;\r\n    let programCache;\r\n    if (this._modelProgramCache[id]) {\r\n      sortedPrograms = this._sortedModelPrograms;\r\n      programCache = this._modelProgramCache;\r\n    } else {\r\n      sortedPrograms = this._sortedPostProcessingPrograms;\r\n      programCache = this._postProcessingProgramCache;\r\n    }\r\n    const programCacheInfo = programCache[id];\r\n\r\n    // Remove the program.\r\n    sortedPrograms.splice(sortedPrograms.indexOf(programCacheInfo), 1);\r\n    delete programCache[id];\r\n  }\r\n\r\n  // TODO: Don't forget to unregister draw-frame handlers when destroying models (asteroids, UFOs,\r\n  // etc.)\r\n  /**\r\n   * @param {string} id\r\n   * @param {Function} drawFrameHandler\r\n   */\r\n  unregisterDrawFrameHandler(id, drawFrameHandler) {\r\n    this._modelProgramCache[id].drawFrameHandlers.delete(drawFrameHandler);\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   * @returns {Promise}\r\n   * @throws If there is no program registered with the given ID.\r\n   */\r\n  getProgramWrapperPromise(id) {\r\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\r\n    return cacheInfo.promise;\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   * @returns {ProgramWrapper}\r\n   * @throws If there is no program registered with the given ID.\r\n   */\r\n  getProgramWrapper(id) {\r\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\r\n    return cacheInfo.programWrapper;\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each registered per-model program wrapper.\r\n   *\r\n   * The callback is passed two arguments: the program wrapper and the registered draw-frame\r\n   * handlers.\r\n   *\r\n   * @param {Function} callback\r\n   */\r\n  forEachModelProgram(callback) {\r\n    this._sortedModelPrograms.forEach(programCacheInfo =>\r\n        callback(programCacheInfo.programWrapper, programCacheInfo.drawFrameHandlers));\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each registered post-processing program wrapper.\r\n   *\r\n   * @param {Function} callback\r\n   */\r\n  forEachPostProcessingProgram(callback) {\r\n    this._sortedPostProcessingPrograms.forEach(\r\n        programCacheInfo => callback(programCacheInfo.programWrapper));\r\n  }\r\n\r\n  /** @returns {boolean} */\r\n  get isUsingPostProcessingPrograms() {\r\n    return this._sortedPostProcessingPrograms.length > 0;\r\n  }\r\n\r\n  /**\r\n   * Creates and stores a framebuffer with a texture.\r\n   *\r\n   * Both the framebuffer and texture can be accessed later using the given ID.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {string} id\r\n   * @param {boolean} [shouldStoreDepthInfo=false]\r\n   */\r\n  createNewFramebufferAndTexture(gl, id, shouldStoreDepthInfo=false) {\r\n    let renderBuffer;\r\n    if (shouldStoreDepthInfo) {\r\n      renderBuffer = createRenderBuffer(gl);\r\n      this._renderBuffers[id] = renderBuffer;\r\n    }\r\n\r\n    const texture = createTextureForRendering(gl);\r\n    this._textures[id] = texture;\r\n\r\n    const framebuffer = createFramebuffer(gl, texture, renderBuffer);\r\n    this._frambuffers[id] = framebuffer;\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   * @returns {?WebGLFramebuffer}\r\n   */\r\n  getFramebuffer(id) {\r\n    return this._frambuffers[id];\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   * @returns {?WebGLTexture}\r\n   */\r\n  getTexture(id) {\r\n    return this._textures[id];\r\n  }\r\n\r\n  /**\r\n   * If we are using a post-processing program, then this is the default framebuffer for rendering\r\n   * models into.\r\n   *\r\n   * @returns {?WebGLFramebuffer}\r\n   */\r\n  get modelsFramebuffer() {\r\n    return this._frambuffers[MODELS_FRAMEBUFFER_ID];\r\n  }\r\n\r\n  /**\r\n   * If we are using a post-processing program, then this is the default texture for rendering\r\n   * models into.\r\n   *\r\n   * @returns {?WebGLTexture}\r\n   */\r\n  get modelsTexture() {\r\n    return this._textures[MODELS_FRAMEBUFFER_ID];\r\n  }\r\n\r\n  /**\r\n   * If we are using a post-processing program, then this is the default depth render buffer for\r\n   * rendering models.\r\n   *\r\n   * @returns {?WebGLRenderBuffer}\r\n   */\r\n  get modelsRenderBuffer() {\r\n    return this._renderBuffers[MODELS_FRAMEBUFFER_ID];\r\n  }\r\n}\r\n\r\nfunction _compareProgramCacheInfo(a, b) {\r\n  return a.renderPriority - b.renderPriority;\r\n}\r\n\r\nexport const MODELS_FRAMEBUFFER_ID = 'models';\r\n\r\nexport const programWrapperStore = new ProgramWrapperStore();\r\n\r\n/**\r\n * @typedef {Object} ProgramCacheInfo\r\n * @property {ProgramWrapperConfig} params\r\n * @property {ProgramWrapper|GroupProgramWrapper} [programWrapper]\r\n * @property {Set.<Function>} [drawFrameHandlers]\r\n * @property {Array.<ProgramWrapper>} [childrenProgramWrappers]\r\n */\r\n","import {\r\n  isInDevMode,\r\n  getViewportHeight,\r\n  getViewportWidth,\r\n  loadProgram,\r\n} from '../../util';\r\n\r\nimport {UniformSetter} from './uniform-setter';\r\n\r\n/**\r\n * This class wraps a native WebGLProgram object and provides convenience methods for:\r\n * - setting the wrapped program for use on the WebGL rendering context,\r\n * - enabling the attribute variables for the program,\r\n * - setting the attribute and uniform variables for the program,\r\n * - drawing shapes with the program and its current configuration.\r\n */\r\nclass ProgramWrapper {\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramWrapperConfig} config\r\n   */\r\n  constructor(gl, config) {\r\n    this.config = config;\r\n    this._program = null;\r\n    this._uniformSetters = null;\r\n    this._attributeEnablers = null;\r\n    this._attributeSetters = null;\r\n\r\n    // This is used for assigning different textures to different texture units.\r\n    this.baseTextureUnitIndex = 0;\r\n\r\n    this._buildWebGLProgramPromise = this._buildWebGLProgram(gl, config);\r\n\r\n    // TODO: Freeze this object after initializing\r\n  }\r\n\r\n  /** @returns {string} */\r\n  get programId() {\r\n    return this.config.id;\r\n  }\r\n\r\n  /** @returns {Promise} */\r\n  getIsReady() {\r\n    return this._buildWebGLProgramPromise;\r\n  }\r\n\r\n  /**\r\n   * Sets this program to use for rendering on the given WebGL context.\r\n   *\r\n   * This also enables all relevant attribute variables for this program.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   */\r\n  setProgram(gl) {\r\n    gl.useProgram(this._program);\r\n    this._enableAttributes();\r\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\r\n  }\r\n\r\n  /**\r\n   * Renders shapes using this program with the given variables configuration.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramVariablesConfig} [programVariablesConfig]\r\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\r\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\r\n   */\r\n  draw(gl, programVariablesConfig, offset, count) {\r\n    programVariablesConfig = programVariablesConfig || this.config.getProgramVariablesConfig(gl);\r\n    this._setVariables(gl, programVariablesConfig);\r\n    this._draw(gl, programVariablesConfig, offset, count);\r\n  }\r\n\r\n  /**\r\n   * Sets up this WebGL rendering program to draw shapes with the given program variables\r\n   * configuration and the attribute/uniform setters that have been set up for this program.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramVariablesConfig} programVariablesConfig\r\n   * @private\r\n   */\r\n  _setVariables(gl, programVariablesConfig) {\r\n    this._setAttributes(programVariablesConfig.attributes);\r\n    this._setUniforms(programVariablesConfig.uniforms);\r\n\r\n    // Check whether we are set up to draw using gl.drawElements rather than gl.drawArrays.\r\n    if (programVariablesConfig.vertexIndices) {\r\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, programVariablesConfig.vertexIndices);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Renders shapes according to this program's current configuration.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramVariablesConfig} programVariablesConfig\r\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\r\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\r\n   * @private\r\n   */\r\n  _draw(gl, programVariablesConfig, offset, count) {\r\n    offset = typeof offset === 'number' ? offset : 0;\r\n    count = typeof count === 'number' ? count : programVariablesConfig.elementCount;\r\n\r\n    if (isInDevMode) {\r\n      this._checkThatGivenVariablesMatchProgram(programVariablesConfig);\r\n    }\r\n\r\n    // Check whether we are set up to draw using gl.drawElements or gl.drawArrays.\r\n    if (programVariablesConfig.vertexIndices) {\r\n      gl.drawElements(programVariablesConfig.mode, count, gl.UNSIGNED_SHORT, offset);\r\n    } else {\r\n      gl.drawArrays(programVariablesConfig.mode, offset, count);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks whether the attribute and uniform variables specified in the given config match those\r\n   * defined in this program.\r\n   *\r\n   * @param {ProgramVariablesConfig} programVariablesConfig\r\n   * @private\r\n   */\r\n  _checkThatGivenVariablesMatchProgram(programVariablesConfig) {\r\n    if (Object.keys(programVariablesConfig.attributes).length !==\r\n            Object.keys(this._attributeSetters).length ||\r\n        Object.keys(programVariablesConfig.uniforms).length !==\r\n            Object.keys(this._uniformSetters).length) {\r\n      console.warn('The attribute/uniform variables in the ProgramVariablesConfig do not match ' +\r\n          'those specified in the shaders.', programVariablesConfig, this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets the uniform values for this program.\r\n   *\r\n   * Specifically, this calls `gl.uniform<...>(location, value)` for each\r\n   * variable-name/variable-value key-value pair in the given map. As part of the setup process, the\r\n   * uniform variable locations are stored in a map from their corresponding variable names. So only\r\n   * the variable names are needed in order to call this function at render time.\r\n   *\r\n   * @param {Object.<String, UniformData>} uniformValues\r\n   */\r\n  _setUniforms(uniformValues) {\r\n    Object.keys(uniformValues).forEach(uniformName => {\r\n      const uniformSetter = this._uniformSetters[uniformName];\r\n      const uniformValue = uniformValues[uniformName];\r\n      uniformSetter.setUniform(uniformValue);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Sets the attribute buffers for this program.\r\n   *\r\n   * Specifically, this calls `gl.bindBuffer(...)` and `gl.vertexAttribPointer(...)` for each\r\n   * variable-name/variable-value pair in the given attribute-info map. As part of the setup\r\n   * process, the uniform variable locations are stored in a map from their corresponding variable\r\n   * names. So only the variable names are needed in order to call this function at render time.\r\n   *\r\n   * @param {Object.<String, AttributeConfig>} attributeConfigs\r\n   */\r\n  _setAttributes(attributeConfigs) {\r\n    Object.keys(attributeConfigs).forEach(attributeName => {\r\n      const attributeSetter = this._attributeSetters[attributeName];\r\n      const attributeConfig = attributeConfigs[attributeName];\r\n      attributeSetter(attributeConfig);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _enableAttributes() {\r\n    this._attributeEnablers.forEach(attributeEnabler => attributeEnabler());\r\n  }\r\n\r\n  /**\r\n   * Creates uniform setters for this program and saves them in the _uniformSetters property.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @private\r\n   */\r\n  _createUniformSetters(gl) {\r\n    const uniformCount = gl.getProgramParameter(this._program, gl.ACTIVE_UNIFORMS);\r\n\r\n    this._uniformSetters = {};\r\n\r\n    for (let index = 0; index < uniformCount; index++) {\r\n      const uniformInfo = gl.getActiveUniform(this._program, index);\r\n      let uniformName = uniformInfo.name;\r\n\r\n      // Remove any array suffix.\r\n      // TODO: Is this removal redundant with the isArray check below??\r\n      if (uniformName.substr(-3) === '[0]') {\r\n        uniformName = uniformName.substr(0, uniformName.length - 3);\r\n      }\r\n\r\n      this._uniformSetters[uniformName] = new UniformSetter(gl, this._program, uniformInfo, this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates attribute enablers and setters for this program and saves them in the\r\n   * _attributeEnablers and _attributeSetters properties, respectively.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @private\r\n   */\r\n  _createAttributeEnablersAndSetters(gl) {\r\n    this._attributeEnablers = [];\r\n    this._attributeSetters = {};\r\n\r\n    const attributeCount = gl.getProgramParameter(this._program, gl.ACTIVE_ATTRIBUTES);\r\n\r\n    for (let index = 0; index < attributeCount; index++) {\r\n      const attributeName = gl.getActiveAttrib(this._program, index).name;\r\n      const location = gl.getAttribLocation(this._program, attributeName);\r\n\r\n      this._attributeEnablers.push(ProgramWrapper._createAttributeEnabler(gl, location));\r\n      this._attributeSetters[attributeName] = ProgramWrapper._createAttributeSetter(gl, location);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Loads the shader source code from the given URLs, compiles the shader source code, and creates\r\n   * a program from the resulting shaders.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {ProgramWrapperConfig} config\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  _buildWebGLProgram(gl, config) {\r\n    return loadProgram(gl, config.vertexShaderPath, config.fragmentShaderPath)\r\n        .then(webGLProgram => {\r\n          this._program = webGLProgram;\r\n          this._createUniformSetters(gl);\r\n          this._createAttributeEnablersAndSetters(gl);\r\n          if (config.initialize) config.initialize(gl);\r\n        })\r\n        .then(() => console.info(`Program loaded: ${config.id}`));\r\n  }\r\n\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {number} location\r\n   * @returns {Function}\r\n   * @private\r\n   */\r\n  static _createAttributeEnabler(gl, location) {\r\n    return () => gl.enableVertexAttribArray(location);\r\n  }\r\n\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {number} location\r\n   * @returns {Function.<AttributeConfig>}\r\n   * @private\r\n   */\r\n  static _createAttributeSetter(gl, location) {\r\n    return attributeConfig => {\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, attributeConfig.buffer);\r\n      gl.vertexAttribPointer(\r\n          location,\r\n          attributeConfig.size,\r\n          typeof attributeConfig.type !== 'undefined' ? attributeConfig.type : gl.FLOAT,\r\n          typeof attributeConfig.normalized !== 'undefined' ? attributeConfig.normalized : false,\r\n          typeof attributeConfig.stride !== 'undefined' ? attributeConfig.stride : 0,\r\n          typeof attributeConfig.offset !== 'undefined' ? attributeConfig.offset : 0);\r\n    };\r\n  }\r\n}\r\n\r\nexport {ProgramWrapper};\r\n\r\n/**\r\n * @typedef {Object} ProgramWrapperConfig\r\n * @property {string} id\r\n * @property {Function} [initialize] A method for one-time initialization of the GL state for this\r\n * program.\r\n * @property {Function} [webGLStateSetter] A method for setting up the GL state for this program\r\n * wrapper in preparation for the current draw call.\r\n * @property {number} [renderPriority] Programs with lower priority will render first. This does not\r\n * need to be present for ProgramWrappers that are children of a GroupProgramWrapper.\r\n * @property {string} [vertexShaderPath] This will be present on configs for non-group\r\n * ProgramWrappers.\r\n * @property {string} [fragmentShaderPath] This will be present on configs for non-group\r\n * ProgramWrappers.\r\n * @property {boolean} [isAPostProcessor=false] A post-processing program is used for manipulating\r\n * the entire frame after all the models have rendered.\r\n * @property {boolean} [childrenProgramConfigs] A grouping program consists of multiple child\r\n * programs that are all rendered in sequence for a related purpose.\r\n * @property {Array.<ChildProgramAndFramebufferIds>} [childrenProgramsToDraw] The IDs for the\r\n * sequence of children ProgramWrappers to draw, as well as the IDs for the input and output\r\n * framebuffers/textures to use. This will be present on configs for GroupProgramWrappers.\r\n * @property {Array.<string>} [childrenFramebufferIds] The IDs of all the framebuffers/textures that\r\n * will need to be created for this program. This will be present on configs for\r\n * GroupProgramWrappers.\r\n * @property {Function} [getProgramVariablesConfig] A method for getting the variables needed for\r\n * drawing this program. This will be present on configs of programs that are children of a\r\n * GroupProgramWrapper.\r\n */\r\n\r\n/**\r\n * @typedef {Object} ChildProgramAndFramebufferIds\r\n * @property {string} programId The ID of the program to draw with.\r\n * @property {Array.<string>} inputFramebufferIds The IDs of framebuffers whose textures will be\r\n * used as inputs for this program's shaders.\r\n * @property {string} outputFramebufferId Provide null in order to render to the canvas.\r\n */\r\n\r\n/**\r\n * @typedef {Object} ProgramVariablesConfig\r\n * @property {Object.<String, AttributeConfig>} attributes A mapping from attribute names to\r\n * attribute info.\r\n * @property {Object.<String, UniformData>} uniforms A mapping from uniform names to uniform info.\r\n * @property {number} mode Specifies the type of primitives to render; one of:\r\n *   - gl.POINTS,\r\n *   - gl.LINES,\r\n *   - gl.LINE_STRIP,\r\n *   - gl.LINE_LOOP,\r\n *   - gl.TRIANGLES,\r\n *   - gl.TRIANGLE_STRIP,\r\n *   - gl.TRIANGLE_FAN.\r\n * @property {WebGLBuffer} [vertexIndices] The indices to use for retrieving the vertex info from\r\n * each of the other attribute variable buffers. If this property is present, then the rendering\r\n * pipeline will be set up to use gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\r\n * gl.drawArrays.\r\n * @property {number} elementCount The number of elements/vertices to render for this variables\r\n * configuration.\r\n */\r\n\r\n/**\r\n * @typedef {Object} AttributeConfig\r\n * @property {WebGLBuffer} buffer The buffer containing this attribute's data.\r\n * @property {number} index Index of target attribute in the buffer bound to gl.ARRAY_BUFFER.\r\n * @property {number} size The number of components per attribute. Must be 1,2,3,or 4.\r\n * @property {number} type Specifies the data type of each component in the array. Use either\r\n * gl.FLOAT or gl.FIXED.\r\n * @property {boolean} normalized If true, then values will be normalized to a range of -1 or 0 to\r\n * 1.\r\n * @property {number} stride Specifies the offset in bytes between the beginning of consecutive\r\n * vertex attributes. Default value is 0, maximum is 255. Must be a multiple of type.\r\n * @property {number} offset Specifies an offset in bytes of the first component of the first\r\n * vertex attribute in the array. Default is 0 which means that vertex attributes are tightly\r\n * packed. Must be a multiple of type.\r\n */\r\n\r\n/** @typedef {*} UniformData */\r\n","import {loadImageSrc} from '../../util';\r\n\r\n/**\r\n * This class loads, sets up, and stores WebGL texture objects.\r\n *\r\n * NOTE: Only textures whose side lengths are powers of two are supported.\r\n */\r\nclass TextureStore {\r\n  constructor() {\r\n    this.textureCache = {};\r\n  }\r\n\r\n  /**\r\n   * @param {string} texturePath\r\n   * @returns {WebGLTexture}\r\n   */\r\n  getTexture(texturePath) {\r\n    return this.textureCache[texturePath].texture;\r\n  }\r\n\r\n  /**\r\n   * Loads the texture image at the given path, creates a texture object from it, caches the\r\n   * texture, and returns a promise for the texture.\r\n   *\r\n   * This method is idempotent; a given texture will only be loaded once.\r\n   *\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {string} texturePath\r\n   * @returns {Promise.<WebGLTexture, Error>}\r\n   */\r\n  loadTexture(gl, texturePath) {\r\n    let textureCacheInfo = this.textureCache[texturePath];\r\n\r\n    // Load, create, and cache the texture if it has not been previously registered.\r\n    if (!textureCacheInfo) {\r\n      textureCacheInfo = {\r\n        texturePromise: null,\r\n        texture: null,\r\n        image: new Image()\r\n      };\r\n      this.textureCache[texturePath] = textureCacheInfo;\r\n      textureCacheInfo.texturePromise = loadImageSrc(textureCacheInfo.image, texturePath)\r\n          .then(_ => this._createTexture(gl, textureCacheInfo));\r\n    }\r\n\r\n    return textureCacheInfo.texturePromise;\r\n  }\r\n\r\n  // TODO: Make this more general/configurable by creating a new TextureConfig typedef with most of\r\n  // the gl.xxx params included below (like the AttributeConfig typedef}, passing a textureConfig in\r\n  // the register method, and saving it on the textureCacheInfo object.\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {TextureCacheInfo} textureCacheInfo\r\n   * @returns {WebGLTexture}\r\n   * @private\r\n   */\r\n  _createTexture(gl, textureCacheInfo) {\r\n    console.info(`Texture loaded: ${textureCacheInfo.image.src}`);\r\n\r\n    textureCacheInfo.texture = gl.createTexture();\r\n    gl.bindTexture(gl.TEXTURE_2D, textureCacheInfo.texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCacheInfo.image);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\r\n    gl.generateMipmap(gl.TEXTURE_2D);\r\n    gl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n    return textureCacheInfo.texture;\r\n  }\r\n\r\n  /**\r\n   * WARNING: This will remove the texture from the store even if there are still other components\r\n   * depending on this texture.\r\n   *\r\n   * @param {string} texturePath\r\n   */\r\n  deleteTexture(texturePath) {\r\n    delete this.textureCache[texturePath];\r\n  }\r\n}\r\n\r\nexport const textureStore = new TextureStore();\r\n\r\n/**\r\n * @typedef {Object} TextureCacheInfo\r\n * @property {Promise.<WebGLTexture, Error>} texturePromise\r\n * @property {WebGLTexture} [texture]\r\n * @property {HTMLImageElement} [image]\r\n */\r\n","/**\r\n * This class stores a function for setting a value to a WebGL uniform variable.\r\n *\r\n * This is intended for use as a helper for the ProgramWrapper class.\r\n */\r\n// TODO: Write tests for this class.\r\nclass UniformSetter {\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {WebGLProgram} program\r\n   * @param {WebGLActiveInfo} uniformInfo\r\n   * @param {ProgramWrapper} programWrapper\r\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\r\n   */\r\n  constructor(gl, program, uniformInfo, programWrapper) {\r\n    this._location = gl.getUniformLocation(program, uniformInfo.name);\r\n    this._setter = this._getSetter(gl, uniformInfo, programWrapper);\r\n\r\n    // TODO: Freeze this object after initializing\r\n  }\r\n\r\n  /**\r\n   * @param {UniformData} uniformValue\r\n   */\r\n  setUniform(uniformValue) {\r\n    uniformValue = uniformValue instanceof Array ? new Float32Array(uniformValue) : uniformValue;\r\n    this._setter(uniformValue);\r\n  }\r\n\r\n  /** @returns {WebGLUniformLocation} */\r\n  get location() {\r\n    return this._location;\r\n  }\r\n\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {WebGLActiveInfo} uniformInfo\r\n   * @param {ProgramWrapper} programWrapper\r\n   * @returns {Function.<*>}\r\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\r\n   * @private\r\n   */\r\n  _getSetter(gl, uniformInfo, programWrapper) {\r\n    const isArray = uniformInfo.size > 1 && uniformInfo.name.substr(-3) === '[0]';\r\n    const setterMap = isArray ? {\r\n      [gl.FLOAT]: value => gl.uniform1fv(this._location, value),\r\n      [gl.INT]: value => gl.uniform1iv(this._location, value),\r\n      [gl.SAMPLER_2D]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_2D, uniformInfo.size,\r\n          programWrapper),\r\n      [gl.SAMPLER_CUBE]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_CUBE_MAP,\r\n          uniformInfo.size, programWrapper),\r\n    } : {\r\n      [gl.FLOAT]: value => gl.uniform1f(this._location, value),\r\n      [gl.FLOAT_VEC2]: value => gl.uniform2fv(this._location, value),\r\n      [gl.FLOAT_VEC3]: value => gl.uniform3fv(this._location, value),\r\n      [gl.FLOAT_VEC4]: value => gl.uniform4fv(this._location, value),\r\n      [gl.INT]: value => gl.uniform1i(this._location, value),\r\n      [gl.INT_VEC2]: value => gl.uniform2iv(this._location, value),\r\n      [gl.INT_VEC3]: value => gl.uniform3iv(this._location, value),\r\n      [gl.INT_VEC4]: value => gl.uniform4iv(this._location, value),\r\n      [gl.BOOL]: value => gl.uniform1i(this._location, value),\r\n      [gl.BOOL_VEC2]: value => gl.uniform2iv(this._location, value),\r\n      [gl.BOOL_VEC3]: value => gl.uniform3iv(this._location, value),\r\n      [gl.BOOL_VEC4]: value => gl.uniform4iv(this._location, value),\r\n      [gl.FLOAT_MAT2]: value => gl.uniformMatrix2fv(this._location, false, value),\r\n      [gl.FLOAT_MAT3]: value => gl.uniformMatrix3fv(this._location, false, value),\r\n      [gl.FLOAT_MAT4]: value => gl.uniformMatrix4fv(this._location, false, value),\r\n      [gl.SAMPLER_2D]: this._getUniformTextureSetter(gl, gl.TEXTURE_2D,\r\n          programWrapper.baseTextureUnitIndex++),\r\n      [gl.SAMPLER_CUBE]: this._getUniformTextureSetter(gl, gl.TEXTURE_CUBE_MAP,\r\n          programWrapper.baseTextureUnitIndex++),\r\n    };\r\n    return setterMap[uniformInfo.type];\r\n  }\r\n\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {number} target An enum describing the type of this buffer; one of:\r\n   *   - gl.TEXTURE_2D,\r\n   *   - gl.TEXTURE_CUBE_MAP.\r\n   * @param {number} uniformSize\r\n   * @param {ProgramWrapper} programWrapper\r\n   * @returns {Function.<*>}\r\n   * @private\r\n   */\r\n  _getUniformTextureArraySetter(gl, target, uniformSize, programWrapper) {\r\n    const textureUnitIndices =\r\n        Array.from({length: uniformSize}, _ => programWrapper.baseTextureUnitIndex++);\r\n\r\n    return textures => {\r\n      textures.forEach((texture, index) => {\r\n        gl.activeTexture(gl.TEXTURE0 + textureUnitIndices[index]);\r\n        gl.bindTexture(target, texture);\r\n      });\r\n      gl.uniform1iv(this._location, textureUnitIndices);\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {number} target An enum describing the type of this buffer; one of:\r\n   *   - gl.TEXTURE_2D,\r\n   *   - gl.TEXTURE_CUBE_MAP.\r\n   * @param {number} textureUnitIndex\r\n   * @returns {Function.<*>}\r\n   * @private\r\n   */\r\n  _getUniformTextureSetter(gl, target, textureUnitIndex) {\r\n    return texture => {\r\n      gl.activeTexture(gl.TEXTURE0 + textureUnitIndex);\r\n      gl.bindTexture(target, texture);\r\n      gl.uniform1i(this._location, textureUnitIndex);\r\n    };\r\n  }\r\n}\r\n\r\nexport {UniformSetter};\r\n","import {renderableShapeFactory} from './src/renderable-shape-factory';\r\n\r\nimport {capsuleRenderableShapeFactory} from './src/shape-configs/capsule-renderable-shape';\r\nimport {cubeRenderableShapeFactory} from './src/shape-configs/cube-renderable-shape';\r\nimport {icosahedronRenderableShapeFactory} from './src/shape-configs/icosahedron-renderable-shape';\r\nimport {icosphereRenderableShapeFactory} from './src/shape-configs/icosphere-renderable-shape';\r\nimport {latLongSphereRenderableShapeFactory} from './src/shape-configs/lat-long-sphere-renderable-shape';\r\nimport {tetrahedronRenderableShapeFactory} from './src/shape-configs/tetrahedron-renderable-shape';\r\n\r\n[\r\n  capsuleRenderableShapeFactory,\r\n  cubeRenderableShapeFactory,\r\n  icosahedronRenderableShapeFactory,\r\n  icosphereRenderableShapeFactory,\r\n  latLongSphereRenderableShapeFactory,\r\n  tetrahedronRenderableShapeFactory\r\n].forEach(renderableShapeFactory.registerRenderableShapeFactory);\r\n\r\nexport * from './src/shape-configs/capsule-renderable-shape';\r\nexport * from './src/shape-configs/cube-renderable-shape';\r\nexport * from './src/shape-configs/icosahedron-renderable-shape';\r\nexport * from './src/shape-configs/icosphere-renderable-shape';\r\nexport * from './src/shape-configs/lat-long-sphere-renderable-shape';\r\nexport * from './src/shape-configs/tetrahedron-renderable-shape';\r\n\r\nexport * from './src/renderable-shape-factory';\r\nexport * from './src/renderable-shape-store';\r\n","import {DefaultModel} from '../../models';\r\nimport {renderableShapeStore} from './renderable-shape-store';\r\n\r\n/**\r\n * This module defines a factory for DefaultRigidModal instances that are based on the various\r\n * pre-defined renderable shapes in this directory.\r\n */\r\n\r\nconst renderableShapeFactory = {\r\n  /**\r\n   * @param {WebGLRenderingContext} gl\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {DefaultModel}\r\n   */\r\n  createModel: (gl, params) => {\r\n    const shapeConfig = renderableShapeFactory.getRenderableShape(params);\r\n    return new DefaultModel(gl, shapeConfig);\r\n  },\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: params => {\r\n    params.isUsingSphericalNormals = params.isUsingSphericalNormals || false;\r\n    params.divisionsCount = typeof params.divisionsCount === 'number' ? params.divisionsCount : 0;\r\n\r\n    let shapeConfig = renderableShapeStore.getShape(params);\r\n    if (!shapeConfig) {\r\n      shapeConfig = _shapeIdsToRenderableShapeFactories[params.shapeId].getRenderableShape(params);\r\n      _updateTextureCoordinatesSpan(shapeConfig, params.textureSpan);\r\n      renderableShapeStore.registerShape(shapeConfig, params);\r\n    }\r\n    return shapeConfig;\r\n  },\r\n\r\n  /**\r\n   * @param {RenderableShapeFactory} shapeConfigFactory\r\n   */\r\n  registerRenderableShapeFactory: shapeConfigFactory => {\r\n    _shapeIdsToRenderableShapeFactories[shapeConfigFactory.shapeId] = shapeConfigFactory;\r\n    renderableShapeStore.registerRenderableShapeFactory(shapeConfigFactory);\r\n  }\r\n};\r\n\r\nconst _shapeIdsToRenderableShapeFactories = {};\r\n\r\n/**\r\n * @param {RenderableShape} shapeConfig\r\n * @param {TextureSpan} textureSpan\r\n * @private\r\n */\r\nfunction _updateTextureCoordinatesSpan(shapeConfig, textureSpan) {\r\n  if (!textureSpan) return;\r\n\r\n  const minX = textureSpan.minX;\r\n  const minY = textureSpan.minY;\r\n  const rangeX = textureSpan.maxX - textureSpan.minX;\r\n  const rangeY = textureSpan.maxY - textureSpan.minY;\r\n\r\n  const textureCoordinates = shapeConfig.textureCoordinates.slice();\r\n  shapeConfig.textureCoordinates = textureCoordinates;\r\n\r\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 2) {\r\n    textureCoordinates[i] = minX + rangeX * textureCoordinates[i];\r\n    textureCoordinates[i + 1] = minY + rangeY * textureCoordinates[i + 1];\r\n  }\r\n}\r\n\r\nexport {renderableShapeFactory};\r\n\r\n/**\r\n * @typedef {Object} RenderableShapeFactory\r\n * @property {string} shapeId\r\n * @property {Function.<RenderableShape>} getRenderableShape\r\n * @property {Function.<String>} getCacheId\r\n */\r\n\r\n/**\r\n * @typedef {Object} RenderableShape\r\n * @property {Array.<Number>} vertexPositions\r\n * @property {Array.<Number>} vertexNormals\r\n * @property {Array.<Number>} textureCoordinates\r\n * @property {Array.<Number>} [vertexIndices]\r\n * @property {number} elementCount\r\n */\r\n\r\n/**\r\n * @typedef {Object} TextureSpan\r\n * @property {number} minX\r\n * @property {number} minY\r\n * @property {number} maxX\r\n * @property {number} maxY\r\n */\r\n\r\n/**\r\n * @typedef {Object} RenderableShapeConfig\r\n * @property {string} shapeId The ID of the type of renderable shape.\r\n * @property {boolean} [isUsingSphericalNormals=false] Whether light reflections should show sharp\r\n * edges.\r\n * @property {TextureSpan} [textureSpan] For indicating how much a texture should repeat in both axes.\r\n * A range of 0-0.5 should show half the texture. A range of 0-2 would show the texture twice. The\r\n * default is 0-1 in both directions.\r\n * @property {vec3} [scale]\r\n */\r\n\r\n/**\r\n * @typedef {RenderableShapeConfig} SphericalRenderableShapeParams\r\n * @property {number} divisionsCount How many times to sub-divide the sphere.\r\n */\r\n","/**\r\n * This class caches renderable shape data.\r\n */\r\nclass RenderableShapeStore {\r\n  constructor() {\r\n    this._shapeCache = new Map();\r\n  }\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getShape(params) {\r\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\r\n    return this._shapeCache.get(key);\r\n  }\r\n\r\n  /**\r\n   * Caches the given shape info.\r\n   *\r\n   * @param {RenderableShape} shapeConfig\r\n   * @param {RenderableShapeConfig} params\r\n   */\r\n  registerShape(shapeConfig, params) {\r\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\r\n    this._shapeCache.set(key, shapeConfig);\r\n  }\r\n\r\n  /**\r\n   * @param {RenderableShapeFactory} shapeConfigFactory\r\n   */\r\n  registerRenderableShapeFactory(shapeConfigFactory) {\r\n    _shapeIdsToCacheKeyCalculators[shapeConfigFactory.shapeId] = shapeConfigFactory.getCacheId;\r\n  }\r\n\r\n  // TODO: Add support for un-registering shapes.\r\n}\r\n\r\n/**\r\n * @param {RenderableShapeConfig} params\r\n * @returns {string}\r\n */\r\nfunction getCacheKey(params) {\r\n  const textureSpanStr = params.textureSpan\r\n      ? `:${params.textureSpan.minX},${params.textureSpan.minY},${params.textureSpan.maxX},` +\r\n  `${params.textureSpan.maxY}`\r\n      : '';\r\n\r\n  return `${params.shapeId}:${params.isUsingSphericalNormals}${textureSpanStr}`;\r\n}\r\n\r\nconst _shapeIdsToCacheKeyCalculators = {};\r\n\r\nconst renderableShapeStore = new RenderableShapeStore();\r\nexport {renderableShapeStore, getCacheKey};\r\n","/**\r\n * This module defines a configuration factory for a capsule shape.\r\n *\r\n * The shape is centered around the origin with the poles aligned with the z-axis.\r\n */\r\n\r\nimport {\r\n  calculateSphericalSection,\r\n  calculateOrthogonalVertexNormals,\r\n  dedupVertexArrayWithPositionsAndIndicesArrays,\r\n  calculateLatLongTextureCoordinates,\r\n  calculateCylindricalSection,\r\n  calculateCylindricalTextureCoordinates,\r\n  TWO_PI,\r\n} from '../../../util';\r\nimport {getCacheKey} from '../renderable-shape-store';\r\n\r\n// TODO: Once I have a better camera in place, test that these texture coordinate calculations are\r\n// correct.\r\n\r\n/**\r\n * @param {CapsuleRenderableShapeParams} params\r\n * @returns {RenderableShape}\r\n */\r\nfunction _calculateCapsuleTopShape(params) {\r\n  // Calculate the positions.\r\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\r\n  const individualVertexPositions = calculateSphericalSection(\r\n      0, params.divisionsCount / 2, Math.PI / params.divisionsCount,\r\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\r\n\r\n  // Calculate the indices and normals.\r\n  let vertexPositions;\r\n  let vertexIndices;\r\n  let vertexNormals;\r\n  if (!params.isUsingSphericalNormals) {\r\n    // If we use orthogonal normals, then we cannot use vertexIndices.\r\n    vertexPositions = individualVertexPositions;\r\n    vertexIndices = null;\r\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\r\n  } else {\r\n    ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\r\n        individualVertexPositions));\r\n    vertexNormals = vertexPositions;\r\n  }\r\n\r\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\r\n\r\n  let scale;\r\n  let translation;\r\n\r\n  // Scale and translate the positions.\r\n  scale = params.radius;\r\n  translation = params.capsuleEndPointsDistance / 2;\r\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\r\n    vertexPositions[i] *= scale;\r\n    vertexPositions[i + 1] *= scale;\r\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\r\n  }\r\n\r\n  // Scale and translate the texture coordinates.\r\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\r\n  translation = 1 - scale;\r\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\r\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\r\n  }\r\n\r\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\r\n\r\n  return {\r\n    vertexPositions: vertexPositions,\r\n    vertexNormals: vertexNormals,\r\n    textureCoordinates: textureCoordinates,\r\n    vertexIndices: vertexIndices,\r\n    elementCount: elementCount\r\n  };\r\n}\r\n\r\n/**\r\n * @param {CapsuleRenderableShapeParams} params\r\n * @returns {RenderableShape}\r\n */\r\nfunction _calculateCapsuleBottomShape(params) {\r\n  // Calculate the positions.\r\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\r\n  const individualVertexPositions = calculateSphericalSection(\r\n      params.divisionsCount / 2, params.divisionsCount, Math.PI / params.divisionsCount,\r\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\r\n\r\n  // Calculate the indices and normals.\r\n  let vertexPositions;\r\n  let vertexIndices;\r\n  let vertexNormals;\r\n  if (!params.isUsingSphericalNormals) {\r\n    // If we use orthogonal normals, then we cannot use vertexIndices.\r\n    vertexPositions = individualVertexPositions;\r\n    vertexIndices = null;\r\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\r\n  } else {\r\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\r\n        individualVertexPositions);\r\n    vertexPositions = positionsAndIndices.vertexPositions;\r\n    vertexIndices = positionsAndIndices.vertexIndices;\r\n    vertexNormals = vertexPositions;\r\n  }\r\n\r\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\r\n\r\n  let scale;\r\n  let translation;\r\n\r\n  // Scale and translate the positions.\r\n  scale = params.radius;\r\n  translation = -params.capsuleEndPointsDistance / 2;\r\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\r\n    vertexPositions[i] *= scale;\r\n    vertexPositions[i + 1] *= scale;\r\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\r\n  }\r\n\r\n  // Scale and translate the texture coordinates.\r\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\r\n  translation = 0;\r\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\r\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\r\n  }\r\n\r\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\r\n\r\n  return {\r\n    vertexPositions: vertexPositions,\r\n    vertexNormals: vertexNormals,\r\n    textureCoordinates: textureCoordinates,\r\n    vertexIndices: vertexIndices,\r\n    elementCount: elementCount\r\n  };\r\n}\r\n\r\n/**\r\n * @param {CapsuleRenderableShapeParams} params\r\n * @returns {RenderableShape}\r\n */\r\nfunction _calculateCapsuleMiddleShape(params) {\r\n  let scale;\r\n  let translation;\r\n\r\n  // Calculate the positions.\r\n  translation = params.capsuleEndPointsDistance / 2;\r\n  const individualVertexPositions = calculateCylindricalSection(\r\n      -translation, translation, 0, params.divisionsCount, TWO_PI / params.divisionsCount);\r\n\r\n  let vertexPositions;\r\n  let vertexIndices;\r\n  let vertexNormals;\r\n\r\n  // Calculate the vertex indices and normals.\r\n  if (!params.isUsingSphericalNormals) {\r\n    // If we use orthogonal normals, then we cannot use vertexIndices.\r\n    vertexPositions = individualVertexPositions;\r\n    vertexIndices = null;\r\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\r\n  } else {\r\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\r\n        individualVertexPositions);\r\n    vertexPositions = positionsAndIndices.vertexPositions;\r\n    vertexIndices = positionsAndIndices.vertexIndices;\r\n\r\n    // Calculate the vertex normals.\r\n    vertexNormals = vertexPositions.map((coord, index) => index % 3 === 2 ? 0 : coord);\r\n  }\r\n\r\n  // Calculate the texture coordinates.\r\n  const textureCoordinates = calculateCylindricalTextureCoordinates(vertexPositions);\r\n\r\n  // Scale the x and y position coordinates.\r\n  scale = params.radius;\r\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\r\n    vertexPositions[i] *= scale;\r\n    vertexPositions[i + 1] *= scale;\r\n  }\r\n\r\n  // Scale and translate the texture coordinates.\r\n  scale = params.capsuleEndPointsDistance / (params.radius + params.capsuleEndPointsDistance);\r\n  translation = (1 - scale) / 2;\r\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\r\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\r\n  }\r\n\r\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\r\n\r\n  return {\r\n    vertexPositions: vertexPositions,\r\n    vertexNormals: vertexNormals,\r\n    textureCoordinates: textureCoordinates,\r\n    vertexIndices: vertexIndices,\r\n    elementCount: elementCount\r\n  };\r\n}\r\n\r\nconst capsuleRenderableShapeFactory = {\r\n  shapeId: 'CAPSULE',\r\n\r\n  /**\r\n   * @param {CapsuleRenderableShapeParams} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: (params) => {\r\n    // Ensure the divisions count is even.\r\n    if (params.divisionsCount % 2 === 1) {\r\n      params.divisionsCount++;\r\n    }\r\n\r\n    // The capsule's sub-shapes.\r\n    const topShape = _calculateCapsuleTopShape(params);\r\n    const bottomShape = _calculateCapsuleBottomShape(params);\r\n    const middleShape = _calculateCapsuleMiddleShape(params);\r\n\r\n    // Concatenate positions, normals, texture coordinates, and indices.\r\n    const vertexPositions = topShape.vertexPositions.concat(middleShape.vertexPositions, \r\n        bottomShape.vertexPositions);\r\n    const vertexNormals = topShape.vertexNormals.concat(middleShape.vertexNormals,\r\n        bottomShape.vertexNormals);\r\n    const textureCoordinates = topShape.textureCoordinates.concat(middleShape.textureCoordinates,\r\n        bottomShape.textureCoordinates);\r\n    const vertexIndices = topShape.vertexIndices\r\n        ? topShape.vertexIndices.concat(middleShape.vertexIndices, bottomShape.vertexIndices)\r\n        : null;\r\n    const elementCount = topShape.elementCount + middleShape.elementCount + bottomShape.elementCount;\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: vertexIndices,\r\n      elementCount: elementCount\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {CapsuleRenderableShapeParams} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\r\n  }\r\n};\r\n\r\nexport {capsuleRenderableShapeFactory};\r\n\r\n/**\r\n * @typedef {SphericalRenderableShapeParams} CapsuleRenderableShapeParams\r\n * @property {number} radius\r\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on\r\n * either end of the capsule.\r\n */\r\n","/**\r\n * This model defines a shape configuration factory for a cube.\r\n *\r\n * This cube is one unit long on each side.\r\n */\r\n\r\nimport {getCacheKey} from '../renderable-shape-store';\r\n\r\nconst VERTEX_COORDINATE = 0.5;\r\n\r\nconst vertexPositions = [\r\n  // Front face\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  // Back face\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  // Top face\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\r\n  // Bottom face\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  // Right face\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  // Left face\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE\r\n];\r\n\r\nconst orthogonalVertexNormals = [\r\n  // Front face\r\n  0, 0, 1,\r\n  0, 0, 1,\r\n  0, 0, 1,\r\n  0, 0, 1,\r\n  // Back face\r\n  0, 0, -1,\r\n  0, 0, -1,\r\n  0, 0, -1,\r\n  0, 0, -1,\r\n  // Top face\r\n  0, 1, 0,\r\n  0, 1, 0,\r\n  0, 1, 0,\r\n  0, 1, 0,\r\n  // Bottom face\r\n  0, -1, 0,\r\n  0, -1, 0,\r\n  0, -1, 0,\r\n  0, -1, 0,\r\n  // Right face\r\n  1, 0, 0,\r\n  1, 0, 0,\r\n  1, 0, 0,\r\n  1, 0, 0,\r\n  // Left face\r\n  -1, 0, 0,\r\n  -1, 0, 0,\r\n  -1, 0, 0,\r\n  -1, 0, 0\r\n];\r\n\r\nconst textureCoordinates = [\r\n  // Front face\r\n  1, 0,\r\n  0, 0,\r\n  0, 1,\r\n  1, 1,\r\n  // Back face\r\n  1, 0,\r\n  0, 0,\r\n  0, 1,\r\n  1, 1,\r\n  // Top face\r\n  1, 0,\r\n  0, 0,\r\n  0, 1,\r\n  1, 1,\r\n  // Bottom face\r\n  1, 0,\r\n  0, 0,\r\n  0, 1,\r\n  1, 1,\r\n  // Right face\r\n  1, 0,\r\n  0, 0,\r\n  0, 1,\r\n  1, 1,\r\n  // Left face\r\n  1, 0,\r\n  0, 0,\r\n  0, 1,\r\n  1, 1\r\n];\r\n\r\n// This array defines each face as two triangles, using the indices into the vertex array\r\n// to specify each triangle's position.\r\nconst vertexIndices = [\r\n  // Front face\r\n  0,  1,  2,\r\n  0,  2,  3,\r\n  // Back face\r\n  4,  5,  6,\r\n  4,  6,  7,\r\n  // Top face\r\n  8,  9,  10,\r\n  8,  10, 11,\r\n  // Bottom face\r\n  12, 13, 14,\r\n  12, 14, 15,\r\n  // Right face\r\n  16, 17, 18,\r\n  16, 18, 19,\r\n  // Left face\r\n  20, 21, 22,\r\n  20, 22, 23\r\n];\r\n\r\nconst cubeRenderableShapeFactory = {\r\n  shapeId: 'CUBE',\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: params => {\r\n    const vertexNormals = params.isUsingSphericalNormals ? vertexPositions : orthogonalVertexNormals;\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: vertexIndices,\r\n      elementCount: vertexIndices.length\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return getCacheKey(params);\r\n  }\r\n};\r\n\r\nexport {cubeRenderableShapeFactory};\r\n","/**\r\n * This model defines a shape configuration factory for a regular icosahedron.\r\n *\r\n * The shape is centered around the origin.\r\n */\r\n\r\nimport {\r\n  calculateLatLongTextureCoordinates,\r\n  calculateOrthogonalVertexNormals,\r\n  expandVertexIndicesAroundLongitudeSeam,\r\n  expandVertexIndicesToDuplicatePositions,\r\n} from '../../../util';\r\nimport {getCacheKey} from '../renderable-shape-store';\r\n\r\n// The corners of a unit icosahedron with vertices aligned with the y-axis.\r\nconst individualVertexPositions = [\r\n  -0.525731086730957, -0.7236068248748779, 0.4472135901451111,\r\n  0.525731086730957, -0.7236068248748779, 0.4472135901451111,\r\n  -0.525731086730957, 0.7236068248748779, -0.4472135901451111,\r\n  0.525731086730957, 0.7236068248748779, -0.4472135901451111,\r\n  0, 0, 1,\r\n  0, 0.8944271802902222, 0.44721361994743347,\r\n  0, -0.8944271802902222, -0.44721361994743347,\r\n  0, 0, -1,\r\n  0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\r\n  -0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\r\n  0.8506508469581604, -0.27639320492744446, -0.4472135901451111,\r\n  -0.8506508469581604, -0.27639320492744446, -0.4472135901451111\r\n];\r\n\r\nconst individualVertexIndices = [\r\n  1,  4,  0,\r\n  4,  9,  0,\r\n  4,  5,  9,\r\n  8,  5,  4,\r\n  1,  8,  4,\r\n  1,  10, 8,\r\n  10, 3,  8,\r\n  8,  3,  5,\r\n  3,  2,  5,\r\n  3,  7,  2,\r\n  3,  10, 7,\r\n  10, 6,  7,\r\n  6,  11, 7,\r\n  6,  0,  11,\r\n  6,  1,  0,\r\n  10, 1,  6,\r\n  11, 0,  9,\r\n  2,  11, 9,\r\n  5,  2,  9,\r\n  11, 2,  7\r\n];\r\n\r\nlet vertexPositionsExpandedAroundSeam = null;\r\nlet vertexIndicesExpandedAroundSeam = null;\r\nlet textureCoordinates = null;\r\n\r\nconst icosahedronRenderableShapeFactory = {\r\n  shapeId: 'ICOSAHEDRON',\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: params => {\r\n    let vertexPositions;\r\n    let vertexIndices;\r\n\r\n    if (!vertexPositionsExpandedAroundSeam) {\r\n      // Calculate the modified positions and indices.\r\n      const positionsAndIndices = expandVertexIndicesAroundLongitudeSeam(\r\n          individualVertexPositions, individualVertexIndices);\r\n      vertexPositionsExpandedAroundSeam = positionsAndIndices.vertexPositions;\r\n      vertexIndicesExpandedAroundSeam = positionsAndIndices.vertexIndices;\r\n    }\r\n\r\n    vertexPositions = vertexPositionsExpandedAroundSeam;\r\n    vertexIndices = vertexIndicesExpandedAroundSeam;\r\n\r\n    let vertexNormals;\r\n    // If we use orthogonal normals, then we cannot use vertexIndices.\r\n    if (!params.isUsingSphericalNormals) {\r\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\r\n          vertexIndices);\r\n      vertexIndices = null;\r\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\r\n    } else {\r\n      vertexNormals = vertexPositions;\r\n    }\r\n\r\n    textureCoordinates = textureCoordinates\r\n        ? textureCoordinates\r\n        : calculateLatLongTextureCoordinates(vertexPositions);\r\n\r\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: vertexIndices,\r\n      elementCount: elementCount\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return getCacheKey(params);\r\n  }\r\n};\r\n\r\nexport {icosahedronRenderableShapeFactory};\r\n","/**\r\n * This module defines logic that creates a spherical shape configuration by taking a shape,\r\n * sub-dividing each of its triangles, and projecting each new vertex onto the edge of a sphere.\r\n *\r\n * This is technically only an \"icosphere\" if the starting shape is an icosahedron.\r\n *\r\n * This shape also is known as a \"geosphere\".\r\n *\r\n * The shape is centered around the origin.\r\n */\r\n\r\nimport {\r\n  deepCopy,\r\n  calculateLatLongTextureCoordinates,\r\n  calculateOrthogonalVertexNormals,\r\n  expandVertexIndicesAroundLongitudeSeam,\r\n  expandVertexIndicesToDuplicatePositions,\r\n  tesselateSphere,\r\n} from '../../../util';\r\nimport {getCacheKey} from '../renderable-shape-store';\r\nimport {renderableShapeFactory} from '../renderable-shape-factory';\r\n\r\nconst icosphereRenderableShapeFactory = {\r\n  shapeId: 'ICOSPHERE',\r\n\r\n  /**\r\n   * @param {IcosphereRenderableShapeParams} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: params => {\r\n    params.divisionsCount = Math.max(params.divisionsCount, 1);\r\n\r\n    const copyParams = deepCopy(params);\r\n    copyParams.shapeId = params.baseShapeId || 'ICOSAHEDRON';\r\n    const baseRenderableShape = renderableShapeFactory.getRenderableShape(copyParams);\r\n\r\n    // Calculate the positions and indices.\r\n    let {vertexPositions, vertexIndices} = tesselateSphere(params.divisionsCount,\r\n        baseRenderableShape.vertexPositions, baseRenderableShape.vertexIndices);\r\n    ({vertexPositions, vertexIndices} = expandVertexIndicesAroundLongitudeSeam(\r\n        vertexPositions, vertexIndices));\r\n\r\n    let vertexNormals;\r\n    // If we use orthogonal normals, then we cannot use vertexIndices.\r\n    if (!params.isUsingSphericalNormals) {\r\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\r\n          vertexIndices);\r\n      vertexIndices = null;\r\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\r\n    } else {\r\n      vertexNormals = vertexPositions;\r\n    }\r\n\r\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\r\n\r\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: vertexIndices,\r\n      elementCount: elementCount\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {IcosphereRenderableShapeParams} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\r\n  }\r\n};\r\n\r\nexport {icosphereRenderableShapeFactory};\r\n\r\n/**\r\n * @typedef {SphericalRenderableShapeParams} IcosphereRenderableShapeParams\r\n * @property {string} baseShapeId The ID of the base renderable shape that will be sub-divided to\r\n * create this icosphere shape.\r\n */\r\n","import {\r\n  calculateLatLongTextureCoordinates,\r\n  calculateOrthogonalVertexNormals,\r\n  calculateSphericalSection,\r\n  dedupVertexArrayWithPositionsAndIndicesArrays,\r\n  TWO_PI,\r\n} from '../../../util';\r\nimport {getCacheKey} from '../renderable-shape-store';\r\n\r\n/**\r\n * This module defines a configuration factory for a spherical shape whose vertices lie along\r\n * latitude and longitude lines.\r\n *\r\n * This shape also is known as a \"UV sphere\".\r\n *\r\n * The shape is centered around the origin with the poles aligned with the z-axis.\r\n */\r\n\r\n/**\r\n * @param {number} divisionsCount\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction _calculateLatLongSpherePositions(divisionsCount) {\r\n  const deltaPitch = Math.PI / divisionsCount;\r\n  const deltaAzimuth = TWO_PI / divisionsCount;\r\n\r\n  return calculateSphericalSection(\r\n      0, divisionsCount, deltaPitch,\r\n      0, divisionsCount, deltaAzimuth);\r\n}\r\n\r\nconst latLongSphereRenderableShapeFactory = {\r\n  shapeId: 'LAT_LONG_SPHERE',\r\n\r\n  /**\r\n   * @param {SphericalRenderableShapeParams} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: params => {\r\n    // Calculate the positions.\r\n    const individualVertexPositions = _calculateLatLongSpherePositions(params.divisionsCount);\r\n\r\n    // Calculate the indices and normals.\r\n    let vertexPositions;\r\n    let vertexIndices;\r\n    let vertexNormals;\r\n    if (!params.isUsingSphericalNormals) {\r\n      // If we use orthogonal normals, then we cannot use vertexIndices.\r\n      vertexPositions = individualVertexPositions;\r\n      vertexIndices = null;\r\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\r\n    } else {\r\n      ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\r\n          individualVertexPositions));\r\n      vertexNormals = vertexPositions;\r\n    }\r\n\r\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\r\n\r\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: vertexIndices,\r\n      elementCount: elementCount\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {SphericalRenderableShapeParams} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\r\n  }\r\n};\r\n\r\nexport {latLongSphereRenderableShapeFactory};\r\n","import {calculateOrthogonalVertexNormals} from '../../../util';\r\nimport {getCacheKey} from '../renderable-shape-store';\r\n\r\n/**\r\n * This model defines a shape configuration factory for a regular tetrahedron.\r\n *\r\n * The shape is centered around the origin.\r\n */\r\n\r\n// ||(VERTEX_COORDINATE, VERTEX_COORDINATE, VERTEX_COORDINATE)|| = 1\r\nconst VERTEX_COORDINATE = 0.5773502588272095;\r\n\r\nconst vertexPositions = [\r\n  // Left-top-near face\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\r\n\r\n  // Right-top-far face\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n\r\n  // Right-bottom-near face\r\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n\r\n  // Left-bottom-far face\r\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\r\n  VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\r\n  -VERTEX_COORDINATE, VERTEX_COORDINATE, -VERTEX_COORDINATE\r\n];\r\n\r\n// 1 - Math.sqrt(3) / 2\r\nconst TEXTURE_BASE_COORDINATE = 0.13397459621;\r\n\r\nconst textureCoordinates = [\r\n  // Left-top-near face\r\n  0, TEXTURE_BASE_COORDINATE,\r\n  0.5, 1,\r\n  1, TEXTURE_BASE_COORDINATE,\r\n\r\n  // Right-top-far face\r\n  0, TEXTURE_BASE_COORDINATE,\r\n  0.5, 1,\r\n  1, TEXTURE_BASE_COORDINATE,\r\n\r\n  // Right-bottom-near face\r\n  0, TEXTURE_BASE_COORDINATE,\r\n  0.5, 1,\r\n  1, TEXTURE_BASE_COORDINATE,\r\n\r\n  // Left-bottom-far face\r\n  0, TEXTURE_BASE_COORDINATE,\r\n  0.5, 1,\r\n  1, TEXTURE_BASE_COORDINATE\r\n];\r\n\r\nconst tetrahedronRenderableShapeFactory = {\r\n  shapeId: 'TETRAHEDRON',\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: params => {\r\n    const vertexNormals = params.isUsingSphericalNormals\r\n        ? vertexPositions\r\n        : calculateOrthogonalVertexNormals(vertexPositions);\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: null,\r\n      elementCount: vertexPositions.length / 3\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return getCacheKey(params);\r\n  }\r\n};\r\n\r\nexport {tetrahedronRenderableShapeFactory};\r\n","import {\r\n  animator,\r\n  PersistentAnimationJob\r\n}\r\nfrom 'lsl-animatex';\r\nimport { PhysicsEngine } from 'lsl-physx';\r\nimport {\r\n  ProgramWrapper,\r\n  programWrapperStore,\r\n  textureStore\r\n}\r\nfrom '../program-wrapper';\r\nimport {\r\n  bindFramebuffer,\r\n  bindGLContextToViewportDimensions,\r\n  getWebGLContext,\r\n  getViewportHeight,\r\n  getViewportWidth,\r\n}\r\nfrom '../util';\r\n\r\n/**\r\n * This top-level Controller class initializes and runs the rest of the app.\r\n */\r\nclass GrafxController extends PersistentAnimationJob {\r\n  constructor() {\r\n    super();\r\n\r\n    this._canvas = null;\r\n    this._gl = null;\r\n    this._scene = null;\r\n    this._currentProgramWrapper = null;\r\n  }\r\n\r\n  /**\r\n   * Initializes the app. After this completes successfully, call run to actually start the app.\r\n   *\r\n   * @param {HTMLCanvasElement} canvas\r\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\r\n   * should be pre-cached before starting the rest of the app.\r\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\r\n   * starting the rest of the app.\r\n   * @param {Function.<Scene>} sceneFactory\r\n   * @returns {Promise}\r\n   */\r\n  initialize(canvas, programConfigs, texturePaths, sceneFactory) {\r\n    this._canvas = canvas;\r\n\r\n    return Promise.resolve()\r\n      .then(() => this._setUpWebGLContext())\r\n      .then(() => Promise.all([\r\n        this._preCachePrograms(programConfigs),\r\n        this._preCacheTextures(texturePaths)\r\n      ]))\r\n      .then(() => this._setUpScene(sceneFactory));\r\n  }\r\n\r\n  destroy() {}\r\n\r\n  reset() {\r\n    // FIXME: Will it be easier to replace this with initialize?\r\n    this._scene.reset();\r\n  }\r\n\r\n  /**\r\n   * Runs the app. This should be called after initialize.\r\n   *\r\n   * A few things happen if this is run in dev mode:\r\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\r\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\r\n   *   step and resolves when this controller has finished (currently never)\r\n   */\r\n  run() {\r\n    this._startAnimator();\r\n  }\r\n\r\n  _startAnimator() { // FIXME: Decouple physx\r\n    animator.startJob(PhysicsEngine.instance);\r\n    animator.startJob(this);\r\n  }\r\n\r\n  /**\r\n   * Updates the scene.\r\n   *\r\n   * This updates all of the current parameters for each component in the scene for the current\r\n   * frame. However, this does not render anything. Rendering is done by a following call to the\r\n   * draw function.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    this._scene.updateSelfAndChildren(currentTime, deltaTime);\r\n  }\r\n\r\n  /**\r\n   * Draws the scene.\r\n   *\r\n   * This renders the current frame for all components in the scene. This assumes that all relevant\r\n   * parameter updates for this frame have already been computed by a previous call to _updateScene.\r\n   */\r\n  draw() {\r\n    // Clear the canvas before we start drawing on it.\r\n    this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\r\n\r\n    // If we are using a post-processing program, then we need to render models to a framebuffer\r\n    // rather than directly to the canvas.\r\n    if (programWrapperStore.isUsingPostProcessingPrograms) {\r\n      bindFramebuffer(this._gl, programWrapperStore.modelsFramebuffer);\r\n      this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\r\n    }\r\n\r\n    // Draw each program separately. This minimizes how many times we need to switch programs by\r\n    // grouping all of the draw calls for models that use the same program/shaders.\r\n    programWrapperStore.forEachModelProgram((programWrapper, drawFrameHandlers) =>\r\n      this._drawModelProgram(programWrapper, drawFrameHandlers));\r\n    programWrapperStore.forEachPostProcessingProgram(\r\n      (programWrapper) => this._drawPostProcessingProgram(programWrapper));\r\n  }\r\n\r\n  /**\r\n   * For the given program key, this binds the registered shader program to the GL rendering context\r\n   * and calls each of the registered draw-frame handlers.\r\n   *\r\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\r\n   * @param {Set.<Function>} [drawFrameHandlers]\r\n   * @private\r\n   */\r\n  _drawModelProgram(programWrapper, drawFrameHandlers) {\r\n    // Check whether we need to switch programs (always true if there is more than one program\r\n    // registered).\r\n    if (this._currentProgramWrapper !== programWrapper) {\r\n      programWrapper.setProgram(this._gl);\r\n      this._currentProgramWrapper = programWrapper;\r\n    }\r\n\r\n    // Call each of the draw-frame handlers that use the current rendering program.\r\n    drawFrameHandlers.forEach(drawFrameHandler => drawFrameHandler());\r\n  }\r\n\r\n  /**\r\n   * For the given program key, this binds the registered shader program to the GL rendering context\r\n   * and calls each of the registered draw-frame handlers.\r\n   *\r\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\r\n   * @private\r\n   */\r\n  _drawPostProcessingProgram(programWrapper) {\r\n    this._currentProgramWrapper = programWrapper;\r\n    programWrapper.draw(this._gl);\r\n  }\r\n\r\n  /**\r\n   * Initializes the WebGL rendering context.\r\n   *\r\n   * @private\r\n   */\r\n  _setUpWebGLContext() {\r\n    // Get the WebGL rendering context.\r\n    try {\r\n      this._gl = getWebGLContext(this._canvas);\r\n    }\r\n    catch (e) {\r\n      alert('WebGL is not supported by your browser! :(');\r\n      throw e;\r\n    }\r\n\r\n    // Have the canvas context match the resolution of the window's viewport.\r\n    bindGLContextToViewportDimensions(this._canvas, this._gl, () => this._updateAspectRatio());\r\n\r\n    // Clear everything to black.\r\n    this._gl.clearColor(0, 0, 0, 1);\r\n    this._gl.clearDepth(1);\r\n\r\n    // Enable depth testing.\r\n    this._gl.enable(this._gl.DEPTH_TEST);\r\n    this._gl.depthFunc(this._gl.LEQUAL);\r\n  }\r\n\r\n  /**\r\n   * Loads, compiles, caches, and initializes some rendering programs.\r\n   *\r\n   * @param {Array.<ProgramWrapperConfig>} programConfigs\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  _preCachePrograms(programConfigs) {\r\n    const promises =\r\n      programConfigs.map(config => programWrapperStore.loadProgramWrapper(this._gl, config));\r\n    return Promise.all(promises);\r\n  }\r\n\r\n  /**\r\n   * Loads, compiles, and caches some textures.\r\n   *\r\n   * @param {Array.<String>} texturePaths\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  _preCacheTextures(texturePaths) {\r\n    return Promise.all(texturePaths\r\n      .map(texturePath => textureStore.loadTexture(this._gl, texturePath)));\r\n  }\r\n\r\n  /**\r\n   * Initializes the scene.\r\n   *\r\n   * @param {Function.<Scene>} sceneFactory\r\n   * @returns {Promise}\r\n   * @abstract\r\n   * @protected\r\n   */\r\n  _setUpScene(sceneFactory) {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   */\r\n  _updateAspectRatio() {\r\n    this._scene.camera.aspectRatio = getViewportWidth() / getViewportHeight();\r\n    _resizeFramebuffersToMatchViewportSize(this._gl);\r\n  }\r\n\r\n  /**\r\n   * @returns {mat4}\r\n   * @protected\r\n   */\r\n  _getViewMatrix() {\r\n    return this._scene.camera.viewMatrix;\r\n  }\r\n\r\n  /**\r\n   * @returns {mat4}\r\n   * @protected\r\n   */\r\n  _getProjectionMatrix() {\r\n    return this._scene.camera.projectionMatrix;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @private\r\n */\r\nfunction _resizeFramebuffersToMatchViewportSize(gl) {\r\n  if (programWrapperStore.isUsingPostProcessingPrograms) {\r\n    const width = getViewportWidth();\r\n    const height = getViewportHeight();\r\n\r\n    // Update the per-model framebuffer texture.\r\n    const texture = programWrapperStore.modelsTexture;\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n\r\n    // Update the per-model framebuffer depth render buffer.\r\n    const renderBuffer = programWrapperStore.modelsRenderBuffer;\r\n    gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\r\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\r\n\r\n    // Update the post-processing framebuffer textures.\r\n    programWrapperStore.forEachPostProcessingProgram(programWrapper => {\r\n      programWrapper.config.childrenFramebufferIds.forEach(id => {\r\n        const texture = programWrapperStore.getTexture(id);\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport { GrafxController };\r\n","/**\r\n * This class defines a light source.\r\n */\r\nclass Light {\r\n  constructor() {\r\n    // TODO\r\n  }\r\n\r\n  // TODO: Implement this.\r\n}\r\n\r\nexport {Light};\r\n","import { ModelGroupController } from '../models';\r\n\r\n/**\r\n * This class handles the overall scene.\r\n */\r\nclass Scene extends ModelGroupController {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} modelControllerParams\r\n   */\r\n  constructor(modelControllerParams) {\r\n    super(modelControllerParams);\r\n\r\n    // Scene is an abstract class. It should not be instantiated directly.\r\n    if (new.target === Scene) {\r\n      throw new TypeError('Cannot construct Scene instances directly');\r\n    }\r\n\r\n    this._getWorldTransform = () => this.worldTransform;\r\n    this._lights = [];\r\n    this._camera = null;\r\n  }\r\n\r\n  reset() {\r\n    super.reset();\r\n    this._lights.forEach(light => light.reset());\r\n    this._camera.reset();\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  updateChildren(currentTime, deltaTime) {\r\n    super.updateChildren(currentTime, deltaTime);\r\n    this._camera.update(currentTime, deltaTime);\r\n  }\r\n\r\n  /** @returns {Camera} */\r\n  get camera() {\r\n    return this._camera;\r\n  }\r\n}\r\n\r\nexport { Scene };\r\n","export * from './src/geometry';\r\nexport * from './src/gl-util';\r\nexport * from './src/hash-map';\r\nexport * from './src/util';\r\n","/**\r\n * This module defines a collection of static geometry utility functions.\r\n */\r\n\r\nimport {randomFloatInRange} from './util';\r\n\r\nconst EPSILON = 0.0000001;\r\nconst DEG_TO_RAD_RATIO = Math.PI / 180;\r\nconst RAD_TO_DEG_RATIO = 180 / Math.PI;\r\nconst HALF_PI = Math.PI / 2;\r\nconst TWO_PI = Math.PI * 2;\r\n\r\n/**\r\n * @param {number} deg\r\n * @returns {number}\r\n */\r\nfunction degToRad(deg) {\r\n  return deg * DEG_TO_RAD_RATIO;\r\n}\r\n\r\n/**\r\n * @param {number} rad\r\n * @returns {number}\r\n */\r\nfunction radToDeg(rad) {\r\n  return rad * RAD_TO_DEG_RATIO;\r\n}\r\n\r\n/**\r\n * This checks whether two floating-point numbers are close enough that they could be equal if not\r\n * for round-off errors.\r\n *\r\n * @param {number} a\r\n * @param {number} b\r\n * @returns {boolean}\r\n */\r\nfunction areClose(a, b) {\r\n  const diff = a - b;\r\n  return (diff > 0 ? diff : -diff) < EPSILON;\r\n}\r\n\r\n/**\r\n * @param {vec3} a\r\n * @param {vec3} b\r\n * @returns {boolean}\r\n */\r\nfunction areVec3sEqual(a, b) {\r\n  return a[0] === b[0] &&\r\n      a[1] === b[1] &&\r\n      a[2] === b[2];\r\n}\r\n\r\n/**\r\n * @param {vec3} v\r\n * @returns {string}\r\n */\r\nfunction vec3ToString(v) {\r\n  return `(${v[0]},${v[1]},${v[2]})`;\r\n}\r\n\r\n/**\r\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\r\n *\r\n * @param {number} [scale=1]\r\n * @returns {vec3}\r\n */\r\nfunction createRandomVec3(scale = 1) {\r\n  const v = vec3.create();\r\n  return setRandomVec3(v, scale);\r\n}\r\n\r\n/**\r\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\r\n *\r\n * @param {vec3} v\r\n * @param {number} [scale=1]\r\n * @returns {vec3}\r\n */\r\nfunction setRandomVec3(v, scale = 1) {\r\n  vec3.set(v, Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5);\r\n  vec3.normalize(v, v);\r\n  vec3.scale(v, v, scale);\r\n  return v;\r\n}\r\n\r\n/**\r\n * Calculates a vector that is orthogonal to the given vector.\r\n *\r\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\r\n *\r\n * @param {vec3} basis\r\n * @param {number} [scale=1]\r\n * @returns {vec3}\r\n */\r\nfunction createRandomOrthogonalVec3(basis, scale = 1) {\r\n  const result = vec3.create();\r\n  return setRandomOrthogonalVec3(result, basis, scale);\r\n}\r\n\r\n/**\r\n * Calculates a vector that is orthogonal to the given vector.\r\n *\r\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\r\n *\r\n * @param {vec3} result\r\n * @param {vec3} basis\r\n * @param {number} [scale=1]\r\n * @returns {vec3}\r\n */\r\nfunction setRandomOrthogonalVec3(result, basis, scale = 1) {\r\n  setRandomVec3(result);\r\n  // This is based on the dot and cross products and the fact that the dot product for two\r\n  // orthogonal vectors is zero.\r\n  result[2] = -(basis[0] * result[0] + basis[1] * result[1]) / basis[2];\r\n  vec3.normalize(result, result);\r\n  vec3.scale(result, result, scale);\r\n  return result;\r\n}\r\n\r\n/**\r\n * @param {vec3} avg\r\n * @param {vec3} range\r\n * @returns {vec3}\r\n * @private\r\n */\r\nfunction randomVec3InRange(avg, range) {\r\n  const position = vec3.create();\r\n  for (let i = 0; i < 3; i++) {\r\n    const min = avg[i] - range[i] / 2;\r\n    const max = avg[i] + range[i] / 2;\r\n    position[i] = randomFloatInRange(min, max);\r\n  }\r\n  return position;\r\n}\r\n\r\n/**\r\n * Rotates the given vector around a random orthogonal axis by a random angle within the given angle\r\n * bounds.\r\n *\r\n * @param {vec3} v\r\n * @param {number} minRotationAngle\r\n * @param {number} maxRotationAngle\r\n */\r\nfunction addRandomRotationToVector(v, minRotationAngle, maxRotationAngle) {\r\n  // Create a random orthogonal axis.\r\n  const rotationAxis = createRandomVec3();\r\n  vec3.cross(rotationAxis, rotationAxis, v);\r\n  vec3.normalize(rotationAxis, rotationAxis);\r\n\r\n  // Create a random angle.\r\n  const rotationAngle = randomFloatInRange(minRotationAngle, maxRotationAngle);\r\n\r\n  // Create a rotation quaternion.\r\n  const rotation = quat.create();\r\n  quat.setAxisAngle(rotation, rotationAxis, rotationAngle);\r\n\r\n  // Apply the rotation to the vector.\r\n  vec3.transformQuat(v, v, rotation);\r\n}\r\n\r\n/**\r\n * @param {quat} out\r\n * @param {quat} a\r\n * @param {quat} b\r\n * @param {number} scale\r\n * @returns {quat}\r\n */\r\nfunction scaleAndAddQuat(out, a, b, scale) {\r\n  return quat.set(out,\r\n      a[0] + b[0] * scale,\r\n      a[1] + b[1] * scale,\r\n      a[2] + b[2] * scale,\r\n      a[3] + b[3] * scale);\r\n}\r\n\r\n/**\r\n * @param {vec3} v\r\n * @returns {number}\r\n */\r\nfunction getMaxVec3Dimension(v) {\r\n  let max = v[0] > v[1] ? v[0] : v[1];\r\n  max = max > v[2] ? max : v[2];\r\n  return max;\r\n}\r\n\r\nexport {\r\n  EPSILON,\r\n  HALF_PI,\r\n  TWO_PI,\r\n  degToRad,\r\n  radToDeg,\r\n  areClose,\r\n  areVec3sEqual,\r\n  vec3ToString,\r\n  createRandomVec3,\r\n  setRandomVec3,\r\n  createRandomOrthogonalVec3,\r\n  setRandomOrthogonalVec3,\r\n  randomVec3InRange,\r\n  addRandomRotationToVector,\r\n  scaleAndAddQuat,\r\n  getMaxVec3Dimension,\r\n};\r\n","/**\r\n * This module defines a collection of static general utility functions for WebGL.\r\n */\r\n\r\nimport {HashMap} from './hash-map';\r\nimport {HALF_PI, TWO_PI} from './geometry';\r\nimport {debounce, isInDevMode, loadText} from './util';\r\nimport {programWrapperStore} from '../../program-wrapper/src/program-wrapper-store';\r\n\r\nlet viewportWidth = 10;\r\nlet viewportHeight = 10;\r\n\r\n/**\r\n * @param {HTMLCanvasElement} canvas\r\n * @returns {?WebGLRenderingContext}\r\n * @throws If unable to get a WebGL context.\r\n */\r\nfunction getWebGLContext(canvas) {\r\n  const params = {alpha: false};\r\n  // Try to grab the standard context. If it fails, fallback to the experimental context.\r\n  return canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params);\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @returns {?WebGLBuffer}\r\n * @throws If unable to create a buffer object.\r\n */\r\nfunction createBuffer(gl) {\r\n  const buffer = gl.createBuffer();\r\n  if (!buffer) {\r\n    throw new Error('An error occurred creating the buffer object');\r\n  }\r\n  return buffer;\r\n}\r\n// TODO: use all this helper stuff in the programWrapper logic?\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {WebGLProgram} program\r\n * @param {string} locationName\r\n * @returns {number}\r\n * @throws If unable to get an attribute location for the given name.\r\n */\r\nfunction getAttribLocation(gl, program, locationName) {\r\n  const attribLocation = gl.getAttribLocation(program, locationName);\r\n  if (attribLocation < 0) {\r\n    throw new Error(`An error occurred getting the attribute location: ${locationName}`);\r\n  }\r\n  return attribLocation;\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {WebGLShader} vertexShader\r\n * @param {WebGLShader} fragmentShader\r\n * @returns {WebGLProgram}\r\n * @throws If unable to link the program.\r\n */\r\nfunction buildProgram(gl, vertexShader, fragmentShader) {\r\n  const program = gl.createProgram();\r\n  gl.attachShader(program, vertexShader);\r\n  gl.attachShader(program, fragmentShader);\r\n  gl.linkProgram(program);\r\n\r\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n    const infoLog = gl.getProgramInfoLog(program);\r\n    console.error('An error occurred linking the shader program', infoLog);\r\n    throw new Error('An error occurred linking the shader program');\r\n  }\r\n\r\n  return program;\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {string} shaderSource\r\n * @param {boolean} isFragmentShader\r\n * @returns {WebGLShader}\r\n * @throws If unable to compile the shader.\r\n */\r\nfunction buildShader(gl, shaderSource, isFragmentShader) {\r\n  const shaderType = isFragmentShader ? gl.FRAGMENT_SHADER : gl.VERTEX_SHADER;\r\n  const shader = gl.createShader(shaderType);\r\n  gl.shaderSource(shader, shaderSource);\r\n  gl.compileShader(shader);\r\n\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n    const infoLog = gl.getShaderInfoLog(shader);\r\n    console.error('An error occurred compiling the shader', infoLog);\r\n    throw new Error('An error occurred compiling the shader');\r\n  }\r\n\r\n  return shader;\r\n}\r\n\r\n/**\r\n * Loads a shader program by scouring the current document, looking for a script with the specified\r\n * ID.\r\n *\r\n * @param {WebGLRenderingContext} gl\r\n * @param {string} url\r\n * @returns {Promise.<WebGLShader, Error>}\r\n */\r\nfunction loadShader(gl, url) {\r\n  return loadText(url)\r\n      .then(shaderSource => buildShader(gl, shaderSource, url.endsWith('.frag')));\r\n}\r\n\r\n/**\r\n * Loads the shader source code from the given URLs, compiles the shader source code, and creates\r\n * a program from the resulting shaders.\r\n *\r\n * @param {WebGLRenderingContext} gl\r\n * @param {string} vertexShaderUrl\r\n * @param {string} fragmentShaderUrl\r\n * @returns {Promise.<WebGLProgram, Error>}\r\n * @throws If any error occurs while loading and building the shaders and program.\r\n */\r\nfunction loadProgram(gl, vertexShaderUrl, fragmentShaderUrl) {\r\n  return Promise.all([\r\n        vertexShaderUrl,\r\n        fragmentShaderUrl\r\n      ].map(url => loadShader(gl, url)))\r\n      .then(shaders => {\r\n        const vertexShader = shaders[0];\r\n        const fragmentShader = shaders[1];\r\n\r\n        return buildProgram(gl, vertexShader, fragmentShader);\r\n      });\r\n}\r\n\r\n/**\r\n * Create, bind, and move the given raw data into a WebGL buffer.\r\n *\r\n * @param {WebGLRenderingContext} gl\r\n * @param {Array.<Number>} rawData A plain, flat array containing the data to bind to a buffer.\r\n * @param {number} [target=gl.ARRAY_BUFFER] An enum describing the type of this buffer; one of:\r\n *   - gl.ARRAY_BUFFER,\r\n *   - gl.ELEMENT_ARRAY_BUFFER.\r\n * @param {number} [usage=gl.STATIC_DRAW] An enum describing how this buffer is going to be used;\r\n * one of:\r\n *   - gl.STATIC_DRAW,\r\n *   - gl.DYNAMIC_DRAW,\r\n *   - gl.STREAM_DRAW.\r\n * @returns {WebGLBuffer}\r\n */\r\nfunction createBufferFromData(gl, rawData, target, usage) {\r\n  target = target || gl.ARRAY_BUFFER;\r\n  usage = usage || gl.STATIC_DRAW;\r\n  const typedArray = target === gl.ARRAY_BUFFER ? new Float32Array(rawData) : new Uint16Array(rawData);\r\n\r\n  const buffer = gl.createBuffer();\r\n  gl.bindBuffer(target, buffer);\r\n  gl.bufferData(target, typedArray, usage);\r\n\r\n  // Making the original data visible on the buffer object is helpful for debugging.\r\n  if (isInDevMode) {\r\n    buffer.rawData = typedArray;\r\n  }\r\n\r\n  return buffer;\r\n}\r\n\r\n/**\r\n * Adjusts the dimensions of the given element to match those of the viewport. Also, when the\r\n * viewport is resized, the given element will also be resized to match.\r\n *\r\n * @param {HTMLCanvasElement} canvas\r\n * @param {WebGLRenderingContext} gl\r\n * @param {Function} onGLResized\r\n * @param {?Number} [updateInterval=150]\r\n */\r\nfunction bindGLContextToViewportDimensions(canvas, gl, onGLResized, updateInterval = 150) {\r\n  _resizeGLContextToMatchViewportDimensions(canvas, gl);\r\n  const debouncedResize =\r\n      debounce(_ => {\r\n        _resizeGLContextToMatchViewportDimensions(canvas, gl);\r\n        onGLResized();\r\n      }, updateInterval);\r\n  window.addEventListener('resize', debouncedResize);\r\n}\r\n\r\n/**\r\n * Resizes the given element to match the dimensions of the viewport components.\r\n *\r\n * @param {HTMLCanvasElement} canvas\r\n * @param {WebGLRenderingContext} gl\r\n * @private\r\n */\r\nfunction _resizeGLContextToMatchViewportDimensions(canvas, gl) {\r\n  // Account for high-definition DPI displays.\r\n  const devicePixelToCssPixelRatio = window.devicePixelRatio || 1;\r\n  viewportWidth = Math.floor(canvas.clientWidth * devicePixelToCssPixelRatio);\r\n  viewportHeight = Math.floor(canvas.clientHeight * devicePixelToCssPixelRatio);\r\n  canvas.width = viewportWidth;\r\n  canvas.height = viewportHeight;\r\n  gl.viewport(0, 0, viewportWidth, viewportHeight);\r\n}\r\n\r\n/**\r\n * @returns {number}\r\n */\r\nfunction getViewportWidth() {\r\n  return viewportWidth;\r\n}\r\n\r\n/**\r\n * @returns {number}\r\n */\r\nfunction getViewportHeight() {\r\n  return viewportHeight;\r\n}\r\n\r\n/**\r\n * Binds a framebuffer to the GL context.\r\n *\r\n * @param {WebGLRenderingContext} gl\r\n * @param {WebGLFramebuffer} framebuffer\r\n */\r\nfunction bindFramebuffer(gl, framebuffer, width, height) {\r\n  // FIXME: Remove or add back in?\r\n  // width = width || getViewportWidth();\r\n  // height = height || getViewportHeight();\r\n\r\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n  // FIXME: Remove or add back in?\r\n  // gl.viewport(0, 0, width, height);\r\n}\r\n\r\n/**\r\n * Creates a framebuffer and attaches a texture to the framebuffer.\r\n *\r\n * This means that when we bind to the framebuffer, draw calls will render to the given texture.\r\n *\r\n * @param {WebGLRenderingContext} gl\r\n * @param {WebGLTexture} texture\r\n * @param {WebGLRenderBuffer} [renderBuffer]\r\n * @returns {WebGLFramebuffer}\r\n */\r\nfunction createFramebuffer(gl, texture, renderBuffer) {\r\n  const framebuffer = gl.createFramebuffer();\r\n\r\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n  if (renderBuffer) {\r\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderBuffer);\r\n  }\r\n\r\n  return framebuffer;\r\n}\r\n\r\n/**\r\n * Creates a texture for rendering to.\r\n *\r\n * @param {WebGLRenderingContext} gl\r\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\r\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\r\n * @returns {WebGLTexture}\r\n */\r\nfunction createTextureForRendering(gl, width, height) {\r\n  width = width || getViewportWidth();\r\n  height = height || getViewportHeight();\r\n\r\n  // TODO: Double-check these params\r\n  const texture = gl.createTexture();\r\n  gl.bindTexture(gl.TEXTURE_2D, texture);\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n\r\n  return texture;\r\n}\r\n\r\n/**\r\n * Creates a render buffer.\r\n *\r\n * @param {WebGLRenderingContext} gl\r\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\r\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\r\n * @returns {WebGLRenderBuffer}\r\n */\r\nfunction createRenderBuffer(gl, width, height) {\r\n  width = width || getViewportWidth();\r\n  height = height || getViewportHeight();\r\n\r\n  const renderBuffer = gl.createRenderbuffer();\r\n  gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\r\n  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\r\n\r\n  return renderBuffer;\r\n}\r\n\r\nconst _SQUARE_COORDINATES_2D = [\r\n  0, 0,\r\n  1, 0,\r\n  0, 1,\r\n\r\n  1, 0,\r\n  1, 1,\r\n  0, 1,\r\n];\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @returns {AttributeConfig}\r\n */\r\nfunction create2DSquarePositionsConfig(gl) {\r\n  const positionsBuffer = createBufferFromData(gl, _SQUARE_COORDINATES_2D);\r\n  return {\r\n    buffer: positionsBuffer,\r\n    size: 2,\r\n    type: gl.FLOAT,\r\n    normalized: false,\r\n    stride: 0,\r\n    offset: 0\r\n  };\r\n}\r\n\r\n//\r\n// Geometrical calculations.\r\n//\r\n\r\n/**\r\n * Given an array of individual vertex positions and an array of vertex indices, creates an expanded\r\n * array of the positions grouped by the triangles they form.\r\n *\r\n * @param {Array.<Number>} individualVertexPositions\r\n * @param {Array.<Number>} vertexIndices\r\n * @returns {Array.<Number>}\r\n */\r\nfunction expandVertexIndicesToDuplicatePositions(individualVertexPositions, vertexIndices) {\r\n  const expandedVertexPositions = [];\r\n\r\n  for (let i = 0, j = 0, k = 0, count = vertexIndices.length; i < count; i++, k += 3) {\r\n    j = vertexIndices[i] * 3;\r\n\r\n    expandedVertexPositions[k] = individualVertexPositions[j];\r\n    expandedVertexPositions[k + 1] = individualVertexPositions[j + 1];\r\n    expandedVertexPositions[k + 2] = individualVertexPositions[j + 2];\r\n  }\r\n\r\n  return expandedVertexPositions;\r\n}\r\n\r\n/**\r\n * Computes normal vectors that are each orthogonal to the triangles they are a part of.\r\n *\r\n * The given vertices should represent individual triangles whose vertices are defined in clockwise\r\n * order (as seen when looking at the exterior side).\r\n *\r\n * @param {Array.<Number>} vertices\r\n * @returns {Array.<Number>}\r\n */\r\nfunction calculateOrthogonalVertexNormals(vertices) {\r\n  const vertex1 = vec3.create();\r\n  const vertex2 = vec3.create();\r\n  const vertex3 = vec3.create();\r\n  const vectorA = vec3.create();\r\n  const vectorB = vec3.create();\r\n  const normal1 = vec3.create();\r\n  const normal2 = vec3.create();\r\n  const normal3 = vec3.create();\r\n\r\n  const normals = [];\r\n\r\n  // Loop over each triangle in the flattened vertex array.\r\n  for (let i = 0, count = vertices.length; i < count; i += 9) {\r\n    // Get the vertices of the current triangle from the flattened array.\r\n    vec3.set(vertex1, vertices[i + 0], vertices[i + 1], vertices[i + 2]);\r\n    vec3.set(vertex2, vertices[i + 3], vertices[i + 4], vertices[i + 5]);\r\n    vec3.set(vertex3, vertices[i + 6], vertices[i + 7], vertices[i + 8]);\r\n\r\n    // Compute the normals.\r\n    vec3.subtract(vectorA, vertex3, vertex1);\r\n    vec3.subtract(vectorB, vertex2, vertex1);\r\n    vec3.cross(normal1, vectorA, vectorB);\r\n    vec3.normalize(normal1, normal1);\r\n\r\n    vec3.subtract(vectorA, vertex1, vertex2);\r\n    vec3.subtract(vectorB, vertex3, vertex2);\r\n    vec3.cross(normal2, vectorA, vectorB);\r\n    vec3.normalize(normal2, normal2);\r\n\r\n    vec3.subtract(vectorA, vertex2, vertex3);\r\n    vec3.subtract(vectorB, vertex1, vertex3);\r\n    vec3.cross(normal3, vectorA, vectorB);\r\n    vec3.normalize(normal3, normal3);\r\n\r\n    // Save the normal vectors in a flattened array.\r\n    normals[i + 0] = normal1[0];\r\n    normals[i + 1] = normal1[1];\r\n    normals[i + 2] = normal1[2];\r\n    normals[i + 3] = normal2[0];\r\n    normals[i + 4] = normal2[1];\r\n    normals[i + 5] = normal2[2];\r\n    normals[i + 6] = normal3[0];\r\n    normals[i + 7] = normal3[1];\r\n    normals[i + 8] = normal3[2];\r\n  }\r\n\r\n  return normals;\r\n}\r\n\r\nconst MAX_TEXTURE_V_COORDINATE_DELTA = 0.5;\r\n\r\n/**\r\n * Calculates lat-long texture coordinates for the given vertex positions.\r\n *\r\n * @param {Array.<Number>} vertexPositions\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction calculateLatLongTextureCoordinates(vertexPositions) {\r\n  const currentVertexPosition = vec3.create();\r\n  const currentTextureCoordinates = vec2.create();\r\n  const textureCoordinates = [];\r\n\r\n  // Calculate the texture coordinates of each vertex.\r\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\r\n    vec3.set(currentVertexPosition,\r\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\r\n    _getTextureCoordinatesOfLatLongPosition(currentTextureCoordinates, currentVertexPosition);\r\n    textureCoordinates[j] = currentTextureCoordinates[0];\r\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\r\n  }\r\n\r\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\r\n\r\n  return textureCoordinates;\r\n}\r\n\r\n/**\r\n * Calculates cylindrical texture coordinates for the given vertex positions.\r\n *\r\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\r\n *\r\n * @param {Array.<Number>} vertexPositions\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction calculateCylindricalTextureCoordinates(vertexPositions) {\r\n  const currentVertexPosition = vec3.create();\r\n  const currentTextureCoordinates = vec2.create();\r\n  const textureCoordinates = [];\r\n\r\n  // Calculate the texture coordinates of each vertex.\r\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\r\n    vec3.set(currentVertexPosition,\r\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\r\n    _getTextureCoordinatesOfCylindricalPosition(currentTextureCoordinates, currentVertexPosition);\r\n    textureCoordinates[j] = currentTextureCoordinates[0];\r\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\r\n  }\r\n\r\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\r\n\r\n  return textureCoordinates;\r\n}\r\n\r\n/**\r\n * @param {Array.<Number>} textureCoordinates\r\n */\r\nfunction _correctTextureForTrianglesAroundSeam(textureCoordinates) {\r\n  let v1;\r\n  let v2;\r\n  let v3;\r\n\r\n  // Determine which triangles span the seam across 0/2PI, and correct their textures.\r\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 6) {\r\n    v1 = textureCoordinates[i];\r\n    v2 = textureCoordinates[i + 2];\r\n    v3 = textureCoordinates[i + 4];\r\n\r\n    if (v3 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA || v2 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA) {\r\n      textureCoordinates[i]++;\r\n    }\r\n    if (v3 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA) {\r\n      textureCoordinates[i + 2]++;\r\n    }\r\n    if (v2 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA) {\r\n      textureCoordinates[i + 4]++;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Calculate the texture coordinates for a normalized point on a globe.\r\n *\r\n * @param {vec2} textureCoordinates Output parameter.\r\n * @param {vec3} vertexPosition Input parameter.\r\n * @private\r\n */\r\nfunction _getTextureCoordinatesOfLatLongPosition(textureCoordinates, vertexPosition) {\r\n  const x = vertexPosition[0];\r\n  const y = vertexPosition[1];\r\n  const z = vertexPosition[2];\r\n\r\n  let longitude;\r\n  if (y !== 0) {\r\n    longitude = Math.atan2(x, y);\r\n  } else if (x > 0) {\r\n    longitude = HALF_PI;\r\n  } else {\r\n    longitude = -HALF_PI;\r\n  }\r\n\r\n  const u = (longitude + Math.PI) / TWO_PI;\r\n\r\n  // TODO: Should I instead be calculating the v value from wrapping the texture around the globe\r\n  // curvature rather than simply projecting it directly?\r\n\r\n  // This assumes that the texture has been vertically distorted so that it can be directly\r\n  // projected onto the curvature of the globe.\r\n  const v = (z + 1) * 0.5;\r\n\r\n  textureCoordinates[0] = u;\r\n  textureCoordinates[1] = v;\r\n}\r\n\r\n/**\r\n * Calculate the texture coordinates for a normalized point on a cylinder.\r\n *\r\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\r\n *\r\n * @param {vec2} textureCoordinates Output parameter.\r\n * @param {vec3} vertexPosition Input parameter.\r\n * @private\r\n */\r\nfunction _getTextureCoordinatesOfCylindricalPosition(textureCoordinates, vertexPosition) {\r\n  const x = vertexPosition[0];\r\n  const y = vertexPosition[1];\r\n  const z = vertexPosition[2];\r\n\r\n  let longitude;\r\n  if (y !== 0) {\r\n    longitude = Math.atan2(x, y);\r\n  } else if (x > 0) {\r\n    longitude = HALF_PI;\r\n  } else {\r\n    longitude = -HALF_PI;\r\n  }\r\n\r\n  const u = (longitude + Math.PI) / TWO_PI;\r\n\r\n  const v = z > 0 ? 1 : 0;\r\n\r\n  textureCoordinates[0] = u;\r\n  textureCoordinates[1] = v;\r\n}\r\n\r\n/**\r\n * Expands the given vertices around the seam where longitude switches from 0 to 2PI.\r\n *\r\n * This is useful because, when applying a spherical texture using lat-long coordinates, any\r\n * triangle that spans the seam (from longitude 2PI to 0) would otherwise show the wrong result.\r\n *\r\n * @param {Array.<Number>} oldVertexPositions\r\n * @param {Array.<Number>} oldVertexIndices\r\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\r\n */\r\nfunction expandVertexIndicesAroundLongitudeSeam(oldVertexPositions, oldVertexIndices) {\r\n  // const newVertexPositions = [];\r\n  // const newVertexIndices = [];\r\n  //\r\n  // ****\r\n  // // TODO: loop over triangles, use _getTextureCoordinatesOfLatLongPosition on each vertex,\r\n  // // check if two vertices in a triangle span the seam; to check the span, just check if both are\r\n  // // within a distance from the seam, but on opposite ends;\r\n  //\r\n  // return {\r\n  //   vertexPositions: newVertexPositions,\r\n  //   vertexIndices: newVertexIndices\r\n  // };\r\n\r\n  return {\r\n    vertexPositions: oldVertexPositions,\r\n    vertexIndices: oldVertexIndices\r\n  };\r\n}\r\n\r\n/**\r\n * Subdivides the triangles of a shape and projects all resulting vertices to a radius of one.\r\n *\r\n * @param {number} divisionFactor\r\n * @param {Array.<Number>} oldPositions\r\n * @param {Array.<Number>} [oldIndices]\r\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\r\n */\r\nfunction tesselateSphere(divisionFactor, oldPositions, oldIndices) {\r\n  const newPositions = _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices);\r\n\r\n  // Convert the expanded positions array into a unique positions array with a corresponding indices\r\n  // array.\r\n  const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(newPositions);\r\n\r\n  // Project the given positions to a distance of one.\r\n  _normalizePositions(positionsAndIndices.vertexPositions, positionsAndIndices.vertexPositions);\r\n\r\n  return positionsAndIndices;\r\n}\r\n\r\n/**\r\n * Subdivides triangles.\r\n *\r\n * This has the side-effect of flattening the given vertices into an expanded list that can contain\r\n * duplicate positions.\r\n *\r\n * @param {number} divisionFactor\r\n * @param {Array.<Number>} oldPositions\r\n * @param {Array.<Number>} [oldIndices]\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices) {\r\n  const expandedOldPositions = oldIndices\r\n      ? expandVertexIndicesToDuplicatePositions(oldPositions, oldIndices)\r\n      : oldPositions;\r\n\r\n  const newPositions = [];\r\n  const a = vec3.create();\r\n  const b = vec3.create();\r\n  const c = vec3.create();\r\n  const aToB = vec3.create();\r\n  const aToC = vec3.create();\r\n  const bToC = vec3.create();\r\n  const rowDelta = vec3.create();\r\n  const columnDelta = vec3.create();\r\n  const backwardsDelta = vec3.create();\r\n  const rowStartPoint = vec3.create();\r\n  const rowColumnStartPoint = vec3.create();\r\n  const tempVec = vec3.create();\r\n\r\n  let oldIndex;\r\n  let count;\r\n  let newIndex;\r\n  let rowIndex;\r\n  let columnIndex;\r\n\r\n  //\r\n  // The basic tesselation algorithm:\r\n  // - Iterate across the original triangles that we are sub-dividing.\r\n  // - A, B, and C are the vertices of the current, original triangle.\r\n  // - Consider \"rows\" to iterate across the a-to-b direction and \"columns\" to iterate across the\r\n  //   a-to-c direction.\r\n  // - First calculate the distance between one row and one column.\r\n  // - Then loop over the rows and columns and create a the new triangle for each \"cell\".\r\n  //\r\n  //                   /\\\r\n  //                 B   \\--- A \"column\"\r\n  //                 o    \\\r\n  //                / \\   /\r\n  //               /   \\             rowDelta:      columnDelta:     backwardsDelta:\r\n  //              o-----o                 o             o\r\n  //             / \\   / \\               /               \\              o-----o\r\n  //            /   \\ /   \\             /                 \\\r\n  //           o-----o-----o           o                   o\r\n  //          / \\   / \\   / \\\r\n  //         /   \\ /   \\ /   \\\r\n  //        o-----o-----o-----o\r\n  //       / \\   / \\   / \\   / \\\r\n  //      /   \\ /   \\ /   \\ /   \\\r\n  //  A  o-----o-----o-----o-----o  C\r\n  //\r\n  //       \\_____\\\r\n  //           \\\r\n  //         A \"row\"\r\n  //\r\n\r\n  // Loop over the old triangles.\r\n  for (oldIndex = 0, newIndex = 0, count = expandedOldPositions.length;\r\n       oldIndex < count;\r\n       oldIndex += 9) {\r\n    // Pull out the three vertices of the current triangle.\r\n    vec3.set(a,\r\n        expandedOldPositions[oldIndex],\r\n        expandedOldPositions[oldIndex + 1],\r\n        expandedOldPositions[oldIndex + 2]);\r\n    vec3.set(b,\r\n        expandedOldPositions[oldIndex + 3],\r\n        expandedOldPositions[oldIndex + 4],\r\n        expandedOldPositions[oldIndex + 5]);\r\n    vec3.set(c,\r\n        expandedOldPositions[oldIndex + 6],\r\n        expandedOldPositions[oldIndex + 7],\r\n        expandedOldPositions[oldIndex + 8]);\r\n\r\n    vec3.subtract(aToB, b, a);\r\n    vec3.subtract(bToC, c, b);\r\n    vec3.subtract(aToC, c, a);\r\n\r\n    vec3.scale(rowDelta, aToB, 1 / divisionFactor);\r\n    vec3.scale(columnDelta, bToC, 1 / divisionFactor);\r\n    vec3.scale(backwardsDelta, aToC, 1 / divisionFactor);\r\n\r\n    // Loop over each new division (row) for the current triangle.\r\n    for (rowIndex = 0; rowIndex < divisionFactor; rowIndex++) {\r\n      vec3.scaleAndAdd(rowStartPoint, a, rowDelta, rowIndex);\r\n\r\n      // Create the first triangle in the row (address the fence-post problem).\r\n      newPositions[newIndex++] = rowStartPoint[0];\r\n      newPositions[newIndex++] = rowStartPoint[1];\r\n      newPositions[newIndex++] = rowStartPoint[2];\r\n      vec3.add(tempVec, rowStartPoint, rowDelta);\r\n      newPositions[newIndex++] = tempVec[0];\r\n      newPositions[newIndex++] = tempVec[1];\r\n      newPositions[newIndex++] = tempVec[2];\r\n      vec3.add(tempVec, rowStartPoint, backwardsDelta);\r\n      newPositions[newIndex++] = tempVec[0];\r\n      newPositions[newIndex++] = tempVec[1];\r\n      newPositions[newIndex++] = tempVec[2];\r\n\r\n      // Loop over the new triangles in the current division.\r\n      for (columnIndex = 1; columnIndex <= rowIndex; columnIndex++) {\r\n        vec3.scaleAndAdd(rowColumnStartPoint, rowStartPoint, columnDelta, columnIndex);\r\n\r\n        newPositions[newIndex++] = rowColumnStartPoint[0];\r\n        newPositions[newIndex++] = rowColumnStartPoint[1];\r\n        newPositions[newIndex++] = rowColumnStartPoint[2];\r\n        vec3.subtract(tempVec, rowColumnStartPoint, columnDelta);\r\n        newPositions[newIndex++] = tempVec[0];\r\n        newPositions[newIndex++] = tempVec[1];\r\n        newPositions[newIndex++] = tempVec[2];\r\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\r\n        newPositions[newIndex++] = tempVec[0];\r\n        newPositions[newIndex++] = tempVec[1];\r\n        newPositions[newIndex++] = tempVec[2];\r\n\r\n        newPositions[newIndex++] = rowColumnStartPoint[0];\r\n        newPositions[newIndex++] = rowColumnStartPoint[1];\r\n        newPositions[newIndex++] = rowColumnStartPoint[2];\r\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\r\n        newPositions[newIndex++] = tempVec[0];\r\n        newPositions[newIndex++] = tempVec[1];\r\n        newPositions[newIndex++] = tempVec[2];\r\n        vec3.add(tempVec, rowColumnStartPoint, backwardsDelta);\r\n        newPositions[newIndex++] = tempVec[0];\r\n        newPositions[newIndex++] = tempVec[1];\r\n        newPositions[newIndex++] = tempVec[2];\r\n      }\r\n    }\r\n  }\r\n\r\n  return newPositions;\r\n}\r\n\r\n/**\r\n * Projects the given positions to a distance of one.\r\n *\r\n * @param {Array.<Number>} out\r\n * @param {Array.<Number>} positions\r\n * @private\r\n */\r\nfunction _normalizePositions(out, positions) {\r\n  const tempVec = vec3.create();\r\n\r\n  for (let i = 0, count = positions.length; i < count; i += 3) {\r\n    vec3.set(tempVec, positions[i], positions[i + 1], positions[i + 2]);\r\n\r\n    vec3.normalize(tempVec, tempVec);\r\n\r\n    out[i] = tempVec[0];\r\n    out[i + 1] = tempVec[1];\r\n    out[i + 2] = tempVec[2];\r\n  }\r\n}\r\n\r\n/**\r\n * Given a collection of vertices that possibly contains duplicates, creates an array of the unique\r\n * vertex positions and an array of the indices of the original, duplicated vertices in the unique\r\n * array.\r\n *\r\n * This is useful for rendering using gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\r\n * gl.drawArrays.\r\n *\r\n * NOTE: Although this function does partially address floating-point round-off errors within the\r\n * given positions, it does not guarantee correctness.\r\n *\r\n * @param {Array.<Number>} oldVertexPositions\r\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\r\n */\r\nfunction dedupVertexArrayWithPositionsAndIndicesArrays(oldVertexPositions) {\r\n  const vertexPositions = [];\r\n  const vertexIndices = [];\r\n\r\n  const vertexToIndexMap = new HashMap(_vertexHashFunction);\r\n  const vertex = vec3.create();\r\n  let oldCoordinateIndex;\r\n  let oldCoordinateCount;\r\n  let newVertexIndex;\r\n\r\n  // Loop over the original, duplicated vertex positions.\r\n  for (oldCoordinateIndex = 0, oldCoordinateCount = oldVertexPositions.length;\r\n       oldCoordinateIndex < oldCoordinateCount;\r\n       oldCoordinateIndex += 3) {\r\n    vec3.set(vertex,\r\n        oldVertexPositions[oldCoordinateIndex],\r\n        oldVertexPositions[oldCoordinateIndex + 1],\r\n        oldVertexPositions[oldCoordinateIndex + 2]);\r\n\r\n    // Has this position already been recorded?\r\n    if (!vertexToIndexMap.has(vertex)) {\r\n      // Record the index of the unique vertex position.\r\n      newVertexIndex = vertexPositions.length / 3;\r\n      vertexToIndexMap.set(vertex, newVertexIndex);\r\n\r\n      // Record the unique vertex position.\r\n      vertexPositions.push(vertex[0]);\r\n      vertexPositions.push(vertex[1]);\r\n      vertexPositions.push(vertex[2]);\r\n    }\r\n\r\n    newVertexIndex = vertexToIndexMap.get(vertex);\r\n\r\n    // Record the index of the unique position.\r\n    vertexIndices.push(newVertexIndex);\r\n  }\r\n\r\n  return {\r\n    vertexPositions: vertexPositions,\r\n    vertexIndices: vertexIndices\r\n  };\r\n}\r\n\r\nconst _VERTEX_COORDINATE_BUCKET_SIZE_DIGITS = 4;\r\n\r\n// This offset is important for preventing bucket-aligned numbers from being placed in inconsistent\r\n// buckets. For example, whole integer values could easily be placed in lower or higher buckets\r\n// depending on round-off error.\r\nconst _OFFSET = Math.random();\r\n\r\n/**\r\n * Calculates a hash code for the given vertex.\r\n *\r\n * NOTE: This does not guarantee correct results. Due to round-off error, \"equal\" coordinates could\r\n * be calculated is being in different buckets. Larger bucket sizes might reduce the rate of false\r\n * negatives, but with the trade-off of potentially introducing false positives.\r\n *\r\n * @param {vec3} vertex\r\n * @returns {string}\r\n * @private\r\n */\r\nfunction _vertexHashFunction(vertex) {\r\n  return `${(vertex[0] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\r\n      `${(vertex[1] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\r\n      `${(vertex[2] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)}`;\r\n}\r\n\r\n/**\r\n * Calculate the vertex positions for a section of a sphere.\r\n *\r\n * - These points will lie along latitude-longitude lines.\r\n * - The shape is centered around the origin with the poles aligned with the z-axis.\r\n * - The radius of the circle will be one.\r\n *\r\n * @param {number} startPitchIndex\r\n * @param {number} endPitchIndex\r\n * @param {number} deltaPitch\r\n * @param {number} startAzimuthIndex\r\n * @param {number} endAzimuthIndex\r\n * @param {number} deltaAzimuth\r\n * @return {Array.<Number>}\r\n * @private\r\n */\r\nfunction calculateSphericalSection(startPitchIndex, endPitchIndex, deltaPitch,\r\n                                   startAzimuthIndex, endAzimuthIndex, deltaAzimuth) {\r\n  const vertexPositions = [];\r\n  let vertexPositionsIndex = 0;\r\n\r\n  let pitchIndex;\r\n  let azimuthIndex;\r\n  let lowerPitch;\r\n  let upperPitch;\r\n  let lowerAzimuth;\r\n  let upperAzimuth;\r\n  let x1;\r\n  let y1;\r\n  let z1;\r\n  let x2;\r\n  let y2;\r\n  let z2;\r\n  let x3;\r\n  let y3;\r\n  let z3;\r\n  let x4;\r\n  let y4;\r\n  let z4;\r\n\r\n  // TODO: This implementation calculates all coordinates multiple times. Refactor it to be more\r\n  // efficient.\r\n\r\n  // Loop over each latitudinal strip.\r\n  for (pitchIndex = startPitchIndex; pitchIndex < endPitchIndex; pitchIndex++) {\r\n    lowerPitch = deltaPitch * pitchIndex;\r\n    upperPitch = deltaPitch + lowerPitch;\r\n\r\n    // Create the triangles for the strip at the current pitch.\r\n    for (azimuthIndex = startAzimuthIndex; azimuthIndex < endAzimuthIndex; azimuthIndex++) {\r\n      lowerAzimuth = deltaAzimuth * azimuthIndex;\r\n      upperAzimuth = deltaAzimuth + lowerAzimuth;\r\n\r\n      // The corners of the current square.\r\n\r\n      x1 = Math.sin(lowerPitch) * Math.cos(lowerAzimuth);\r\n      y1 = Math.sin(lowerPitch) * Math.sin(lowerAzimuth);\r\n      z1 = Math.cos(lowerPitch);\r\n\r\n      x2 = Math.sin(upperPitch) * Math.cos(lowerAzimuth);\r\n      y2 = Math.sin(upperPitch) * Math.sin(lowerAzimuth);\r\n      z2 = Math.cos(upperPitch);\r\n\r\n      x3 = Math.sin(lowerPitch) * Math.cos(upperAzimuth);\r\n      y3 = Math.sin(lowerPitch) * Math.sin(upperAzimuth);\r\n      z3 = Math.cos(lowerPitch);\r\n\r\n      x4 = Math.sin(upperPitch) * Math.cos(upperAzimuth);\r\n      y4 = Math.sin(upperPitch) * Math.sin(upperAzimuth);\r\n      z4 = Math.cos(upperPitch);\r\n\r\n      // The first triangle.\r\n\r\n      vertexPositions[vertexPositionsIndex] = x1;\r\n      vertexPositions[vertexPositionsIndex + 1] = y1;\r\n      vertexPositions[vertexPositionsIndex + 2] = z1;\r\n      vertexPositions[vertexPositionsIndex + 3] = x2;\r\n      vertexPositions[vertexPositionsIndex + 4] = y2;\r\n      vertexPositions[vertexPositionsIndex + 5] = z2;\r\n      vertexPositions[vertexPositionsIndex + 6] = x3;\r\n      vertexPositions[vertexPositionsIndex + 7] = y3;\r\n      vertexPositions[vertexPositionsIndex + 8] = z3;\r\n\r\n      // The second triangle.\r\n\r\n      vertexPositions[vertexPositionsIndex + 9] = x4;\r\n      vertexPositions[vertexPositionsIndex + 10] = y4;\r\n      vertexPositions[vertexPositionsIndex + 11] = z4;\r\n      vertexPositions[vertexPositionsIndex + 12] = x3;\r\n      vertexPositions[vertexPositionsIndex + 13] = y3;\r\n      vertexPositions[vertexPositionsIndex + 14] = z3;\r\n      vertexPositions[vertexPositionsIndex + 15] = x2;\r\n      vertexPositions[vertexPositionsIndex + 16] = y2;\r\n      vertexPositions[vertexPositionsIndex + 17] = z2;\r\n\r\n      vertexPositionsIndex += 18;\r\n    }\r\n  }\r\n\r\n  return vertexPositions;\r\n}\r\n\r\n/**\r\n * Calculate the vertex positions for a section of a cylinder.\r\n *\r\n * The shape is centered around the origin with the poles aligned with the z-axis.\r\n *\r\n * @param {number} cylinderBottom\r\n * @param {number} cylinderTop\r\n * @param {number} startIndex\r\n * @param {number} endIndex\r\n * @param {number} delta\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction calculateCylindricalSection(cylinderBottom, cylinderTop, startIndex, endIndex, delta) {\r\n  const vertexPositions = [];\r\n  let vertexPositionsIndex = 0;\r\n\r\n  let index;\r\n  let lowerAzimuth;\r\n  let upperAzimuth;\r\n  let x1;\r\n  let y1;\r\n  let z1;\r\n  let x2;\r\n  let y2;\r\n  let z2;\r\n  let x3;\r\n  let y3;\r\n  let z3;\r\n  let x4;\r\n  let y4;\r\n  let z4;\r\n\r\n  // Create the triangles for the cylindrical strip.\r\n  for (index = startIndex; index < endIndex; index++) {\r\n    lowerAzimuth = delta * index;\r\n    upperAzimuth = delta + lowerAzimuth;\r\n\r\n    // The corners of the current square.\r\n\r\n    x1 = Math.cos(lowerAzimuth);\r\n    y1 = Math.sin(lowerAzimuth);\r\n    z1 = cylinderBottom;\r\n\r\n    x2 = Math.cos(lowerAzimuth);\r\n    y2 = Math.sin(lowerAzimuth);\r\n    z2 = cylinderTop;\r\n\r\n    x3 = Math.cos(upperAzimuth);\r\n    y3 = Math.sin(upperAzimuth);\r\n    z3 = cylinderBottom;\r\n\r\n    x4 = Math.cos(upperAzimuth);\r\n    y4 = Math.sin(upperAzimuth);\r\n    z4 = cylinderTop;\r\n\r\n    // The first triangle.\r\n\r\n    vertexPositions[vertexPositionsIndex] = x1;\r\n    vertexPositions[vertexPositionsIndex + 1] = y1;\r\n    vertexPositions[vertexPositionsIndex + 2] = z1;\r\n    vertexPositions[vertexPositionsIndex + 3] = x2;\r\n    vertexPositions[vertexPositionsIndex + 4] = y2;\r\n    vertexPositions[vertexPositionsIndex + 5] = z2;\r\n    vertexPositions[vertexPositionsIndex + 6] = x3;\r\n    vertexPositions[vertexPositionsIndex + 7] = y3;\r\n    vertexPositions[vertexPositionsIndex + 8] = z3;\r\n\r\n    // The second triangle.\r\n\r\n    vertexPositions[vertexPositionsIndex + 9] = x4;\r\n    vertexPositions[vertexPositionsIndex + 10] = y4;\r\n    vertexPositions[vertexPositionsIndex + 11] = z4;\r\n    vertexPositions[vertexPositionsIndex + 12] = x3;\r\n    vertexPositions[vertexPositionsIndex + 13] = y3;\r\n    vertexPositions[vertexPositionsIndex + 14] = z3;\r\n    vertexPositions[vertexPositionsIndex + 15] = x2;\r\n    vertexPositions[vertexPositionsIndex + 16] = y2;\r\n    vertexPositions[vertexPositionsIndex + 17] = z2;\r\n\r\n    vertexPositionsIndex += 18;\r\n  }\r\n\r\n  return vertexPositions;\r\n}\r\n\r\n/**\r\n * Scale and then translate the 3-dimensional positions in the given flattened array.\r\n *\r\n * The shape is centered around the origin with the poles aligned with the z-axis.\r\n *\r\n * @param {Array.<Number>} vertexPositions Output.\r\n * @param {number} startIndex\r\n * @param {number} endIndex\r\n * @param {vec3} scale\r\n * @param {vec3} translate\r\n * @private\r\n */\r\nfunction scaleThenTranslatePositions(vertexPositions, startIndex, endIndex, scale, translate) {\r\n  const scaleX = scale[0];\r\n  const scaleY = scale[1];\r\n  const scaleZ = scale[2];\r\n  const translateX = translate[0];\r\n  const translateY = translate[1];\r\n  const translateZ = translate[2];\r\n\r\n  for (let i = startIndex; i < endIndex; i += 3) {\r\n    vertexPositions[i] = vertexPositions[i] * scaleX + translateX;\r\n    vertexPositions[i + 1] = vertexPositions[i + 1] * scaleY + translateY;\r\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scaleZ + translateZ;\r\n  }\r\n}\r\n\r\n// Export this module's logic\r\n\r\nexport {\r\n  getViewportWidth,\r\n  getViewportHeight,\r\n  getWebGLContext,\r\n  createBuffer,\r\n  getAttribLocation,\r\n  buildProgram,\r\n  buildShader,\r\n  loadShader,\r\n  loadProgram,\r\n  createBufferFromData,\r\n  bindGLContextToViewportDimensions,\r\n  bindFramebuffer,\r\n  createFramebuffer,\r\n  createTextureForRendering,\r\n  createRenderBuffer,\r\n  create2DSquarePositionsConfig,\r\n\r\n  expandVertexIndicesToDuplicatePositions,\r\n  calculateOrthogonalVertexNormals,\r\n  calculateLatLongTextureCoordinates,\r\n  calculateCylindricalTextureCoordinates,\r\n  expandVertexIndicesAroundLongitudeSeam,\r\n  tesselateSphere,\r\n  dedupVertexArrayWithPositionsAndIndicesArrays,\r\n  calculateSphericalSection,\r\n  calculateCylindricalSection,\r\n  scaleThenTranslatePositions,\r\n};\r\n\r\n// Some type defs to make my editor's auto-complete happy.\r\n\r\n/** @typedef {Object} WebGLProgram */\r\n/** @typedef {Object} WebGLShader */\r\n/** @typedef {Object} WebGLBuffer */\r\n/** @typedef {Object} WebGLTexture */\r\n/** @typedef {Float32Array|Array.<Number>} mat3 */\r\n/** @typedef {Float32Array|Array.<Number>} mat4 */\r\n/** @typedef {Float32Array|Array.<Number>} quat */\r\n/** @typedef {Float32Array|Array.<Number>} vec2 */\r\n/** @typedef {Float32Array|Array.<Number>} vec3 */\r\n/** @typedef {Float32Array|Array.<Number>} vec4 */\r\n","/**\r\n * A hash map that uses a custom hash function.\r\n */\r\nclass HashMap {\r\n  /**\r\n   * @param {Function} hashFunction\r\n   */\r\n  constructor(hashFunction) {\r\n    this._hashFunction = hashFunction;\r\n    this._map = new Map();\r\n  }\r\n\r\n  /**\r\n   * @param {Object} key\r\n   * @param {Object} value\r\n   */\r\n  set(key, value) {\r\n    const hashCode = this._hashFunction(key);\r\n    this._map.set(hashCode, value);\r\n  }\r\n\r\n  /**\r\n   * @param {Object} key\r\n   * @returns {Object}\r\n   */\r\n  get(key) {\r\n    const hashCode = this._hashFunction(key);\r\n    return this._map.get(hashCode);\r\n  }\r\n\r\n  /**\r\n   * @param {Object} key\r\n   * @returns {boolean}\r\n   */\r\n  has(key) {\r\n    const hashCode = this._hashFunction(key);\r\n    return this._map.has(hashCode);\r\n  }\r\n\r\n  /**\r\n   * @param {Object} item\r\n   * @returns {boolean}\r\n   */\r\n  remove(item) {\r\n    return this._map.delete(item);\r\n  }\r\n\r\n  /**\r\n   * @param {Function} callback\r\n   */\r\n  forEach(callback) {\r\n    this._map.forEach(callback);\r\n  }\r\n\r\n  clear() {\r\n    this._map.clear();\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   */\r\n  get size() {\r\n    return this._map.size;\r\n  }\r\n}\r\n\r\nexport {HashMap};\r\n","/**\r\n * This module defines a collection of static general utility functions.\r\n */\r\n\r\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\r\nconst isInDevMode = true;\r\n\r\n/**\r\n * Adds an event listener for each of the given events to each of the given elements.\r\n *\r\n * @param {Array.<HTMLElement>} elements The elements to add event listeners to.\r\n * @param {Array.<String>} events The event listeners to add to the elements.\r\n * @param {Function} callback The single callback for handling the events.\r\n */\r\nfunction listenToMultipleForMultiple(elements, events, callback) {\r\n  elements.forEach(element => {\r\n    events.forEach(event => {\r\n      element.addEventListener(event, callback, false);\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Creates a DOM element with the given tag name, appends it to the given parent element, and\r\n * gives it the given id and classes.\r\n *\r\n * @param {string} tagName The tag name to give the new element.\r\n * @param {HTMLElement} [parent] The parent element to append the new element to.\r\n * @param {string} [id] The id to give the new element.\r\n * @param {Array.<String>} [classes] The classes to give the new element.\r\n * @returns {HTMLElement} The new element.\r\n */\r\nfunction createElement(tagName, parent, id, classes) {\r\n  const element = document.createElement(tagName);\r\n  if (parent) {\r\n    parent.appendChild(element);\r\n  }\r\n  if (id) {\r\n    element.id = id;\r\n  }\r\n  if (classes) {\r\n    classes.forEach(className => addClass(element, className));\r\n  }\r\n  return element;\r\n}\r\n\r\n/**\r\n * Determines whether the given element contains the given class.\r\n *\r\n * @param {HTMLElement} element The element to check.\r\n * @param {string} className The class to check for.\r\n * @returns {boolean} True if the element does contain the class.\r\n */\r\nfunction containsClass(element, className) {\r\n  let startIndex;\r\n  let indexAfterEnd;\r\n  startIndex = element.className.indexOf(className);\r\n  if (startIndex >= 0) {\r\n    if (startIndex === 0 || element.className[startIndex - 1] === ' ') {\r\n      indexAfterEnd = startIndex + className.length;\r\n      if (indexAfterEnd === element.className.length ||\r\n        element.className[indexAfterEnd] === ' ') {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Toggles whether the given element has the given class. If the enabled argument is given, then\r\n * the inclusion of the class will be forced. That is, if enabled=true, then this will ensure the\r\n * element has the class; if enabled=false, then this will ensure the element does NOT have the\r\n * class; if enabled=undefined, then this will simply toggle whether the element has the class.\r\n *\r\n * @param {HTMLElement} element The element to add the class to or remove the class from.\r\n * @param {string} className The class to add or remove.\r\n * @param {boolean} [enabled] If given, then the inclusion of the class will be forced.\r\n */\r\nfunction toggleClass(element, className, enabled) {\r\n  if (typeof enabled === 'undefined') {\r\n    if (containsClass(element, className)) {\r\n      removeClass(element, className);\r\n    }\r\n    else {\r\n      addClass(element, className);\r\n    }\r\n  }\r\n  else if (enabled) {\r\n    addClass(element, className);\r\n  }\r\n  else {\r\n    removeClass(element, className);\r\n  }\r\n}\r\n\r\n/**\r\n * Gets the coordinates of the element relative to the top-left corner of the page.\r\n *\r\n * @param {HTMLElement} element The element to get the coordinates of.\r\n * @returns {{x: Number, y: Number}} The coordinates of the element relative to the top-left\r\n * corner of the page.\r\n */\r\nfunction getPageOffset(element) {\r\n  let x = 0;\r\n  let y = 0;\r\n  while (element) {\r\n    x += element.offsetLeft;\r\n    y += element.offsetTop;\r\n    element = element.offsetParent;\r\n  }\r\n  x -= document.documentElement.scrollLeft;\r\n  y -= document.documentElement.scrollTop;\r\n  return { x: x, y: y };\r\n}\r\n\r\n/**\r\n * Gets the dimensions of the viewport.\r\n *\r\n * @returns {{w: Number, h: Number}} The dimensions of the viewport.\r\n */\r\nfunction getViewportSize() {\r\n  let w;\r\n  let h;\r\n  if (typeof window.innerWidth !== 'undefined') {\r\n    // Good browsers\r\n    w = window.innerWidth;\r\n    h = window.innerHeight;\r\n  }\r\n  else if (typeof document.documentElement !== 'undefined' &&\r\n    typeof document.documentElement.clientWidth !== 'undefined' &&\r\n    document.documentElement.clientWidth !== 0) {\r\n    // IE6 in standards compliant mode\r\n    w = document.documentElement.clientWidth;\r\n    h = document.documentElement.clientHeight;\r\n  }\r\n  else {\r\n    // Older versions of IE\r\n    w = document.getElementsByTagName('body')[0].clientWidth;\r\n    h = document.getElementsByTagName('body')[0].clientHeight;\r\n  }\r\n  return { w: w, h: h };\r\n}\r\n\r\n/**\r\n * Removes the given child element from the given parent element if the child does indeed belong\r\n * to the parent.\r\n *\r\n * @param {HTMLElement} parent The parent to remove the child from.\r\n * @param {HTMLElement} child The child to remove.\r\n * @returns {boolean} True if the child did indeed belong to the parent.\r\n */\r\nfunction removeChildIfPresent(parent, child) {\r\n  if (child && child.parentNode === parent) {\r\n    parent.removeChild(child);\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Adds the given class to the given element.\r\n *\r\n * @param {HTMLElement} element The element to add the class to.\r\n * @param {string} className The class to add.\r\n */\r\nfunction addClass(element, className) {\r\n  element.setAttribute('class', element.className + ' ' + className);\r\n}\r\n\r\n/**\r\n * Removes the given class from the given element.\r\n *\r\n * @param {HTMLElement} element The element to remove the class from.\r\n * @param {string} className The class to remove.\r\n */\r\nfunction removeClass(element, className) {\r\n  element.setAttribute('class',\r\n    element.className\r\n    .split(' ')\r\n    .filter(value => value !== className)\r\n    .join(' '));\r\n}\r\n\r\n/**\r\n * Removes all classes from the given element.\r\n *\r\n * @param {HTMLElement} element The element to remove all classes from.\r\n */\r\nfunction clearClasses(element) {\r\n  element.className = '';\r\n}\r\n\r\n/**\r\n * Calculates the width that the DOM would give to a div with the given text. The given tag\r\n * name, parent, id, and classes allow the width to be affected by various CSS rules.\r\n *\r\n * @param {string} text The text to determine the width of.\r\n * @param {string} tagName The tag name this text would supposedly have.\r\n * @param {HTMLElement} [parent] The parent this text would supposedly be a child of; defaults\r\n * to the document body.\r\n * @param {string} [id] The id this text would supposedly have.\r\n * @param {Array.<String>} [classes] The classes this text would supposedly have.\r\n * @returns {number} The width of the text under these conditions.\r\n */\r\nfunction getTextWidth(text, tagName, parent, id, classes) {\r\n  let tmpElement;\r\n  let width;\r\n  parent = parent || document.getElementsByTagName('body')[0];\r\n  tmpElement = createElement(tagName, null, id, classes);\r\n  tmpElement.style.position = 'absolute';\r\n  tmpElement.style.visibility = 'hidden';\r\n  tmpElement.style.whiteSpace = 'nowrap';\r\n  parent.appendChild(tmpElement);\r\n  tmpElement.innerHTML = text;\r\n  width = tmpElement.clientWidth;\r\n  parent.removeChild(tmpElement);\r\n  return width;\r\n}\r\n\r\n/**\r\n * Encodes and concatenates the given URL parameters into a single query string.\r\n *\r\n * @param {Object} rawParams An object whose properties represent the URL query string\r\n * parameters.\r\n * @returns {string} The query string.\r\n */\r\nfunction encodeQueryString(rawParams) {\r\n  let parameter;\r\n  let encodedParams;\r\n  encodedParams = [];\r\n  for (parameter in rawParams) {\r\n    if (rawParams.hasOwnProperty(parameter)) {\r\n      encodedParams.push(encodeURIComponent(parameter) + '=' +\r\n        encodeURIComponent(rawParams[parameter]));\r\n    }\r\n  }\r\n  return '?' + encodedParams.join('&');\r\n}\r\n\r\n/**\r\n * Retrieves the value corresponding to the given name from the given query string.\r\n *\r\n * (borrowed from http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript)\r\n *\r\n * @param {string} queryString The query string containing the parameter.\r\n * @param {string} name The (non-encoded) name of the parameter value to retrieve.\r\n * @returns {string} The query string parameter value, or null if the parameter was not found.\r\n */\r\nfunction getQueryStringParameterValue(queryString, name) {\r\n  let regex;\r\n  let results;\r\n  name = encodeURIComponent(name);\r\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n  regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)', 'i');\r\n  results = regex.exec(queryString);\r\n  return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\r\n}\r\n\r\n/**\r\n * Sets the CSS transition style of the given element.\r\n *\r\n * @param {HTMLElement} element The element.\r\n * @param {number} value The transition string.\r\n */\r\nfunction setTransition(element, value) {\r\n  element.style.transition = value;\r\n  element.style.WebkitTransition = value;\r\n  element.style.MozTransition = value;\r\n  element.style.msTransition = value;\r\n  element.style.OTransition = value;\r\n}\r\n\r\n/**\r\n * Sets the CSS transition duration style of the given element.\r\n *\r\n * @param {HTMLElement} element The element.\r\n * @param {number} value The duration.\r\n */\r\nfunction setTransitionDurationSeconds(element, value) {\r\n  element.style.transitionDuration = value + 's';\r\n  element.style.WebkitTransitionDuration = value + 's';\r\n  element.style.MozTransitionDuration = value + 's';\r\n  element.style.msTransitionDuration = value + 's';\r\n  element.style.OTransitionDuration = value + 's';\r\n}\r\n\r\n/**\r\n * Sets the CSS transition delay style of the given element.\r\n *\r\n * @param {HTMLElement} element The element.\r\n * @param {number} value The delay.\r\n */\r\nfunction setTransitionDelaySeconds(element, value) {\r\n  element.style.transitionDelay = value + 's';\r\n  element.style.WebkitTransitionDelay = value + 's';\r\n  element.style.MozTransitionDelay = value + 's';\r\n  element.style.msTransitionDelay = value + 's';\r\n  element.style.OTransitionDelay = value + 's';\r\n}\r\n\r\n/**\r\n * Sets the userSelect style of the given element to 'none'.\r\n *\r\n * @param {HTMLElement} element\r\n */\r\nfunction setUserSelectNone(element) {\r\n  element.style.userSelect = 'none';\r\n  element.style.webkitUserSelect = 'none';\r\n  element.style.MozUserSelect = 'none';\r\n  element.style.msUserSelect = 'none';\r\n}\r\n\r\n/**\r\n * Removes any children elements from the given parent that have the given class.\r\n *\r\n * @param {HTMLElement} parent The parent to remove children from.\r\n * @param {string} className The class to match.\r\n */\r\nfunction removeChildrenWithClass(parent, className) {\r\n  let matchingChildren = parent.querySelectorAll('.' + className);\r\n\r\n  for (let i = 0, count = matchingChildren.length; i < count; i++) {\r\n    parent.removeChild(matchingChildren[i]);\r\n  }\r\n}\r\n\r\n/**\r\n * Sets the CSS transition-timing-function style of the given element with the given cubic-\r\n * bezier points.\r\n *\r\n * @param {HTMLElement} element The element.\r\n * @param {{p1x: Number, p1y: Number, p2x: Number, p2y: Number}} bezierPts The cubic-bezier\r\n * points to use for this timing function.\r\n */\r\nfunction setTransitionCubicBezierTimingFunction(element, bezierPts) {\r\n  const value = 'cubic-bezier(' + bezierPts.p1x + ',' + bezierPts.p1y + ',' + bezierPts.p2x + ',' +\r\n    bezierPts.p2y + ')';\r\n  element.style.transitionTimingFunction = value;\r\n  element.style.WebkitTransitionTimingFunction = value;\r\n  element.style.MozTransitionTimingFunction = value;\r\n  element.style.msTransitionTimingFunction = value;\r\n  element.style.OTransitionTimingFunction = value;\r\n}\r\n\r\n// A collection of different types of easing functions.\r\nconst easingFunctions = {\r\n  linear: t => t,\r\n  easeInQuad: t => t * t,\r\n  easeOutQuad: t => t * (2 - t),\r\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\r\n  easeInCubic: t => t * t * t,\r\n  easeOutCubic: t => 1 + --t * t * t,\r\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\r\n  easeInQuart: t => t * t * t * t,\r\n  easeOutQuart: t => 1 - --t * t * t * t,\r\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\r\n  easeInQuint: t => t * t * t * t * t,\r\n  easeOutQuint: t => 1 + --t * t * t * t * t,\r\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\r\n};\r\n\r\n// A collection of the inverses of different types of easing functions.\r\nconst inverseEasingFunctions = {\r\n  linear: t => t,\r\n  easeInQuad: t => Math.sqrt(t),\r\n  easeOutQuad: t => 1 - Math.sqrt(1 - t),\r\n  easeInOutQuad: t => t < 0.5 ? Math.sqrt(t * 0.5) : 1 - 0.70710678 * Math.sqrt(1 - t)\r\n};\r\n\r\n/**\r\n * Calculates the x and y coordinates represented by the given Bezier curve at the given\r\n * percentage.\r\n *\r\n * @param {number} percent Expressed as a number between 0 and 1.\r\n * @param {Array.<{x:Number,y:Number}>} controlPoints\r\n * @returns {{x:Number,y:Number}}\r\n */\r\nfunction getXYFromPercentWithBezier(percent, controlPoints) {\r\n  let x;\r\n  let y;\r\n  let oneMinusPercent;\r\n  let tmp1;\r\n  let tmp2;\r\n  let tmp3;\r\n  let tmp4;\r\n\r\n  oneMinusPercent = 1 - percent;\r\n  tmp1 = oneMinusPercent * oneMinusPercent * oneMinusPercent;\r\n  tmp2 = 3 * percent * oneMinusPercent * oneMinusPercent;\r\n  tmp3 = 3 * percent * percent * oneMinusPercent;\r\n  tmp4 = percent * percent * percent;\r\n\r\n  x = controlPoints[0].x * tmp1 +\r\n    controlPoints[1].x * tmp2 +\r\n    controlPoints[2].x * tmp3 +\r\n    controlPoints[3].x * tmp4;\r\n  y = controlPoints[0].y * tmp1 +\r\n    controlPoints[1].y * tmp2 +\r\n    controlPoints[2].y * tmp3 +\r\n    controlPoints[3].y * tmp4;\r\n\r\n  return { x: x, y: y };\r\n}\r\n\r\n/**\r\n * Applies the given transform to the given element as a CSS style in a cross-browser compatible\r\n * manner.\r\n *\r\n * @param {HTMLElement} element\r\n * @param {string} transform\r\n */\r\nfunction setTransform(element, transform) {\r\n  element.style.webkitTransform = transform;\r\n  element.style.MozTransform = transform;\r\n  element.style.msTransform = transform;\r\n  element.style.OTransform = transform;\r\n  element.style.transform = transform;\r\n}\r\n\r\n/**\r\n * Returns a copy of the given array with its contents re-arranged in a random order.\r\n *\r\n * The original array is left in its original order.\r\n *\r\n * @param {Array} array\r\n * @returns {Array}\r\n */\r\nfunction shuffle(array) {\r\n  let i;\r\n  let j;\r\n  let count;\r\n  let temp;\r\n\r\n  for (i = 0, count = array.length; i < count; i++) {\r\n    j = parseInt(Math.random() * count);\r\n    temp = array[j];\r\n    array[j] = array[i];\r\n    array[i] = temp;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/**\r\n * Performs a shallow copy of the given object.\r\n *\r\n * This only copies enumerable properties.\r\n *\r\n * @param {Object} object\r\n * @returns {Object}\r\n */\r\nfunction shallowCopy(object) {\r\n  if (typeof object === 'object') {\r\n    const cloneObject = {};\r\n\r\n    Object.keys(object)\r\n      .forEach(key => cloneObject[key] = object[key]);\r\n\r\n    return cloneObject;\r\n  }\r\n  else {\r\n    return object;\r\n  }\r\n}\r\n\r\n/**\r\n * Performs a deep copy of the given object.\r\n *\r\n * This only copies enumerable properties.\r\n *\r\n * @param {Object} object\r\n * @returns {Object}\r\n */\r\nfunction deepCopy(object) {\r\n  if (typeof object === 'object') {\r\n    // Hack: Not a robust copy policy\r\n    let cloneObject;\r\n    if (object instanceof Array) {\r\n      cloneObject = [];\r\n    }\r\n    else {\r\n      cloneObject = {};\r\n    }\r\n\r\n    Object.keys(object)\r\n      .forEach(key => cloneObject[key] = deepCopy(object[key]));\r\n\r\n    return cloneObject;\r\n  }\r\n  else {\r\n    return object;\r\n  }\r\n}\r\n\r\n/**\r\n * Converts the given HSL color values to HSV color values.\r\n *\r\n * Given and returned values will be in the range of [0, 1].\r\n *\r\n * @param {HslColor} hsl\r\n * @returns {{h:Number,s:Number,v:Number}}\r\n */\r\nfunction hslToHsv(hsl) {\r\n  const temp = hsl.s * (hsl.l < 0.5 ? hsl.l : 1 - hsl.l);\r\n  return {\r\n    h: hsl.h,\r\n    s: 2 * temp / (hsl.l + temp),\r\n    v: hsl.l + temp\r\n  };\r\n}\r\n\r\n/**\r\n * Converts the given HSV color values to HSL color values.\r\n *\r\n * Given and returned values will be in the range of [0, 1].\r\n *\r\n * @param {{h:Number,s:Number,v:Number}} hsv\r\n * @returns {HslColor}\r\n */\r\nfunction hsvToHsl(hsv) {\r\n  const temp = (2 - hsv.s) * hsv.v;\r\n  return {\r\n    h: hsv.h,\r\n    s: hsv.s * hsv.v / (temp < 1 ? temp : 2.00000001 - temp),\r\n    l: temp * 0.5\r\n  };\r\n}\r\n\r\n/**\r\n * Converts the given HSL color values to RGB color values.\r\n *\r\n * Given and returned values will be in the range of [0, 1].\r\n *\r\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n *\r\n * @param {HslColor} hsl\r\n * @returns {RgbColor} rgb\r\n */\r\nfunction hslToRgb(hsl) {\r\n  let r;\r\n  let g;\r\n  let b;\r\n\r\n  if (hsl.s === 0) {\r\n    // Achromatic.\r\n    r = hsl.l;\r\n    g = hsl.l;\r\n    b = hsl.l;\r\n  }\r\n  else {\r\n    const q = hsl.l < 0.5 ?\r\n      hsl.l * (1 + hsl.s) :\r\n      hsl.l + hsl.s - hsl.l * hsl.s;\r\n    const p = 2 * hsl.l - q;\r\n\r\n    r = _hue2Rgb(p, q, hsl.h + 1 / 3);\r\n    g = _hue2Rgb(p, q, hsl.h);\r\n    b = _hue2Rgb(p, q, hsl.h - 1 / 3);\r\n  }\r\n\r\n  return {\r\n    r: r,\r\n    g: g,\r\n    b: b\r\n  };\r\n}\r\n\r\nfunction _hue2Rgb(p, q, t) {\r\n  if (t < 0) {\r\n    t++;\r\n  }\r\n  else if (t > 1) {\r\n    t--;\r\n  }\r\n\r\n  if (t < 1 / 6) {\r\n    return p + (q - p) * 6 * t;\r\n  }\r\n  else if (t < 1 / 2) {\r\n    return q;\r\n  }\r\n  else if (t < 2 / 3) {\r\n    return p + (q - p) * (2 / 3 - t) * 6;\r\n  }\r\n  else {\r\n    return p;\r\n  }\r\n}\r\n\r\n/**\r\n * Converts the given RGB color values to HSL color values.\r\n *\r\n * Given and returned values will be in the range of [0, 1].\r\n *\r\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n *\r\n * @param {{r:Number,g:Number,b:Number}} rgb\r\n * @returns {HslColor} hsl\r\n */\r\nfunction rgbToHsl(rgb) {\r\n  const max = Math.max(rgb.r, rgb.g, rgb.b);\r\n  const min = Math.min(rgb.r, rgb.g, rgb.b);\r\n  let h;\r\n  let s;\r\n  const l = (max + min) / 2;\r\n\r\n  if (max === min) {\r\n    // Achromatic.\r\n    h = 0;\r\n    s = 0;\r\n  }\r\n  else {\r\n    const d = max - min;\r\n    s = l > 0.5 ?\r\n      d / (2 - max - min) :\r\n      d / (max + min);\r\n\r\n    switch (max) {\r\n      case rgb.r:\r\n        h = (rgb.g - rgb.b) / d + (rgb.g < rgb.b ? 6 : 0);\r\n        break;\r\n      case rgb.g:\r\n        h = (rgb.b - rgb.r) / d + 2;\r\n        break;\r\n      case rgb.b:\r\n        h = (rgb.r - rgb.g) / d + 4;\r\n        break;\r\n    }\r\n\r\n    h /= 6;\r\n  }\r\n\r\n  return {\r\n    h: h,\r\n    s: s,\r\n    l: l\r\n  };\r\n}\r\n\r\n/**\r\n * Creates a valid color string to assign to a CSS property from the given h/s/l color values.\r\n *\r\n * Given values should be in the range of [0,1].\r\n *\r\n * @param {HslColor} hsl\r\n * @returns {string}\r\n */\r\nfunction createHslColorString(hsl) {\r\n  return typeof hsl.a !== 'undefined' ?\r\n    `hsla(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%,${hsl.a})` :\r\n    `hsl(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%)`;\r\n}\r\n\r\n/**\r\n * Checks the given element and all of its ancestors, and returns the first that contains the\r\n * given class.\r\n *\r\n * @param {?HTMLElement} element\r\n * @param {string} className\r\n * @returns {?HTMLElement}\r\n */\r\nfunction findClassInSelfOrAncestors(element, className) {\r\n  while (element) {\r\n    if (containsClass(element, className)) {\r\n      return element;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nlet utilStyleSheet;\r\n\r\n/**\r\n * Adds the given style rule to a style sheet for the current document.\r\n *\r\n * @param {string} styleRule\r\n */\r\nfunction addRuleToStyleSheet(styleRule) {\r\n  // Create the custom style sheet if it doesn't already exist\r\n  if (!utilStyleSheet) {\r\n    utilStyleSheet = document.createElement('style');\r\n    document.getElementsByTagName('head')[0].appendChild(utilStyleSheet);\r\n  }\r\n\r\n  // Add the given rule to the custom style sheet\r\n  if (utilStyleSheet.styleSheet) {\r\n    utilStyleSheet.styleSheet.cssText = styleRule;\r\n  }\r\n  else {\r\n    utilStyleSheet.appendChild(document.createTextNode(styleRule));\r\n  }\r\n}\r\n\r\nfunction checkForSafari() {\r\n  return /Safari/i.test(window.navigator.userAgent) && !/Chrome/i.test(window.navigator.userAgent);\r\n}\r\n\r\nfunction checkForIos() {\r\n  return /iPhone|iPod|iPad/i.test(window.navigator.userAgent);\r\n}\r\n\r\n/**\r\n * Returns a debounced version of the given function.\r\n *\r\n * Even if the debounced function is invoked many times, the wrapped function will only be invoked\r\n * after the given delay has ellapsed since the last invocation.\r\n *\r\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\r\n * invocation group rather than at the end.\r\n *\r\n * @param {Function} wrappedFunction\r\n * @param {number} delay In milliseconds.\r\n * @param {boolean} [isInvokedImmediately=false]\r\n * @returns {Function}\r\n */\r\nfunction debounce(wrappedFunction, delay, isInvokedImmediately = false) {\r\n  let timeoutId;\r\n\r\n  return () => {\r\n    // Save the context and arguments passed from the client (this will use the values from the\r\n    // first invocation of the invocation group.\r\n    const context = this;\r\n    const args = arguments;\r\n\r\n    // Invoke immediately only if this is the first invocation of a group.\r\n    if (isInvokedImmediately && !timeoutId) {\r\n      wrappedFunction.apply(context, args);\r\n    }\r\n\r\n    // Reset the delay.\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => {\r\n      // The invocation group has ended.\r\n      timeoutId = null;\r\n      if (!isInvokedImmediately) {\r\n        wrappedFunction.apply(context, args);\r\n      }\r\n    }, delay);\r\n  };\r\n}\r\n\r\n/**\r\n * Returns a throttled version of the given function.\r\n *\r\n * Even if the throttled function is invoked many times, the wrapped function will only be invoked\r\n * at each interval of the given delay. After the throttled function stops being invoked, then\r\n * wrapped function will also stop being invoked.\r\n *\r\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\r\n * invocation delay rather than at the end.\r\n *\r\n * @param {Function} wrappedFunction\r\n * @param {number} delay In milliseconds.\r\n * @param {boolean} [isInvokedImmediately=false]\r\n * @returns {Function}\r\n */\r\nfunction throttle(wrappedFunction, delay, isInvokedImmediately = false) {\r\n  let timeoutId;\r\n\r\n  return () => {\r\n    // Save the context and arguments passed from the client (this will use the values from the\r\n    // first invocation of the invocation group.\r\n    const context = this;\r\n    const args = arguments;\r\n\r\n    // Only trigger a new invocation group if we are not already/still waiting on the delay from a\r\n    // previous invocation.\r\n    if (!timeoutId) {\r\n      if (isInvokedImmediately) {\r\n        wrappedFunction.apply(context, args);\r\n      }\r\n\r\n      // Start the delay.\r\n      timeoutId = setTimeout(() => {\r\n        // The invocation group has ended.\r\n        timeoutId = null;\r\n        if (!isInvokedImmediately) {\r\n          wrappedFunction.apply(context, args);\r\n        }\r\n      }, delay);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * @param {Array.<*>|String} array\r\n * @param {*} delimiter\r\n * @returns {Array.<*>}\r\n * @private\r\n */\r\nfunction _interleave(array, delimiter) {\r\n  const result = new Array(array.length * 2 - 1);\r\n  if (array.length) {\r\n    result.push(array[0]);\r\n  }\r\n  for (let i = 1, count = array.length; i < count; i++) {\r\n    result.push(delimiter);\r\n    result.push(array[i]);\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Loads the given src for the given image.\r\n *\r\n * @param {HTMLImageElement} image\r\n * @param {string} src\r\n * @returns {Promise.<HTMLImageElement, Error>}\r\n */\r\nfunction loadImageSrc(image, src) {\r\n  return new Promise((resolve, reject) => {\r\n    console.debug(`Loading image: ${src}`);\r\n\r\n    image.addEventListener('load', _ => resolve(image));\r\n    image.addEventListener('error', reject);\r\n    image.addEventListener('abort', reject);\r\n\r\n    image.src = src;\r\n  });\r\n}\r\n\r\n/**\r\n * Loads text from the given URL.\r\n *\r\n * @param {string} url\r\n * @returns {Promise.<String, Error>}\r\n */\r\nfunction loadText(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    xhr.addEventListener('load', _ => resolve(xhr.response));\r\n    xhr.addEventListener('error', reject);\r\n    xhr.addEventListener('abort', reject);\r\n\r\n    console.debug(`Loading text: ${url}`);\r\n\r\n    xhr.open('GET', url);\r\n    xhr.send();\r\n  });\r\n}\r\n\r\n/**\r\n * Loads a JSON object from the given URL.\r\n *\r\n * @param {string} url\r\n * @returns {Promise.<Object, Error>}\r\n */\r\nfunction loadJson(url) {\r\n  return loadText(url).then(jsonText => JSON.parse(jsonText));\r\n}\r\n\r\n/**\r\n * Gets the current stack trace.\r\n *\r\n * @returns {string}\r\n */\r\nfunction getStackTrace() {\r\n  return new Error().stack;\r\n}\r\n\r\n/**\r\n * Freezes the given object and recursively freezes all of its properties.\r\n *\r\n * @param {Object} object\r\n */\r\nfunction deepFreeze(object) {\r\n  if (typeof object === 'object') {\r\n    Object.freeze(object);\r\n    Object.keys(object).forEach(key => deepFreeze(object[key]));\r\n  }\r\n}\r\n\r\n/**\r\n * Creates a GUID.\r\n *\r\n * GUID specification: http://www.ietf.org/rfc/rfc4122.txt\r\n *\r\n * Logic adopted from http://stackoverflow.com/a/2117523/489568.\r\n *\r\n * @returns {string}\r\n */\r\nfunction createGuid() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n    const r = Math.random() * 16 | 0;\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\n/**\r\n * -11 % 3 === -2\r\n * mod(-11, 3) === 1\r\n *\r\n * @param {number} n\r\n * @param {number} m\r\n * @returns {number}\r\n */\r\nfunction mod(n, m) {\r\n  return ((n % m) + m) % m;\r\n}\r\n\r\n/**\r\n * @param {number} min\r\n * @param {number} max\r\n * @returns {number}\r\n */\r\nfunction randomFloatInRange(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\n/**\r\n * @param {number} min Inclusive\r\n * @param {number} max Exclusive\r\n * @returns {number}\r\n */\r\nfunction randomIntInRange(min, max) {\r\n  return parseInt(Math.random() * (max - min) + min);\r\n}\r\n\r\n/**\r\n * @param {Array} list\r\n * @returns {*}\r\n */\r\nfunction pickRandom(list) {\r\n  return list[randomIntInRange(0, list.length)];\r\n}\r\n\r\n/**\r\n * Triggers the given callback when either the current tab or the browser window loses/gains focus.\r\n *\r\n * @param {Function} focusChangeHandler\r\n */\r\nfunction handlePageFocusChange(focusChangeHandler) {\r\n  // Pause/unpause the app when the tab loses/gains focus.\r\n  document.addEventListener('visibilitychange', () => focusChangeHandler(!document.hidden));\r\n  // Pause/unpause the app when the browser window loses/gains focus.\r\n  window.addEventListener('blur', () => focusChangeHandler(false));\r\n  window.addEventListener('focus', () => focusChangeHandler(true));\r\n}\r\n\r\n/**\r\n * Creates an array with all the consecutive numbers from start (inclusive) to end (exclusive).\r\n *\r\n * @param {number} start\r\n * @param {number} end\r\n * @returns {Array.<Number>}\r\n */\r\nfunction range(start, end) {\r\n  const r = [];\r\n  for (let i = 0, j = start; j < end; i++, j++) {\r\n    r[i] = j;\r\n  }\r\n  return r;\r\n}\r\n\r\n/**\r\n * @param {*} value\r\n * @returns {boolean}\r\n */\r\nfunction isInt(value) {\r\n  return typeof value === 'number' &&\r\n    isFinite(value) &&\r\n    parseInt(value) === value;\r\n}\r\n\r\n/**\r\n * Find the first value in a list that satisfies a predicate.\r\n *\r\n * @param {Array} list\r\n * @param {Function} predicate\r\n * @returns {*}\r\n */\r\nfunction find(list, predicate) {\r\n  for (var i = 0, count = list.length; i < count; i++) {\r\n    const value = list[i];\r\n    if (predicate.call(null, value, i, list)) {\r\n      return value;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nconst keyCodes = {\r\n  'a': 65,\r\n  'b': 66,\r\n  'c': 67,\r\n  'd': 68,\r\n  'e': 69,\r\n  'f': 70,\r\n  'g': 71,\r\n  'h': 72,\r\n  'i': 73,\r\n  'j': 74,\r\n  'k': 75,\r\n  'l': 76,\r\n  'm': 77,\r\n  'n': 78,\r\n  'o': 79,\r\n  'p': 80,\r\n  'q': 81,\r\n  'r': 82,\r\n  's': 83,\r\n  't': 84,\r\n  'u': 85,\r\n  'v': 86,\r\n  'w': 87,\r\n  'x': 88,\r\n  'y': 89,\r\n  'z': 90,\r\n  '0': 48,\r\n  '1': 49,\r\n  '2': 50,\r\n  '3': 51,\r\n  '4': 52,\r\n  '5': 53,\r\n  '6': 54,\r\n  '7': 55,\r\n  '8': 56,\r\n  '9': 57,\r\n  'SPACE': 32,\r\n  'ENTER': 13,\r\n  'ESCAPE': 27,\r\n  'LEFT': 37,\r\n  'UP': 38,\r\n  'RIGHT': 39,\r\n  'DOWN': 40\r\n};\r\n\r\nconst svgNamespace = 'http://www.w3.org/2000/svg';\r\nconst xlinkNamespace = 'http://www.w3.org/1999/xlink';\r\n\r\nexport {\r\n  isInDevMode,\r\n  listenToMultipleForMultiple,\r\n  createElement,\r\n  containsClass,\r\n  toggleClass,\r\n  getPageOffset,\r\n  getViewportSize,\r\n  removeChildIfPresent,\r\n  addClass,\r\n  removeClass,\r\n  clearClasses,\r\n  getTextWidth,\r\n  encodeQueryString,\r\n  getQueryStringParameterValue,\r\n  setTransition,\r\n  setTransitionDurationSeconds,\r\n  setTransitionDelaySeconds,\r\n  setUserSelectNone,\r\n  removeChildrenWithClass,\r\n  setTransitionCubicBezierTimingFunction,\r\n  easingFunctions,\r\n  inverseEasingFunctions,\r\n  getXYFromPercentWithBezier,\r\n  setTransform,\r\n  shuffle,\r\n  shallowCopy,\r\n  deepCopy,\r\n  hsvToHsl,\r\n  hslToHsv,\r\n  hslToRgb,\r\n  rgbToHsl,\r\n  createHslColorString,\r\n  findClassInSelfOrAncestors,\r\n  addRuleToStyleSheet,\r\n  checkForSafari,\r\n  checkForIos,\r\n  debounce,\r\n  throttle,\r\n  loadImageSrc,\r\n  loadText,\r\n  loadJson,\r\n  getStackTrace,\r\n  deepFreeze,\r\n  createGuid,\r\n  mod,\r\n  randomFloatInRange,\r\n  randomIntInRange,\r\n  pickRandom,\r\n  handlePageFocusChange,\r\n  range,\r\n  isInt,\r\n  find,\r\n  keyCodes,\r\n  svgNamespace,\r\n  xlinkNamespace,\r\n};\r\n\r\n/**\r\n * @typedef {Object} HslColor\r\n * @property {Number} h In the range of [0, 1].\r\n * @property {Number} s In the range of [0, 1].\r\n * @property {Number} l In the range of [0, 1].\r\n * @property {Number} [a] In the range of [0, 1].\r\n */\r\n\r\n/**\r\n * @typedef {Object} RgbColor\r\n * @property {Number} r In the range of [0, 1].\r\n * @property {Number} g In the range of [0, 1].\r\n * @property {Number} b In the range of [0, 1].\r\n * @property {Number} [a] In the range of [0, 1].\r\n */\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvZnJhbWUtbGF0ZW5jeS1wcm9maWxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvcGVyc2lzdGVudC1hbmltYXRpb24tam9iLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvdHJhbnNpZW50LWFuaW1hdGlvbi1qb2IuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaWRhYmxlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2FhYmItY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2NhcHN1bGUtY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2NvbGxpZGFibGUuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9saW5lLXNlZ21lbnQuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9vYmItY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL3NwaGVyZS1jb2xsaWRhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL3NyYy9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vc3JjL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlzaW9uLWRldGVjdGlvbi9zcmMvb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vc3JjL3NwaGVyZS1jb2xsaXNpb24tZGV0ZWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb250YWN0LWNhbGN1bGF0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb250YWN0LWNhbGN1bGF0aW9uL3NyYy9hYWJiLWNvbnRhY3QtY2FsY3VsYXRpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29udGFjdC1jYWxjdWxhdGlvbi9zcmMvb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL3NwaGVyZS1jb250YWN0LWNhbGN1bGF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpZGFibGUtZmFjdG9yaWVzLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9zcmMvY29sbGlkYWJsZS1waHlzaWNzLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpZGFibGUtc3RvcmUuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL3NyYy9jb2xsaXNpb24taGFuZGxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpc2lvbi11dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvaW50ZWdyYXRvci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2ludGVncmF0b3Ivc3JjL2ludGVncmF0b3IuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9pbnRlZ3JhdG9yL3NyYy9yazQtaW50ZWdyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLWVuZ2luZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLXN0YXRlLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvdXRpbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3V0aWwvc3JjL2ZvcmNlLXV0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvdXRpbC9zcmMvZ2VvbWV0cnkuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy91dGlsL3NyYy9pbmVydGlhLXRlbnNvci11dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3V0aWwvc3JjL3V0aWwuanMiLCJzcmMvY2FtZXJhcy9pbmRleC5qcyIsInNyYy9jYW1lcmFzL3NyYy9jYW1lcmEuanMiLCJzcmMvY2FtZXJhcy9zcmMvZmlyc3QtcGVyc29uLWNhbWVyYS5qcyIsInNyYy9jYW1lcmFzL3NyYy9maXhlZC1jYW1lcmEuanMiLCJzcmMvY2FtZXJhcy9zcmMvZml4ZWQtZm9sbG93LWNhbWVyYS5qcyIsInNyYy9jYW1lcmFzL3NyYy9mb2xsb3ctY2FtZXJhLmpzIiwic3JjL2NhbWVyYXMvc3JjL292ZXJoZWFkLWNhbWVyYS5qcyIsInNyYy9jYW1lcmFzL3NyYy90aGlyZC1wZXJzb24tY2FtZXJhLmpzIiwic3JjL2luZGV4LmpzIiwic3JjL21vZGVscy9pbmRleC5qcyIsInNyYy9tb2RlbHMvc3JjL2RlZmF1bHQtbW9kZWwuanMiLCJzcmMvbW9kZWxzL3NyYy9pbnZpc2libGUtbW9kZWwtY29udHJvbGxlci5qcyIsInNyYy9tb2RlbHMvc3JjL21vZGVsLWNvbnRyb2xsZXIuanMiLCJzcmMvbW9kZWxzL3NyYy9tb2RlbC1ncm91cC1jb250cm9sbGVyLmpzIiwic3JjL21vZGVscy9zcmMvbW9kZWwuanMiLCJzcmMvbW9kZWxzL3NyYy9zdGFuZGFyZC1tb2RlbC1jb250cm9sbGVyLmpzIiwic3JjL3Byb2dyYW0td3JhcHBlci9pbmRleC5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL2dyb3VwLXByb2dyYW0td3JhcHBlci5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci1zdG9yZS5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3RleHR1cmUtc3RvcmUuanMiLCJzcmMvcHJvZ3JhbS13cmFwcGVyL3NyYy91bmlmb3JtLXNldHRlci5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9pbmRleC5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvcmVuZGVyYWJsZS1zaGFwZS1mYWN0b3J5LmpzIiwic3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlLmpzIiwic3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9zaGFwZS1jb25maWdzL2NhcHN1bGUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9jdWJlLXJlbmRlcmFibGUtc2hhcGUuanMiLCJzcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc2FoZWRyb24tcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9pY29zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9sYXQtbG9uZy1zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy90ZXRyYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlLmpzIiwic3JjL3NyYy9ncmFmeC1jb250cm9sbGVyLmpzIiwic3JjL3NyYy9saWdodC5qcyIsInNyYy9zcmMvc2NlbmUuanMiLCJzcmMvdXRpbC9pbmRleC5qcyIsInNyYy91dGlsL3NyYy9nZW9tZXRyeS5qcyIsInNyYy91dGlsL3NyYy9nbC11dGlsLmpzIiwic3JjL3V0aWwvc3JjL2hhc2gtbWFwLmpzIiwic3JjL3V0aWwvc3JjL3V0aWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7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QUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLG1CQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxhQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsY0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsa0JBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxtQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsZUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGdCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7Ozs7Ozs7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LE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGtCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxLQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsTUFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBRUEsT0FBQSxJQUFBLENBQUEsZ0JBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxpQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLE9BQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLE1BQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxPQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7Ozs7Ozs7O0FDYkEsT0FBQSxJQUFBLENBQUEsYUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGNBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLHlCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsMEJBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLE1BQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxPQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxnQkFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGlCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxxQkFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLHNCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSx3QkFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLHlCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNMQSxJQUFBLFFBQUEsUUFBQSxZQUFBLENBQUE7O0FBQ0EsSUFBQSxTQUFBLFFBQUEsU0FBQSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7SUFNTSxlOzs7QUFDSjs7OztBQUlBLFdBQUEsWUFBQSxDQUFBLEVBQUEsRUFBQSxXQUFBLEVBQTZCO0FBQUEsb0JBQUEsSUFBQSxFQUFBLFlBQUE7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QixDQUFBLElBQUEsRUFBQTtBQUNBLHNCQUFnQix1QkFBaEIsQ0FBQSxJQUFBLEVBQUE7QUFDQSxzQkFBZ0IsdUJBQWhCLENBQUEsSUFBQSxFQUFBO0FBQ0Esc0JBQWdCLHVCQUFoQixDQUFBLElBQUEsRUFBQTs7QUFFQTs7QUFFQSxzQkFBZ0IsdUJBQWhCLENBQUEsSUFBQSxFQUFBO0FBQ0Esc0JBQWdCLHVCQUFoQixFQUFBLElBQUEsRUFBQTtBQUNBLHNCQUFnQix1QkFBaEIsRUFBQSxJQUFBLEVBQUE7QUFDQSxzQkFBZ0IsdUJBQWhCLEVBQUEsSUFBQSxFQUFBO0FBQ0Esc0JBQWdCLHVCQUFoQixFQUFBLElBQUEsRUFBQTtBQUNBLHNCQUFnQix1QkFBaEIsRUFBQSxJQUFBLEVBQUE7QUFDQSxzQkFBZ0IsdUJBQWhCLEVBQUEsSUFBQSxFQUFBO0FBQ0Esc0JBQWdCLHVCQUFoQixFQUFBLElBQUEsRUFBQTtBQUNBLHNCQUFnQix1QkFBaEIsRUFBQSxJQUFBLEVBQUE7O0FBRUEsOEJBQUEsRUFBQTtBQUNEO0FBQ0Y7O0FBRUQsU0FBQSxlQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7QUFhQSxTQUFBLDJCQUFBLENBQUEsY0FBQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBK0Y7QUFDN0YsTUFBTSxrQkFBTixFQUFBO0FBQ0EsTUFBSSx1QkFBSixDQUFBOztBQUVBLE1BQUksUUFBQSxLQUFKLENBQUE7QUFDQSxNQUFJLGVBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxlQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksS0FBQSxLQUFKLENBQUE7QUFDQSxNQUFJLEtBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxLQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksS0FBQSxLQUFKLENBQUE7QUFDQSxNQUFJLEtBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxLQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksS0FBQSxLQUFKLENBQUE7QUFDQSxNQUFJLEtBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxLQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksS0FBQSxLQUFKLENBQUE7QUFDQSxNQUFJLEtBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxLQUFBLEtBQUosQ0FBQTs7QUFFQTtBQUNBLE9BQUssUUFBTCxVQUFBLEVBQXlCLFFBQXpCLFFBQUEsRUFBQSxPQUFBLEVBQW9EO0FBQ2xELG1CQUFlLFFBQWYsS0FBQTtBQUNBLG1CQUFlLFFBQWYsWUFBQTs7QUFFQTs7QUFFQSxTQUFLLEtBQUEsR0FBQSxDQUFMLFlBQUssQ0FBTDtBQUNBLFNBQUssS0FBQSxHQUFBLENBQUwsWUFBSyxDQUFMO0FBQ0EsU0FBQSxjQUFBOztBQUVBLFNBQUssS0FBQSxHQUFBLENBQUwsWUFBSyxDQUFMO0FBQ0EsU0FBSyxLQUFBLEdBQUEsQ0FBTCxZQUFLLENBQUw7QUFDQSxTQUFBLFdBQUE7O0FBRUEsU0FBSyxLQUFBLEdBQUEsQ0FBTCxZQUFLLENBQUw7QUFDQSxTQUFLLEtBQUEsR0FBQSxDQUFMLFlBQUssQ0FBTDtBQUNBLFNBQUEsY0FBQTs7QUFFQSxTQUFLLEtBQUEsR0FBQSxDQUFMLFlBQUssQ0FBTDtBQUNBLFNBQUssS0FBQSxHQUFBLENBQUwsWUFBSyxDQUFMO0FBQ0EsU0FBQSxXQUFBOztBQUVBOztBQUVBLG9CQUFBLG9CQUFBLElBQUEsRUFBQTtBQUNBLG9CQUFnQix1QkFBaEIsQ0FBQSxJQUFBLEVBQUE7QUFDQSxvQkFBZ0IsdUJBQWhCLENBQUEsSUFBQSxFQUFBO0FBQ0Esb0JBQWdCLHVCQUFoQixDQUFBLElBQUEsRUFBQTtBQUNBLG9CQUFnQix1QkFBaEIsQ0FBQSxJQUFBLEVBQUE7QUFDQSxvQkFBZ0IsdUJBQWhCLENBQUEsSUFBQSxFQUFBO0FBQ0Esb0JBQWdCLHVCQUFoQixDQUFBLElBQUEsRUFBQTtBQUNBLG9CQUFnQix1QkFBaEIsQ0FBQSxJQUFBLEVBQUE7QUFDQSxvQkFBZ0IsdUJBQWhCLENBQUEsSUFBQSxFQUFBOztBQUVBOztBQUVBLG9CQUFnQix1QkFBaEIsQ0FBQSxJQUFBLEVBQUE7QUFDQSxvQkFBZ0IsdUJBQWhCLEVBQUEsSUFBQSxFQUFBO0FBQ0Esb0JBQWdCLHVCQUFoQixFQUFBLElBQUEsRUFBQTtBQUNBLG9CQUFnQix1QkFBaEIsRUFBQSxJQUFBLEVBQUE7QUFDQSxvQkFBZ0IsdUJBQWhCLEVBQUEsSUFBQSxFQUFBO0FBQ0Esb0JBQWdCLHVCQUFoQixFQUFBLElBQUEsRUFBQTtBQUNBLG9CQUFnQix1QkFBaEIsRUFBQSxJQUFBLEVBQUE7QUFDQSxvQkFBZ0IsdUJBQWhCLEVBQUEsSUFBQSxFQUFBO0FBQ0Esb0JBQWdCLHVCQUFoQixFQUFBLElBQUEsRUFBQTs7QUFFQSw0QkFBQSxFQUFBO0FBQ0Q7O0FBRUQsU0FBQSxlQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7OztBQVlBLFNBQUEsMkJBQUEsQ0FBQSxlQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUE4RjtBQUM1RixNQUFNLFNBQVMsTUFBZixDQUFlLENBQWY7QUFDQSxNQUFNLFNBQVMsTUFBZixDQUFlLENBQWY7QUFDQSxNQUFNLFNBQVMsTUFBZixDQUFlLENBQWY7QUFDQSxNQUFNLGFBQWEsVUFBbkIsQ0FBbUIsQ0FBbkI7QUFDQSxNQUFNLGFBQWEsVUFBbkIsQ0FBbUIsQ0FBbkI7QUFDQSxNQUFNLGFBQWEsVUFBbkIsQ0FBbUIsQ0FBbkI7O0FBRUEsT0FBSyxJQUFJLElBQVQsVUFBQSxFQUF5QixJQUF6QixRQUFBLEVBQXVDLEtBQXZDLENBQUEsRUFBK0M7QUFDN0Msb0JBQUEsQ0FBQSxJQUFxQixnQkFBQSxDQUFBLElBQUEsTUFBQSxHQUFyQixVQUFBO0FBQ0Esb0JBQWdCLElBQWhCLENBQUEsSUFBeUIsZ0JBQWdCLElBQWhCLENBQUEsSUFBQSxNQUFBLEdBQXpCLFVBQUE7QUFDQSxvQkFBZ0IsSUFBaEIsQ0FBQSxJQUF5QixnQkFBZ0IsSUFBaEIsQ0FBQSxJQUFBLE1BQUEsR0FBekIsVUFBQTtBQUNEO0FBQ0Y7O0FBRUQ7O1FBR0UsZ0IsR0FBQSxnQjtRQUNBLGlCLEdBQUEsaUI7UUFDQSxlLEdBQUEsZTtRQUNBLFksR0FBQSxZO1FBQ0EsaUIsR0FBQSxpQjtRQUNBLFksR0FBQSxZO1FBQ0EsVyxHQUFBLFc7UUFDQSxVLEdBQUEsVTtRQUNBLFcsR0FBQSxXO1FBQ0Esb0IsR0FBQSxvQjtRQUNBLGlDLEdBQUEsaUM7UUFDQSxlLEdBQUEsZTtRQUNBLGlCLEdBQUEsaUI7UUFDQSx5QixHQUFBLHlCO1FBQ0Esa0IsR0FBQSxrQjtRQUNBLDZCLEdBQUEsNkI7UUFFQSx1QyxHQUFBLHVDO1FBQ0EsZ0MsR0FBQSxnQztRQUNBLGtDLEdBQUEsa0M7UUFDQSxzQyxHQUFBLHNDO1FBQ0Esc0MsR0FBQSxzQztRQUNBLGUsR0FBQSxlO1FBQ0EsNkMsR0FBQSw2QztRQUNBLHlCLEdBQUEseUI7UUFDQSwyQixHQUFBLDJCO1FBQ0EsMkIsR0FBQSwyQjs7QUFHRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BsQ0E7OztJQUdNLFU7QUFDSjs7O0FBR0EsV0FBQSxPQUFBLENBQUEsWUFBQSxFQUEwQjtBQUFBLG9CQUFBLElBQUEsRUFBQSxPQUFBOztBQUN4QixTQUFBLGFBQUEsR0FBQSxZQUFBO0FBQ0EsU0FBQSxJQUFBLEdBQVksSUFBWixHQUFZLEVBQVo7QUFDRDs7QUFFRDs7Ozs7Ozt3QkFJSSxHLEVBQUssSyxFQUFPO0FBQ2QsVUFBTSxXQUFXLEtBQUEsYUFBQSxDQUFqQixHQUFpQixDQUFqQjtBQUNBLFdBQUEsSUFBQSxDQUFBLEdBQUEsQ0FBQSxRQUFBLEVBQUEsS0FBQTtBQUNEOztBQUVEOzs7Ozs7O3dCQUlJLEcsRUFBSztBQUNQLFVBQU0sV0FBVyxLQUFBLGFBQUEsQ0FBakIsR0FBaUIsQ0FBakI7QUFDQSxhQUFPLEtBQUEsSUFBQSxDQUFBLEdBQUEsQ0FBUCxRQUFPLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozt3QkFJSSxHLEVBQUs7QUFDUCxVQUFNLFdBQVcsS0FBQSxhQUFBLENBQWpCLEdBQWlCLENBQWpCO0FBQ0EsYUFBTyxLQUFBLElBQUEsQ0FBQSxHQUFBLENBQVAsUUFBTyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7MkJBSU8sSSxFQUFNO0FBQ1gsYUFBTyxLQUFBLElBQUEsQ0FBQSxNQUFBLENBQVAsSUFBTyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs0QkFHUSxRLEVBQVU7QUFDaEIsV0FBQSxJQUFBLENBQUEsT0FBQSxDQUFBLFFBQUE7QUFDRDs7OzRCQUVPO0FBQ04sV0FBQSxJQUFBLENBQUEsS0FBQTtBQUNEOztBQUVEOzs7Ozs7d0JBR1c7QUFDVCxhQUFPLEtBQUEsSUFBQSxDQUFQLElBQUE7QUFDRDs7Ozs7O1FBR0ssTyxHQUFBLE87Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEVSOzs7O0FBSUE7QUFDQSxJQUFNLGNBQU4sSUFBQTs7QUFFQTs7Ozs7OztBQU9BLFNBQUEsMkJBQUEsQ0FBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBaUU7QUFDL0QsV0FBQSxPQUFBLENBQWlCLFVBQUEsT0FBQSxFQUFXO0FBQzFCLFdBQUEsT0FBQSxDQUFlLFVBQUEsS0FBQSxFQUFTO0FBQ3RCLGNBQUEsZ0JBQUEsQ0FBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUE7QUFERixLQUFBO0FBREYsR0FBQTtBQUtEOztBQUVEOzs7Ozs7Ozs7O0FBVUEsU0FBQSxhQUFBLENBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFxRDtBQUNuRCxNQUFNLFVBQVUsU0FBQSxhQUFBLENBQWhCLE9BQWdCLENBQWhCO0FBQ0EsTUFBQSxNQUFBLEVBQVk7QUFDVixXQUFBLFdBQUEsQ0FBQSxPQUFBO0FBQ0Q7QUFDRCxNQUFBLEVBQUEsRUFBUTtBQUNOLFlBQUEsRUFBQSxHQUFBLEVBQUE7QUFDRDtBQUNELE1BQUEsT0FBQSxFQUFhO0FBQ1gsWUFBQSxPQUFBLENBQWdCLFVBQUEsU0FBQSxFQUFBO0FBQUEsYUFBYSxTQUFBLE9BQUEsRUFBYixTQUFhLENBQWI7QUFBaEIsS0FBQTtBQUNEO0FBQ0QsU0FBQSxPQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPQSxTQUFBLGFBQUEsQ0FBQSxPQUFBLEVBQUEsU0FBQSxFQUEyQztBQUN6QyxNQUFJLGFBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxnQkFBQSxLQUFKLENBQUE7QUFDQSxlQUFhLFFBQUEsU0FBQSxDQUFBLE9BQUEsQ0FBYixTQUFhLENBQWI7QUFDQSxNQUFJLGNBQUosQ0FBQSxFQUFxQjtBQUNuQixRQUFJLGVBQUEsQ0FBQSxJQUFvQixRQUFBLFNBQUEsQ0FBa0IsYUFBbEIsQ0FBQSxNQUF4QixHQUFBLEVBQW1FO0FBQ2pFLHNCQUFnQixhQUFhLFVBQTdCLE1BQUE7QUFDQSxVQUFJLGtCQUFrQixRQUFBLFNBQUEsQ0FBbEIsTUFBQSxJQUNGLFFBQUEsU0FBQSxDQUFBLGFBQUEsTUFERixHQUFBLEVBQzRDO0FBQzFDLGVBQUEsSUFBQTtBQUNEO0FBQ0Y7QUFDRjtBQUNELFNBQUEsS0FBQTtBQUNEOztBQUVEOzs7Ozs7Ozs7O0FBVUEsU0FBQSxXQUFBLENBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEVBQWtEO0FBQ2hELE1BQUksT0FBQSxPQUFBLEtBQUosV0FBQSxFQUFvQztBQUNsQyxRQUFJLGNBQUEsT0FBQSxFQUFKLFNBQUksQ0FBSixFQUF1QztBQUNyQyxrQkFBQSxPQUFBLEVBQUEsU0FBQTtBQURGLEtBQUEsTUFHSztBQUNILGVBQUEsT0FBQSxFQUFBLFNBQUE7QUFDRDtBQU5ILEdBQUEsTUFRSyxJQUFBLE9BQUEsRUFBYTtBQUNoQixhQUFBLE9BQUEsRUFBQSxTQUFBO0FBREcsR0FBQSxNQUdBO0FBQ0gsZ0JBQUEsT0FBQSxFQUFBLFNBQUE7QUFDRDtBQUNGOztBQUVEOzs7Ozs7O0FBT0EsU0FBQSxhQUFBLENBQUEsT0FBQSxFQUFnQztBQUM5QixNQUFJLElBQUosQ0FBQTtBQUNBLE1BQUksSUFBSixDQUFBO0FBQ0EsU0FBQSxPQUFBLEVBQWdCO0FBQ2QsU0FBSyxRQUFMLFVBQUE7QUFDQSxTQUFLLFFBQUwsU0FBQTtBQUNBLGNBQVUsUUFBVixZQUFBO0FBQ0Q7QUFDRCxPQUFLLFNBQUEsZUFBQSxDQUFMLFVBQUE7QUFDQSxPQUFLLFNBQUEsZUFBQSxDQUFMLFNBQUE7QUFDQSxTQUFPLEVBQUUsR0FBRixDQUFBLEVBQVEsR0FBZixDQUFPLEVBQVA7QUFDRDs7QUFFRDs7Ozs7QUFLQSxTQUFBLGVBQUEsR0FBMkI7QUFDekIsTUFBSSxJQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksSUFBQSxLQUFKLENBQUE7QUFDQSxNQUFJLE9BQU8sT0FBUCxVQUFBLEtBQUosV0FBQSxFQUE4QztBQUM1QztBQUNBLFFBQUksT0FBSixVQUFBO0FBQ0EsUUFBSSxPQUFKLFdBQUE7QUFIRixHQUFBLE1BS0ssSUFBSSxPQUFPLFNBQVAsZUFBQSxLQUFBLFdBQUEsSUFDUCxPQUFPLFNBQUEsZUFBQSxDQUFQLFdBQUEsS0FETyxXQUFBLElBRVAsU0FBQSxlQUFBLENBQUEsV0FBQSxLQUZHLENBQUEsRUFFeUM7QUFDNUM7QUFDQSxRQUFJLFNBQUEsZUFBQSxDQUFKLFdBQUE7QUFDQSxRQUFJLFNBQUEsZUFBQSxDQUFKLFlBQUE7QUFMRyxHQUFBLE1BT0E7QUFDSDtBQUNBLFFBQUksU0FBQSxvQkFBQSxDQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUosV0FBQTtBQUNBLFFBQUksU0FBQSxvQkFBQSxDQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUosWUFBQTtBQUNEO0FBQ0QsU0FBTyxFQUFFLEdBQUYsQ0FBQSxFQUFRLEdBQWYsQ0FBTyxFQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUUEsU0FBQSxvQkFBQSxDQUFBLE1BQUEsRUFBQSxLQUFBLEVBQTZDO0FBQzNDLE1BQUksU0FBUyxNQUFBLFVBQUEsS0FBYixNQUFBLEVBQTBDO0FBQ3hDLFdBQUEsV0FBQSxDQUFBLEtBQUE7QUFDQSxXQUFBLElBQUE7QUFDRDtBQUNELFNBQUEsS0FBQTtBQUNEOztBQUVEOzs7Ozs7QUFNQSxTQUFBLFFBQUEsQ0FBQSxPQUFBLEVBQUEsU0FBQSxFQUFzQztBQUNwQyxVQUFBLFlBQUEsQ0FBQSxPQUFBLEVBQThCLFFBQUEsU0FBQSxHQUFBLEdBQUEsR0FBOUIsU0FBQTtBQUNEOztBQUVEOzs7Ozs7QUFNQSxTQUFBLFdBQUEsQ0FBQSxPQUFBLEVBQUEsU0FBQSxFQUF5QztBQUN2QyxVQUFBLFlBQUEsQ0FBQSxPQUFBLEVBQ0UsUUFBQSxTQUFBLENBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxNQUFBLENBRVEsVUFBQSxLQUFBLEVBQUE7QUFBQSxXQUFTLFVBQVQsU0FBQTtBQUZSLEdBQUEsRUFBQSxJQUFBLENBREYsR0FDRSxDQURGO0FBS0Q7O0FBRUQ7Ozs7O0FBS0EsU0FBQSxZQUFBLENBQUEsT0FBQSxFQUErQjtBQUM3QixVQUFBLFNBQUEsR0FBQSxFQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7OztBQVlBLFNBQUEsWUFBQSxDQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQTBEO0FBQ3hELE1BQUksYUFBQSxLQUFKLENBQUE7QUFDQSxNQUFJLFFBQUEsS0FBSixDQUFBO0FBQ0EsV0FBUyxVQUFVLFNBQUEsb0JBQUEsQ0FBQSxNQUFBLEVBQW5CLENBQW1CLENBQW5CO0FBQ0EsZUFBYSxjQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFiLE9BQWEsQ0FBYjtBQUNBLGFBQUEsS0FBQSxDQUFBLFFBQUEsR0FBQSxVQUFBO0FBQ0EsYUFBQSxLQUFBLENBQUEsVUFBQSxHQUFBLFFBQUE7QUFDQSxhQUFBLEtBQUEsQ0FBQSxVQUFBLEdBQUEsUUFBQTtBQUNBLFNBQUEsV0FBQSxDQUFBLFVBQUE7QUFDQSxhQUFBLFNBQUEsR0FBQSxJQUFBO0FBQ0EsVUFBUSxXQUFSLFdBQUE7QUFDQSxTQUFBLFdBQUEsQ0FBQSxVQUFBO0FBQ0EsU0FBQSxLQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPQSxTQUFBLGlCQUFBLENBQUEsU0FBQSxFQUFzQztBQUNwQyxNQUFJLFlBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxnQkFBQSxLQUFKLENBQUE7QUFDQSxrQkFBQSxFQUFBO0FBQ0EsT0FBQSxTQUFBLElBQUEsU0FBQSxFQUE2QjtBQUMzQixRQUFJLFVBQUEsY0FBQSxDQUFKLFNBQUksQ0FBSixFQUF5QztBQUN2QyxvQkFBQSxJQUFBLENBQW1CLG1CQUFBLFNBQUEsSUFBQSxHQUFBLEdBQ2pCLG1CQUFtQixVQURyQixTQUNxQixDQUFuQixDQURGO0FBRUQ7QUFDRjtBQUNELFNBQU8sTUFBTSxjQUFBLElBQUEsQ0FBYixHQUFhLENBQWI7QUFDRDs7QUFFRDs7Ozs7Ozs7O0FBU0EsU0FBQSw0QkFBQSxDQUFBLFdBQUEsRUFBQSxJQUFBLEVBQXlEO0FBQ3ZELE1BQUksUUFBQSxLQUFKLENBQUE7QUFDQSxNQUFJLFVBQUEsS0FBSixDQUFBO0FBQ0EsU0FBTyxtQkFBUCxJQUFPLENBQVA7QUFDQSxTQUFPLEtBQUEsT0FBQSxDQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxDQUFBLE1BQUEsRUFBUCxLQUFPLENBQVA7QUFDQSxVQUFRLElBQUEsTUFBQSxDQUFXLFdBQUEsSUFBQSxHQUFYLFdBQUEsRUFBUixHQUFRLENBQVI7QUFDQSxZQUFVLE1BQUEsSUFBQSxDQUFWLFdBQVUsQ0FBVjtBQUNBLFNBQU8sWUFBQSxJQUFBLEdBQUEsSUFBQSxHQUEwQixtQkFBbUIsUUFBQSxDQUFBLEVBQUEsT0FBQSxDQUFBLEtBQUEsRUFBcEQsR0FBb0QsQ0FBbkIsQ0FBakM7QUFDRDs7QUFFRDs7Ozs7O0FBTUEsU0FBQSxhQUFBLENBQUEsT0FBQSxFQUFBLEtBQUEsRUFBdUM7QUFDckMsVUFBQSxLQUFBLENBQUEsVUFBQSxHQUFBLEtBQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxnQkFBQSxHQUFBLEtBQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxhQUFBLEdBQUEsS0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLFlBQUEsR0FBQSxLQUFBO0FBQ0EsVUFBQSxLQUFBLENBQUEsV0FBQSxHQUFBLEtBQUE7QUFDRDs7QUFFRDs7Ozs7O0FBTUEsU0FBQSw0QkFBQSxDQUFBLE9BQUEsRUFBQSxLQUFBLEVBQXNEO0FBQ3BELFVBQUEsS0FBQSxDQUFBLGtCQUFBLEdBQW1DLFFBQW5DLEdBQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSx3QkFBQSxHQUF5QyxRQUF6QyxHQUFBO0FBQ0EsVUFBQSxLQUFBLENBQUEscUJBQUEsR0FBc0MsUUFBdEMsR0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLG9CQUFBLEdBQXFDLFFBQXJDLEdBQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxtQkFBQSxHQUFvQyxRQUFwQyxHQUFBO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1BLFNBQUEseUJBQUEsQ0FBQSxPQUFBLEVBQUEsS0FBQSxFQUFtRDtBQUNqRCxVQUFBLEtBQUEsQ0FBQSxlQUFBLEdBQWdDLFFBQWhDLEdBQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxxQkFBQSxHQUFzQyxRQUF0QyxHQUFBO0FBQ0EsVUFBQSxLQUFBLENBQUEsa0JBQUEsR0FBbUMsUUFBbkMsR0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLGlCQUFBLEdBQWtDLFFBQWxDLEdBQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxnQkFBQSxHQUFpQyxRQUFqQyxHQUFBO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsU0FBQSxpQkFBQSxDQUFBLE9BQUEsRUFBb0M7QUFDbEMsVUFBQSxLQUFBLENBQUEsVUFBQSxHQUFBLE1BQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxnQkFBQSxHQUFBLE1BQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxhQUFBLEdBQUEsTUFBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLFlBQUEsR0FBQSxNQUFBO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1BLFNBQUEsdUJBQUEsQ0FBQSxNQUFBLEVBQUEsU0FBQSxFQUFvRDtBQUNsRCxNQUFJLG1CQUFtQixPQUFBLGdCQUFBLENBQXdCLE1BQS9DLFNBQXVCLENBQXZCOztBQUVBLE9BQUssSUFBSSxJQUFKLENBQUEsRUFBVyxRQUFRLGlCQUF4QixNQUFBLEVBQWlELElBQWpELEtBQUEsRUFBQSxHQUFBLEVBQWlFO0FBQy9ELFdBQUEsV0FBQSxDQUFtQixpQkFBbkIsQ0FBbUIsQ0FBbkI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OztBQVFBLFNBQUEsc0NBQUEsQ0FBQSxPQUFBLEVBQUEsU0FBQSxFQUFvRTtBQUNsRSxNQUFNLFFBQVEsa0JBQWtCLFVBQWxCLEdBQUEsR0FBQSxHQUFBLEdBQXdDLFVBQXhDLEdBQUEsR0FBQSxHQUFBLEdBQThELFVBQTlELEdBQUEsR0FBQSxHQUFBLEdBQ1osVUFEWSxHQUFBLEdBQWQsR0FBQTtBQUVBLFVBQUEsS0FBQSxDQUFBLHdCQUFBLEdBQUEsS0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLDhCQUFBLEdBQUEsS0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLDJCQUFBLEdBQUEsS0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLDBCQUFBLEdBQUEsS0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLHlCQUFBLEdBQUEsS0FBQTtBQUNEOztBQUVEO0FBQ0EsSUFBTSxrQkFBa0I7QUFDdEIsVUFBUSxTQUFBLE1BQUEsQ0FBQSxDQUFBLEVBQUE7QUFBQSxXQUFBLENBQUE7QUFEYyxHQUFBO0FBRXRCLGNBQVksU0FBQSxVQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxJQUFMLENBQUE7QUFGVSxHQUFBO0FBR3RCLGVBQWEsU0FBQSxXQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxLQUFLLElBQVYsQ0FBSyxDQUFMO0FBSFMsR0FBQTtBQUl0QixpQkFBZSxTQUFBLGFBQUEsQ0FBQSxDQUFBLEVBQUE7QUFBQSxXQUFLLElBQUEsR0FBQSxHQUFVLElBQUEsQ0FBQSxHQUFWLENBQUEsR0FBc0IsQ0FBQSxDQUFBLEdBQUssQ0FBQyxJQUFJLElBQUwsQ0FBQSxJQUFoQyxDQUFBO0FBSk8sR0FBQTtBQUt0QixlQUFhLFNBQUEsV0FBQSxDQUFBLENBQUEsRUFBQTtBQUFBLFdBQUssSUFBQSxDQUFBLEdBQUwsQ0FBQTtBQUxTLEdBQUE7QUFNdEIsZ0JBQWMsU0FBQSxZQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxJQUFJLEVBQUEsQ0FBQSxHQUFBLENBQUEsR0FBVCxDQUFBO0FBTlEsR0FBQTtBQU90QixrQkFBZ0IsU0FBQSxjQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxJQUFBLEdBQUEsR0FBVSxJQUFBLENBQUEsR0FBQSxDQUFBLEdBQVYsQ0FBQSxHQUEwQixDQUFDLElBQUQsQ0FBQSxLQUFXLElBQUEsQ0FBQSxHQUFYLENBQUEsS0FBeUIsSUFBQSxDQUFBLEdBQXpCLENBQUEsSUFBL0IsQ0FBQTtBQVBNLEdBQUE7QUFRdEIsZUFBYSxTQUFBLFdBQUEsQ0FBQSxDQUFBLEVBQUE7QUFBQSxXQUFLLElBQUEsQ0FBQSxHQUFBLENBQUEsR0FBTCxDQUFBO0FBUlMsR0FBQTtBQVN0QixnQkFBYyxTQUFBLFlBQUEsQ0FBQSxDQUFBLEVBQUE7QUFBQSxXQUFLLElBQUksRUFBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsR0FBVCxDQUFBO0FBVFEsR0FBQTtBQVV0QixrQkFBZ0IsU0FBQSxjQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxJQUFBLEdBQUEsR0FBVSxJQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFWLENBQUEsR0FBOEIsSUFBSSxJQUFJLEVBQUosQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLEdBQXZDLENBQUE7QUFWTSxHQUFBO0FBV3RCLGVBQWEsU0FBQSxXQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxJQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFMLENBQUE7QUFYUyxHQUFBO0FBWXRCLGdCQUFjLFNBQUEsWUFBQSxDQUFBLENBQUEsRUFBQTtBQUFBLFdBQUssSUFBSSxFQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsR0FBVCxDQUFBO0FBWlEsR0FBQTtBQWF0QixrQkFBZ0IsU0FBQSxjQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxJQUFBLEdBQUEsR0FBVSxLQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsR0FBVixDQUFBLEdBQW1DLElBQUksS0FBSyxFQUFMLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsR0FBNUMsQ0FBQTtBQUFBO0FBYk0sQ0FBeEI7O0FBZ0JBO0FBQ0EsSUFBTSx5QkFBeUI7QUFDN0IsVUFBUSxTQUFBLE1BQUEsQ0FBQSxDQUFBLEVBQUE7QUFBQSxXQUFBLENBQUE7QUFEcUIsR0FBQTtBQUU3QixjQUFZLFNBQUEsVUFBQSxDQUFBLENBQUEsRUFBQTtBQUFBLFdBQUssS0FBQSxJQUFBLENBQUwsQ0FBSyxDQUFMO0FBRmlCLEdBQUE7QUFHN0IsZUFBYSxTQUFBLFdBQUEsQ0FBQSxDQUFBLEVBQUE7QUFBQSxXQUFLLElBQUksS0FBQSxJQUFBLENBQVUsSUFBbkIsQ0FBUyxDQUFUO0FBSGdCLEdBQUE7QUFJN0IsaUJBQWUsU0FBQSxhQUFBLENBQUEsQ0FBQSxFQUFBO0FBQUEsV0FBSyxJQUFBLEdBQUEsR0FBVSxLQUFBLElBQUEsQ0FBVSxJQUFwQixHQUFVLENBQVYsR0FBK0IsSUFBSSxhQUFhLEtBQUEsSUFBQSxDQUFVLElBQS9ELENBQXFELENBQXJEO0FBQUE7QUFKYyxDQUEvQjs7QUFPQTs7Ozs7Ozs7QUFRQSxTQUFBLDBCQUFBLENBQUEsT0FBQSxFQUFBLGFBQUEsRUFBNEQ7QUFDMUQsTUFBSSxJQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksSUFBQSxLQUFKLENBQUE7QUFDQSxNQUFJLGtCQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksT0FBQSxLQUFKLENBQUE7QUFDQSxNQUFJLE9BQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxPQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksT0FBQSxLQUFKLENBQUE7O0FBRUEsb0JBQWtCLElBQWxCLE9BQUE7QUFDQSxTQUFPLGtCQUFBLGVBQUEsR0FBUCxlQUFBO0FBQ0EsU0FBTyxJQUFBLE9BQUEsR0FBQSxlQUFBLEdBQVAsZUFBQTtBQUNBLFNBQU8sSUFBQSxPQUFBLEdBQUEsT0FBQSxHQUFQLGVBQUE7QUFDQSxTQUFPLFVBQUEsT0FBQSxHQUFQLE9BQUE7O0FBRUEsTUFBSSxjQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsSUFBQSxHQUNGLGNBQUEsQ0FBQSxFQUFBLENBQUEsR0FERSxJQUFBLEdBRUYsY0FBQSxDQUFBLEVBQUEsQ0FBQSxHQUZFLElBQUEsR0FHRixjQUFBLENBQUEsRUFBQSxDQUFBLEdBSEYsSUFBQTtBQUlBLE1BQUksY0FBQSxDQUFBLEVBQUEsQ0FBQSxHQUFBLElBQUEsR0FDRixjQUFBLENBQUEsRUFBQSxDQUFBLEdBREUsSUFBQSxHQUVGLGNBQUEsQ0FBQSxFQUFBLENBQUEsR0FGRSxJQUFBLEdBR0YsY0FBQSxDQUFBLEVBQUEsQ0FBQSxHQUhGLElBQUE7O0FBS0EsU0FBTyxFQUFFLEdBQUYsQ0FBQSxFQUFRLEdBQWYsQ0FBTyxFQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPQSxTQUFBLFlBQUEsQ0FBQSxPQUFBLEVBQUEsU0FBQSxFQUEwQztBQUN4QyxVQUFBLEtBQUEsQ0FBQSxlQUFBLEdBQUEsU0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLFlBQUEsR0FBQSxTQUFBO0FBQ0EsVUFBQSxLQUFBLENBQUEsV0FBQSxHQUFBLFNBQUE7QUFDQSxVQUFBLEtBQUEsQ0FBQSxVQUFBLEdBQUEsU0FBQTtBQUNBLFVBQUEsS0FBQSxDQUFBLFNBQUEsR0FBQSxTQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUUEsU0FBQSxPQUFBLENBQUEsS0FBQSxFQUF3QjtBQUN0QixNQUFJLElBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxJQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksUUFBQSxLQUFKLENBQUE7QUFDQSxNQUFJLE9BQUEsS0FBSixDQUFBOztBQUVBLE9BQUssSUFBQSxDQUFBLEVBQU8sUUFBUSxNQUFwQixNQUFBLEVBQWtDLElBQWxDLEtBQUEsRUFBQSxHQUFBLEVBQWtEO0FBQ2hELFFBQUksU0FBUyxLQUFBLE1BQUEsS0FBYixLQUFJLENBQUo7QUFDQSxXQUFPLE1BQVAsQ0FBTyxDQUFQO0FBQ0EsVUFBQSxDQUFBLElBQVcsTUFBWCxDQUFXLENBQVg7QUFDQSxVQUFBLENBQUEsSUFBQSxJQUFBO0FBQ0Q7O0FBRUQsU0FBQSxLQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUUEsU0FBQSxXQUFBLENBQUEsTUFBQSxFQUE2QjtBQUMzQixNQUFJLENBQUEsT0FBQSxNQUFBLEtBQUEsV0FBQSxHQUFBLFdBQUEsR0FBQSxRQUFBLE1BQUEsQ0FBQSxNQUFKLFFBQUEsRUFBZ0M7QUFDOUIsUUFBTSxjQUFOLEVBQUE7O0FBRUEsV0FBQSxJQUFBLENBQUEsTUFBQSxFQUFBLE9BQUEsQ0FDVyxVQUFBLEdBQUEsRUFBQTtBQUFBLGFBQU8sWUFBQSxHQUFBLElBQW1CLE9BQTFCLEdBQTBCLENBQTFCO0FBRFgsS0FBQTs7QUFHQSxXQUFBLFdBQUE7QUFORixHQUFBLE1BUUs7QUFDSCxXQUFBLE1BQUE7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OztBQVFBLFNBQUEsUUFBQSxDQUFBLE1BQUEsRUFBMEI7QUFDeEIsTUFBSSxDQUFBLE9BQUEsTUFBQSxLQUFBLFdBQUEsR0FBQSxXQUFBLEdBQUEsUUFBQSxNQUFBLENBQUEsTUFBSixRQUFBLEVBQWdDO0FBQzlCO0FBQ0EsUUFBSSxjQUFBLEtBQUosQ0FBQTtBQUNBLFFBQUksa0JBQUosS0FBQSxFQUE2QjtBQUMzQixvQkFBQSxFQUFBO0FBREYsS0FBQSxNQUdLO0FBQ0gsb0JBQUEsRUFBQTtBQUNEOztBQUVELFdBQUEsSUFBQSxDQUFBLE1BQUEsRUFBQSxPQUFBLENBQ1csVUFBQSxHQUFBLEVBQUE7QUFBQSxhQUFPLFlBQUEsR0FBQSxJQUFtQixTQUFTLE9BQW5DLEdBQW1DLENBQVQsQ0FBMUI7QUFEWCxLQUFBOztBQUdBLFdBQUEsV0FBQTtBQWJGLEdBQUEsTUFlSztBQUNILFdBQUEsTUFBQTtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7O0FBUUEsU0FBQSxRQUFBLENBQUEsR0FBQSxFQUF1QjtBQUNyQixNQUFNLE9BQU8sSUFBQSxDQUFBLElBQVMsSUFBQSxDQUFBLEdBQUEsR0FBQSxHQUFjLElBQWQsQ0FBQSxHQUFzQixJQUFJLElBQWhELENBQWEsQ0FBYjtBQUNBLFNBQU87QUFDTCxPQUFHLElBREUsQ0FBQTtBQUVMLE9BQUcsSUFBQSxJQUFBLElBQVksSUFBQSxDQUFBLEdBRlYsSUFFRixDQUZFO0FBR0wsT0FBRyxJQUFBLENBQUEsR0FBUTtBQUhOLEdBQVA7QUFLRDs7QUFFRDs7Ozs7Ozs7QUFRQSxTQUFBLFFBQUEsQ0FBQSxHQUFBLEVBQXVCO0FBQ3JCLE1BQU0sT0FBTyxDQUFDLElBQUksSUFBTCxDQUFBLElBQWMsSUFBM0IsQ0FBQTtBQUNBLFNBQU87QUFDTCxPQUFHLElBREUsQ0FBQTtBQUVMLE9BQUcsSUFBQSxDQUFBLEdBQVEsSUFBUixDQUFBLElBQWlCLE9BQUEsQ0FBQSxHQUFBLElBQUEsR0FBa0IsYUFGakMsSUFFRixDQUZFO0FBR0wsT0FBRyxPQUFPO0FBSEwsR0FBUDtBQUtEOztBQUVEOzs7Ozs7Ozs7O0FBVUEsU0FBQSxRQUFBLENBQUEsR0FBQSxFQUF1QjtBQUNyQixNQUFJLElBQUEsS0FBSixDQUFBO0FBQ0EsTUFBSSxJQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksSUFBQSxLQUFKLENBQUE7O0FBRUEsTUFBSSxJQUFBLENBQUEsS0FBSixDQUFBLEVBQWlCO0FBQ2Y7QUFDQSxRQUFJLElBQUosQ0FBQTtBQUNBLFFBQUksSUFBSixDQUFBO0FBQ0EsUUFBSSxJQUFKLENBQUE7QUFKRixHQUFBLE1BTUs7QUFDSCxRQUFNLElBQUksSUFBQSxDQUFBLEdBQUEsR0FBQSxHQUNSLElBQUEsQ0FBQSxJQUFTLElBQUksSUFETCxDQUNSLENBRFEsR0FFUixJQUFBLENBQUEsR0FBUSxJQUFSLENBQUEsR0FBZ0IsSUFBQSxDQUFBLEdBQVEsSUFGMUIsQ0FBQTtBQUdBLFFBQU0sSUFBSSxJQUFJLElBQUosQ0FBQSxHQUFWLENBQUE7O0FBRUEsUUFBSSxTQUFBLENBQUEsRUFBQSxDQUFBLEVBQWUsSUFBQSxDQUFBLEdBQVEsSUFBM0IsQ0FBSSxDQUFKO0FBQ0EsUUFBSSxTQUFBLENBQUEsRUFBQSxDQUFBLEVBQWUsSUFBbkIsQ0FBSSxDQUFKO0FBQ0EsUUFBSSxTQUFBLENBQUEsRUFBQSxDQUFBLEVBQWUsSUFBQSxDQUFBLEdBQVEsSUFBM0IsQ0FBSSxDQUFKO0FBQ0Q7O0FBRUQsU0FBTztBQUNMLE9BREssQ0FBQTtBQUVMLE9BRkssQ0FBQTtBQUdMLE9BQUc7QUFIRSxHQUFQO0FBS0Q7O0FBRUQsU0FBQSxRQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQTJCO0FBQ3pCLE1BQUksSUFBSixDQUFBLEVBQVc7QUFDVDtBQURGLEdBQUEsTUFHSyxJQUFJLElBQUosQ0FBQSxFQUFXO0FBQ2Q7QUFDRDs7QUFFRCxNQUFJLElBQUksSUFBUixDQUFBLEVBQWU7QUFDYixXQUFPLElBQUksQ0FBQyxJQUFELENBQUEsSUFBQSxDQUFBLEdBQVgsQ0FBQTtBQURGLEdBQUEsTUFHSyxJQUFJLElBQUksSUFBUixDQUFBLEVBQWU7QUFDbEIsV0FBQSxDQUFBO0FBREcsR0FBQSxNQUdBLElBQUksSUFBSSxJQUFSLENBQUEsRUFBZTtBQUNsQixXQUFPLElBQUksQ0FBQyxJQUFELENBQUEsS0FBVyxJQUFBLENBQUEsR0FBWCxDQUFBLElBQVgsQ0FBQTtBQURHLEdBQUEsTUFHQTtBQUNILFdBQUEsQ0FBQTtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozs7QUFVQSxTQUFBLFFBQUEsQ0FBQSxHQUFBLEVBQXVCO0FBQ3JCLE1BQU0sTUFBTSxLQUFBLEdBQUEsQ0FBUyxJQUFULENBQUEsRUFBZ0IsSUFBaEIsQ0FBQSxFQUF1QixJQUFuQyxDQUFZLENBQVo7QUFDQSxNQUFNLE1BQU0sS0FBQSxHQUFBLENBQVMsSUFBVCxDQUFBLEVBQWdCLElBQWhCLENBQUEsRUFBdUIsSUFBbkMsQ0FBWSxDQUFaO0FBQ0EsTUFBSSxJQUFBLEtBQUosQ0FBQTtBQUNBLE1BQUksSUFBQSxLQUFKLENBQUE7QUFDQSxNQUFNLElBQUksQ0FBQyxNQUFELEdBQUEsSUFBVixDQUFBOztBQUVBLE1BQUksUUFBSixHQUFBLEVBQWlCO0FBQ2Y7QUFDQSxRQUFBLENBQUE7QUFDQSxRQUFBLENBQUE7QUFIRixHQUFBLE1BS0s7QUFDSCxRQUFNLElBQUksTUFBVixHQUFBO0FBQ0EsUUFBSSxJQUFBLEdBQUEsR0FDRixLQUFLLElBQUEsR0FBQSxHQURILEdBQ0YsQ0FERSxHQUVGLEtBQUssTUFGUCxHQUVFLENBRkY7O0FBSUEsWUFBQSxHQUFBO0FBQ0UsV0FBSyxJQUFMLENBQUE7QUFDRSxZQUFJLENBQUMsSUFBQSxDQUFBLEdBQVEsSUFBVCxDQUFBLElBQUEsQ0FBQSxJQUF1QixJQUFBLENBQUEsR0FBUSxJQUFSLENBQUEsR0FBQSxDQUFBLEdBQTNCLENBQUksQ0FBSjtBQUNBO0FBQ0YsV0FBSyxJQUFMLENBQUE7QUFDRSxZQUFJLENBQUMsSUFBQSxDQUFBLEdBQVEsSUFBVCxDQUFBLElBQUEsQ0FBQSxHQUFKLENBQUE7QUFDQTtBQUNGLFdBQUssSUFBTCxDQUFBO0FBQ0UsWUFBSSxDQUFDLElBQUEsQ0FBQSxHQUFRLElBQVQsQ0FBQSxJQUFBLENBQUEsR0FBSixDQUFBO0FBQ0E7QUFUSjs7QUFZQSxTQUFBLENBQUE7QUFDRDs7QUFFRCxTQUFPO0FBQ0wsT0FESyxDQUFBO0FBRUwsT0FGSyxDQUFBO0FBR0wsT0FBRztBQUhFLEdBQVA7QUFLRDs7QUFFRDs7Ozs7Ozs7QUFRQSxTQUFBLG9CQUFBLENBQUEsR0FBQSxFQUFtQztBQUNqQyxTQUFPLE9BQU8sSUFBUCxDQUFBLEtBQUEsV0FBQSxHQUFBLFVBQ0csSUFBQSxDQUFBLEdBREgsR0FBQSxHQUFBLEdBQUEsR0FDa0IsSUFBQSxDQUFBLEdBRGxCLEdBQUEsR0FBQSxJQUFBLEdBQ2tDLElBQUEsQ0FBQSxHQURsQyxHQUFBLEdBQUEsSUFBQSxHQUNrRCxJQURsRCxDQUFBLEdBQUEsR0FBQSxHQUFBLFNBRUUsSUFBQSxDQUFBLEdBRkYsR0FBQSxHQUFBLEdBQUEsR0FFaUIsSUFBQSxDQUFBLEdBRmpCLEdBQUEsR0FBQSxJQUFBLEdBRWlDLElBQUEsQ0FBQSxHQUZqQyxHQUFBLEdBQVAsSUFBQTtBQUdEOztBQUVEOzs7Ozs7OztBQVFBLFNBQUEsMEJBQUEsQ0FBQSxPQUFBLEVBQUEsU0FBQSxFQUF3RDtBQUN0RCxTQUFBLE9BQUEsRUFBZ0I7QUFDZCxRQUFJLGNBQUEsT0FBQSxFQUFKLFNBQUksQ0FBSixFQUF1QztBQUNyQyxhQUFBLE9BQUE7QUFDRDtBQUNGOztBQUVELFNBQUEsSUFBQTtBQUNEOztBQUVELElBQUksaUJBQUEsS0FBSixDQUFBOztBQUVBOzs7OztBQUtBLFNBQUEsbUJBQUEsQ0FBQSxTQUFBLEVBQXdDO0FBQ3RDO0FBQ0EsTUFBSSxDQUFKLGNBQUEsRUFBcUI7QUFDbkIscUJBQWlCLFNBQUEsYUFBQSxDQUFqQixPQUFpQixDQUFqQjtBQUNBLGFBQUEsb0JBQUEsQ0FBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBLFdBQUEsQ0FBQSxjQUFBO0FBQ0Q7O0FBRUQ7QUFDQSxNQUFJLGVBQUosVUFBQSxFQUErQjtBQUM3QixtQkFBQSxVQUFBLENBQUEsT0FBQSxHQUFBLFNBQUE7QUFERixHQUFBLE1BR0s7QUFDSCxtQkFBQSxXQUFBLENBQTJCLFNBQUEsY0FBQSxDQUEzQixTQUEyQixDQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsU0FBQSxjQUFBLEdBQTBCO0FBQ3hCLFNBQU8sV0FBQSxJQUFBLENBQWUsT0FBQSxTQUFBLENBQWYsU0FBQSxLQUE4QyxDQUFDLFVBQUEsSUFBQSxDQUFlLE9BQUEsU0FBQSxDQUFmLFNBQUE7QUFBdEQ7QUFDRDs7QUFFRCxTQUFBLFdBQUEsR0FBdUI7QUFDckIsU0FBTyxxQkFBQSxJQUFBLENBQXlCLE9BQUEsU0FBQSxDQUF6QixTQUFBO0FBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7QUFjQSxTQUFBLFFBQUEsQ0FBQSxlQUFBLEVBQUEsS0FBQSxFQUF3RTtBQUFBLE1BQUEsUUFBQSxJQUFBO0FBQUEsTUFBQSxhQUFBLFNBQUE7O0FBQUEsTUFBOUIsdUJBQThCLFVBQUEsTUFBQSxHQUFBLENBQUEsSUFBQSxVQUFBLENBQUEsTUFBQSxTQUFBLEdBQUEsVUFBQSxDQUFBLENBQUEsR0FBUCxLQUFPOztBQUN0RSxNQUFJLFlBQUEsS0FBSixDQUFBOztBQUVBLFNBQU8sWUFBTTtBQUNYO0FBQ0E7QUFDQSxRQUFNLFVBQU4sS0FBQTtBQUNBLFFBQU0sT0FBTixVQUFBOztBQUVBO0FBQ0EsUUFBSSx3QkFBd0IsQ0FBNUIsU0FBQSxFQUF3QztBQUN0QyxzQkFBQSxLQUFBLENBQUEsT0FBQSxFQUFBLElBQUE7QUFDRDs7QUFFRDtBQUNBLGlCQUFBLFNBQUE7QUFDQSxnQkFBWSxXQUFXLFlBQU07QUFDM0I7QUFDQSxrQkFBQSxJQUFBO0FBQ0EsVUFBSSxDQUFKLG9CQUFBLEVBQTJCO0FBQ3pCLHdCQUFBLEtBQUEsQ0FBQSxPQUFBLEVBQUEsSUFBQTtBQUNEO0FBTFMsS0FBQSxFQUFaLEtBQVksQ0FBWjtBQWJGLEdBQUE7QUFxQkQ7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7OztBQWVBLFNBQUEsUUFBQSxDQUFBLGVBQUEsRUFBQSxLQUFBLEVBQXdFO0FBQUEsTUFBQSxTQUFBLElBQUE7QUFBQSxNQUFBLGNBQUEsU0FBQTs7QUFBQSxNQUE5Qix1QkFBOEIsVUFBQSxNQUFBLEdBQUEsQ0FBQSxJQUFBLFVBQUEsQ0FBQSxNQUFBLFNBQUEsR0FBQSxVQUFBLENBQUEsQ0FBQSxHQUFQLEtBQU87O0FBQ3RFLE1BQUksWUFBQSxLQUFKLENBQUE7O0FBRUEsU0FBTyxZQUFNO0FBQ1g7QUFDQTtBQUNBLFFBQU0sVUFBTixNQUFBO0FBQ0EsUUFBTSxPQUFOLFdBQUE7O0FBRUE7QUFDQTtBQUNBLFFBQUksQ0FBSixTQUFBLEVBQWdCO0FBQ2QsVUFBQSxvQkFBQSxFQUEwQjtBQUN4Qix3QkFBQSxLQUFBLENBQUEsT0FBQSxFQUFBLElBQUE7QUFDRDs7QUFFRDtBQUNBLGtCQUFZLFdBQVcsWUFBTTtBQUMzQjtBQUNBLG9CQUFBLElBQUE7QUFDQSxZQUFJLENBQUosb0JBQUEsRUFBMkI7QUFDekIsMEJBQUEsS0FBQSxDQUFBLE9BQUEsRUFBQSxJQUFBO0FBQ0Q7QUFMUyxPQUFBLEVBQVosS0FBWSxDQUFaO0FBT0Q7QUFyQkgsR0FBQTtBQXVCRDs7QUFFRDs7Ozs7O0FBTUEsU0FBQSxXQUFBLENBQUEsS0FBQSxFQUFBLFNBQUEsRUFBdUM7QUFDckMsTUFBTSxTQUFTLElBQUEsS0FBQSxDQUFVLE1BQUEsTUFBQSxHQUFBLENBQUEsR0FBekIsQ0FBZSxDQUFmO0FBQ0EsTUFBSSxNQUFKLE1BQUEsRUFBa0I7QUFDaEIsV0FBQSxJQUFBLENBQVksTUFBWixDQUFZLENBQVo7QUFDRDtBQUNELE9BQUssSUFBSSxJQUFKLENBQUEsRUFBVyxRQUFRLE1BQXhCLE1BQUEsRUFBc0MsSUFBdEMsS0FBQSxFQUFBLEdBQUEsRUFBc0Q7QUFDcEQsV0FBQSxJQUFBLENBQUEsU0FBQTtBQUNBLFdBQUEsSUFBQSxDQUFZLE1BQVosQ0FBWSxDQUFaO0FBQ0Q7QUFDRCxTQUFBLE1BQUE7QUFDRDs7QUFFRDs7Ozs7OztBQU9BLFNBQUEsWUFBQSxDQUFBLEtBQUEsRUFBQSxHQUFBLEVBQWtDO0FBQ2hDLFNBQU8sSUFBQSxPQUFBLENBQVksVUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFxQjtBQUN0QyxZQUFBLEtBQUEsQ0FBQSxvQkFBQSxHQUFBOztBQUVBLFVBQUEsZ0JBQUEsQ0FBQSxNQUFBLEVBQStCLFVBQUEsQ0FBQSxFQUFBO0FBQUEsYUFBSyxRQUFMLEtBQUssQ0FBTDtBQUEvQixLQUFBO0FBQ0EsVUFBQSxnQkFBQSxDQUFBLE9BQUEsRUFBQSxNQUFBO0FBQ0EsVUFBQSxnQkFBQSxDQUFBLE9BQUEsRUFBQSxNQUFBOztBQUVBLFVBQUEsR0FBQSxHQUFBLEdBQUE7QUFQRixHQUFPLENBQVA7QUFTRDs7QUFFRDs7Ozs7O0FBTUEsU0FBQSxRQUFBLENBQUEsR0FBQSxFQUF1QjtBQUNyQixTQUFPLElBQUEsT0FBQSxDQUFZLFVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBcUI7QUFDdEMsUUFBTSxNQUFNLElBQVosY0FBWSxFQUFaOztBQUVBLFFBQUEsZ0JBQUEsQ0FBQSxNQUFBLEVBQTZCLFVBQUEsQ0FBQSxFQUFBO0FBQUEsYUFBSyxRQUFRLElBQWIsUUFBSyxDQUFMO0FBQTdCLEtBQUE7QUFDQSxRQUFBLGdCQUFBLENBQUEsT0FBQSxFQUFBLE1BQUE7QUFDQSxRQUFBLGdCQUFBLENBQUEsT0FBQSxFQUFBLE1BQUE7O0FBRUEsWUFBQSxLQUFBLENBQUEsbUJBQUEsR0FBQTs7QUFFQSxRQUFBLElBQUEsQ0FBQSxLQUFBLEVBQUEsR0FBQTtBQUNBLFFBQUEsSUFBQTtBQVZGLEdBQU8sQ0FBUDtBQVlEOztBQUVEOzs7Ozs7QUFNQSxTQUFBLFFBQUEsQ0FBQSxHQUFBLEVBQXVCO0FBQ3JCLFNBQU8sU0FBQSxHQUFBLEVBQUEsSUFBQSxDQUFtQixVQUFBLFFBQUEsRUFBQTtBQUFBLFdBQVksS0FBQSxLQUFBLENBQVosUUFBWSxDQUFaO0FBQTFCLEdBQU8sQ0FBUDtBQUNEOztBQUVEOzs7OztBQUtBLFNBQUEsYUFBQSxHQUF5QjtBQUN2QixTQUFPLElBQUEsS0FBQSxHQUFQLEtBQUE7QUFDRDs7QUFFRDs7Ozs7QUFLQSxTQUFBLFVBQUEsQ0FBQSxNQUFBLEVBQTRCO0FBQzFCLE1BQUksQ0FBQSxPQUFBLE1BQUEsS0FBQSxXQUFBLEdBQUEsV0FBQSxHQUFBLFFBQUEsTUFBQSxDQUFBLE1BQUosUUFBQSxFQUFnQztBQUM5QixXQUFBLE1BQUEsQ0FBQSxNQUFBO0FBQ0EsV0FBQSxJQUFBLENBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBNEIsVUFBQSxHQUFBLEVBQUE7QUFBQSxhQUFPLFdBQVcsT0FBbEIsR0FBa0IsQ0FBWCxDQUFQO0FBQTVCLEtBQUE7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozs7QUFTQSxTQUFBLFVBQUEsR0FBc0I7QUFDcEIsU0FBTyx1Q0FBQSxPQUFBLENBQUEsT0FBQSxFQUF3RCxVQUFBLENBQUEsRUFBSztBQUNsRSxRQUFNLElBQUksS0FBQSxNQUFBLEtBQUEsRUFBQSxHQUFWLENBQUE7QUFDQSxRQUFNLElBQUksTUFBQSxHQUFBLEdBQUEsQ0FBQSxHQUFpQixJQUFBLEdBQUEsR0FBM0IsR0FBQTtBQUNBLFdBQU8sRUFBQSxRQUFBLENBQVAsRUFBTyxDQUFQO0FBSEYsR0FBTyxDQUFQO0FBS0Q7O0FBRUQ7Ozs7Ozs7O0FBUUEsU0FBQSxHQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsRUFBbUI7QUFDakIsU0FBTyxDQUFFLElBQUQsQ0FBQyxHQUFGLENBQUEsSUFBUCxDQUFBO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsU0FBQSxrQkFBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLEVBQXNDO0FBQ3BDLFNBQU8sS0FBQSxNQUFBLE1BQWlCLE1BQWpCLEdBQUEsSUFBUCxHQUFBO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsU0FBQSxnQkFBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLEVBQW9DO0FBQ2xDLFNBQU8sU0FBUyxLQUFBLE1BQUEsTUFBaUIsTUFBakIsR0FBQSxJQUFoQixHQUFPLENBQVA7QUFDRDs7QUFFRDs7OztBQUlBLFNBQUEsVUFBQSxDQUFBLElBQUEsRUFBMEI7QUFDeEIsU0FBTyxLQUFLLGlCQUFBLENBQUEsRUFBb0IsS0FBaEMsTUFBWSxDQUFMLENBQVA7QUFDRDs7QUFFRDs7Ozs7QUFLQSxTQUFBLHFCQUFBLENBQUEsa0JBQUEsRUFBbUQ7QUFDakQ7QUFDQSxXQUFBLGdCQUFBLENBQUEsa0JBQUEsRUFBOEMsWUFBQTtBQUFBLFdBQU0sbUJBQW1CLENBQUMsU0FBMUIsTUFBTSxDQUFOO0FBQTlDLEdBQUE7QUFDQTtBQUNBLFNBQUEsZ0JBQUEsQ0FBQSxNQUFBLEVBQWdDLFlBQUE7QUFBQSxXQUFNLG1CQUFOLEtBQU0sQ0FBTjtBQUFoQyxHQUFBO0FBQ0EsU0FBQSxnQkFBQSxDQUFBLE9BQUEsRUFBaUMsWUFBQTtBQUFBLFdBQU0sbUJBQU4sSUFBTSxDQUFOO0FBQWpDLEdBQUE7QUFDRDs7QUFFRDs7Ozs7OztBQU9BLFNBQUEsS0FBQSxDQUFBLEtBQUEsRUFBQSxHQUFBLEVBQTJCO0FBQ3pCLE1BQU0sSUFBTixFQUFBO0FBQ0EsT0FBSyxJQUFJLElBQUosQ0FBQSxFQUFXLElBQWhCLEtBQUEsRUFBMkIsSUFBM0IsR0FBQSxFQUFvQyxLQUFwQyxHQUFBLEVBQThDO0FBQzVDLE1BQUEsQ0FBQSxJQUFBLENBQUE7QUFDRDtBQUNELFNBQUEsQ0FBQTtBQUNEOztBQUVEOzs7O0FBSUEsU0FBQSxLQUFBLENBQUEsS0FBQSxFQUFzQjtBQUNwQixTQUFPLE9BQUEsS0FBQSxLQUFBLFFBQUEsSUFDTCxTQURLLEtBQ0wsQ0FESyxJQUVMLFNBQUEsS0FBQSxNQUZGLEtBQUE7QUFHRDs7QUFFRDs7Ozs7OztBQU9BLFNBQUEsSUFBQSxDQUFBLElBQUEsRUFBQSxTQUFBLEVBQStCO0FBQzdCLE9BQUssSUFBSSxJQUFKLENBQUEsRUFBVyxRQUFRLEtBQXhCLE1BQUEsRUFBcUMsSUFBckMsS0FBQSxFQUFBLEdBQUEsRUFBcUQ7QUFDbkQsUUFBTSxRQUFRLEtBQWQsQ0FBYyxDQUFkO0FBQ0EsUUFBSSxVQUFBLElBQUEsQ0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBSixJQUFJLENBQUosRUFBMEM7QUFDeEMsYUFBQSxLQUFBO0FBQ0Q7QUFDRjtBQUNELFNBQUEsSUFBQTtBQUNEOztBQUVELElBQU0sV0FBVztBQUNmLE9BRGUsRUFBQTtBQUVmLE9BRmUsRUFBQTtBQUdmLE9BSGUsRUFBQTtBQUlmLE9BSmUsRUFBQTtBQUtmLE9BTGUsRUFBQTtBQU1mLE9BTmUsRUFBQTtBQU9mLE9BUGUsRUFBQTtBQVFmLE9BUmUsRUFBQTtBQVNmLE9BVGUsRUFBQTtBQVVmLE9BVmUsRUFBQTtBQVdmLE9BWGUsRUFBQTtBQVlmLE9BWmUsRUFBQTtBQWFmLE9BYmUsRUFBQTtBQWNmLE9BZGUsRUFBQTtBQWVmLE9BZmUsRUFBQTtBQWdCZixPQWhCZSxFQUFBO0FBaUJmLE9BakJlLEVBQUE7QUFrQmYsT0FsQmUsRUFBQTtBQW1CZixPQW5CZSxFQUFBO0FBb0JmLE9BcEJlLEVBQUE7QUFxQmYsT0FyQmUsRUFBQTtBQXNCZixPQXRCZSxFQUFBO0FBdUJmLE9BdkJlLEVBQUE7QUF3QmYsT0F4QmUsRUFBQTtBQXlCZixPQXpCZSxFQUFBO0FBMEJmLE9BMUJlLEVBQUE7QUEyQmYsT0EzQmUsRUFBQTtBQTRCZixPQTVCZSxFQUFBO0FBNkJmLE9BN0JlLEVBQUE7QUE4QmYsT0E5QmUsRUFBQTtBQStCZixPQS9CZSxFQUFBO0FBZ0NmLE9BaENlLEVBQUE7QUFpQ2YsT0FqQ2UsRUFBQTtBQWtDZixPQWxDZSxFQUFBO0FBbUNmLE9BbkNlLEVBQUE7QUFvQ2YsT0FwQ2UsRUFBQTtBQXFDZixXQXJDZSxFQUFBO0FBc0NmLFdBdENlLEVBQUE7QUF1Q2YsWUF2Q2UsRUFBQTtBQXdDZixVQXhDZSxFQUFBO0FBeUNmLFFBekNlLEVBQUE7QUEwQ2YsV0ExQ2UsRUFBQTtBQTJDZixVQUFRO0FBM0NPLENBQWpCOztBQThDQSxJQUFNLGVBQU4sNEJBQUE7QUFDQSxJQUFNLGlCQUFOLDhCQUFBOztRQUdFLFcsR0FBQSxXO1FBQ0EsMkIsR0FBQSwyQjtRQUNBLGEsR0FBQSxhO1FBQ0EsYSxHQUFBLGE7UUFDQSxXLEdBQUEsVztRQUNBLGEsR0FBQSxhO1FBQ0EsZSxHQUFBLGU7UUFDQSxvQixHQUFBLG9CO1FBQ0EsUSxHQUFBLFE7UUFDQSxXLEdBQUEsVztRQUNBLFksR0FBQSxZO1FBQ0EsWSxHQUFBLFk7UUFDQSxpQixHQUFBLGlCO1FBQ0EsNEIsR0FBQSw0QjtRQUNBLGEsR0FBQSxhO1FBQ0EsNEIsR0FBQSw0QjtRQUNBLHlCLEdBQUEseUI7UUFDQSxpQixHQUFBLGlCO1FBQ0EsdUIsR0FBQSx1QjtRQUNBLHNDLEdBQUEsc0M7UUFDQSxlLEdBQUEsZTtRQUNBLHNCLEdBQUEsc0I7UUFDQSwwQixHQUFBLDBCO1FBQ0EsWSxHQUFBLFk7UUFDQSxPLEdBQUEsTztRQUNBLFcsR0FBQSxXO1FBQ0EsUSxHQUFBLFE7UUFDQSxRLEdBQUEsUTtRQUNBLFEsR0FBQSxRO1FBQ0EsUSxHQUFBLFE7UUFDQSxRLEdBQUEsUTtRQUNBLG9CLEdBQUEsb0I7UUFDQSwwQixHQUFBLDBCO1FBQ0EsbUIsR0FBQSxtQjtRQUNBLGMsR0FBQSxjO1FBQ0EsVyxHQUFBLFc7UUFDQSxRLEdBQUEsUTtRQUNBLFEsR0FBQSxRO1FBQ0EsWSxHQUFBLFk7UUFDQSxRLEdBQUEsUTtRQUNBLFEsR0FBQSxRO1FBQ0EsYSxHQUFBLGE7UUFDQSxVLEdBQUEsVTtRQUNBLFUsR0FBQSxVO1FBQ0EsRyxHQUFBLEc7UUFDQSxrQixHQUFBLGtCO1FBQ0EsZ0IsR0FBQSxnQjtRQUNBLFUsR0FBQSxVO1FBQ0EscUIsR0FBQSxxQjtRQUNBLEssR0FBQSxLO1FBQ0EsSyxHQUFBLEs7UUFDQSxJLEdBQUEsSTtRQUNBLFEsR0FBQSxRO1FBQ0EsWSxHQUFBLFk7UUFDQSxjLEdBQUEsYzs7QUFHRjs7Ozs7Ozs7QUFRQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCAqIGZyb20gJy4vc3JjJztcbiIsIi8qKlxuICogQW4gQW5pbWF0aW9uSm9iIGlzIHVzZWQgd2l0aCB0aGUgYW5pbWF0b3IgY29udHJvbGxlciB0byB1cGRhdGUgYW5kIHJlLWRyYXcgc29tZXRoaW5nIGVhY2ggZnJhbWUuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25Db21wbGV0ZV0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGlzIEFuaW1hdGlvbkpvYiBpcyBmaW5pc2hlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9uQ29tcGxldGUpIHtcbiAgICAvLyBBbmltYXRpb25Kb2IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgQW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXJ0VGltZSA9IDA7XG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IHRydWU7XG4gICAgdGhpcy5fb25Db21wbGV0ZSA9IG9uQ29tcGxldGU7XG4gIH1cblxuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBBbmltYXRpb25Kb2IgaXMgY29tcGxldGUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNDb21wbGV0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoaXMgQW5pbWF0aW9uSm9iIGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gc3RhcnRUaW1lXG4gICAqL1xuICBzdGFydChzdGFydFRpbWUpIHtcbiAgICB0aGlzLl9zdGFydFRpbWUgPSBzdGFydFRpbWU7XG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGFuaW1hdGlvbiBwcm9ncmVzcyBvZiB0aGlzIEFuaW1hdGlvbkpvYiB0byBtYXRjaCB0aGUgZ2l2ZW4gdGltZS5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgb3ZlcmFsbCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhpcyBBbmltYXRpb25Kb2IuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIG92ZXJhbGwgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZHJhdygpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGFueSBuZWNlc3Nhcnkgc3RhdGUgZm9yIHRoaXMgQW5pbWF0aW9uSm9iIGJlaW5nIGZpbmlzaGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ2FuY2VsbGVkXG4gICAqL1xuICBmaW5pc2goaXNDYW5jZWxsZWQpIHtcbiAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9ICR7aXNDYW5jZWxsZWQgPyAnY2FuY2VsbGVkJyA6ICdjb21wbGV0ZWQnfWApO1xuXG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5fb25Db21wbGV0ZSkge1xuICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0FuaW1hdGlvbkpvYn07XG4iLCJpbXBvcnQge0ZyYW1lTGF0ZW5jeVByb2ZpbGVyfSBmcm9tICcuL2ZyYW1lLWxhdGVuY3ktcHJvZmlsZXInO1xuaW1wb3J0IHtQZXJzaXN0ZW50QW5pbWF0aW9uSm9ifSBmcm9tICcuL3BlcnNpc3RlbnQtYW5pbWF0aW9uLWpvYic7XG5pbXBvcnQge1RyYW5zaWVudEFuaW1hdGlvbkpvYn0gZnJvbSAnLi90cmFuc2llbnQtYW5pbWF0aW9uLWpvYic7XG5cbmNvbnN0IF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA9IDIwMDtcbmNvbnN0IF9GUkFNRV9EVVJBVElPTl9XQVJOSU5HX1RIUkVTSE9MRCA9IDEwMDAgLyAzMDtcbmNvbnN0IF9GUkFNRV9MQVRFTkNZX0xPR19QRVJJT0QgPSA1MDAwO1xuY29uc3QgX0xBVEVOQ1lfTE9HX0xBQkVMID0gJ0FuaW1hdGlvbiBmcmFtZSBwZXJpb2QnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgYW5pbWF0aW9uIGxvb3AuXG4gKlxuICogVGhpcyBjbGFzcydzIHJlc3BvbnNpYmlsaXRpZXMgaW5jbHVkZTpcbiAqIC0gdXBkYXRpbmcgbW9kdWxlcyBmb3IgdGhlIGN1cnJlbnQgZnJhbWUsXG4gKiAtIGRyYXdpbmcgcmVuZGVyYWJsZXMgZm9yIHRoZSBjdXJyZW50IGZyYW1lLFxuICogLSBzdGFydGluZyBhbmQgc3RvcHBpbmcgdHJhbnNpZW50IGFuaW1hdGlvbiBqb2JzLFxuICogLSBjYXBwaW5nIHRpbWUgc3RlcCBkdXJhdGlvbnMgYXQgYSBtYXggdGhyZXNob2xkLlxuICovXG5jbGFzcyBBbmltYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2pvYnMgPSBbXTtcbiAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBudWxsO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7XG4gICAgdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWUgPSAwO1xuICAgIHRoaXMuX2xhc3RVbnBhdXNlVGltZSA9IG51bGw7XG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyID0gbmV3IEZyYW1lTGF0ZW5jeVByb2ZpbGVyKF9GUkFNRV9MQVRFTkNZX0xPR19QRVJJT0QsXG4gICAgICAgIF9GUkFNRV9EVVJBVElPTl9XQVJOSU5HX1RIUkVTSE9MRCwgX0xBVEVOQ1lfTE9HX0xBQkVMKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGdpdmVuIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKi9cbiAgc3RhcnRKb2Ioam9iKSB7XG4gICAgLy8gSXMgdGhpcyBhIHJlc3RhcnQ/XG4gICAgaWYgKCFqb2IuaXNDb21wbGV0ZSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhgUmVzdGFydGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICAgIGlmIChqb2IgaW5zdGFuY2VvZiBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iKSB7XG4gICAgICAgIGpvYi5yZXNldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgam9iLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgam9iLnN0YXJ0KHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoYFN0YXJ0aW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgICAgam9iLnN0YXJ0KHRoaXMuX3ByZXZpb3VzVGltZSk7XG4gICAgICB0aGlzLl9qb2JzLnB1c2goam9iKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydEFuaW1hdGlvbkxvb3AoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIHRoZSBnaXZlbiBBbmltYXRpb25Kb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICovXG4gIGNhbmNlbEpvYihqb2IpIHtcbiAgICBjb25zb2xlLmRlYnVnKGBDYW5jZWxsaW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcbiAgICBqb2IuZmluaXNoKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYWxsIHJ1bm5pbmcgQW5pbWF0aW9uSm9icy5cbiAgICovXG4gIGNhbmNlbEFsbCgpIHtcbiAgICB3aGlsZSAodGhpcy5fam9icy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FuY2VsSm9iKHRoaXMuX2pvYnNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gKi9cbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9wcmV2aW91c1RpbWU7XG4gIH1cblxuICAvKiogQHJldHVybnMge2Jvb2xlYW59ICovXG4gIGdldCBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNQYXVzZWQ7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICB0aGlzLl9zdG9wQW5pbWF0aW9uTG9vcCgpO1xuICAgIGNvbnNvbGUuZGVidWcoJ0FuaW1hdG9yIHBhdXNlZCcpO1xuICB9XG5cbiAgdW5wYXVzZSgpIHtcbiAgICB0aGlzLl9zdGFydEFuaW1hdGlvbkxvb3AoKTtcbiAgICBjb25zb2xlLmRlYnVnKCdBbmltYXRvciB1bnBhdXNlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGFuaW1hdGlvbiBsb29wIHRoYXQgZHJpdmVzIGFsbCBvZiB0aGUgYW5pbWF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYW5pbWF0aW9uTG9vcChjdXJyZW50VGltZSkge1xuICAgIC8vIFdoZW4gcGF1c2luZyBhbmQgcmVzdGFydGluZywgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHByZXZpb3VzIHRpbWUgdG8gYmUgc2xpZ2h0bHkgaW5jb25zaXN0ZW50XG4gICAgLy8gd2l0aCB0aGUgYW5pbWF0aW9uRnJhbWUgdGltZS5cbiAgICBpZiAoY3VycmVudFRpbWUgPCB0aGlzLl9wcmV2aW91c1RpbWUpIHtcbiAgICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IGN1cnJlbnRUaW1lIC0gMTtcbiAgICB9XG5cbiAgICBsZXQgZGVsdGFUaW1lID0gY3VycmVudFRpbWUgLSB0aGlzLl9wcmV2aW91c1RpbWU7XG4gICAgdGhpcy5fcHJldmlvdXNUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIucmVjb3JkRnJhbWVMYXRlbmN5KGRlbHRhVGltZSk7XG5cbiAgICAvLyBMYXJnZSBkZWxheXMgYmV0d2VlbiBmcmFtZXMgY2FuIGNhdXNlIGxlYWQgdG8gaW5zdGFiaWxpdHkgaW4gdGhlIHN5c3RlbSwgc28gdGhpcyBjYXBzIHRoZW0gdG9cbiAgICAvLyBhIG1heCB0aHJlc2hvbGQuXG4gICAgZGVsdGFUaW1lID0gZGVsdGFUaW1lID4gX0RFTFRBX1RJTUVfVVBQRVJfVEhSRVNIT0xEID9cbiAgICAgICAgX0RFTFRBX1RJTUVfVVBQRVJfVEhSRVNIT0xEIDogZGVsdGFUaW1lO1xuXG4gICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPVxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY3VycmVudFRpbWUgPT4gdGhpcy5fYW5pbWF0aW9uTG9vcChjdXJyZW50VGltZSkpO1xuICAgICAgdGhpcy5fdXBkYXRlSm9icyhjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgICAgIHRoaXMuX2RyYXdKb2JzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYWxsIG9mIHRoZSBhY3RpdmUgQW5pbWF0aW9uSm9icy5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUpvYnMoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgbGV0IGpvYiA9IHRoaXMuX2pvYnNbaV07XG5cbiAgICAgIC8vIFJlbW92ZSBqb2JzIGZyb20gdGhlIGxpc3QgYWZ0ZXIgdGhleSBhcmUgY29tcGxldGUuXG4gICAgICBpZiAoam9iLmlzQ29tcGxldGUpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlSm9iKGpvYiwgaSk7XG4gICAgICAgIGktLTtcbiAgICAgICAgY291bnQtLTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGpvYiBpcyB0cmFuc2llbnQgYW5kIGhhcyByZWFjaGVkIGl0cyBlbmQuXG4gICAgICBpZiAoam9iIGluc3RhbmNlb2YgVHJhbnNpZW50QW5pbWF0aW9uSm9iICYmIGpvYi5lbmRUaW1lIDwgY3VycmVudFRpbWUpIHtcbiAgICAgICAgam9iLmZpbmlzaChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2IudXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBqb2IgZnJvbSB0aGUgY29sbGVjdGlvbiBvZiBhY3RpdmUsIGFuaW1hdGluZyBqb2JzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9LTFdXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVtb3ZlSm9iKGpvYiwgaW5kZXggPSAtMSkge1xuICAgIGNvbnNvbGUuZGVidWcoYFJlbW92aW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLl9qb2JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7XG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXgrKykge1xuICAgICAgICBpZiAodGhpcy5fam9ic1tpbmRleF0gPT09IGpvYikge1xuICAgICAgICAgIHRoaXMuX2pvYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0b3AgdGhlIGFuaW1hdGlvbiBsb29wIHdoZW4gdGhlcmUgYXJlIG5vIG1vcmUgam9icyB0byBhbmltYXRlLlxuICAgIGlmICh0aGlzLl9qb2JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fc3RvcEFuaW1hdGlvbkxvb3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgYWxsIG9mIHRoZSBhY3RpdmUgQW5pbWF0aW9uSm9icy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kcmF3Sm9icygpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIHRoaXMuX2pvYnNbaV0uZHJhdygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGFuaW1hdGlvbiBsb29wIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHJ1bm5pbmcuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RhcnRBbmltYXRpb25Mb29wKCkge1xuICAgIGlmICh0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fbGFzdFVucGF1c2VUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuXG4gICAgLy8gT25seSBhY3R1YWxseSBzdGFydCB0aGUgbG9vcCBpZiBpdCBpc24ndCBhbHJlYWR5IHJ1bm5pbmcgYW5kIHRoZSBwYWdlIGhhcyBmb2N1cy5cbiAgICBpZiAoIXRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkICYmICFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5zdGFydCgpO1xuICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPVxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGltZSA9PiB0aGlzLl9hbmltYXRpb25Mb29wKHRpbWUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgdGhlIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0b3BBbmltYXRpb25Mb29wKCkge1xuICAgIGlmICghdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lICs9IHRoaXMuX3RpbWVTaW5jZUxhc3RQYXVzZWQ7XG4gICAgfVxuICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQpO1xuICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIuc3RvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIG9uIHRoZSBuZXh0IGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIHJlc29sdmVPbk5leHRGcmFtZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2Uod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdG90YWwgYW1vdW50IG9mIHRpbWUgdGhlIGFuaW1hdG9yIGhhcyBiZWVuIHJ1bm5pbmcgd2hpbGUgbm90IHBhdXNlZC5cbiAgICpcbiAgICogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9XG4gICAqL1xuICBnZXQgdG90YWxSdW5UaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1BhdXNlZFxuICAgICAgICA/IHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lXG4gICAgICAgIDogdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWUgKyB0aGlzLl90aW1lU2luY2VMYXN0UGF1c2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfVxuICAgKi9cbiAgZ2V0IF90aW1lU2luY2VMYXN0UGF1c2VkKCkge1xuICAgIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9sYXN0VW5wYXVzZVRpbWU7XG4gIH1cbn1cblxuY29uc3QgYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IoKTtcblxuZXhwb3J0IHthbmltYXRvcn07XG5cbi8qKlxuICogQHR5cGVkZWYge251bWJlcn0gRE9NSGlnaFJlc1RpbWVTdGFtcCBBIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFjY3VyYXRlIHRvIG9uZSB0aG91c2FuZHRoIG9mIGFcbiAqIG1pbGxpc2Vjb25kLlxuICovXG5cbiIsIi8qKlxuICogVGhpcyBjbGFzcyBrZWVwcyB0cmFjayBvZiBhdmcvbWluL21heCBmcmFtZSBsYXRlbmNpZXMgb3ZlciB0aGUgbGFzdCBsb2dnaW5nIHRpbWUgcGVyaW9kIGFuZFxuICogcGVyaW9kaWNhbGx5IGxvZ3MgdGhlc2UgdmFsdWVzLlxuICovXG5jbGFzcyBGcmFtZUxhdGVuY3lQcm9maWxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbG9nUGVyaW9kIFRoZSBwZXJpb2QgYXQgd2hpY2ggdG8gcHJpbnQgbGF0ZW5jeSBsb2cgbWVzc2FnZXMuIEluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkIElmIHRoZSBhdmVyYWdlIGxhdGVuY3kgZXhjZWVkcyB0aGlzIHRocmVzaG9sZCwgdGhlbiB0aGVcbiAgICogbG9nIG1lc3NhZ2UgaXMgc2hvd24gYXMgYSB3YXJuaW5nLiBJbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2dMYWJlbCBBIGxhYmVsIHRvIHNob3cgZm9yIGVhY2ggbGF0ZW5jeSBsb2cgbWVzc2FnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGxvZ1BlcmlvZCwgbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQsIGxvZ0xhYmVsKSB7XG4gICAgdGhpcy5fbG9nUGVyaW9kID0gbG9nUGVyaW9kO1xuICAgIHRoaXMuX2xhdGVuY3lXYXJuaW5nVGhyZXNob2xkID0gbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQ7XG4gICAgdGhpcy5fbG9nTGFiZWwgPSBsb2dMYWJlbDtcblxuICAgIHRoaXMuX2ZyYW1lQ291bnQgPSBudWxsO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9IG51bGw7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID0gbnVsbDtcbiAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgPSBudWxsO1xuXG4gICAgdGhpcy5faW50ZXJ2YWxJZCA9IG51bGw7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICB0aGlzLl9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5sb2dGcmFtZUxhdGVuY3koKTtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9LCB0aGlzLl9sb2dQZXJpb2QpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsSWQpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fZnJhbWVDb3VudCA9IDA7XG4gICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5ID0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9IDA7XG4gIH1cblxuICAvKipcbiAgICogS2VlcHMgdHJhY2sgb2YgYSBydW5uaW5nIGF2ZXJhZ2UsIG1pbiB2YWx1ZSwgYW5kIG1heCB2YWx1ZSBmb3IgdGhlIGZyYW1lIGxhdGVuY2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBmcmFtZUxhdGVuY3lcbiAgICovXG4gIHJlY29yZEZyYW1lTGF0ZW5jeShmcmFtZUxhdGVuY3kpIHtcbiAgICB0aGlzLl9mcmFtZUNvdW50Kys7XG4gICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5IDwgZnJhbWVMYXRlbmN5ID8gZnJhbWVMYXRlbmN5IDogdGhpcy5fbWF4RnJhbWVMYXRlbmN5O1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA+IGZyYW1lTGF0ZW5jeSA/IGZyYW1lTGF0ZW5jeSA6IHRoaXMuX21pbkZyYW1lTGF0ZW5jeTtcbiAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgKyAoZnJhbWVMYXRlbmN5IC0gdGhpcy5fYXZnRnJhbWVMYXRlbmN5KSAvIHRoaXMuX2ZyYW1lQ291bnQ7XG4gIH1cblxuICBsb2dGcmFtZUxhdGVuY3koKSB7XG4gICAgaWYgKHRoaXMuX2ZyYW1lQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGhpcy5fbG9nTGFiZWx9OiAgQVZHPSR7dGhpcy5fYXZnRnJhbWVMYXRlbmN5LnRvRml4ZWQoMyl9ICBgICtcbiAgICAgICAgICBgKE1BWD0ke3RoaXMuX21heEZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfTsgTUlOPSR7dGhpcy5fbWluRnJhbWVMYXRlbmN5LnRvRml4ZWQoMyl9KWA7XG4gICAgICBpZiAodGhpcy5fbWF4RnJhbWVMYXRlbmN5ID49IHRoaXMuX2xhdGVuY3lXYXJuaW5nVGhyZXNob2xkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7RnJhbWVMYXRlbmN5UHJvZmlsZXJ9O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9hbmltYXRpb24tam9iJztcbmV4cG9ydCAqIGZyb20gJy4vYW5pbWF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9mcmFtZS1sYXRlbmN5LXByb2ZpbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vcGVyc2lzdGVudC1hbmltYXRpb24tam9iJztcbmV4cG9ydCAqIGZyb20gJy4vdHJhbnNpZW50LWFuaW1hdGlvbi1qb2InO1xuIiwiaW1wb3J0IHtBbmltYXRpb25Kb2J9IGZyb20gJy4vYW5pbWF0aW9uLWpvYic7XG5cbi8qKlxuICogQSBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHJlY3VycyBvciBoYXMgYW4gaW5kZWZpbml0ZSBkdXJhdGlvbi5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBleHRlbmRzIEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25Db21wbGV0ZV0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGlzIEFuaW1hdGlvbkpvYiBpcyBmaW5pc2hlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9uQ29tcGxldGUpIHtcbiAgICBzdXBlcihvbkNvbXBsZXRlKTtcblxuICAgIC8vIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IHtQZXJzaXN0ZW50QW5pbWF0aW9uSm9ifTtcbiIsImltcG9ydCB7X3V0aWx9IGZyb20gJy4vdXRpbCc7XG5cbmltcG9ydCB7QW5pbWF0aW9uSm9ifSBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuXG4vKipcbiAqIEEgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGlzIHRlbXBvcmFyeSBhbmQgaGFzIGEgZGVmaW5pdGUgYmVnaW5uaW5nIGFuZCBlbmQuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIFRyYW5zaWVudEFuaW1hdGlvbkpvYiBleHRlbmRzIEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBlYXNpbmdGdW5jdGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25Db21wbGV0ZV0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGlzIEFuaW1hdGlvbkpvYiBpcyBmaW5pc2hlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nRnVuY3Rpb24sIG9uQ29tcGxldGUpIHtcbiAgICBzdXBlcihvbkNvbXBsZXRlKTtcblxuICAgIC8vIFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFRyYW5zaWVudEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBUcmFuc2llbnRBbmltYXRpb25Kb2IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICB0aGlzLl9kZWxheSA9IGRlbGF5O1xuICAgIHRoaXMuX2Vhc2luZ0Z1bmN0aW9uID0gdHlwZW9mIGVhc2luZ0Z1bmN0aW9uID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gZWFzaW5nRnVuY3Rpb25cbiAgICAgICAgOiBfdXRpbC5lYXNpbmdGdW5jdGlvbnNbZWFzaW5nRnVuY3Rpb25dO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgZW5kVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhcnRUaW1lICsgdGhpcy5fZHVyYXRpb24gKyB0aGlzLl9kZWxheTtcbiAgfVxufVxuXG5leHBvcnQge1RyYW5zaWVudEFuaW1hdGlvbkpvYn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqL1xuXG4vLyBBIGNvbGxlY3Rpb24gb2YgZGlmZmVyZW50IHR5cGVzIG9mIGVhc2luZyBmdW5jdGlvbnMuXG5jb25zdCBlYXNpbmdGdW5jdGlvbnMgPSB7XG4gIGxpbmVhcjogdCA9PiB0LFxuICBlYXNlSW5RdWFkOiB0ID0+IHQgKiB0LFxuICBlYXNlT3V0UXVhZDogdCA9PiB0ICogKDIgLSB0KSxcbiAgZWFzZUluT3V0UXVhZDogdCA9PiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQsXG4gIGVhc2VJbkN1YmljOiB0ID0+IHQgKiB0ICogdCxcbiAgZWFzZU91dEN1YmljOiB0ID0+IDEgKyAtLXQgKiB0ICogdCxcbiAgZWFzZUluT3V0Q3ViaWM6IHQgPT4gdCA8IDAuNSA/IDQgKiB0ICogdCAqIHQgOiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDEsXG4gIGVhc2VJblF1YXJ0OiB0ID0+IHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWFydDogdCA9PiAxIC0gLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWFydDogdCA9PiB0IDwgMC41ID8gOCAqIHQgKiB0ICogdCAqIHQgOiAxIC0gOCAqIC0tdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluUXVpbnQ6IHQgPT4gdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWludDogdCA9PiAxICsgLS10ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluT3V0UXVpbnQ6IHQgPT4gdCA8IDAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAtLXQgKiB0ICogdCAqIHQgKiB0XG59O1xuXG5jb25zdCBfdXRpbCA9IHtcbiAgZWFzaW5nRnVuY3Rpb25zLFxufTtcblxuZXhwb3J0IHtcbiAgX3V0aWwsXG59O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvYWFiYi1jb2xsaWRhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NhcHN1bGUtY29sbGlkYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaWRhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2xpbmUtc2VnbWVudCc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9vYmItY29sbGlkYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9zcGhlcmUtY29sbGlkYWJsZSc7XG4iLCJpbXBvcnQge0NvbGxpZGFibGV9IGZyb20gJy4vY29sbGlkYWJsZSc7XG5pbXBvcnQge0xpbmVTZWdtZW50fSBmcm9tICcuL2xpbmUtc2VnbWVudCc7XG5pbXBvcnQge3RtcFZlYzEsIHRtcFZlYzJ9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhbiBheGlhbGx5LWFsaWduZWQgYm91bmRpbmcgYm94IChBQUJCKS5cbiAqXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uIEFuIEFBQkIgaXMgb25seSBhcHByb3ByaWF0ZSBmb3Igc29tZVxuICogZ2VvbWV0cmllcy4gRm9yIG90aGVyIGdlb21ldHJpZXMsIGFuIG9yaWVudGVkIGJvdW5kaW5nIGJveCAoT0JCKSBvciBhIGJvdW5kaW5nIHNwaGVyZSBtYXkgYmUgbW9yZVxuICogYXBwcm9wcmlhdGUuXG4gKi9cbmNsYXNzIEFhYmIgZXh0ZW5kcyBDb2xsaWRhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5aXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhaXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RhdGlvbmFyeT1mYWxzZV1cbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtaW5YLCBtaW5ZLCBtaW5aLCBtYXhYLCBtYXhZLCBtYXhaLCBpc1N0YXRpb25hcnkgPSBmYWxzZSwgcGh5c2ljc0pvYikge1xuICAgIHN1cGVyKGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWluWiA9IG1pblo7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIHRoaXMubWF4WiA9IG1heFo7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBib3VuZGluZyBib3ggd2l0aCB0aGUgZGltZW5zaW9ucyBvZiBhbiBheGlhbGx5LWFsaWduZWQgY3ViZSBjZW50ZXJlZCBhcm91bmQgdGhlIFxuICAgKiBnaXZlbiBjZW50ZXIgYW5kIHdpdGggdGhlIGdpdmVuIGhhbGYtc2lkZSBsZW5ndGguXG4gICAqXG4gICAqIEBwYXJhbSB7dmVjM30gY2VudGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmU2lkZUxlbmd0aFxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUFzVW5pZm9ybUFyb3VuZENlbnRlcihjZW50ZXIsIGhhbGZTaWRlTGVuZ3RoKSB7XG4gICAgY29uc3QgYm91bmRzID0gbmV3IEFhYmIoMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgYm91bmRzLnNldEFzVW5pZm9ybUFyb3VuZENlbnRlcihjZW50ZXIsIGhhbGZTaWRlTGVuZ3RoKTtcbiAgICByZXR1cm4gYm91bmRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGRpbWVuc2lvbnMgb2YgdGhpcyBib3VuZGluZyBib3ggdG8gcmVwcmVzZW50IGFuIGF4aWFsbHktYWxpZ25lZCBjdWJlIGNlbnRlcmVkXG4gICAqIGFyb3VuZCB0aGUgZ2l2ZW4gY2VudGVyIGFuZCB3aXRoIHRoZSBnaXZlbiBoYWxmLXNpZGUgbGVuZ3RoLlxuICAgKlxuICAgKiBAcGFyYW0ge3ZlYzN9IGNlbnRlclxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhcbiAgICovXG4gIHNldEFzVW5pZm9ybUFyb3VuZENlbnRlcihjZW50ZXIsIGhhbGZTaWRlTGVuZ3RoKSB7XG4gICAgdGhpcy5taW5YID0gY2VudGVyWzBdIC0gaGFsZlNpZGVMZW5ndGg7XG4gICAgdGhpcy5taW5ZID0gY2VudGVyWzFdIC0gaGFsZlNpZGVMZW5ndGg7XG4gICAgdGhpcy5taW5aID0gY2VudGVyWzJdIC0gaGFsZlNpZGVMZW5ndGg7XG4gICAgdGhpcy5tYXhYID0gY2VudGVyWzBdICsgaGFsZlNpZGVMZW5ndGg7XG4gICAgdGhpcy5tYXhZID0gY2VudGVyWzFdICsgaGFsZlNpZGVMZW5ndGg7XG4gICAgdGhpcy5tYXhaID0gY2VudGVyWzJdICsgaGFsZlNpZGVMZW5ndGg7XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IHJhbmdlWCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgcmFuZ2VZKCkge1xuICAgIHJldHVybiB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCByYW5nZVooKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4WiAtIHRoaXMubWluWjtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgY2VudGVyWCgpIHtcbiAgICByZXR1cm4gdGhpcy5taW5YICsgdGhpcy5yYW5nZVggLyAyO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgY2VudGVyWSgpIHtcbiAgICByZXR1cm4gdGhpcy5taW5ZICsgdGhpcy5yYW5nZVkgLyAyO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgY2VudGVyWigpIHtcbiAgICByZXR1cm4gdGhpcy5taW5aICsgdGhpcy5yYW5nZVogLyAyO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBzdXJmYWNlQXJlYSgpIHtcbiAgICBjb25zdCByYW5nZVggPSB0aGlzLnJhbmdlWDtcbiAgICBjb25zdCByYW5nZVkgPSB0aGlzLnJhbmdlWTtcbiAgICBjb25zdCByYW5nZVogPSB0aGlzLnJhbmdlWjtcbiAgICByZXR1cm4gMiAqIChyYW5nZVggKiByYW5nZVkgKyByYW5nZVggKiByYW5nZVogKyByYW5nZVkgKiByYW5nZVopO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBvYmplY3Qgd2hlbiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICB0aGlzLl9jZW50ZXJPZlZvbHVtZSA9IHRoaXMuX2NlbnRlck9mVm9sdW1lIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zZXQodGhpcy5fY2VudGVyT2ZWb2x1bWUsIHRoaXMuY2VudGVyWCwgdGhpcy5jZW50ZXJZLCB0aGlzLmNlbnRlclopO1xuICAgIHJldHVybiB0aGlzLl9jZW50ZXJPZlZvbHVtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgYm91bmRpbmdWb2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIGNvbnN0IHJhbmdlWCA9IHRoaXMucmFuZ2VYO1xuICAgIGNvbnN0IHJhbmdlWSA9IHRoaXMucmFuZ2VZO1xuICAgIGNvbnN0IHJhbmdlWiA9IHRoaXMucmFuZ2VaO1xuICAgIHRoaXMubWluWCA9IHZhbHVlWzBdIC0gcmFuZ2VYIC8gMjtcbiAgICB0aGlzLm1pblkgPSB2YWx1ZVsxXSAtIHJhbmdlWSAvIDI7XG4gICAgdGhpcy5taW5aID0gdmFsdWVbMl0gLSByYW5nZVogLyAyO1xuICAgIHRoaXMubWF4WCA9IHZhbHVlWzBdICsgcmFuZ2VYIC8gMjtcbiAgICB0aGlzLm1heFkgPSB2YWx1ZVsxXSArIHJhbmdlWSAvIDI7XG4gICAgdGhpcy5tYXhaID0gdmFsdWVbMl0gKyByYW5nZVogLyAyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7cXVhdH0gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcbiAgICAvLyBEbyBub3RoaW5nLlxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHZlcnRleC5cbiAgICpcbiAgICogU3RvcHMgYXMgc29vbiBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVlIGZvciBhIHZlcnRleC5cbiAgICpcbiAgICogQHBhcmFtIHtWZXJ0ZXhDYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHBhcmFtIHt2ZWMzfSBbdmVydGV4XSBPdXRwdXQgcGFyYW0uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXG4gICAqL1xuICBzb21lVmVydGV4KGNhbGxiYWNrLCB2ZXJ0ZXgpIHtcbiAgICB2ZXJ0ZXggPSB2ZXJ0ZXggfHwgdG1wVmVjMTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggZWRnZS5cbiAgICpcbiAgICogQHBhcmFtIHtFZGdlQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IFtlZGdlXSBPdXRwdXQgcGFyYW0uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXG4gICAqL1xuICBzb21lRWRnZShjYWxsYmFjaywgZWRnZSkge1xuICAgIGVkZ2UgPSBlZGdlIHx8IF9zZWdtZW50O1xuXG4gICAgLy9cbiAgICAvLyBFZGdlcyBhbG9uZyBmcm9udCBmYWNlLlxuICAgIC8vXG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICAvL1xuICAgIC8vIEVkZ2VzIGFsb25nIGJhY2sgZmFjZS5cbiAgICAvL1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgLy9cbiAgICAvLyBFZGdlcyBiZXR3ZWVuIGZyb250IGFuZCBiYWNrIGZhY2VzLlxuICAgIC8vXG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgX3NlZ21lbnQgPSBuZXcgTGluZVNlZ21lbnQodmVjMy5jcmVhdGUoKSwgdmVjMy5jcmVhdGUoKSk7XG5cbmV4cG9ydCB7QWFiYn07XG4iLCJpbXBvcnQge0NvbGxpZGFibGV9IGZyb20gJy4vY29sbGlkYWJsZSc7XG5pbXBvcnQge0xpbmVTZWdtZW50fSBmcm9tICcuL2xpbmUtc2VnbWVudCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgY2Fwc3VsZS5cbiAqXG4gKiAtIEEgY2Fwc3VsZSBpcyBhIGN5bGluZGVyIHdpdGggc2VtaS1zcGhlcmVzIG9uIGVpdGhlciBlbmQuXG4gKiAtIEEgY2Fwc3VsZSBjYW4gcmVwcmVzZW50IGEgcm91Z2ggYXBwcm94aW1hdGlvbiBvZiBtYW55IHVzZWZ1bCBzaGFwZXMuXG4gKiAtIEEgY2Fwc3VsZSBjYW4gYmUgdXNlZCBmb3IgcmVsYXRpdmVseSBlZmZpY2llbnQgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAqL1xuY2xhc3MgQ2Fwc3VsZSBleHRlbmRzIENvbGxpZGFibGUge1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgb3JpZW50YXRpb24gb2YgdGhlIGNhcHN1bGUgaXMgYWxvbmcgdGhlIHotYXhpcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbGZEaXN0YW5jZSBIYWxmIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXJzIG9mIHRoZSBjYXBzdWxlIGVuZCBzcGhlcmVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RhdGlvbmFyeT1mYWxzZV1cbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihoYWxmRGlzdGFuY2UsIHJhZGl1cywgaXNTdGF0aW9uYXJ5ID0gZmFsc2UsIHBoeXNpY3NKb2IpIHtcbiAgICBzdXBlcihpc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xuICAgIHRoaXMuaGFsZkRpc3RhbmNlID0gaGFsZkRpc3RhbmNlO1xuICAgIHRoaXMuc2VnbWVudCA9IG5ldyBMaW5lU2VnbWVudCh2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgLWhhbGZEaXN0YW5jZSksXG4gICAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCAwLCBoYWxmRGlzdGFuY2UpKTtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgY2VudGVyT2ZWb2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VnbWVudC5jZW50ZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGJvdW5kaW5nVm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7dmVjM30gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnNlZ21lbnQuY2VudGVyID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtxdWF0fSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuc2VnbWVudC5vcmllbnRhdGlvbiA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCB7Q2Fwc3VsZX07XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIDNEIGNvbGxpZGFibGUgcmlnaWQgb2JqZWN0LlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgQ29sbGlkYWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3RhdGlvbmFyeVxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYikge1xuICAgIC8vIENvbGxpZGFibGUgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBDb2xsaWRhYmxlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IENvbGxpZGFibGUgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5pc1N0YXRpb25hcnkgPSBpc1N0YXRpb25hcnk7XG4gICAgdGhpcy5waHlzaWNzSm9iID0gcGh5c2ljc0pvYjtcbiAgICB0aGlzLmNvbGxpc2lvbnMgPSBbXTtcbiAgICB0aGlzLnByZXZpb3VzQ29sbGlzaW9ucyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudGluZyBjbGFzc2VzIGNhbiBvdmVycmlkZSB0aGlzIHRvIHByb3ZpZGUgYSBjZW50ZXIgb2YgbWFzcyB0aGF0IGlzIGRpZmZlcmVudCB0aGFuIHRoZVxuICAgKiBjZW50ZXIgb2Ygdm9sdW1lLlxuICAgKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICovXG4gIGdldCBjZW50ZXJPZk1hc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2VudGVyT2ZWb2x1bWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldCBib3VuZGluZ1ZvbHVtZSgpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHZhbHVlXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtxdWF0fSB2YWx1ZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG5cbmV4cG9ydCB7Q29sbGlkYWJsZX07XG4iLCJpbXBvcnQge3RtcFZlYzEsIHRtcFZlYzJ9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIGxpbmUgc2VnbWVudC5cbiAqL1xuY2xhc3MgTGluZVNlZ21lbnQge1xuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSBzdGFydFxuICAgKiBAcGFyYW0ge3ZlYzN9IGVuZFxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3RhcnQsIGVuZCkge1xuICAgIHRoaXMuc3RhcnQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuZW5kID0gdmVjMy5jcmVhdGUoKTtcbiAgICB0aGlzLl9jZW50ZXIgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvbkVuZCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5yZXNldChzdGFydCwgZW5kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0XG4gICAqIEBwYXJhbSB7dmVjM30gZW5kXG4gICAqL1xuICByZXNldChzdGFydCwgZW5kKSB7XG4gICAgdmVjMy5jb3B5KHRoaXMuc3RhcnQsIHN0YXJ0KTtcbiAgICB2ZWMzLmNvcHkodGhpcy5lbmQsIGVuZCk7XG4gICAgdmVjMy5zdWJ0cmFjdCh0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uU3RhcnQsIHRoaXMuc3RhcnQsIHRoaXMuY2VudGVyKTtcbiAgICB2ZWMzLnN1YnRyYWN0KHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25FbmQsIHRoaXMuZW5kLCB0aGlzLmNlbnRlcik7XG4gIH1cblxuICAvKiogQHJldHVybnMge0xpbmVTZWdtZW50fSAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBzZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHRoaXMuc3RhcnQsIHRoaXMuZW5kKTtcbiAgICBzZWdtZW50Ll9vcmlnaW5hbE9yaWVudGF0aW9uU3RhcnQgPSB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uU3RhcnQ7XG4gICAgc2VnbWVudC5fb3JpZ2luYWxPcmllbnRhdGlvbkVuZCA9IHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25FbmQ7XG4gICAgcmV0dXJuIHNlZ21lbnQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIFVOLU5PUk1BTElaRUQgZGlyZWN0aW9uIG9mIHRoaXMgc2VnbWVudC5cbiAgICpcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqL1xuICBnZXQgZGlyKCkge1xuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIHRoaXMuX2RpciA9IHRoaXMuX2RpciB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIHJldHVybiB2ZWMzLnN1YnRyYWN0KHRoaXMuX2RpciwgdGhpcy5lbmQsIHRoaXMuc3RhcnQpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgY2VudGVyKCkge1xuICAgIHZlYzMubGVycCh0aGlzLl9jZW50ZXIsIHRoaXMuc3RhcnQsIHRoaXMuZW5kLCAwLjUpO1xuICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XG4gIH1cblxuICAvKiogQHBhcmFtIHt2ZWMzfSB2YWx1ZSAqL1xuICBzZXQgY2VudGVyKHZhbHVlKSB7XG4gICAgLy8gUmV1c2UgdGhlIHNhbWUgb2JqZWN0IHdoZW4gdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgdGhpcy5fZGlzcGxhY2VtZW50ID0gdGhpcy5fZGlzcGxhY2VtZW50IHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zdWJ0cmFjdCh0aGlzLl9kaXNwbGFjZW1lbnQsIHZhbHVlLCB0aGlzLmNlbnRlcik7XG5cbiAgICB2ZWMzLmFkZCh0aGlzLnN0YXJ0LCB0aGlzLnN0YXJ0LCB0aGlzLl9kaXNwbGFjZW1lbnQpO1xuICAgIHZlYzMuYWRkKHRoaXMuZW5kLCB0aGlzLmVuZCwgdGhpcy5fZGlzcGxhY2VtZW50KTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3F1YXR9IHZhbHVlICovXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0bXBWZWMxLCB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uU3RhcnQsIHZhbHVlKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMiwgdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvbkVuZCwgdmFsdWUpO1xuXG4gICAgLy8gV2UgZG9uJ3Qgd2FudCB0aGlzIHRvIGJlIHJlLWNhbGN1bGF0ZWQgYmV0d2VlbiBzdGFydC9lbmQgdXBkYXRlcy5cbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlcjtcblxuICAgIHZlYzMuYWRkKHRoaXMuc3RhcnQsIGNlbnRlciwgdG1wVmVjMSk7XG4gICAgdmVjMy5hZGQodGhpcy5lbmQsIGNlbnRlciwgdG1wVmVjMik7XG4gIH1cbn1cblxuZXhwb3J0IHtMaW5lU2VnbWVudH07XG4iLCJpbXBvcnQge0NvbGxpZGFibGV9IGZyb20gJy4vY29sbGlkYWJsZSc7XG5pbXBvcnQge1NwaGVyZX0gZnJvbSAnLi9zcGhlcmUtY29sbGlkYWJsZSc7XG5pbXBvcnQge0xpbmVTZWdtZW50fSBmcm9tICcuL2xpbmUtc2VnbWVudCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGFuIG9yaWVudGVkIGJvdW5kaW5nIGJveCAoT0JCKS5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBib3RoIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uIGFuZCBmb3IgcmVwcmVzZW50aW5nIGFueSByb3RhdGVkIHJlY3Rhbmd1bGFyIGN1Ym9pZC5cbiAqIEFuIE9CQiBpcyBvbmx5IGFwcHJvcHJpYXRlIGZvciBzb21lIGdlb21ldHJpZXMuIEZvciBvdGhlciBnZW9tZXRyaWVzLCBhbiBheGlhbGx5LWFsaWduZWQgYm91bmRpbmdcbiAqIGJveCAoQUFCQikgb3IgYSBib3VuZGluZyBzcGhlcmUgbWF5IGJlIG1vcmUgYXBwcm9wcmlhdGUuXG4gKi9cbmNsYXNzIE9iYiBleHRlbmRzIENvbGxpZGFibGUge1xuICAvKipcbiAgICogRGVmYXVsdHMgdG8gYmVpbmcgY2VudGVyZWQgYXQgdGhlIG9yaWdpbiB3aXRoIGl0cyBsb2NhbCBheGVzIGFsaWduZWQgd2l0aCB0aGUgd29ybGQgYXhlcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbGZTaWRlTGVuZ3RoWFxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhZXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmU2lkZUxlbmd0aFpcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXVxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGhhbGZTaWRlTGVuZ3RoWCwgaGFsZlNpZGVMZW5ndGhZLCBoYWxmU2lkZUxlbmd0aFosIGlzU3RhdGlvbmFyeSA9IGZhbHNlLCBwaHlzaWNzSm9iKSB7XG4gICAgc3VwZXIoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcbiAgICB0aGlzLmV4dGVudHMgPSBbXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoaGFsZlNpZGVMZW5ndGhYLCAwLCAwKSxcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCBoYWxmU2lkZUxlbmd0aFksIDApLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIGhhbGZTaWRlTGVuZ3RoWilcbiAgICBdO1xuICAgIHRoaXMuYXhlcyA9IFtcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygxLCAwLCAwKSxcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKSxcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAxKVxuICAgIF07XG4gICAgdGhpcy5oYWxmU2lkZUxlbmd0aHMgPSBbXG4gICAgICBoYWxmU2lkZUxlbmd0aFgsXG4gICAgICBoYWxmU2lkZUxlbmd0aFksXG4gICAgICBoYWxmU2lkZUxlbmd0aFpcbiAgICBdO1xuICAgIHRoaXMuX2NlbnRlciA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5fb3JpZW50YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2VudGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBib3VuZGluZ1ZvbHVtZSgpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSB2YWx1ZSB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIGlmICghdGhpcy5fYm91bmRpbmdTcGhlcmUpIHtcbiAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGguc3FydCh0aGlzLmhhbGZTaWRlTGVuZ3RoWCAqIHRoaXMuaGFsZlNpZGVMZW5ndGhYICtcbiAgICAgICAgICB0aGlzLmhhbGZTaWRlTGVuZ3RoWSAqIHRoaXMuaGFsZlNpZGVMZW5ndGhZICtcbiAgICAgICAgICB0aGlzLmhhbGZTaWRlTGVuZ3RoWiAqIHRoaXMuaGFsZlNpZGVMZW5ndGhaKTtcbiAgICAgIHRoaXMuX2JvdW5kaW5nU3BoZXJlID0gbmV3IFNwaGVyZSgwLCAwLCAwLCByYWRpdXMsIHRoaXMuaXNTdGF0aW9uYXJ5KTtcbiAgICB9XG4gICAgdGhpcy5fYm91bmRpbmdTcGhlcmUucG9zaXRpb24gPSB0aGlzLl9jZW50ZXI7XG4gICAgcmV0dXJuIHRoaXMuX2JvdW5kaW5nU3BoZXJlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7dmVjM30gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICB2ZWMzLmNvcHkodGhpcy5fY2VudGVyLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtxdWF0fSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xuICAgIHF1YXQuY29weSh0aGlzLl9vcmllbnRhdGlvbiwgdmFsdWUpO1xuICAgIHRoaXMuX3VwZGF0ZUV4dGVudHMoKTtcbiAgfVxuICAvKiogQHJldHVybnMge3F1YXR9ICovXG4gIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZW50YXRpb247XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGhhbGZTaWRlTGVuZ3RoWCgpIHtcbiAgICByZXR1cm4gdGhpcy5oYWxmU2lkZUxlbmd0aHNbMF07XG4gIH1cbiAgLyoqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAqL1xuICBzZXQgaGFsZlNpZGVMZW5ndGhYKHZhbHVlKSB7XG4gICAgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMF0gPSB2YWx1ZTtcbiAgICB0aGlzLl91cGRhdGVFeHRlbnRzKCk7XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGhhbGZTaWRlTGVuZ3RoWSgpIHtcbiAgICByZXR1cm4gdGhpcy5oYWxmU2lkZUxlbmd0aHNbMV07XG4gIH1cbiAgLyoqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAqL1xuICBzZXQgaGFsZlNpZGVMZW5ndGhZKHZhbHVlKSB7XG4gICAgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMV0gPSB2YWx1ZTtcbiAgICB0aGlzLl91cGRhdGVFeHRlbnRzKCk7XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGhhbGZTaWRlTGVuZ3RoWigpIHtcbiAgICByZXR1cm4gdGhpcy5oYWxmU2lkZUxlbmd0aHNbMl07XG4gIH1cbiAgLyoqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAqL1xuICBzZXQgaGFsZlNpZGVMZW5ndGhaKHZhbHVlKSB7XG4gICAgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMl0gPSB2YWx1ZTtcbiAgICB0aGlzLl91cGRhdGVFeHRlbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggdmVydGV4LlxuICAgKlxuICAgKiBTdG9wcyBhcyBzb29uIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWUgZm9yIGEgdmVydGV4LlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleENhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge3ZlYzN9IFt2ZXJ0ZXhdIE91dHB1dCBwYXJhbS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBjYWxsYmFja3MgcmV0dXJuZWQgdHJ1ZS5cbiAgICovXG4gIHNvbWVWZXJ0ZXgoY2FsbGJhY2ssIHZlcnRleCkge1xuICAgIHZlcnRleCA9IHZlcnRleCB8fCBfdmVydGV4MTtcblxuICAgIGZvciAobGV0IHhTY2FsZSA9IC0xOyB4U2NhbGUgPD0gMTsgeFNjYWxlICs9IDIpIHtcbiAgICAgIGZvciAobGV0IHlTY2FsZSA9IC0xOyB5U2NhbGUgPD0gMTsgeVNjYWxlICs9IDIpIHtcbiAgICAgICAgZm9yIChsZXQgelNjYWxlID0gLTE7IHpTY2FsZSA8PSAxOyB6U2NhbGUgKz0gMikge1xuICAgICAgICAgIHZlYzMuY29weSh2ZXJ0ZXgsIHRoaXMuX2NlbnRlcik7XG4gICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZCh2ZXJ0ZXgsIHZlcnRleCwgdGhpcy5leHRlbnRzWzBdLCB4U2NhbGUpO1xuICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQodmVydGV4LCB2ZXJ0ZXgsIHRoaXMuZXh0ZW50c1sxXSwgeVNjYWxlKTtcbiAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKHZlcnRleCwgdmVydGV4LCB0aGlzLmV4dGVudHNbMl0sIHpTY2FsZSk7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggZWRnZS5cbiAgICpcbiAgICogQHBhcmFtIHtFZGdlQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IFtlZGdlXSBPdXRwdXQgcGFyYW0uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXG4gICAqL1xuICBzb21lRWRnZShjYWxsYmFjaywgZWRnZSkge1xuICAgIGVkZ2UgPSBlZGdlIHx8IF9zZWdtZW50O1xuXG4gICAgcmV0dXJuIF9lZGdlRXh0ZW50U2NhbGVzLnNvbWUoZWRnZUV4dGVudFNjYWxlUGFpciA9PiB7XG4gICAgICBjb25zdCB2ZXJ0ZXgxRXh0ZW50U2NhbGVzID0gZWRnZUV4dGVudFNjYWxlUGFpclswXTtcbiAgICAgIGNvbnN0IHZlcnRleDJFeHRlbnRTY2FsZXMgPSBlZGdlRXh0ZW50U2NhbGVQYWlyWzFdO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGVkZ2UncyBmaXJzdCBhbmQgc2Vjb25kIHZlcnRleC5cbiAgICAgIHZlYzMuY29weShfdmVydGV4MSwgdGhpcy5fY2VudGVyKTtcbiAgICAgIHZlYzMuY29weShfdmVydGV4MiwgdGhpcy5fY2VudGVyKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDEsIF92ZXJ0ZXgxLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDFFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgyLCBfdmVydGV4MiwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgyRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCBiYWNrIHdpdGggdGhlIGVkZ2UuXG4gICAgICBlZGdlLnJlc2V0KF92ZXJ0ZXgxLCBfdmVydGV4Mik7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZWRnZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtGYWNlQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7QXJyYXkuPHZlYzM+fSBbZmFjZV0gT3V0cHV0IHBhcmFtLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxuICAgKi9cbiAgc29tZUZhY2UoY2FsbGJhY2ssIGZhY2UpIHtcbiAgICBmYWNlID0gZmFjZSB8fCBbXTtcblxuICAgIHJldHVybiBfZmFjZUV4dGVudFNjYWxlcy5zb21lKGZhY2VFeHRlbnRTY2FsZXMgPT4ge1xuICAgICAgY29uc3QgdmVydGV4MUV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMF07XG4gICAgICBjb25zdCB2ZXJ0ZXgyRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1sxXTtcbiAgICAgIGNvbnN0IHZlcnRleDNFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzJdO1xuICAgICAgY29uc3QgdmVydGV4NEV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbM107XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZmFjZSdzIHZlcnRpY2VzLlxuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgxLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgyLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgzLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXg0LCB0aGlzLl9jZW50ZXIpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MSwgX3ZlcnRleDEsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4MUV4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDIsIF92ZXJ0ZXgyLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDJFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgzLCBfdmVydGV4MywgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgzRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4NCwgX3ZlcnRleDQsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4NEV4dGVudFNjYWxlc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGwgYmFjayB3aXRoIHRoZSBmYWNlLlxuICAgICAgZmFjZS5zcGxpY2UoMCwgNCwgX3ZlcnRleDEsIF92ZXJ0ZXgyLCBfdmVydGV4MywgX3ZlcnRleDQpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGZhY2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGZhY2Ugd2l0aCBhIGdpdmVuIGFkZGl0aW9uYWwgb2Zmc2V0IGZyb20gdGhlIGNlbnRlclxuICAgKiBhcHBsaWVkIHRvIGVhY2ggZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtGYWNlQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNPZmZzZXRcbiAgICogQHBhcmFtIHtBcnJheS48dmVjMz59IFtmYWNlXSBPdXRwdXQgcGFyYW0uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXG4gICAqL1xuICBzb21lUHVzaGVkT3V0RmFjZShjYWxsYmFjaywgcmFkaXVzT2Zmc2V0LCBmYWNlKSB7XG4gICAgZmFjZSA9IGZhY2UgfHwgW107XG5cbiAgICByZXR1cm4gX2ZhY2VFeHRlbnRTY2FsZXMuc29tZSgoZmFjZUV4dGVudFNjYWxlcywgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHZlcnRleDFFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzBdO1xuICAgICAgY29uc3QgdmVydGV4MkV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMV07XG4gICAgICBjb25zdCB2ZXJ0ZXgzRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1syXTtcbiAgICAgIGNvbnN0IHZlcnRleDRFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzNdO1xuICAgICAgY29uc3QgZGlyZWN0aW9uT2Zmc2V0cyA9IF9wdXNoZWRPdXRGYWNlT2Zmc2V0RGlyZWN0aW9uc1tpbmRleF07XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZmFjZSdzIHZlcnRpY2VzLlxuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgxLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgyLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgzLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXg0LCB0aGlzLl9jZW50ZXIpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgLy8gQWRkIHRoZSBvZmZzZXQgZm9yIHRoZSBub3JtYWwgdmVydGV4IHBvc2l0aW9uLlxuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgxLCBfdmVydGV4MSwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgxRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MiwgX3ZlcnRleDIsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4MkV4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDMsIF92ZXJ0ZXgzLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDNFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXg0LCBfdmVydGV4NCwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXg0RXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgLy8gQWRkIHRoZSBwdXNoZWQtb3V0IG9mZnNldC5cbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MSwgX3ZlcnRleDEsIHRoaXMuZXh0ZW50c1tpXSxcbiAgICAgICAgICAgIHJhZGl1c09mZnNldCAvIHRoaXMuaGFsZlNpZGVMZW5ndGhzW2ldICogZGlyZWN0aW9uT2Zmc2V0c1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDIsIF92ZXJ0ZXgyLCB0aGlzLmV4dGVudHNbaV0sXG4gICAgICAgICAgICByYWRpdXNPZmZzZXQgLyB0aGlzLmhhbGZTaWRlTGVuZ3Roc1tpXSAqIGRpcmVjdGlvbk9mZnNldHNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgzLCBfdmVydGV4MywgdGhpcy5leHRlbnRzW2ldLFxuICAgICAgICAgICAgcmFkaXVzT2Zmc2V0IC8gdGhpcy5oYWxmU2lkZUxlbmd0aHNbaV0gKiBkaXJlY3Rpb25PZmZzZXRzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4NCwgX3ZlcnRleDQsIHRoaXMuZXh0ZW50c1tpXSxcbiAgICAgICAgICAgIHJhZGl1c09mZnNldCAvIHRoaXMuaGFsZlNpZGVMZW5ndGhzW2ldICogZGlyZWN0aW9uT2Zmc2V0c1tpXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGwgYmFjayB3aXRoIHRoZSBmYWNlLlxuICAgICAgZmFjZS5zcGxpY2UoMCwgNCwgX3ZlcnRleDEsIF92ZXJ0ZXgyLCBfdmVydGV4MywgX3ZlcnRleDQpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGZhY2UpO1xuICAgIH0pO1xuICB9XG5cbiAgX3VwZGF0ZUV4dGVudHMoKSB7XG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzBdLCAwLCAwKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5leHRlbnRzWzBdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCAwLCB0aGlzLmhhbGZTaWRlTGVuZ3Roc1sxXSwgMCk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuZXh0ZW50c1sxXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcbiAgICB2ZWMzLnNldChfdmVydGV4MSwgMCwgMCwgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMl0pO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmV4dGVudHNbMl0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XG5cbiAgICB2ZWMzLnNldChfdmVydGV4MSwgMSwgMCwgMCk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuYXhlc1swXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcbiAgICB2ZWMzLnNldChfdmVydGV4MSwgMCwgMSwgMCk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuYXhlc1sxXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcbiAgICB2ZWMzLnNldChfdmVydGV4MSwgMCwgMCwgMSk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuYXhlc1syXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcbiAgfVxufVxuXG5jb25zdCBfdmVydGV4MSA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfdmVydGV4MiA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfdmVydGV4MyA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfdmVydGV4NCA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfc2VnbWVudCA9IG5ldyBMaW5lU2VnbWVudCh2ZWMzLmNyZWF0ZSgpLCB2ZWMzLmNyZWF0ZSgpKTtcblxuY29uc3QgX2VkZ2VFeHRlbnRTY2FsZXMgPSBbXG4gIC8vIEZyb250LWZhY2UgZWRnZXMuXG4gIFtbMSwgLTEsIC0xXSwgWzEsIC0xLCAxXV0sXG4gIFtbMSwgLTEsIC0xXSwgWzEsIDEsIC0xXV0sXG4gIFtbMSwgMSwgMV0sIFsxLCAtMSwgMV1dLFxuICBbWzEsIDEsIDFdLCBbMSwgMSwgLTFdXSxcbiAgLy8gQmFjay1mYWNlIGVkZ2VzLlxuICBbWy0xLCAtMSwgLTFdLCBbLTEsIC0xLCAxXV0sXG4gIFtbLTEsIC0xLCAtMV0sIFstMSwgMSwgLTFdXSxcbiAgW1stMSwgMSwgMV0sIFstMSwgLTEsIDFdXSxcbiAgW1stMSwgMSwgMV0sIFstMSwgMSwgLTFdXSxcbiAgLy8gRnJvbnQtdG8tYmFjayBlZGdlcy5cbiAgW1sxLCAtMSwgMV0sIFstMSwgLTEsIDFdXSxcbiAgW1sxLCAxLCAtMV0sIFstMSwgMSwgLTFdXSxcbiAgW1sxLCAxLCAxXSwgWy0xLCAxLCAxXV0sXG4gIFtbMSwgLTEsIC0xXSwgWy0xLCAtMSwgLTFdXSxcbl07XG5cbmNvbnN0IF9mYWNlRXh0ZW50U2NhbGVzID0gW1xuICBbWzEsIC0xLCAtMV0sIFsxLCAtMSwgMV0sIFsxLCAxLCAxXSwgWzEsIDEsIC0xXV0sXG4gIFtbLTEsIC0xLCAtMV0sIFstMSwgLTEsIDFdLCBbLTEsIDEsIDFdLCBbLTEsIDEsIC0xXV0sXG4gIFtbLTEsIDEsIC0xXSwgWzEsIDEsIC0xXSwgWzEsIDEsIDFdLCBbLTEsIDEsIDFdXSxcbiAgW1stMSwgLTEsIC0xXSwgWzEsIC0xLCAtMV0sIFsxLCAtMSwgMV0sIFstMSwgLTEsIDFdXSxcbiAgW1stMSwgLTEsIDFdLCBbMSwgLTEsIDFdLCBbMSwgMSwgMV0sIFstMSwgMSwgMV1dLFxuICBbWy0xLCAtMSwgLTFdLCBbMSwgLTEsIC0xXSwgWzEsIDEsIC0xXSwgWy0xLCAxLCAtMV1dLFxuXTtcblxuY29uc3QgX3B1c2hlZE91dEZhY2VPZmZzZXREaXJlY3Rpb25zID0gW1xuICB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCksXG4gIHZlYzMuZnJvbVZhbHVlcygtMSwgMCwgMCksXG4gIHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKSxcbiAgdmVjMy5mcm9tVmFsdWVzKDAsIC0xLCAwKSxcbiAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDEpLFxuICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgLTEpLFxuXTtcblxuZXhwb3J0IHtPYmJ9O1xuXG4vKipcbiAqIEBjYWxsYmFjayBWZXJ0ZXhDYWxsYmFja1xuICogQHBhcmFtIHt2ZWMzfVxuICogQHJldHVybnMge2Jvb2xlYW59IElmIHRydWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AuXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgRWRnZUNhbGxiYWNrXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fVxuICogQHJldHVybnMge2Jvb2xlYW59IElmIHRydWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AuXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgRmFjZUNhbGxiYWNrXG4gKiBAcGFyYW0ge0FycmF5Ljx2ZWMzPn1cbiAqIEByZXR1cm5zIHtib29sZWFufSBJZiB0cnVlLCBpdGVyYXRpb24gd2lsbCBzdG9wLlxuICovXG4iLCJpbXBvcnQge0NvbGxpZGFibGV9IGZyb20gJy4vY29sbGlkYWJsZSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgYm91bmRpbmcgc3BoZXJlLlxuICpcbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi4gQSBib3VuZGluZyBzcGhlcmUgaXMgb25seSBhcHByb3ByaWF0ZSBmb3Igc29tZVxuICogZ2VvbWV0cmllcy4gRm9yIG90aGVyIGdlb21ldHJpZXMsIGFuIGF4aWFsbHktYWxpZ25lZCBib3VuZGluZyBib3ggbWF5IGJlIG1vcmUgYXBwcm9wcmlhdGUuIEZvclxuICogb3RoZXJzIHN0aWxsLCBhbiBvcmllbnRlZCBib3VuZGluZyBib3ggb3IgYSBtb3JlIGNvbXBsaWNhdGVkIGhpZXJhcmNoaWNhbCBtb2RlbCBtYXkgYmUgbW9yZVxuICogYXBwcm9wcmlhdGUuXG4gKi9cbmNsYXNzIFNwaGVyZSBleHRlbmRzIENvbGxpZGFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlcllcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0YXRpb25hcnk9ZmFsc2VdXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2VudGVyWCwgY2VudGVyWSwgY2VudGVyWiwgcmFkaXVzLCBpc1N0YXRpb25hcnkgPSBmYWxzZSwgcGh5c2ljc0pvYikge1xuICAgIHN1cGVyKGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XG4gICAgdGhpcy5jZW50ZXJYID0gY2VudGVyWDtcbiAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgIHRoaXMuY2VudGVyWiA9IGNlbnRlclo7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIHRoaXMuX2NlbnRlciA9IHRoaXMuX2NlbnRlciB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc2V0KHRoaXMuX2NlbnRlciwgdGhpcy5jZW50ZXJYLCB0aGlzLmNlbnRlclksIHRoaXMuY2VudGVyWik7XG4gICAgcmV0dXJuIHRoaXMuX2NlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgYm91bmRpbmdWb2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuY2VudGVyWCA9IHZhbHVlWzBdO1xuICAgIHRoaXMuY2VudGVyWSA9IHZhbHVlWzFdO1xuICAgIHRoaXMuY2VudGVyWiA9IHZhbHVlWzJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7cXVhdH0gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcbiAgICAvLyBEbyBub3RoaW5nLlxuICB9XG59XG5cbmV4cG9ydCB7U3BoZXJlfTtcbiIsImltcG9ydCAqIGFzIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9zcmMvYWFiYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9zcmMvY2Fwc3VsZS1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIG9iYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NyYy9vYmItY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9zcmMvc3BoZXJlLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuXG5leHBvcnQge1xuICBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLFxuICBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLFxuICBvYmJDb2xsaXNpb25EZXRlY3Rpb24sXG4gIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbixcbn07XG4iLCJpbXBvcnQgKiBhcyBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9zcGhlcmUtY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBvYmJDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9vYmItY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vY2Fwc3VsZS1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCB7YWFiYlZzUG9pbnQgYXMgZ2VvbWV0cnlBYWJiVnNQb2ludH0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGRldGVjdGluZyB3aGV0aGVyIGludGVyc2VjdGlvbiBoYXMgb2NjdXJyZWQgYmV0d2VlblxuICogYXhpYWxseS1hbGlnbmVkIGJvdW5kaW5nIGJveGVzIGFuZCBvdGhlciBzaGFwZXMuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhYWJiVnNQb2ludChhYWJiLCBwb2ludCkge1xuICByZXR1cm4gZ2VvbWV0cnlBYWJiVnNQb2ludChhYWJiLCBwb2ludCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYWFiYlZzU3BoZXJlKGFhYmIsIHNwaGVyZSkge1xuICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzQWFiYihzcGhlcmUsIGFhYmIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYkFcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYkJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhYWJiVnNBYWJiKGFhYmJBLCBhYWJiQikge1xuICByZXR1cm4gYWFiYkEubWF4WCA+PSBhYWJiQi5taW5YICYmIGFhYmJBLm1pblggPD0gYWFiYkIubWF4WCAmJlxuICAgICAgYWFiYkEubWF4WSA+PSBhYWJiQi5taW5ZICYmIGFhYmJBLm1pblkgPD0gYWFiYkIubWF4WSAmJlxuICAgICAgYWFiYkEubWF4WiA+PSBhYWJiQi5taW5aICYmIGFhYmJBLm1pblogPD0gYWFiYkIubWF4Wjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhYWJiVnNPYmIoYWFiYiwgb2JiKSB7XG4gIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNBYWJiKG9iYiwgYWFiYik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhYWJiVnNDYXBzdWxlKGFhYmIsIGNhcHN1bGUpIHtcbiAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzQWFiYihjYXBzdWxlLCBhYWJiKTtcbn1cblxuZXhwb3J0IHtcbiAgYWFiYlZzUG9pbnQsXG4gIGFhYmJWc1NwaGVyZSxcbiAgYWFiYlZzQWFiYixcbiAgYWFiYlZzT2JiLFxuICBhYWJiVnNDYXBzdWxlLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGRldGVjdGluZyB3aGV0aGVyIGludGVyc2VjdGlvbiBoYXMgb2NjdXJyZWQgYmV0d2VlblxuICogY2Fwc3VsZXMgYW5kIG90aGVyIHNoYXBlcy5cbiAqL1xuXG5pbXBvcnQge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50LFxuICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzLFxuICBmaW5kU3F1YXJlZERpc3RhbmNlRnJvbVNlZ21lbnRUb1BvaW50LFxuICB0bXBWZWMxXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0ICogYXMgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuXG4vKipcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc1BvaW50KGNhcHN1bGUsIHBvaW50KSB7XG4gIHJldHVybiBmaW5kU3F1YXJlZERpc3RhbmNlRnJvbVNlZ21lbnRUb1BvaW50KGNhcHN1bGUuc2VnbWVudCwgcG9pbnQpIDw9XG4gICAgICBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc1NwaGVyZShjYXBzdWxlLCBzcGhlcmUpIHtcbiAgY29uc3Qgc3VtT2ZSYWRpaSA9IGNhcHN1bGUucmFkaXVzICsgc3BoZXJlLnJhZGl1cztcbiAgcmV0dXJuIGZpbmRTcXVhcmVkRGlzdGFuY2VGcm9tU2VnbWVudFRvUG9pbnQoY2Fwc3VsZS5zZWdtZW50LCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpIDw9XG4gICAgICBzdW1PZlJhZGlpICogc3VtT2ZSYWRpaTtcbn1cblxuLyoqXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxuICogdmVydGljZXMgbHlpbmcgd2l0aGluIHRoZSBvdGhlciBzaGFwZS4gSG93ZXZlciwgKEEpIHRoaXMgaXMgdW5saWtlbHksIGFuZCAoQikgd2UgYXJlIGlnbm9yaW5nIHRoZVxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxuICpcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzQWFiYihjYXBzdWxlLCBhYWJiKSB7XG4gIGNvbnN0IHNxdWFyZWRSYWRpdXMgPSBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xuXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhlIHR3byBjYXBzdWxlIGVuZHMgaW50ZXJzZWN0IHRoZSBBQUJCIChzcGhlcmUgdnMgQUFCQikgKGFkZHJlc3NlcyB0aGVcbiAgLy8gY2Fwc3VsZS12cy1BQUJCLWZhY2UgY2FzZSkuXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMSwgYWFiYiwgY2Fwc3VsZS5zZWdtZW50LnN0YXJ0KTtcbiAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudC5zdGFydCkgPD0gc3F1YXJlZFJhZGl1cykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMSwgYWFiYiwgY2Fwc3VsZS5zZWdtZW50LmVuZCk7XG4gIGlmICh2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMxLCBjYXBzdWxlLnNlZ21lbnQuZW5kKSA8PSBzcXVhcmVkUmFkaXVzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBDaGVjayB3aGV0aGVyIHRoZSBjYXBzdWxlIGludGVyc2VjdHMgd2l0aCBhbnkgQUFCQiBlZGdlIChhZGRyZXNzZXMgdGhlIGNhcHN1bGUtdnMtQUFCQi1lZGdlXG4gIC8vIGNhc2UpLlxuICByZXR1cm4gYWFiYi5zb21lRWRnZShlZGdlID0+XG4gICAgICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzKGNhcHN1bGUuc2VnbWVudCwgZWRnZSkgPD0gc3F1YXJlZFJhZGl1cyk7XG5cbiAgLy8gKFRoZSBjYXBzdWxlLXZzLUFBQkItdmVydGV4IGNhc2UgaXMgY292ZXJlZCBieSB0aGUgY2Fwc3VsZS12cy1BQUJCLWVkZ2UgY2FzZSkuXG59XG5cbi8qKlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzT2JiKGNhcHN1bGUsIG9iYikge1xuICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzQ2Fwc3VsZShvYmIsIGNhcHN1bGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZUFcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZUJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNDYXBzdWxlKGNhcHN1bGVBLCBjYXBzdWxlQikge1xuICBjb25zdCBzdW1PZlJhZGlpID0gY2Fwc3VsZUEucmFkaXVzICsgY2Fwc3VsZUIucmFkaXVzO1xuICByZXR1cm4gZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyhjYXBzdWxlQS5zZWdtZW50LCBjYXBzdWxlQi5zZWdtZW50KSA8PVxuICAgICAgc3VtT2ZSYWRpaSAqIHN1bU9mUmFkaWk7XG59XG5cbmV4cG9ydCB7XG4gIGNhcHN1bGVWc1BvaW50LFxuICBjYXBzdWxlVnNTcGhlcmUsXG4gIGNhcHN1bGVWc0FhYmIsXG4gIGNhcHN1bGVWc09iYixcbiAgY2Fwc3VsZVZzQ2Fwc3VsZSxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBkZXRlY3Rpbmcgd2hldGhlciBpbnRlcnNlY3Rpb24gaGFzIG9jY3VycmVkIGJldHdlZW5cbiAqIG9yaWVudGVkIGJvdW5kaW5nIGJveGVzIGFuZCBvdGhlciBzaGFwZXMuXG4gKi9cblxuaW1wb3J0IHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21PYmJUb1BvaW50LFxuICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbixcbiAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyxcbiAgdG1wVmVjMSxcbiAgdG1wVmVjMixcbiAgdG1wVmVjMyxcbiAgdG1wVmVjNFxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCAqIGFzIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbic7XG5cbi8vIFRPRE86IFJlZmFjdG9yIHRoZXNlIHRvIG5vdCBhY3R1YWxseSBjYWxjdWxhdGUgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbi4gVGhlc2UgY2hlY2tzIGNhblxuLy8gaW5zdGVhZCBiZSBkb25lIG1vcmUgZWZmaWNpZW50bHkgdXNpbmcgU0FULlxuXG4vKipcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBvYmJWc1BvaW50KG9iYiwgcG9pbnQpIHtcbiAgdmVjMy5zdWJ0cmFjdCh0bXBWZWM0LCBwb2ludCwgb2JiLmNlbnRlck9mVm9sdW1lKTtcblxuICB2ZWMzLnNldCh0bXBWZWMxLCAxLCAwLCAwKTtcbiAgdmVjMy50cmFuc2Zvcm1RdWF0KHRtcFZlYzEsIHRtcFZlYzEsIG9iYi5vcmllbnRhdGlvbik7XG4gIGNvbnN0IGF4aXMxRGlzdGFuY2UgPSB2ZWMzLmRvdCh0bXBWZWM0LCB0bXBWZWMxKTtcblxuICBpZiAoYXhpczFEaXN0YW5jZSA+PSAtb2JiLmhhbGZTaWRlTGVuZ3RoWCAmJiBheGlzMURpc3RhbmNlIDw9IG9iYi5oYWxmU2lkZUxlbmd0aFgpIHtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCAwLCAxLCAwKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMiwgdG1wVmVjMiwgb2JiLm9yaWVudGF0aW9uKTtcbiAgICBjb25zdCBheGlzMkRpc3RhbmNlID0gdmVjMy5kb3QodG1wVmVjNCwgdG1wVmVjMik7XG5cbiAgICBpZiAoYXhpczJEaXN0YW5jZSA+PSAtb2JiLmhhbGZTaWRlTGVuZ3RoWSAmJiBheGlzMkRpc3RhbmNlIDw9IG9iYi5oYWxmU2lkZUxlbmd0aFkpIHtcbiAgICAgIHZlYzMuc2V0KHRtcFZlYzMsIDAsIDAsIDEpO1xuICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRtcFZlYzMsIHRtcFZlYzMsIG9iYi5vcmllbnRhdGlvbik7XG4gICAgICBjb25zdCBheGlzM0Rpc3RhbmNlID0gdmVjMy5kb3QodG1wVmVjNCwgdG1wVmVjMyk7XG5cbiAgICAgIHJldHVybiBheGlzM0Rpc3RhbmNlID49IC1vYmIuaGFsZlNpZGVMZW5ndGhaICYmIGF4aXMzRGlzdGFuY2UgPD0gb2JiLmhhbGZTaWRlTGVuZ3RoWjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIG9iYlZzU3BoZXJlKG9iYiwgc3BoZXJlKSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludCh0bXBWZWMxLCBvYmIsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSk7XG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMxLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpIDw9XG4gICAgICBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cztcbn1cblxuLyoqXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxuICogdmVydGljZXMgbHlpbmcgd2l0aGluIHRoZSBvdGhlciBzaGFwZS4gSG93ZXZlciwgKEEpIHRoaXMgaXMgdW5saWtlbHksIGFuZCAoQikgd2UgYXJlIGlnbm9yaW5nIHRoZVxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxuICpcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIG9iYlZzQWFiYihvYmIsIGFhYmIpIHtcbiAgcmV0dXJuIF9vYmJWc0JveEhlbHBlcihvYmIsIGFhYmIsIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQpO1xufVxuXG4vKipcbiAqIE5PVEU6IFRoaXMgaW1wbGVtZW50YXRpb24gY2hlYXRzIGJ5IGNoZWNraW5nIHdoZXRoZXIgdmVydGljZXMgZnJvbSBvbmUgc2hhcGUgbGllIHdpdGhpbiB0aGVcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXG4gKiB0dW5uZWxsaW5nIHByb2JsZW0gZm9yIHRoZSByZXN0IG9mIHRoaXMgY29sbGlzaW9uIHN5c3RlbSBhbnl3YXkuXG4gKlxuICogQHBhcmFtIHtPYmJ9IG9iYkFcbiAqIEBwYXJhbSB7T2JifSBvYmJCXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gb2JiVnNPYmIob2JiQSwgb2JiQikge1xuICByZXR1cm4gX29iYlZzQm94SGVscGVyKG9iYkEsIG9iYkIsIG9iYlZzUG9pbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7T2JifEFhYmJ9IG90aGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvdGhlclZzUG9pbnRDYWxsYmFja1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfb2JiVnNCb3hIZWxwZXIob2JiLCBvdGhlciwgb3RoZXJWc1BvaW50Q2FsbGJhY2spIHtcbiAgLy8gQ2hlY2sgd2hldGhlciBhbnkgdmVydGljZXMgZnJvbSBBIGxpZSB3aXRoaW4gQidzIGJvdW5kcy5cbiAgaWYgKG9iYi5zb21lVmVydGV4KHZlcnRleCA9PiBvdGhlclZzUG9pbnRDYWxsYmFjayhvdGhlciwgdmVydGV4KSkpIHJldHVybiB0cnVlO1xuXG4gIC8vIENoZWNrIHdoZXRoZXIgYW55IHZlcnRpY2VzIGZyb20gQiBsaWUgd2l0aGluIEEncyBib3VuZHMuXG4gIGlmIChvdGhlci5zb21lVmVydGV4KHZlcnRleCA9PiBvYmJWc1BvaW50KG9iYiwgdmVydGV4KSkpIHJldHVybiB0cnVlO1xuXG4gIC8vIFdlIGFzc3VtZSB0aGF0IGEgdmVydGV4LXRvLWZhY2UgY29sbGlzaW9uIHdvdWxkIGhhdmUgYmVlbiBkZXRlY3RlZCBieSBvbmUgb2YgdGhlIHR3byBhYm92ZVxuICAvLyBjaGVja3MuIEFueSBlZGdlLXRvLWVkZ2UgY29sbGlzaW9uIG11c3QgaW52b2x2ZSBib3RoIGFuIGVkZ2UgZnJvbSBBIHRocm91Z2ggYSBmYWNlIG9mIEIgYW5kXG4gIC8vIHZpY2UgdmVyc2EuIFNvIGl0IGlzIHN1ZmZpY2llbnQgdG8gb25seSBjaGVjayB0aGUgZWRnZXMgb2Ygb25lIGFuZCB0aGUgZmFjZXMgb2YgdGhlIG90aGVyLlxuICBpZiAob3RoZXIuc29tZUVkZ2UoZWRnZSA9PlxuICAgICAgICAgIG9iYi5zb21lRmFjZShmYWNlID0+XG4gICAgICAgICAgICAgIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uKHRtcFZlYzEsIGVkZ2UsIC4uLmZhY2UpKSkpXG4gICAgcmV0dXJuIHRydWU7XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIG9iYlZzQ2Fwc3VsZShvYmIsIGNhcHN1bGUpIHtcbiAgLy8gQ2hlY2sgdGhlIGVkZ2VzLlxuICBjb25zdCBzcXVhcmVkUmFkaXVzID0gY2Fwc3VsZS5yYWRpdXMgKiBjYXBzdWxlLnJhZGl1cztcbiAgbGV0IGFyZUludGVyc2VjdGluZyA9IG9iYi5zb21lRWRnZShlZGdlID0+XG4gICAgICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzKGNhcHN1bGUuc2VnbWVudCwgZWRnZSkgPCBzcXVhcmVkUmFkaXVzKTtcblxuICBpZiAoYXJlSW50ZXJzZWN0aW5nKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBDaGVjayB0aGUgZmFjZXMuXG4gIGFyZUludGVyc2VjdGluZyA9IG9iYi5zb21lUHVzaGVkT3V0RmFjZShmYWNlID0+XG4gICAgICAgICAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24odG1wVmVjMSwgY2Fwc3VsZS5zZWdtZW50LCAuLi5mYWNlKSwgY2Fwc3VsZS5yYWRpdXMpO1xuXG4gIC8vIENoZWNrIGZvciBpbmNsdXNpb24gb2Ygb25lIHNoYXBlIGluc2lkZSB0aGUgb3RoZXIuXG4gIGFyZUludGVyc2VjdGluZyA9IGFyZUludGVyc2VjdGluZyB8fCBvYmJWc1BvaW50KG9iYiwgY2Fwc3VsZS5jZW50ZXJPZlZvbHVtZSk7XG4gIGFyZUludGVyc2VjdGluZyA9IGFyZUludGVyc2VjdGluZyB8fCBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc1BvaW50KGNhcHN1bGUsXG4gICAgICBvYmIuY2VudGVyT2ZWb2x1bWUpO1xuXG4gIHJldHVybiBhcmVJbnRlcnNlY3Rpbmc7XG59XG5cbmV4cG9ydCB7XG4gIG9iYlZzUG9pbnQsXG4gIG9iYlZzU3BoZXJlLFxuICBvYmJWc0FhYmIsXG4gIG9iYlZzT2JiLFxuICBvYmJWc0NhcHN1bGUsXG59O1xuIiwiaW1wb3J0IHtmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50LCB0bXBWZWMxfSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCAqIGFzIG9iYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL29iYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9jYXBzdWxlLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBkZXRlY3Rpbmcgd2hldGhlciBpbnRlcnNlY3Rpb24gaGFzIG9jY3VycmVkIGJldHdlZW5cbiAqIHNwaGVyZXMgYW5kIG90aGVyIHNoYXBlcy5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzcGhlcmVWc1BvaW50KHNwaGVyZSwgcG9pbnQpIHtcbiAgcmV0dXJuIHZlYzMuc3F1YXJlZERpc3RhbmNlKHBvaW50LCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpIDw9IHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVBXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlQlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzU3BoZXJlKHNwaGVyZUEsIHNwaGVyZUIpIHtcbiAgY29uc3Qgc3VtT2ZSYWRpaSA9IHNwaGVyZUEucmFkaXVzICsgc3BoZXJlQi5yYWRpdXM7XG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShzcGhlcmVBLmNlbnRlck9mVm9sdW1lLCBzcGhlcmVCLmNlbnRlck9mVm9sdW1lKSA8PVxuICAgICAgc3VtT2ZSYWRpaSAqIHN1bU9mUmFkaWk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNBYWJiKHNwaGVyZSwgYWFiYikge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KHRtcFZlYzEsIGFhYmIsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSk7XG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMxLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpIDw9IHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzcGhlcmVWc09iYihzcGhlcmUsIG9iYikge1xuICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzU3BoZXJlKG9iYiwgc3BoZXJlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzcGhlcmVWc0NhcHN1bGUoc3BoZXJlLCBjYXBzdWxlKSB7XG4gIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc1NwaGVyZShjYXBzdWxlLCBzcGhlcmUpO1xufVxuXG5leHBvcnQge1xuICBzcGhlcmVWc1BvaW50LFxuICBzcGhlcmVWc1NwaGVyZSxcbiAgc3BoZXJlVnNBYWJiLFxuICBzcGhlcmVWc09iYixcbiAgc3BoZXJlVnNDYXBzdWxlLFxufTtcbiIsImltcG9ydCAqIGFzIGFhYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcmMvYWFiYi1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCAqIGFzIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcmMvY2Fwc3VsZS1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCAqIGFzIG9iYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL3NyYy9vYmItY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQgKiBhcyBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcmMvc3BoZXJlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuXG5leHBvcnQge1xuICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLFxuICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLFxuICBvYmJDb250YWN0Q2FsY3VsYXRpb24sXG4gIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbixcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGluZyBhIGNvbnRhY3QgcG9pbnQgYmV0d2VlbiBheGlhbGx5LWFsaWduZWQgXG4gKiBib3VuZGluZyBib3hlcyBhbmQgb3RoZXIgc2hhcGVzLlxuICpcbiAqIC0gRWFjaCBvZiB0aGVzZSBmdW5jdGlvbnMgYXNzdW1lcyB0aGF0IHRoZSBvYmplY3RzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXG4gKiAtIFRoZSByZXN1bHRpbmcgY29udGFjdCBwb2ludCBtYXkgYmUgYW55d2hlcmUgd2l0aGluIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byBvYmplY3RzLlxuICovXG5cbmltcG9ydCAqIGFzIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL3NwaGVyZS1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCAqIGFzIG9iYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL29iYi1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCAqIGFzIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9jYXBzdWxlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0IHt0bXBWZWMxfSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7YWFiYkNvbGxpc2lvbkRldGVjdGlvbn0gZnJvbSAnLi4vLi4vY29sbGlzaW9uLWRldGVjdGlvbic7XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICovXG5mdW5jdGlvbiBhYWJiVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGFhYmIsIHBvaW50KSB7XG4gIHZlYzMuY29weShjb250YWN0UG9pbnQsIHBvaW50KTtcbiAgZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgYWFiYik7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICovXG5mdW5jdGlvbiBhYWJiVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhYWJiLCBzcGhlcmUpIHtcbiAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIHNwaGVyZSwgYWFiYik7XG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJBXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJCXG4gKi9cbmZ1bmN0aW9uIGFhYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhYWJiQSwgYWFiYkIpIHtcbiAgLy8gQ29tcHV0ZSB0aGUgY29udGFjdCBub3JtYWwuXG4gIHZlYzMuc2V0KGNvbnRhY3ROb3JtYWwsIDAsIDAsIDApO1xuICBjb25zdCB4SW50ZXJzZWN0aW9uRGVwdGggPSBNYXRoLm1pbihhYWJiQS5tYXhYIC0gYWFiYkIubWluWCwgYWFiYkIubWF4WCAtIGFhYmJBLm1pblgpO1xuICBjb25zdCB5SW50ZXJzZWN0aW9uRGVwdGggPSBNYXRoLm1pbihhYWJiQS5tYXhZIC0gYWFiYkIubWluWSwgYWFiYkIubWF4WSAtIGFhYmJBLm1pblkpO1xuICBjb25zdCB6SW50ZXJzZWN0aW9uRGVwdGggPSBNYXRoLm1pbihhYWJiQS5tYXhaIC0gYWFiYkIubWluWiwgYWFiYkIubWF4WiAtIGFhYmJBLm1pblopO1xuICAvLyBBc3N1bWUgdGhhdCB0aGUgZGlyZWN0aW9uIG9mIGludGVyc2VjdGlvbiBjb3JyZXNwb25kcyB0byB3aGljaGV2ZXIgYXhpcyBoYXMgdGhlIHNoYWxsb3dlc3RcbiAgLy8gaW50ZXJzZWN0aW9uLlxuICBpZiAoeEludGVyc2VjdGlvbkRlcHRoIDw9IHlJbnRlcnNlY3Rpb25EZXB0aCkge1xuICAgIGlmICh4SW50ZXJzZWN0aW9uRGVwdGggPD0gekludGVyc2VjdGlvbkRlcHRoKSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzBdID0gYWFiYkEubWF4WCAtIGFhYmJCLm1pblggPD0gYWFiYkIubWF4WCAtIGFhYmJBLm1pblggPyAxIDogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSBhYWJiQS5tYXhaIC0gYWFiYkIubWluWiA8PSBhYWJiQi5tYXhaIC0gYWFiYkEubWluWiA/IDEgOiAtMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHlJbnRlcnNlY3Rpb25EZXB0aCA8PSB6SW50ZXJzZWN0aW9uRGVwdGgpIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMV0gPSBhYWJiQS5tYXhZIC0gYWFiYkIubWluWSA8PSBhYWJiQi5tYXhZIC0gYWFiYkEubWluWSA/IDEgOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFjdE5vcm1hbFsyXSA9IGFhYmJBLm1heFogLSBhYWJiQi5taW5aIDw9IGFhYmJCLm1heFogLSBhYWJiQS5taW5aID8gMSA6IC0xO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IFRoZSB0d28gQUFCQnMgZm9ybSBhIHNxdWFyZSBpbnRlcnNlY3Rpb24gY3Jvc3Mtc2VjdGlvbiByZWdpb24gYWxvbmcgdGhlIGRpcmVjdGlvbiBvZiB0aGVcbiAgLy8gbm9ybWFsLiBDYWxjdWxhdGUgdGhlIGNlbnRlciBvZiB0aGF0IHNxdWFyZSB0byB1c2UgYXMgdGhlIHBvaW50IG9mIGNvbnRhY3QuXG4gIGlmICghYWFiYkEuc29tZVZlcnRleCh2ZXJ0ZXggPT4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNQb2ludChhYWJiQiwgdmVydGV4KSxcbiAgICAgICAgICBjb250YWN0UG9pbnQpKSB7XG4gICAgYWFiYkIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNQb2ludChhYWJiQSwgdmVydGV4KSwgY29udGFjdFBvaW50KTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqL1xuZnVuY3Rpb24gYWFiYlZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYiwgb2JiKSB7XG4gIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGFhYmIpO1xuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqL1xuZnVuY3Rpb24gYWFiYlZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGFhYmIsIGNhcHN1bGUpIHtcbiAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgYWFiYik7XG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludFxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBmaW5kQWFiYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBhYWJiKSB7XG4gIHZlYzMuc2V0KGNvbnRhY3ROb3JtYWwsIDAsIDAsIDApO1xuICB2ZWMzLnN1YnRyYWN0KHRtcFZlYzEsIGNvbnRhY3RQb2ludCwgYWFiYi5jZW50ZXJPZlZvbHVtZSk7XG4gIGNvbnN0IHhEaXN0YW5jZUZyb21GYWNlID0gYWFiYi5yYW5nZVggLyAyIC0gTWF0aC5hYnModG1wVmVjMVswXSk7XG4gIGNvbnN0IHlEaXN0YW5jZUZyb21GYWNlID0gYWFiYi5yYW5nZVkgLyAyIC0gTWF0aC5hYnModG1wVmVjMVsxXSk7XG4gIGNvbnN0IHpEaXN0YW5jZUZyb21GYWNlID0gYWFiYi5yYW5nZVogLyAyIC0gTWF0aC5hYnModG1wVmVjMVsyXSk7XG4gIC8vIEFzc3VtZSB0aGF0IHRoZSBwb2ludCBpcyBjb250YWN0aW5nIHdoaWNoZXZlciBmYWNlIGl0J3MgY2xvc2VzdCB0by5cbiAgaWYgKHhEaXN0YW5jZUZyb21GYWNlIDw9IHlEaXN0YW5jZUZyb21GYWNlKSB7XG4gICAgaWYgKHhEaXN0YW5jZUZyb21GYWNlIDw9IHpEaXN0YW5jZUZyb21GYWNlKSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzBdID0gdG1wVmVjMVswXSA+IDAgPyAxIDogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSB0bXBWZWMxWzJdID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHlEaXN0YW5jZUZyb21GYWNlIDw9IHpEaXN0YW5jZUZyb21GYWNlKSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzFdID0gdG1wVmVjMVsxXSA+IDAgPyAxIDogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSB0bXBWZWMxWzJdID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgYWFiYlZzUG9pbnQsXG4gIGFhYmJWc1NwaGVyZSxcbiAgYWFiYlZzQWFiYixcbiAgYWFiYlZzT2JiLFxuICBhYWJiVnNDYXBzdWxlLFxuICBmaW5kQWFiYk5vcm1hbEZyb21Db250YWN0UG9pbnQsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgY2FsY3VsYXRpbmcgYSBjb250YWN0IHBvaW50IGJldHdlZW4gY2Fwc3VsZXMgYW5kIG90aGVyIFxuICogc2hhcGVzLlxuICpcbiAqIC0gRWFjaCBvZiB0aGVzZSBmdW5jdGlvbnMgYXNzdW1lcyB0aGF0IHRoZSBvYmplY3RzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXG4gKiAtIFRoZSByZXN1bHRpbmcgY29udGFjdCBwb2ludCBtYXkgYmUgYW55d2hlcmUgd2l0aGluIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byBvYmplY3RzLlxuICovXG5cbmltcG9ydCB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQsXG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50LFxuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50LFxuICB0bXBWZWMxLFxuICB0bXBWZWMyXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0ICogYXMgb2JiQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLCBwb2ludCkge1xuICB2ZWMzLmNvcHkoY29udGFjdFBvaW50LCBwb2ludCk7XG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUuc2VnbWVudCwgcG9pbnQpO1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCk7XG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBjYXBzdWxlIHRvIHRoZSBzcGhlcmUgY2VudGVyLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgc3BoZXJlKSB7XG4gIGNvbnN0IHNwaGVyZUNlbnRlciA9IHNwaGVyZS5jZW50ZXJPZlZvbHVtZTtcbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoY29udGFjdFBvaW50LCBjYXBzdWxlLnNlZ21lbnQsIHNwaGVyZUNlbnRlcik7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgc3BoZXJlQ2VudGVyLCBjb250YWN0UG9pbnQpO1xuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgdmVjMy5zY2FsZUFuZEFkZChjb250YWN0UG9pbnQsIGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZS5yYWRpdXMpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBjYXBzdWxlIHRvIHRoZSBBQUJCLlxuICpcbiAqIE5PVEU6IFRoaXMgaW1wbGVtZW50YXRpb24gY2hlYXRzIGJ5IGNoZWNraW5nIHdoZXRoZXIgdmVydGljZXMgZnJvbSBvbmUgc2hhcGUgbGllIHdpdGhpbiB0aGVcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXG4gKiB0dW5uZWxsaW5nIHByb2JsZW0gZm9yIHRoZSByZXN0IG9mIHRoaXMgY29sbGlzaW9uIHN5c3RlbSBhbnl3YXkuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLCBhYWJiKSB7XG4gIC8vIHRtcFZlYzEgcmVwcmVzZW50cyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgY2Fwc3VsZSB0byB0aGUgQUFCQi4gdG1wVmVjMlxuICAvLyByZXByZXNlbnRzIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBBQUJCIHRvIHRoZSBjYXBzdWxlLlxuXG4gIC8vXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhlIHR3byBjYXBzdWxlIGVuZHMgaW50ZXJzZWN0IHRoZSBBQUJCIChzcGhlcmUgdnMgQUFCQikgKGFkZHJlc3NlcyB0aGVcbiAgLy8gY2Fwc3VsZS12cy1BQUJCLWZhY2UgY2FzZSkuXG4gIC8vXG5cbiAgY29uc3Qgc3F1YXJlZFJhZGl1cyA9IGNhcHN1bGUucmFkaXVzICogY2Fwc3VsZS5yYWRpdXM7XG4gIGxldCBkb2VzQWFiYkludGVyc2VjdEFuRW5kUG9pbnQgPSBmYWxzZTtcblxuICBsZXQgZW5kUG9pbnQgPSBjYXBzdWxlLnNlZ21lbnQuc3RhcnQ7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMiwgYWFiYiwgZW5kUG9pbnQpO1xuICBpZiAodmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMiwgZW5kUG9pbnQpIDw9IHNxdWFyZWRSYWRpdXMpIHtcbiAgICBkb2VzQWFiYkludGVyc2VjdEFuRW5kUG9pbnQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGVuZFBvaW50ID0gY2Fwc3VsZS5zZWdtZW50LmVuZDtcbiAgICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KHRtcFZlYzIsIGFhYmIsIGVuZFBvaW50KTtcbiAgICBpZiAodmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMiwgZW5kUG9pbnQpIDw9IHNxdWFyZWRSYWRpdXMpIHtcbiAgICAgIGRvZXNBYWJiSW50ZXJzZWN0QW5FbmRQb2ludCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFkb2VzQWFiYkludGVyc2VjdEFuRW5kUG9pbnQpIHtcbiAgICAvL1xuICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGNhcHN1bGUgaW50ZXJzZWN0cyB3aXRoIGFueSBBQUJCIGVkZ2UgKGFkZHJlc3NlcyB0aGUgY2Fwc3VsZS12cy1BQUJCLWVkZ2VcbiAgICAvLyBjYXNlKS5cbiAgICAvL1xuICAgIGFhYmIuc29tZUVkZ2UoZWRnZSA9PiB7XG4gICAgICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50KHRtcFZlYzEsIHRtcFZlYzIsXG4gICAgICAgICAgY2Fwc3VsZS5zZWdtZW50LCBlZGdlKTtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgICByZXR1cm4gZGlzdGFuY2UgPD0gc3F1YXJlZFJhZGl1cztcbiAgICB9KTtcbiAgfVxuXG4gIC8vIChUaGUgY2Fwc3VsZS12cy1BQUJCLXZlcnRleCBjYXNlIGlzIGNvdmVyZWQgYnkgdGhlIGNhcHN1bGUtdnMtQUFCQi1lZGdlIGNhc2UpLlxuXG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudCwgdG1wVmVjMik7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgdG1wVmVjMiwgdG1wVmVjMSk7XG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICB2ZWMzLnNjYWxlQW5kQWRkKGNvbnRhY3RQb2ludCwgdG1wVmVjMSwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZS5yYWRpdXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgb2JiKSB7XG4gIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGNhcHN1bGUpO1xuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiBjYXBzdWxlIEEgdG8gY2Fwc3VsZSBCLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVBXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVCXG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlQSwgY2Fwc3VsZUIpIHtcbiAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCh0bXBWZWMxLCB0bXBWZWMyLFxuICAgICAgY2Fwc3VsZUEuc2VnbWVudCwgY2Fwc3VsZUIuc2VnbWVudCk7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgdG1wVmVjMiwgdG1wVmVjMSk7XG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICB2ZWMzLnNjYWxlQW5kQWRkKGNvbnRhY3RQb2ludCwgdG1wVmVjMSwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZUEucmFkaXVzKTtcbn1cblxuZXhwb3J0IHtcbiAgY2Fwc3VsZVZzUG9pbnQsXG4gIGNhcHN1bGVWc1NwaGVyZSxcbiAgY2Fwc3VsZVZzQWFiYixcbiAgY2Fwc3VsZVZzT2JiLFxuICBjYXBzdWxlVnNDYXBzdWxlLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGNhbGN1bGF0aW5nIGEgY29udGFjdCBwb2ludCBiZXR3ZWVuIG9yaWVudGVkIGJvdW5kaW5nXG4gKiBib3hlcyBhbmQgb3RoZXIgc2hhcGVzLlxuICpcbiAqIC0gRWFjaCBvZiB0aGVzZSBmdW5jdGlvbnMgYXNzdW1lcyB0aGF0IHRoZSBvYmplY3RzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXG4gKiAtIFRoZSByZXN1bHRpbmcgY29udGFjdCBwb2ludCBtYXkgYmUgYW55d2hlcmUgd2l0aGluIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byBvYmplY3RzLlxuICovXG5cbmltcG9ydCB7XG4gIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uLFxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQsXG4gIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMsXG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQsXG4gIHRtcFZlYzFcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQge2FhYmJDb2xsaXNpb25EZXRlY3Rpb24sIG9iYkNvbGxpc2lvbkRldGVjdGlvbn0gZnJvbSAnLi4vLi4vY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQge0xpbmVTZWdtZW50fSBmcm9tICcuLi8uLi9jb2xsaWRhYmxlcyc7XG5pbXBvcnQgKiBhcyBhYWJiQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vYWFiYi1jb250YWN0LWNhbGN1bGF0aW9uJztcblxuLy8gVE9ETzogVGhlcmUgYXJlIG1vcmUgZWZmaWNpZW50IChidXQgZmFyIG1vcmUgY29tcGxpY2F0ZWQpIGFsZ29yaXRobXMgZm9yIGZpbmRpbmcgdGhlIHBvaW50IG9mXG4vLyBpbnRlcnNlY3Rpb24gd2l0aCBPQkJzLiBQb3J0IG92ZXIgc29tZSBvdGhlciBwcmUtZXhpc3Rpbmcgc29sdXRpb25zIGZvciB0aGVzZS5cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICovXG5mdW5jdGlvbiBvYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBwb2ludCkge1xuICB2ZWMzLmNvcHkoY29udGFjdFBvaW50LCBwb2ludCk7XG4gIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgb2JiKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb2ludCBhbnl3aGVyZSBpbnNpZGUgdGhlIE9CQiB0byB0aGUgY2VudGVyIG9mIHRoZSBzcGhlcmUuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqL1xuZnVuY3Rpb24gb2JiVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIHNwaGVyZSkge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQoY29udGFjdFBvaW50LCBvYmIsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSk7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgc3BoZXJlLmNlbnRlck9mVm9sdW1lLCBjb250YWN0UG9pbnQpO1xuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxuICogdmVydGljZXMgbHlpbmcgd2l0aGluIHRoZSBvdGhlciBzaGFwZS4gSG93ZXZlciwgKEEpIHRoaXMgaXMgdW5saWtlbHksIGFuZCAoQikgd2UgYXJlIGlnbm9yaW5nIHRoZVxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxuICpcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqL1xuZnVuY3Rpb24gb2JiVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBhYWJiKSB7XG4gIHJldHVybiBfb2JiVnNCb3hIZWxwZXIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGFhYmIsIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQsXG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludCk7XG59XG5cbi8qKlxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxuICogb3RoZXIuIER1ZSB0byB0aGUgdHVubmVsbGluZyBwcm9ibGVtLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGludGVyc2VjdGlvbiBvY2N1cnMgd2l0aG91dCBhbnlcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtPYmJ9IG9iYkFcbiAqIEBwYXJhbSB7T2JifSBvYmJCXG4gKi9cbmZ1bmN0aW9uIG9iYlZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiQSwgb2JiQikge1xuICByZXR1cm4gX29iYlZzQm94SGVscGVyKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiQSwgb2JiQiwgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzUG9pbnQsXG4gICAgICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7T2JifEFhYmJ9IG90aGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvdGhlclZzUG9pbnRDb2xsaXNpb25EZXRlY3Rpb25DYWxsYmFja1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZE90aGVyTm9ybWFsRnJvbUNvbnRhY3RQb2ludFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX29iYlZzQm94SGVscGVyKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBvdGhlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlclZzUG9pbnRDb2xsaXNpb25EZXRlY3Rpb25DYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kT3RoZXJOb3JtYWxGcm9tQ29udGFjdFBvaW50KSB7XG4gIC8vIENoZWNrIHdoZXRoZXIgYW55IHZlcnRpY2VzIGZyb20gQSBsaWUgd2l0aGluIEIncyBib3VuZHMuXG4gIGlmIChvYmIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gb3RoZXJWc1BvaW50Q29sbGlzaW9uRGV0ZWN0aW9uQ2FsbGJhY2sob3RoZXIsIHZlcnRleCksXG4gICAgICAgICAgY29udGFjdFBvaW50KSkge1xuICAgIGZpbmRPdGhlck5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBvdGhlcik7XG4gICAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ2hlY2sgd2hldGhlciBhbnkgdmVydGljZXMgZnJvbSBCIGxpZSB3aXRoaW4gQSdzIGJvdW5kcy5cbiAgaWYgKG90aGVyLnNvbWVWZXJ0ZXgodmVydGV4ID0+IG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1BvaW50KG9iYiwgdmVydGV4KSwgY29udGFjdFBvaW50KSkge1xuICAgIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgb2JiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBXZSBhc3N1bWUgdGhhdCBhIHZlcnRleC10by1mYWNlIGNvbGxpc2lvbiB3b3VsZCBoYXZlIGJlZW4gZGV0ZWN0ZWQgYnkgb25lIG9mIHRoZSB0d28gYWJvdmVcbiAgLy8gY2hlY2tzLiBBbnkgZWRnZS10by1lZGdlIGNvbGxpc2lvbiBtdXN0IGludm9sdmUgYm90aCBhbiBlZGdlIGZyb20gQSB0aHJvdWdoIGEgZmFjZSBvZiBCIGFuZFxuICAvLyB2aWNlIHZlcnNhLiBTbyBpdCBpcyBzdWZmaWNpZW50IHRvIG9ubHkgY2hlY2sgdGhlIGVkZ2VzIG9mIG9uZSBhbmQgdGhlIGZhY2VzIG9mIHRoZSBvdGhlci5cbiAgb3RoZXIuc29tZUVkZ2UoZWRnZSA9PlxuICAgICAgb2JiLnNvbWVGYWNlKGZhY2UgPT4gZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24oY29udGFjdFBvaW50LCBlZGdlLCAuLi5mYWNlKSkpO1xuICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIG9iYik7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICovXG5mdW5jdGlvbiBvYmJWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGNhcHN1bGUpIHtcbiAgLy8gdG1wVmVjMSBpcyB0aGUgcG9pbnQgb24gdGhlIGNhcHN1bGUgc2VnbWVudCB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIE9CQi5cblxuICAvL1xuICAvLyBDaGVjayB0aGUgZWRnZXMuXG4gIC8vXG5cbiAgY29uc3Qgc2VnbWVudCA9IG5ldyBMaW5lU2VnbWVudCh2ZWMzLmNyZWF0ZSgpLCB2ZWMzLmNyZWF0ZSgpKTtcbiAgY29uc3Qgc3F1YXJlZFJhZGl1cyA9IGNhcHN1bGUucmFkaXVzICogY2Fwc3VsZS5yYWRpdXM7XG4gIGNvbnN0IGFyZUludGVyc2VjdGluZyA9IG9iYi5zb21lRWRnZShlZGdlID0+XG4gICAgICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzKGNhcHN1bGUuc2VnbWVudCwgZWRnZSkgPCBzcXVhcmVkUmFkaXVzLCBzZWdtZW50KTtcblxuICBpZiAoYXJlSW50ZXJzZWN0aW5nKSB7XG4gICAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCh0bXBWZWMxLCBjb250YWN0UG9pbnQsIGNhcHN1bGUuc2VnbWVudCwgc2VnbWVudCk7XG4gICAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCB0bXBWZWMxLCBjb250YWN0UG9pbnQpO1xuICAgIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vXG4gIC8vIENoZWNrIHRoZSBmYWNlcy5cbiAgLy9cblxuICBvYmIuc29tZVB1c2hlZE91dEZhY2UoZmFjZSA9PlxuICAgICAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24odG1wVmVjMSwgY2Fwc3VsZS5zZWdtZW50LCAuLi5mYWNlKSwgY2Fwc3VsZS5yYWRpdXMpO1xuXG4gIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIHRtcFZlYzEsIG9iYik7XG5cbiAgLy8gTk9URTogVGhpcyBhc3N1bWVzIHRoYXQgdGhlIGFuZ2xlIGJldHdlZW4gdGhlIGNhcHN1bGUgc2VnbWVudCBhbmQgdGhlIGZhY2UgcGxhbmUgaXMgbm90IG9ibGlxdWVcbiAgLy8gYW5kIHRoYXQgdGhlIGRlcHRoIG9mIHBlbmV0cmF0aW9uIGlzIHNoYWxsb3cuIFdoZW4gYm90aCBvZiB0aGVzZSBjb25kaXRpb25zIGFyZSBub3QgdHJ1ZSwgdGhlXG4gIC8vIGNvbnRhY3QgcG9pbnQgd2lsbCBiZSBvZmZzZXQgZnJvbSB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IG9uIHRoZSBwdXNoZWQtb3V0IGZhY2UuXG4gIHZlYzMuc2NhbGVBbmRBZGQoY29udGFjdFBvaW50LCB0bXBWZWMxLCBjb250YWN0Tm9ybWFsLCAtY2Fwc3VsZS5yYWRpdXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludFxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBvYmIpIHtcbiAgLy8gQ2FsY3VsYXRlIHRoZSBkaXNwbGFjZW1lbnQgYWxvbmcgZWFjaCBheGlzLlxuICBjb25zdCBwcm9qZWN0aW9ucyA9IFtdO1xuICB2ZWMzLnN1YnRyYWN0KHRtcFZlYzEsIGNvbnRhY3RQb2ludCwgb2JiLmNlbnRlck9mVm9sdW1lKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBwcm9qZWN0aW9uc1tpXSA9IHZlYzMuZG90KG9iYi5heGVzW2ldLCB0bXBWZWMxKTtcbiAgfVxuXG4gIC8vIERldGVybWluZSB3aGljaCBmYWNlIHRoZSBub3JtYWwgaXMgcG9pbnRpbmcgYXdheSBmcm9tLlxuICB2ZWMzLnNldChjb250YWN0Tm9ybWFsLCAwLCAwLCAwKTtcbiAgY29uc3QgeERpc3RhbmNlRnJvbUZhY2UgPSBvYmIuaGFsZlNpZGVMZW5ndGhzWzBdIC0gTWF0aC5hYnMocHJvamVjdGlvbnNbMF0pO1xuICBjb25zdCB5RGlzdGFuY2VGcm9tRmFjZSA9IG9iYi5oYWxmU2lkZUxlbmd0aHNbMV0gLSBNYXRoLmFicyhwcm9qZWN0aW9uc1sxXSk7XG4gIGNvbnN0IHpEaXN0YW5jZUZyb21GYWNlID0gb2JiLmhhbGZTaWRlTGVuZ3Roc1syXSAtIE1hdGguYWJzKHByb2plY3Rpb25zWzJdKTtcbiAgLy8gQXNzdW1lIHRoYXQgdGhlIHBvaW50IGlzIGNvbnRhY3Rpbmcgd2hpY2hldmVyIGZhY2UgaXQncyBjbG9zZXN0IHRvLlxuICBpZiAoeERpc3RhbmNlRnJvbUZhY2UgPD0geURpc3RhbmNlRnJvbUZhY2UpIHtcbiAgICBpZiAoeERpc3RhbmNlRnJvbUZhY2UgPD0gekRpc3RhbmNlRnJvbUZhY2UpIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMF0gPSBwcm9qZWN0aW9uc1swXSA+IDAgPyAxIDogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSBwcm9qZWN0aW9uc1syXSA+IDAgPyAxIDogLTE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh5RGlzdGFuY2VGcm9tRmFjZSA8PSB6RGlzdGFuY2VGcm9tRmFjZSkge1xuICAgICAgY29udGFjdE5vcm1hbFsxXSA9IHByb2plY3Rpb25zWzFdID4gMCA/IDEgOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFjdE5vcm1hbFsyXSA9IHByb2plY3Rpb25zWzJdID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gIH1cblxuICAvLyBBcHBseSB0aGUgT0JCJ3Mgb3JpZW50YXRpb24gdG8gdGhlIG5vcm1hbC5cbiAgdmVjMy50cmFuc2Zvcm1RdWF0KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwsIG9iYi5vcmllbnRhdGlvbik7XG59XG5cbmV4cG9ydCB7XG4gIG9iYlZzUG9pbnQsXG4gIG9iYlZzU3BoZXJlLFxuICBvYmJWc0FhYmIsXG4gIG9iYlZzT2JiLFxuICBvYmJWc0NhcHN1bGUsXG4gIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50LFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGNhbGN1bGF0aW5nIGEgY29udGFjdCBwb2ludCBiZXR3ZWVuIHNwaGVyZXMgYW5kIG90aGVyXG4gKiBzaGFwZXMuXG4gKlxuICogLSBFYWNoIG9mIHRoZXNlIGZ1bmN0aW9ucyBhc3N1bWVzIHRoYXQgdGhlIG9iamVjdHMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cbiAqIC0gVGhlIHJlc3VsdGluZyBjb250YWN0IHBvaW50IG1heSBiZSBhbnl3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgdHdvIG9iamVjdHMuXG4gKi9cblxuaW1wb3J0IHtmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJTdXJmYWNlVG9Qb2ludH0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQge2ZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludH0gZnJvbSAnLi9hYWJiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0ICogYXMgb2JiQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbic7XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIHNwaGVyZSwgcG9pbnQpIHtcbiAgdmVjMy5jb3B5KGNvbnRhY3RQb2ludCwgcG9pbnQpO1xuICAvLyBBc3N1bWUgdGhhdCB0aGUgcG9pbnQgaXMgY29udGFjdGluZyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgc3BoZXJlLlxuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHBvaW50LCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpO1xuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZUFcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVCXG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlQSwgc3BoZXJlQikge1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHNwaGVyZUIuY2VudGVyT2ZWb2x1bWUsIHNwaGVyZUEuY2VudGVyT2ZWb2x1bWUpO1xuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgLy8gVGhlIHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHNwaGVyZSBBIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgY2VudGVyIG9mIHNwaGVyZSBCLlxuICB2ZWMzLnNjYWxlQW5kQWRkKGNvbnRhY3RQb2ludCwgc3BoZXJlQS5jZW50ZXJPZlZvbHVtZSwgY29udGFjdE5vcm1hbCwgc3BoZXJlQS5yYWRpdXMpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBBQUJCIHRvIHRoZSBzcGhlcmUgY2VudGVyLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBhYWJiKSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlN1cmZhY2VUb1BvaW50KGNvbnRhY3RQb2ludCwgYWFiYiwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKTtcbiAgZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgYWFiYik7XG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBvYmIpIHtcbiAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBzcGhlcmUpO1xuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIHNwaGVyZSwgY2Fwc3VsZSkge1xuICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIHNwaGVyZSk7XG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG5leHBvcnQge1xuICBzcGhlcmVWc1BvaW50LFxuICBzcGhlcmVWc1NwaGVyZSxcbiAgc3BoZXJlVnNBYWJiLFxuICBzcGhlcmVWc09iYixcbiAgc3BoZXJlVnNDYXBzdWxlLFxufTtcbiIsImV4cG9ydCAqIGZyb20gJy4vY29sbGlkYWJsZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vY29udGFjdC1jYWxjdWxhdGlvbic7XG5cbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUtZmFjdG9yaWVzJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUtcGh5c2ljcy1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlkYWJsZS1zdG9yZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaXNpb24taGFuZGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaXNpb24tdXRpbHMnO1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgc2V0IG9mIGZhY3RvcnkgZnVuY3Rpb25zIGZvciBjcmVhdGluZyBDb2xsaWRhYmxlIGluc3RhbmNlcy5cbiAqL1xuXG5pbXBvcnQge1xuICBDYXBzdWxlLFxuICBPYmIsXG4gIFNwaGVyZVxufSBmcm9tICcuLi9jb2xsaWRhYmxlcyc7XG5pbXBvcnQge19nZW9tZXRyeX0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sbGlkYWJsZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKSB7XG4gIHJldHVybiBfY29sbGlkYWJsZUNyZWF0b3JzW3BhcmFtcy5jb2xsaWRhYmxlU2hhcGVJZF0ocGFyYW1zLCBwaHlzaWNzSm9iKTtcbn1cblxuLyoqXG4gKiBUaGlzIGFzc3VtZXMgdGhlIGJhc2UgUmVuZGVyYWJsZVNoYXBlIGhhcyBhIHNpZGUgbGVuZ3RoIG9mIG9uZSB1bml0LlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9iYkZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKSB7XG4gIGNvbnN0IGhhbGZSYW5nZVggPSBwYXJhbXMuc2NhbGVbMF0gLyAyO1xuICBjb25zdCBoYWxmUmFuZ2VZID0gcGFyYW1zLnNjYWxlWzFdIC8gMjtcbiAgY29uc3QgaGFsZlJhbmdlWiA9IHBhcmFtcy5zY2FsZVsyXSAvIDI7XG4gIHJldHVybiBuZXcgT2JiKGhhbGZSYW5nZVgsIGhhbGZSYW5nZVksIGhhbGZSYW5nZVosIHBhcmFtcy5pc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xufVxuXG4vKipcbiAqIFRoaXMgYXNzdW1lcyB0aGUgYmFzZSBSZW5kZXJhYmxlU2hhcGUgaGFzIGEgXCJyYWRpdXNcIiBvZiBvbmUgdW5pdC5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICovXG5mdW5jdGlvbiBjcmVhdGVTcGhlcmVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xuICBjb25zdCByYWRpdXMgPSBwYXJhbXMucmFkaXVzIHx8IHZlYzMubGVuZ3RoKHBhcmFtcy5zY2FsZSkgLyBNYXRoLnNxcnQoMyk7XG4gIHJldHVybiBuZXcgU3BoZXJlKDAsIDAsIDAsIHJhZGl1cywgcGFyYW1zLmlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XG59XG5cbi8qKlxuICogVGhlIHJhZGl1cyBvZiB0aGUgY3JlYXRlZCBjYXBzdWxlIHdpbGwgYmUgYW4gYXZlcmFnZSBmcm9tIHRoZSB0d28gc2hvcnRlc3Qgc2lkZXMuXG4gKlxuICogVGhlcmUgYXJlIHR3byBtb2RlczogZWl0aGVyIHdlIHVzZSBzY2FsZSwgb3Igd2UgdXNlIHJhZGl1cyBhbmQgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xuICBjb25zdCBzY2FsZSA9IHBhcmFtcy5zY2FsZTtcbiAgY29uc3QgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlID0gcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZTtcbiAgY29uc3QgaXNTdGF0aW9uYXJ5ID0gcGFyYW1zLmlzU3RhdGlvbmFyeTtcbiAgbGV0IHJhZGl1cyA9IHBhcmFtcy5yYWRpdXM7XG5cbiAgbGV0IGhhbGZEaXN0YW5jZTtcblxuICAvLyBUaGVyZSBhcmUgdHdvIG1vZGVzOiBlaXRoZXIgd2UgdXNlIHNjYWxlLCBvciB3ZSB1c2UgcmFkaXVzIGFuZCBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UuXG4gIGlmICh0eXBlb2YgcmFkaXVzID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlID09PSAnbnVtYmVyJykge1xuICAgIGhhbGZEaXN0YW5jZSA9IGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSAvIDI7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29weSA9IHZlYzMuY2xvbmUoc2NhbGUpO1xuICAgIGNvcHkuc29ydCgpO1xuXG4gICAgY29uc3QgbGVuZ3RoID0gY29weVsyXTtcbiAgICByYWRpdXMgPSAoY29weVswXSArIGNvcHlbMV0pIC8gMjtcbiAgICBoYWxmRGlzdGFuY2UgPSBsZW5ndGggLyAyIC0gcmFkaXVzO1xuICB9XG5cbiAgY29uc3Qgb3JpZW50YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xuICBpZiAoc2NhbGVbMF0gPiBzY2FsZVsxXSkge1xuICAgIGlmIChzY2FsZVswXSA+IHNjYWxlWzJdKSB7XG4gICAgICB2ZWMzLnJvdGF0ZVkob3JpZW50YXRpb24sIG9yaWVudGF0aW9uLCBfZ2VvbWV0cnkuSEFMRl9QSSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERvIG5vdGhpbmc7IHRoZSBjYXBzdWxlIGRlZmF1bHRzIHRvIGJlaW5nIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc2NhbGVbMV0gPiBzY2FsZVsyXSkge1xuICAgICAgdmVjMy5yb3RhdGVYKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgLV9nZW9tZXRyeS5IQUxGX1BJKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRG8gbm90aGluZzsgdGhlIGNhcHN1bGUgZGVmYXVsdHMgdG8gYmVpbmcgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2Fwc3VsZSA9IG5ldyBDYXBzdWxlKGhhbGZEaXN0YW5jZSwgcmFkaXVzLCBpc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xuICBjYXBzdWxlLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG5cbiAgcmV0dXJuIGNhcHN1bGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3BoZXJlT3JDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpIHtcbiAgY29uc3Qgc2NhbGUgPSBwYXJhbXMuc2NhbGU7XG4gIGNvbnN0IHJhZGl1cyA9IHBhcmFtcy5yYWRpdXM7XG4gIGNvbnN0IGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2U7XG5cbiAgY29uc3QgaGFsZkxlbmd0aFggPSBzY2FsZVswXSAqIHJhZGl1cztcbiAgY29uc3QgaGFsZkxlbmd0aFkgPSBzY2FsZVsxXSAqIHJhZGl1cztcbiAgY29uc3QgaGFsZkxlbmd0aFogPSBzY2FsZVsyXSAqIChyYWRpdXMgKyBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UpIC8gMjtcblxuICBjb25zdCBtaW5MZW5ndGggPSBNYXRoLm1pbihNYXRoLm1pbihoYWxmTGVuZ3RoWCwgaGFsZkxlbmd0aFkpLCBoYWxmTGVuZ3RoWik7XG4gIGNvbnN0IG1heExlbmd0aCA9IE1hdGgubWF4KE1hdGgubWF4KGhhbGZMZW5ndGhYLCBoYWxmTGVuZ3RoWSksIGhhbGZMZW5ndGhaKTtcblxuICBpZiAobWF4TGVuZ3RoIC8gbWluTGVuZ3RoID49IF9TUEhFUkVfVlNfQ0FQU1VMRV9BU1BFQ1RfUkFUSU9fVEhSRVNIT0xEKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNyZWF0ZVNwaGVyZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKTtcbiAgfVxufVxuXG5jb25zdCBfU1BIRVJFX1ZTX0NBUFNVTEVfQVNQRUNUX1JBVElPX1RIUkVTSE9MRCA9IDI7XG5cbmNvbnN0IF9jb2xsaWRhYmxlQ3JlYXRvcnMgPSB7XG4gICdDVUJFJzogY3JlYXRlT2JiRnJvbVJlbmRlcmFibGVTaGFwZSxcbiAgJ1NQSEVSRV9PUl9DQVBTVUxFJzogY3JlYXRlU3BoZXJlT3JDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZSxcbiAgJ1NQSEVSRSc6IGNyZWF0ZVNwaGVyZUZyb21SZW5kZXJhYmxlU2hhcGUsXG4gICdDQVBTVUxFJzogY3JlYXRlQ2Fwc3VsZUZyb21SZW5kZXJhYmxlU2hhcGUsXG59O1xuXG5leHBvcnQge1xuICBjcmVhdGVDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZSxcbiAgY3JlYXRlQ29sbGlkYWJsZUZyb21SZW5kZXJhYmxlU2hhcGUsXG4gIGNyZWF0ZU9iYkZyb21SZW5kZXJhYmxlU2hhcGUsXG4gIGNyZWF0ZVNwaGVyZUZyb21SZW5kZXJhYmxlU2hhcGUsXG4gIGNyZWF0ZVNwaGVyZU9yQ2Fwc3VsZUZyb21SZW5kZXJhYmxlU2hhcGUsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENvbGxpZGFibGVTaGFwZUNvbmZpZ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbGxpZGFibGVTaGFwZUlkIFRoZSBJRCBvZiB0aGUgdHlwZSBvZiBjb2xsaWRhYmxlIHNoYXBlLlxuICogQHByb3BlcnR5IHt2ZWMzfSBbc2NhbGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc1N0YXRpb25hcnk9ZmFsc2VdIFdoZXRoZXIgdGhlIGNvbGxpZGFibGUgaXMgZml4ZWQgaW4gcGxhY2UuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBTcGhlcmljYWxDb2xsaWRhYmxlU2hhcGVQYXJhbXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYWRpdXNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtTcGhlcmljYWxDb2xsaWRhYmxlU2hhcGVQYXJhbXN9IENhcHN1bGVDb2xsaWRhYmxlU2hhcGVQYXJhbXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGNlbnRlcnMgb2YgdGhlIHNwaGVyZXMgb24gZWl0aGVyIGVuZFxuICogb2YgdGhlIGNhcHN1bGUuXG4gKi9cbiIsImltcG9ydCB7Y3JlYXRlQ29sbGlkYWJsZUZyb21SZW5kZXJhYmxlU2hhcGV9IGZyb20gJy4vY29sbGlkYWJsZS1mYWN0b3JpZXMnO1xuaW1wb3J0IHtjb2xsaWRhYmxlU3RvcmV9IGZyb20gJy4vY29sbGlkYWJsZS1zdG9yZSc7XG5pbXBvcnQge1BoeXNpY3NKb2J9IGZyb20gJy4uLy4uL3NyYy9waHlzaWNzLWpvYic7XG5pbXBvcnQge2NyZWF0ZUZvckNvbGxpZGFibGV9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG4vKipcbiAqIEEgQ29sbGlkYWJsZVBoeXNpY3NKb2IgZXh0ZW5kcyB0aGUgc3RhbmRhcmQgUGh5c2ljc0pvYiB3aXRoIGEgY29sbGlkYWJsZSBnZW9tZXRyeS5cbiAqL1xuY2xhc3MgQ29sbGlkYWJsZVBoeXNpY3NKb2IgZXh0ZW5kcyBQaHlzaWNzSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBjb2xsaWRhYmxlUGFyYW1zXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBzdGF0ZVxuICAgKiBAcGFyYW0ge0FycmF5LjxGb3JjZUFwcGxpZXI+fSBmb3JjZUFwcGxpZXJzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb250cm9sbGVyXG4gICAqIEBwYXJhbSB7Q29sbGlzaW9uSGFuZGxlcn0gY29sbGlzaW9uSGFuZGxlclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29sbGlkYWJsZVBhcmFtcywgc3RhdGUsIGZvcmNlQXBwbGllcnMsIGNvbnRyb2xsZXIsIGNvbGxpc2lvbkhhbmRsZXIpIHtcbiAgICBzdXBlcihmb3JjZUFwcGxpZXJzLCBzdGF0ZSk7XG5cbiAgICBjb2xsaWRhYmxlUGFyYW1zLnNjYWxlID0gY29sbGlkYWJsZVBhcmFtcy5zY2FsZSB8fCB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSk7XG4gICAgdGhpcy5jb2xsaWRhYmxlID0gY3JlYXRlQ29sbGlkYWJsZUZyb21SZW5kZXJhYmxlU2hhcGUoY29sbGlkYWJsZVBhcmFtcywgdGhpcyk7XG4gICAgdGhpcy5jdXJyZW50U3RhdGUudW5yb3RhdGVkSW5lcnRpYVRlbnNvciA9XG4gICAgICAgIGNyZWF0ZUZvckNvbGxpZGFibGUodGhpcy5jb2xsaWRhYmxlLCB0aGlzLmN1cnJlbnRTdGF0ZS5tYXNzKTtcbiAgICB0aGlzLmN1cnJlbnRTdGF0ZS51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcbiAgICB0aGlzLmlzQXRSZXN0ID0gZmFsc2U7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLl9jb2xsaXNpb25IYW5kbGVyID0gY29sbGlzaW9uSGFuZGxlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllcn0gZm9yY2VBcHBsaWVyXG4gICAqL1xuICBhZGRGb3JjZUFwcGxpZXIoZm9yY2VBcHBsaWVyKSB7XG4gICAgc3VwZXIuYWRkRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcik7XG4gICAgdGhpcy5pc0F0UmVzdCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyfSBmb3JjZUFwcGxpZXJcbiAgICovXG4gIHJlbW92ZUZvcmNlQXBwbGllcihmb3JjZUFwcGxpZXIpIHtcbiAgICBzdXBlci5yZW1vdmVGb3JjZUFwcGxpZXIoZm9yY2VBcHBsaWVyKTtcbiAgICB0aGlzLmlzQXRSZXN0ID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBjYWxsYmFjayBpcyB0cmlnZ2VyZWQgaW4gcmVzcG9uc2UgdG8gYSBjb2xsaXNpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBuZWVkcyB0aGUgc3RhbmRhcmQgY29sbGlzaW9uIHJlc3RpdHV0aW9uIHRvIHByb2NlZWQuXG4gICAqL1xuICBoYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbGxpc2lvbkhhbmRsZXIoY29sbGlzaW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0VGltZV1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydChzdGFydFRpbWUpIHtcbiAgICBzdXBlci5zdGFydChzdGFydFRpbWUpO1xuICAgIGNvbGxpZGFibGVTdG9yZS5yZWdpc3RlckNvbGxpZGFibGUodGhpcy5jb2xsaWRhYmxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmlzaCgpIHtcbiAgICBzdXBlci5maW5pc2goKTtcbiAgICBjb2xsaWRhYmxlU3RvcmUudW5yZWdpc3RlckNvbGxpZGFibGUodGhpcy5jb2xsaWRhYmxlKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbjtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3ZlYzN9IHZhbHVlICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuY3VycmVudFN0YXRlLnBvc2l0aW9uID0gdmVjMy5jbG9uZSh2YWx1ZSk7XG4gICAgdGhpcy5jb2xsaWRhYmxlLnBvc2l0aW9uID0gdmVjMy5jbG9uZSh2YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IHtDb2xsaWRhYmxlUGh5c2ljc0pvYn07XG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBDb2xsaXNpb25IYW5kbGVyXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIG5lZWRzIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24gdG8gcHJvY2VlZC5cbiAqL1xuIiwiaW1wb3J0IHtkZXRlY3RCb3VuZGluZ1ZvbHVtZUludGVyc2VjdGlvbn0gZnJvbSAnLi9jb2xsaXNpb24tdXRpbHMnO1xuXG4vLyBUT0RPOiBJbXBsZW1lbnQgc29tZSBmb3JtIG9mIGJvdW5kaW5nIHZvbHVtZSBoaWVyYXJjaHkgdG8gbWFrZSBzZWFyY2hpbmcgZm9yIHBvdGVudGlhbCBjb2xsaXNpb25zXG4vLyBtb3JlIGVmZmljaWVudC5cblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlZ2lzdGVycyBhbmQgcmV0cmlldmVzIGFsbCBDb2xsaWRhYmxlcyB3aXRoaW4gYSBzY2VuZS5cbiAqL1xuY2xhc3MgQ29sbGlkYWJsZVN0b3JlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY29sbGlkYWJsZXMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZXMgdGhlIGdpdmVuIHByb2dyYW0gd3JhcHBlci5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudDsgYSBnaXZlbiBwcm9ncmFtIHdpbGwgb25seSBiZSBjYWNoZWQgb25jZS5cbiAgICpcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gICAqL1xuICByZWdpc3RlckNvbGxpZGFibGUoY29sbGlkYWJsZSkge1xuICAgIHRoaXMuX2NvbGxpZGFibGVzLnB1c2goY29sbGlkYWJsZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gICAqL1xuICB1bnJlZ2lzdGVyQ29sbGlkYWJsZShjb2xsaWRhYmxlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9jb2xsaWRhYmxlcy5pbmRleE9mKGNvbGxpZGFibGUpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLl9jb2xsaWRhYmxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAgICogQHJldHVybnMge0FycmF5LjxDb2xsaWRhYmxlPn1cbiAgICovXG4gIGdldFBvc3NpYmxlQ29sbGlzaW9uc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSkge1xuICAgIHJldHVybiB0aGlzLl9jb2xsaWRhYmxlcy5maWx0ZXIob3RoZXIgPT5cbiAgICAgIGNvbGxpZGFibGUgIT09IG90aGVyICYmXG4gICAgICBkZXRlY3RCb3VuZGluZ1ZvbHVtZUludGVyc2VjdGlvbihjb2xsaWRhYmxlLCBvdGhlcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlzaW9uPn1cbiAgICovXG4gIGdldFBvc3NpYmxlQ29sbGlzaW9uc0ZvckFsbENvbGxpZGFibGVzKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRoaXMuX2NvbGxpZGFibGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbGxpZGFibGVBID0gdGhpcy5fY29sbGlkYWJsZXNbaV07XG4gICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGNvbGxpZGFibGVCID0gdGhpcy5fY29sbGlkYWJsZXNbal07XG4gICAgICAgIGlmIChkZXRlY3RCb3VuZGluZ1ZvbHVtZUludGVyc2VjdGlvbihjb2xsaWRhYmxlQSwgY29sbGlkYWJsZUIpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goe2NvbGxpZGFibGVBOiBjb2xsaWRhYmxlQSwgY29sbGlkYWJsZUI6IGNvbGxpZGFibGVCfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgIHRoaXMuX2NvbGxpZGFibGVzLmZvckVhY2goY2FsbGJhY2spO1xuICB9XG59XG5cbmNvbnN0IGNvbGxpZGFibGVTdG9yZSA9IG5ldyBDb2xsaWRhYmxlU3RvcmUoKTtcbmV4cG9ydCB7Y29sbGlkYWJsZVN0b3JlfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb2xsaXNpb25cbiAqIEBwcm9wZXJ0eSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZUFcbiAqIEBwcm9wZXJ0eSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZUJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gW2NvbnRhY3RQb2ludF0gSW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtjb250YWN0Tm9ybWFsXSBQb2ludHMgYXdheSBmcm9tIGJvZHkgQSBhbmQgdG93YXJkIGJvZHkgQi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGltZV1cbiAqL1xuIiwiaW1wb3J0IHtcbiAgYXJlVmVjM3NDbG9zZSxcbiAgdG1wVmVjMSxcbiAgdG1wVmVjMixcbiAgdG1wVmVjMyxcbiAgdG1wVmVjNCxcbn0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmltcG9ydCB7Y29sbGlkYWJsZVN0b3JlfSBmcm9tICcuL2NvbGxpZGFibGUtc3RvcmUnO1xuaW1wb3J0IHtkZXRlY3RJbnRlcnNlY3Rpb24sIGNhbGN1bGF0ZUNvbnRhY3R9IGZyb20gJy4vY29sbGlzaW9uLXV0aWxzJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGlzaW9uIHBpcGVsaW5lLlxuICpcbiAqIFRoZXNlIGZ1bmN0aW9ucyB3aWxsIGRldGVjdCBjb2xsaXNpb25zIGJldHdlZW4gY29sbGlkYWJsZSBib2RpZXMgYW5kIHVwZGF0ZSB0aGVpciBtb21lbnRhIGluXG4gKiByZXNwb25zZSB0byB0aGUgY29sbGlzaW9ucy5cbiAqXG4gKiAtIENvbnNpc3RzIG9mIGFuIGVmZmljaWVudCBicm9hZC1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uIHN0ZXAgZm9sbG93ZWQgYnkgYSBwcmVjaXNlXG4gKiAgIG5hcnJvdy1waGFzZSBzdGVwLlxuICogLSBDYWxjdWxhdGVzIHRoZSBwb3NpdGlvbiwgc3VyZmFjZSBub3JtYWwsIGFuZCB0aW1lIG9mIGVhY2ggY29udGFjdC5cbiAqIC0gQ2FsY3VsYXRlcyB0aGUgaW1wdWxzZSBvZiBhIGNvbGxpc2lvbiBhbmQgdXBkYXRlcyB0aGUgYm9kaWVzJyBsaW5lYXIgYW5kIGFuZ3VsYXIgbW9tZW50YSBpblxuICogICByZXNwb25zZS5cbiAqIC0gQXBwbGllcyBDb3Vsb21iIGZyaWN0aW9uIHRvIGNvbGxpZGluZyBib2RpZXMuXG4gKiAtIFN1Yi1kaXZpZGVzIHRoZSB0aW1lIHN0ZXAgdG8gbW9yZSBwcmVjaXNlbHkgZGV0ZXJtaW5lIHdoZW4gYW5kIHdoZXJlIGEgY29sbGlzaW9uIG9jY3Vycy5cbiAqIC0gU3VwcG9ydHMgbXVsdGlwbGUgY29sbGlzaW9ucyB3aXRoIGEgc2luZ2xlIGJvZHkgaW4gYSBzaW5nbGUgdGltZSBzdGVwLlxuICogLSBFZmZpY2llbnRseSBzdXBwb3J0cyBib2RpZXMgY29taW5nIHRvIHJlc3QgYWdhaW5zdCBlYWNoIG90aGVyLlxuICogLSBCb2RpZXMgd2lsbCBuZXZlciBwZW5ldHJhdGUgb25lIGFub3RoZXIuXG4gKiAtIFRoaXMgZG9lcyBub3QgYWRkcmVzcyB0aGUgdHVubmVsbGluZyBwcm9ibGVtLiBUaGF0IGlzLCBpdCBpcyBwb3NzaWJsZSBmb3IgdHdvIGZhc3QtbW92aW5nXG4gKiAgIGJvZGllcyB0byBwYXNzIHRocm91Z2ggZWFjaCBvdGhlciBhcyBsb25nIGFzIHRoZXkgZGlkIG5vdCBpbnRlcnNlY3QgZWFjaCBvdGhlciBkdXJpbmcgYW55IHRpbWVcbiAqICAgc3RlcC5cbiAqIC0gVGhpcyBvbmx5IHN1cHBvcnRzIGNvbGxpc2lvbnMgYmV0d2VlbiBjZXJ0YWluIHR5cGVzIG9mIHNoYXBlcy4gRm9ydHVuYXRlbHksIHRoaXMgc2V0IHByb3ZpZGVzXG4gKiAgIHJlYXNvbmFibGUgYXBwcm94aW1hdGlvbnMgZm9yIG1vc3Qgb3RoZXIgc2hhcGVzLiBUaGUgc3VwcG9ydGVkIHR5cGVzIG9mIHNoYXBlcyBhcmU6IHNwaGVyZXMsXG4gKiAgIGNhcHN1bGVzLCBBQUJCcywgYW5kIE9CQnMuXG4gKlxuICogIyMgT2JqZWN0cyB0aGF0IGNvbWUgdG8gcmVzdFxuICpcbiAqIEFuIGltcG9ydGFudCBlZmZpY2llbmN5IGltcHJvdmVtZW50IGlzIHRvIG5vdCBwcm9jZXNzIG9iamVjdHMgdGhyb3VnaCB0aGUgcGh5c2ljcyBlbmdpbmUgcGlwZWxpbmVcbiAqIGFmdGVyIHRoZXkgaGF2ZSBjb21lIHRvIHJlc3QuIFRoZSBpc0F0UmVzdCBmaWVsZCBpbmRpY2F0ZXMgd2hlbiBhIGJvZHkgaGFzIGNvbWUgdG8gcmVzdC5cbiAqXG4gKiBpc0F0UmVzdCBpcyBzZXQgdG8gdHJ1ZSBhZnRlciBhIHBoeXNpY3MgZnJhbWUgaXMgZmluaXNoZWQgaWYgdGhlIGNvbGxpc2lvbnMsIGZvcmNlcywgcG9zaXRpb24sXG4gKiBhbmQgb3JpZW50YXRpb24gb2YgYSBqb2IgaGF2ZSBub3QgY2hhbmdlZCBmcm9tIHRoZSBwcmV2aW91cyB0byB0aGUgY3VycmVudCBzdGF0ZS5cbiAqXG4gKiBpc0F0UmVzdCBpcyBzZXQgdG8gZmFsc2UgZnJvbSB0d28gcG9zc2libGUgZXZlbnRzOiBhZnRlciBhIHBoeXNpY3MgZnJhbWUgaXMgZmluaXNoZWQgaWYgdGhlXG4gKiBjb2xsaXNpb25zIGhhdmUgY2hhbmdlZCBmcm9tIHRoZSBwcmV2aW91cyB0byB0aGUgY3VycmVudCBzdGF0ZSwgb3Igd2hlbiBhIGZvcmNlIGlzIGFkZGVkIHRvXG4gKiByZW1vdmVkIGZyb20gdGhlIGpvYi5cbiAqXG4gKiAjIyBDb2xsaXNpb24gY2FsY3VsYXRpb25zIGRvIG5vdCBjb25zaWRlciB2ZWxvY2l0eVxuICpcbiAqIENvbGxpc2lvbiBkZXRlY3Rpb24gd29ya3MgYnkgd2FpdGluZyB1bnRpbCB0d28gYm9kaWVzIGludGVyc2VjdC4gSG93ZXZlciwgYmVjYXVzZSB0aW1lIGZyYW1lcyBhcmVcbiAqIG5vdCBpbmZpbml0ZWx5IHNtYWxsLCB3aGVuIGFuIGludGVyc2VjdGlvbiBpcyBkZXRlY3RlZCwgaXQncyBhbHJlYWR5IHBhc3QgdGhlIGV4YWN0IGluc3RhbmNlIG9mXG4gKiBjb2xsaXNpb24uIFRvIGFsbGV2aWF0ZSBwcm9ibGVtcyBmcm9tIHRoaXMsIHRoZSB2ZWxvY2l0eSBvZiBlYWNoIGJvZHkgY2FuIGJlIGNvbnNpZGVyZWQgd2hlblxuICogY2FsY3VsYXRpbmcgdGhlIGNvbGxpc2lvbiB0aW1lLCBwb3NpdGlvbiwgYW5kIGNvbnRhY3Qgbm9ybWFsLiBIb3dldmVyLCB0YWtpbmcgdmVsb2NpdHkgaW50b1xuICogYWNjb3VudCBtYWtlcyB0aGUgY29udGFjdCBjYWxjdWxhdGlvbnMgbXVjaCBtb3JlIGNvbXBsZXgsIHNvIHdlIGRvIG5vdCBjb25zaWRlciB2ZWxvY2l0eSBpbiBvdXJcbiAqIGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBBIG5vdGFibGUgY29uc2VxdWVuY2Ugb2YgdGhpcyBpcyB0aGF0IHRoZSBjYWxjdWxhdGVkIGNvbnRhY3Qgbm9ybWFscyBjYW4gYmUgaW5jb3JyZWN0LiBDb25zaWRlclxuICogdGhlIGZvbGxvd2luZyBtb3Zpbmcgc3F1YXJlcy4gQXQgdGltZSB0MiB0aGV5IGFyZSBmb3VuZCB0byBoYXZlIGNvbGxpZGVkLiBUaGUgY2FsY3VsYXRlZCBjb250YWN0XG4gKiBwb2ludCB3aWxsIGJlIHNvbWV3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgY29ybmVycy4gQnV0IHRoZSBjYWxjdWxhdGVkIGNvbnRhY3Qgbm9ybWFsXG4gKiB3aWxsIHBvaW50IHVwd2FyZHMsIHdoaWxlIHRoZSB0cnVlIGNvbnRhY3Qgbm9ybWFsIHNob3VsZCBwb2ludCB0byB0aGUgcmlnaHQuIFRoaXMgaXMgYmVjYXVzZSB0aGVcbiAqIGNvbnRhY3QgY2FsY3VsYXRpb25zIGRvIG5vdCBjb25zaWRlciB2ZWxvY2l0eSBhbmQgaW5zdGVhZCBvbmx5IGNvbnNpZGVyIHRoZSBzaGFsbG93ZXN0IGRpcmVjdGlvblxuICogb2Ygb3ZlcmxhcC5cbiAqXG4gKiAvLyBUaW1lIHQxXG4gKiAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICA8LS0gfCAgICAgIEIgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgfFxuICogICstLS0tLS0tLS0tLS0rICAgIHwgICAgICAgICAgICB8XG4gKiAgfCAgICAgICAgICAgIHwgICAgKy0tLS0tLS0tLS0tLStcbiAqICB8ICAgICAgICAgICAgfFxuICogIHwgICAgICBBICAgICB8IC0tPlxuICogIHwgICAgICAgICAgICB8XG4gKiAgfCAgICAgICAgICAgIHxcbiAqICArLS0tLS0tLS0tLS0tK1xuICpcbiAqIC8vIFRpbWUgdDJcbiAqICAgICAgICAgKy0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgfCAgICAgICAgICAgIHxcbiAqICAgICAgICAgfCAgICAgICAgICAgIHxcbiAqICAgICAgICAgfCAgICAgIEIgICAgIHxcbiAqICAgICAgICAgfCAgICAgICAgICAgIHxcbiAqICArLS0tLS0tLS0tLS0tKyAgICAgIHxcbiAqICB8ICAgICAgKy0tLS0tfC0tLS0tLStcbiAqICB8ICAgICAgICAgICAgfFxuICogIHwgICAgICBBICAgICB8XG4gKiAgfCAgICAgICAgICAgIHxcbiAqICB8ICAgICAgICAgICAgfFxuICogICstLS0tLS0tLS0tLS0rXG4gKi9cblxuLyoqXG4gKiBEZXRlY3QgYW5kIGhhbmRsZSBhbnkgY29sbGlzaW9ucyBiZXR3ZWVuIGEgZ2l2ZW4gam9iIGFuZCBhbGwgb3RoZXIgY29sbGlkYWJsZSBib2RpZXMuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gam9iXG4gKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGVsYXBzZWRUaW1lXG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAqL1xuZnVuY3Rpb24gaGFuZGxlQ29sbGlzaW9uc0ZvckpvYihqb2IsIGVsYXBzZWRUaW1lLCBwaHlzaWNzUGFyYW1zKSB7XG4gIGNvbnN0IGNvbGxpZGFibGUgPSBqb2IuY29sbGlkYWJsZTtcblxuICAvLyBDbGVhciBhbnkgcHJldmlvdXMgY29sbGlzaW9uIGluZm8uXG4gIGNvbGxpZGFibGUucHJldmlvdXNDb2xsaXNpb25zID0gY29sbGlkYWJsZS5jb2xsaXNpb25zO1xuICBjb2xsaWRhYmxlLmNvbGxpc2lvbnMgPSBbXTtcblxuICAvLyBGaW5kIGFsbCBjb2xsaWRpbmcgY29sbGlkYWJsZXMuXG4gIGNvbnN0IGNvbGxpZGluZ0NvbGxpZGFibGVzID0gZmluZEludGVyc2VjdGluZ0NvbGxpZGFibGVzRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKTtcblxuICAvLyBTdG9yZSB0aGUgdGltZSBvZiBjb2xsaXNpb24gZm9yIGVhY2ggY29sbGlzaW9uLlxuICBjb25zdCBjb2xsaXNpb25zID0gX3JlY29yZENvbGxpc2lvbnMoY29sbGlkYWJsZSwgY29sbGlkaW5nQ29sbGlkYWJsZXMsIGVsYXBzZWRUaW1lKTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIHBvaW50cyBvZiBjb250YWN0IGZvciBlYWNoIGNvbGxpc2lvbi5cbiAgX2NhbGN1bGF0ZVBvaW50c09mQ29udGFjdChjb2xsaXNpb25zKTtcblxuICAvLyBDb2xsaXNpb24gcmVzb2x1dGlvbi5cbiAgX3Jlc29sdmVDb2xsaXNpb25zKGNvbGxpc2lvbnMsIHBoeXNpY3NQYXJhbXMpO1xufVxuXG4vKipcbiAqIEZpbmRzIGFsbCBvdGhlciBjb2xsaWRhYmxlcyB0aGF0IGludGVyc2VjdCB3aXRoIHRoZSBnaXZlbiBjb2xsaWRhYmxlLlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICogQHJldHVybnMge0FycmF5LjxDb2xsaWRhYmxlPn1cbiAqL1xuZnVuY3Rpb24gZmluZEludGVyc2VjdGluZ0NvbGxpZGFibGVzRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKSB7XG4gIC8vIEJyb2FkLXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24gKHBhaXJzIHdob3NlIGJvdW5kaW5nIHZvbHVtZXMgaW50ZXJzZWN0KS5cbiAgY29uc3QgY29sbGlkaW5nQ29sbGlkYWJsZXMgPSBjb2xsaWRhYmxlU3RvcmUuZ2V0UG9zc2libGVDb2xsaXNpb25zRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKTtcblxuICAvLyBOYXJyb3ctcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbiAocGFpcnMgdGhhdCBhY3R1YWxseSBpbnRlcnNlY3QpLlxuICByZXR1cm4gX2RldGVjdFByZWNpc2VDb2xsaXNpb25zRnJvbUNvbGxpZGluZ0NvbGxpZGFibGVzKGNvbGxpZGFibGUsIGNvbGxpZGluZ0NvbGxpZGFibGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaWRhYmxlUGh5c2ljc0pvYj59IGpvYnNcbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lSm9ic0F0UmVzdChqb2JzKSB7XG4gIGpvYnMuZm9yRWFjaChqb2IgPT4gam9iLmlzQXRSZXN0ID0gX2lzSm9iQXRSZXN0KGpvYikpO1xufVxuXG5mdW5jdGlvbiByZWNvcmRPbGRDb2xsaXNpb25zRm9yRGV2TW9kZUZvckFsbENvbGxpZGFibGVzKCkge1xuICBjb2xsaWRhYmxlU3RvcmUuZm9yRWFjaChfcmVjb3JkT2xkQ29sbGlzaW9uc0ZvckRldk1vZGVGb3JDb2xsaWRhYmxlKTtcbn1cblxuLyoqXG4gKiBMb2dzIGEgd2FybmluZyBtZXNzYWdlIGZvciBhbnkgcGFpciBvZiBvYmplY3RzIHRoYXQgaW50ZXJzZWN0LlxuICovXG5mdW5jdGlvbiBjaGVja1RoYXROb09iamVjdHNDb2xsaWRlKCkge1xuICAvLyBCcm9hZC1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uIChwYWlycyB3aG9zZSBib3VuZGluZyB2b2x1bWVzIGludGVyc2VjdCkuXG4gIGxldCBjb2xsaXNpb25zID0gY29sbGlkYWJsZVN0b3JlLmdldFBvc3NpYmxlQ29sbGlzaW9uc0ZvckFsbENvbGxpZGFibGVzKCk7XG5cbiAgLy8gTmFycm93LXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24gKHBhaXJzIHRoYXQgYWN0dWFsbHkgaW50ZXJzZWN0KS5cbiAgY29sbGlzaW9ucyA9IF9kZXRlY3RQcmVjaXNlQ29sbGlzaW9uc0Zyb21Db2xsaXNpb25zKGNvbGxpc2lvbnMpO1xuXG4gIGNvbGxpc2lvbnMuZm9yRWFjaChjb2xsaXNpb24gPT4ge1xuICAgIGNvbnNvbGUud2FybignT2JqZWN0cyBzdGlsbCBpbnRlcnNlY3QgYWZ0ZXIgY29sbGlzaW9uIHJlc29sdXRpb24nLCBjb2xsaXNpb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgY29sbGlzaW9uIG9iamVjdHMgdGhhdCByZWNvcmQgdGhlIHRpbWUgb2YgY29sbGlzaW9uIGFuZCB0aGUgY29sbGlkYWJsZXMgaW4gdGhlIGNvbGxpc2lvbi5cbiAqXG4gKiBBbHNvIHJlY29yZCByZWZlcmVuY2VzIHRvIHRoZXNlIGNvbGxpc2lvbnMgb24gdGhlIGNvbGxpZGFibGVzLlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICogQHBhcmFtIHtBcnJheS48Q29sbGlkYWJsZT59IGNvbGxpZGluZ0NvbGxpZGFibGVzXG4gKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGVsYXBzZWRUaW1lXG4gKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpc2lvbj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVjb3JkQ29sbGlzaW9ucyhjb2xsaWRhYmxlLCBjb2xsaWRpbmdDb2xsaWRhYmxlcywgZWxhcHNlZFRpbWUpIHtcbiAgcmV0dXJuIGNvbGxpZGluZ0NvbGxpZGFibGVzLm1hcChvdGhlciA9PiB7XG4gICAgY29uc3QgY29sbGlzaW9uID0ge1xuICAgICAgY29sbGlkYWJsZUE6IGNvbGxpZGFibGUsXG4gICAgICBjb2xsaWRhYmxlQjogb3RoZXIsXG4gICAgICB0aW1lOiBlbGFwc2VkVGltZVxuICAgIH07XG5cbiAgICAvLyBSZWNvcmQgdGhlIGZhY3QgdGhhdCB0aGVzZSBvYmplY3RzIGNvbGxpZGVkICh0aGUgTW9kZWxDb250cm9sbGVyIG1heSB3YW50IHRvIGhhbmRsZSB0aGlzKS5cbiAgICBjb2xsaXNpb24uY29sbGlkYWJsZUEuY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgY29sbGlzaW9uLmNvbGxpZGFibGVCLmNvbGxpc2lvbnMucHVzaChjb2xsaXNpb24pO1xuXG4gICAgcmV0dXJuIGNvbGxpc2lvbjtcbiAgfSk7XG59XG5cbi8qKlxuICogTmFycm93LXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gKlxuICogR2l2ZW4gYSBsaXN0IG9mIHBvc3NpYmxlIGNvbGxpc2lvbiBwYWlycywgZmlsdGVyIG91dCB3aGljaCBwYWlycyBhcmUgYWN0dWFsbHkgY29sbGlkaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpc2lvbj59IGNvbGxpc2lvbnNcbiAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlzaW9uPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9kZXRlY3RQcmVjaXNlQ29sbGlzaW9uc0Zyb21Db2xsaXNpb25zKGNvbGxpc2lvbnMpIHtcbiAgcmV0dXJuIGNvbGxpc2lvbnMuZmlsdGVyKGNvbGxpc2lvbiA9PiB7XG4gICAgLy8gVE9ETzpcbiAgICAvLyAtIFVzZSB0ZW1wb3JhbCBiaXNlY3Rpb24gd2l0aCBkaXNjcmV0ZSBzdWItdGltZSBzdGVwcyB0byBmaW5kIHRpbWUgb2YgY29sbGlzaW9uICh1c2VcbiAgICAvLyAgICAgICB4LXZzLXktc3BlY2lmaWMgaW50ZXJzZWN0aW9uIGRldGVjdGlvbiBtZXRob2RzKS5cbiAgICAvLyAtIE1ha2Ugc3VyZSB0aGUgY29sbGlzaW9uIG9iamVjdCBpcyBzZXQgdXAgd2l0aCB0aGUgXCJwcmV2aW91c1N0YXRlXCIgZnJvbSB0aGUgc3ViLXN0ZXBcbiAgICAvLyAgIGJlZm9yZSBjb2xsaXNpb24gYW5kIHRoZSB0aW1lIGZyb20gdGhlIHN1Yi1zdGVwIGFmdGVyIGNvbGxpc2lvbiAoZGV0ZXJtaW5lZCBmcm9tIHRoZVxuICAgIC8vICAgcHJldmlvdXMgdGVtcG9yYWwgYmlzZWN0aW9uIHNlYXJjaC4uLilcblxuICAgIHJldHVybiBkZXRlY3RJbnRlcnNlY3Rpb24oY29sbGlzaW9uLmNvbGxpZGFibGVBLCBjb2xsaXNpb24uY29sbGlkYWJsZUIpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBOYXJyb3ctcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAqXG4gKiBHaXZlbiBhIGxpc3Qgb2YgcG9zc2libGUgY29sbGlzaW9uIHBhaXJzLCBmaWx0ZXIgb3V0IHdoaWNoIHBhaXJzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaWRhYmxlPn0gY29sbGlkaW5nQ29sbGlkYWJsZXNcbiAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlkYWJsZT59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZGV0ZWN0UHJlY2lzZUNvbGxpc2lvbnNGcm9tQ29sbGlkaW5nQ29sbGlkYWJsZXMoY29sbGlkYWJsZSwgY29sbGlkaW5nQ29sbGlkYWJsZXMpIHtcbiAgcmV0dXJuIGNvbGxpZGluZ0NvbGxpZGFibGVzLmZpbHRlcihvdGhlciA9PiB7XG4gICAgLy8gVE9ETzpcbiAgICAvLyAtIFVzZSB0ZW1wb3JhbCBiaXNlY3Rpb24gd2l0aCBkaXNjcmV0ZSBzdWItdGltZSBzdGVwcyB0byBmaW5kIHRpbWUgb2YgY29sbGlzaW9uICh1c2VcbiAgICAvLyAgICAgICB4LXZzLXktc3BlY2lmaWMgaW50ZXJzZWN0aW9uIGRldGVjdGlvbiBtZXRob2RzKS5cbiAgICAvLyAtIE1ha2Ugc3VyZSB0aGUgY29sbGlzaW9uIG9iamVjdCBpcyBzZXQgdXAgd2l0aCB0aGUgXCJwcmV2aW91c1N0YXRlXCIgZnJvbSB0aGUgc3ViLXN0ZXBcbiAgICAvLyAgIGJlZm9yZSBjb2xsaXNpb24gYW5kIHRoZSB0aW1lIGZyb20gdGhlIHN1Yi1zdGVwIGFmdGVyIGNvbGxpc2lvbiAoZGV0ZXJtaW5lZCBmcm9tIHRoZVxuICAgIC8vICAgcHJldmlvdXMgdGVtcG9yYWwgYmlzZWN0aW9uIHNlYXJjaC4uLilcblxuICAgIHJldHVybiBkZXRlY3RJbnRlcnNlY3Rpb24oY29sbGlkYWJsZSwgb3RoZXIpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGludGVyc2VjdGlvbiBwb3NpdGlvbiBhbmQgY29udGFjdCBub3JtYWwgb2YgZWFjaCBjb2xsaXNpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZVBvaW50c09mQ29udGFjdChjb2xsaXNpb25zKSB7XG4gIGNvbGxpc2lvbnMuZm9yRWFjaChjYWxjdWxhdGVDb250YWN0KTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBsaW5lYXIgYW5kIGFuZ3VsYXIgbW9tZW50YSBvZiBlYWNoIGJvZHkgaW4gcmVzcG9uc2UgdG8gaXRzIGNvbGxpc2lvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaXNpb24+fSBjb2xsaXNpb25zXG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZXNvbHZlQ29sbGlzaW9ucyhjb2xsaXNpb25zLCBwaHlzaWNzUGFyYW1zKSB7XG4gIGNvbGxpc2lvbnMuZm9yRWFjaChjb2xsaXNpb24gPT4ge1xuICAgIC8vIElmIG5laXRoZXIgcGh5c2ljcyBqb2IgbmVlZHMgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiwgdGhlbiBkb24ndCBkbyBpdC5cbiAgICBpZiAoX25vdGlmeVBoeXNpY3NKb2JzT2ZDb2xsaXNpb24oY29sbGlzaW9uKSkge1xuICAgICAgaWYgKGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5waHlzaWNzSm9iICYmIGNvbGxpc2lvbi5jb2xsaWRhYmxlQi5waHlzaWNzSm9iKSB7XG4gICAgICAgIC8vIE5laXRoZXIgb2YgdGhlIGNvbGxpZGFibGVzIGlzIHN0YXRpb25hcnkuXG4gICAgICAgIF9yZXNvbHZlQ29sbGlzaW9uKGNvbGxpc2lvbiwgcGh5c2ljc1BhcmFtcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPbmUgb2YgdGhlIHR3byBjb2xsaWRhYmxlcyBpcyBzdGF0aW9uYXJ5LlxuICAgICAgICBfcmVzb2x2ZUNvbGxpc2lvbldpdGhTdGF0aW9uYXJ5T2JqZWN0KGNvbGxpc2lvbiwgcGh5c2ljc1BhcmFtcyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIFBoeXNpY3NKb2JzIG5lZWQgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiB0b1xuICogcHJvY2VlZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9ub3RpZnlQaHlzaWNzSm9ic09mQ29sbGlzaW9uKGNvbGxpc2lvbikge1xuICByZXR1cm4gY29sbGlzaW9uLmNvbGxpZGFibGVBLnBoeXNpY3NKb2IuaGFuZGxlQ29sbGlzaW9uKGNvbGxpc2lvbikgfHxcbiAgICAgIGNvbGxpc2lvbi5jb2xsaWRhYmxlQi5waHlzaWNzSm9iLmhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pXG59XG5cbi8qKlxuICogUmVzb2x2ZSBhIGNvbGxpc2lvbiBiZXR3ZWVuIHR3byBtb3ZpbmcsIHBoeXNpY3MtYmFzZWQgb2JqZWN0cy5cbiAqXG4gKiBUaGlzIGlzIGJhc2VkIG9uIGNvbGxpc2lvbi1yZXNwb25zZSBhbGdvcml0aG1zIGZyb20gV2lraXBlZGlhXG4gKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29sbGlzaW9uX3Jlc3BvbnNlI0ltcHVsc2UtYmFzZWRfcmVhY3Rpb25fbW9kZWwpLlxuICpcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3Jlc29sdmVDb2xsaXNpb24oY29sbGlzaW9uLCBwaHlzaWNzUGFyYW1zKSB7XG4gIGNvbnN0IGNvbGxpZGFibGVBID0gY29sbGlzaW9uLmNvbGxpZGFibGVBO1xuICBjb25zdCBjb2xsaWRhYmxlQiA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQjtcbiAgY29uc3QgcHJldmlvdXNTdGF0ZUEgPSBjb2xsaWRhYmxlQS5waHlzaWNzSm9iLnByZXZpb3VzU3RhdGU7XG4gIGNvbnN0IHByZXZpb3VzU3RhdGVCID0gY29sbGlkYWJsZUIucGh5c2ljc0pvYi5wcmV2aW91c1N0YXRlO1xuICBjb25zdCBuZXh0U3RhdGVBID0gY29sbGlkYWJsZUEucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XG4gIGNvbnN0IG5leHRTdGF0ZUIgPSBjb2xsaWRhYmxlQi5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZTtcbiAgY29uc3QgY2VudGVyQSA9IGNvbGxpZGFibGVBLmNlbnRlck9mTWFzcztcbiAgY29uc3QgY2VudGVyQiA9IGNvbGxpZGFibGVCLmNlbnRlck9mTWFzcztcbiAgY29uc3QgY29udGFjdFBvaW50ID0gY29sbGlzaW9uLmNvbnRhY3RQb2ludDtcblxuICBjb25zdCBjb250YWN0UG9pbnRPZmZzZXRBID0gdG1wVmVjMztcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0UG9pbnRPZmZzZXRBLCBjb250YWN0UG9pbnQsIGNlbnRlckEpO1xuICBjb25zdCBjb250YWN0UG9pbnRPZmZzZXRCID0gdG1wVmVjNDtcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0UG9pbnRPZmZzZXRCLCBjb250YWN0UG9pbnQsIGNlbnRlckIpO1xuXG4gIC8vXG4gIC8vIENhbGN1bGF0ZSB0aGUgcmVsYXRpdmUgdmVsb2NpdHkgb2YgdGhlIGJvZGllcyBhdCB0aGUgcG9pbnQgb2YgY29udGFjdC5cbiAgLy9cbiAgLy8gV2UgdXNlIHRoZSB2ZWxvY2l0eSBmcm9tIHRoZSBwcmV2aW91cyBzdGF0ZSwgc2luY2UgaXQgaXMgdGhlIHZlbG9jaXR5IHRoYXQgbGVkIHRvIHRoZVxuICAvLyBjb2xsaXNpb24uXG4gIC8vXG5cbiAgY29uc3QgdmVsb2NpdHlBID0gdG1wVmVjMTtcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCBwcmV2aW91c1N0YXRlQS5hbmd1bGFyVmVsb2NpdHksIGNvbnRhY3RQb2ludE9mZnNldEEpO1xuICB2ZWMzLmFkZCh2ZWxvY2l0eUEsIHByZXZpb3VzU3RhdGVBLnZlbG9jaXR5LCB0bXBWZWMxKTtcblxuICBjb25zdCB2ZWxvY2l0eUIgPSB0bXBWZWMyO1xuICB2ZWMzLmNyb3NzKHRtcFZlYzIsIHByZXZpb3VzU3RhdGVCLmFuZ3VsYXJWZWxvY2l0eSwgY29udGFjdFBvaW50T2Zmc2V0Qik7XG4gIHZlYzMuYWRkKHZlbG9jaXR5QiwgcHJldmlvdXNTdGF0ZUIudmVsb2NpdHksIHRtcFZlYzIpO1xuXG4gIGNvbnN0IHJlbGF0aXZlVmVsb2NpdHkgPSB2ZWMzLmNyZWF0ZSgpO1xuICB2ZWMzLnN1YnRyYWN0KHJlbGF0aXZlVmVsb2NpdHksIHZlbG9jaXR5QiwgdmVsb2NpdHlBKTtcblxuICBpZiAodmVjMy5kb3QocmVsYXRpdmVWZWxvY2l0eSwgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwpID49IDApIHtcbiAgICAvLyBJZiB0aGUgcmVsYXRpdmUgdmVsb2NpdHkgaXMgbm90IHBvaW50aW5nIGFnYWluc3QgdGhlIG5vcm1hbCwgdGhlbiB0aGUgbm9ybWFsIHdhcyBjYWxjdWxhdGVkXG4gICAgLy8gaW5jb3JyZWN0bHkgKHRoaXMgaXMgbGlrZWx5IGR1ZSB0byB0aGUgdGltZSBzdGVwIGJlaW5nIHRvbyBsYXJnZSBhbmQgdGhlIGZhY3QgdGhhdCBvdXJcbiAgICAvLyBjb250YWN0IGNhbGN1bGF0aW9ucyBkb24ndCBjb25zaWRlciB2ZWxvY2l0eSkuIFNvIHVwZGF0ZSB0aGUgY29udGFjdCBub3JtYWwgdG8gYmUgaW4gdGhlXG4gICAgLy8gZGlyZWN0aW9uIG9mIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eS5cblxuICAgIC8vIFRPRE86IENoZWNrIHRoYXQgdGhpcyB3b3JrcyBhcyBleHBlY3RlZC5cblxuICAgIC8vIGNvbnNvbGUud2FybignTm9uLWNvbGxpc2lvbiBiZWNhdXNlIG9iamVjdHMgYXJlIG1vdmluZyBhd2F5IGZyb20gZWFjaCBvdGhlci4nKTtcblxuICAgIHZlYzMuY29weShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgcmVsYXRpdmVWZWxvY2l0eSk7XG4gICAgdmVjMy5ub3JtYWxpemUoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKTtcbiAgICB2ZWMzLm5lZ2F0ZShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwpO1xuICB9XG5cbiAgX2FwcGx5SW1wdWxzZUZyb21Db2xsaXNpb24oY29sbGlzaW9uLCByZWxhdGl2ZVZlbG9jaXR5LCBjb250YWN0UG9pbnRPZmZzZXRBLFxuICAgICAgY29udGFjdFBvaW50T2Zmc2V0QiwgcGh5c2ljc1BhcmFtcyk7XG5cbiAgLy8gTk9URTogVGhpcyBzdGF0ZSByZXZlcnNpb24gaXMgb25seSBhcHBsaWVkIHRvIGNvbGxpZGFibGVBLiBUaGlzIGFzc3VtZXMgdGhhdCBvbmx5IEEgaXMgbW92aW5nXG4gIC8vIGR1cmluZyB0aGlzIGl0ZXJhdGlvbiBvZiB0aGUgY29sbGlzaW9uIHBpcGVsaW5lLlxuXG4gIC8vIFJldmVydCB0byB0aGUgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGZyb20gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb2xsaXNpb24uXG4gIHZlYzMuY29weShuZXh0U3RhdGVBLnBvc2l0aW9uLCBwcmV2aW91c1N0YXRlQS5wb3NpdGlvbik7XG4gIHF1YXQuY29weShuZXh0U3RhdGVBLm9yaWVudGF0aW9uLCBwcmV2aW91c1N0YXRlQS5vcmllbnRhdGlvbik7XG5cbiAgLy8gQWxzbyByZXZlcnQgdGhlIGNvbGxpZGFibGVzJyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXG4gIGNvbGxpZGFibGVBLnBvc2l0aW9uID0gcHJldmlvdXNTdGF0ZUEucG9zaXRpb247XG4gIGNvbGxpZGFibGVBLm9yaWVudGF0aW9uID0gcHJldmlvdXNTdGF0ZUEub3JpZW50YXRpb247XG5cbiAgbmV4dFN0YXRlQS51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcbiAgbmV4dFN0YXRlQi51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIGEgY29sbGlzaW9uIGJldHdlZW4gb25lIG1vdmluZywgcGh5c2ljcy1iYXNlZCBvYmplY3QgYW5kIG9uZSBzdGF0aW9uYXJ5IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZXNvbHZlQ29sbGlzaW9uV2l0aFN0YXRpb25hcnlPYmplY3QoY29sbGlzaW9uLCBwaHlzaWNzUGFyYW1zKSB7XG4gIGNvbnN0IGNvbnRhY3ROb3JtYWwgPSBjb2xsaXNpb24uY29udGFjdE5vcm1hbDtcblxuICBsZXQgcGh5c2ljc0NvbGxpZGFibGU7XG4gIGlmIChjb2xsaXNpb24uY29sbGlkYWJsZUEucGh5c2ljc0pvYikge1xuICAgIHBoeXNpY3NDb2xsaWRhYmxlID0gY29sbGlzaW9uLmNvbGxpZGFibGVBO1xuICB9IGVsc2Uge1xuICAgIHBoeXNpY3NDb2xsaWRhYmxlID0gY29sbGlzaW9uLmNvbGxpZGFibGVCO1xuICAgIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICB9XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHBoeXNpY3NDb2xsaWRhYmxlLnBoeXNpY3NKb2IucHJldmlvdXNTdGF0ZTtcbiAgY29uc3QgbmV4dFN0YXRlID0gcGh5c2ljc0NvbGxpZGFibGUucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XG4gIGNvbnN0IGNlbnRlciA9IHBoeXNpY3NDb2xsaWRhYmxlLmNlbnRlck9mTWFzcztcbiAgY29uc3QgY29udGFjdFBvaW50ID0gY29sbGlzaW9uLmNvbnRhY3RQb2ludDtcblxuICBjb25zdCBjb250YWN0UG9pbnRPZmZzZXQgPSB0bXBWZWMzO1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3RQb2ludE9mZnNldCwgY29udGFjdFBvaW50LCBjZW50ZXIpO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgcmVsYXRpdmUgdmVsb2NpdHkgb2YgdGhlIGJvZGllcyBhdCB0aGUgcG9pbnQgb2YgY29udGFjdC4gV2UgdXNlIHRoZSB2ZWxvY2l0eSBmcm9tXG4gIC8vIHRoZSBwcmV2aW91cyBzdGF0ZSwgc2luY2UgaXQgaXMgdGhlIHZlbG9jaXR5IHRoYXQgbGVkIHRvIHRoZSBjb2xsaXNpb24uXG4gIGNvbnN0IHZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKTtcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCBwcmV2aW91c1N0YXRlLmFuZ3VsYXJWZWxvY2l0eSwgY29udGFjdFBvaW50T2Zmc2V0KTtcbiAgdmVjMy5hZGQodmVsb2NpdHksIHByZXZpb3VzU3RhdGUudmVsb2NpdHksIHRtcFZlYzEpO1xuXG4gIGlmICh2ZWMzLmRvdCh2ZWxvY2l0eSwgY29udGFjdE5vcm1hbCkgPD0gMCkge1xuICAgIC8vIElmIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eSBpcyBub3QgcG9pbnRpbmcgYWdhaW5zdCB0aGUgbm9ybWFsLCB0aGVuIHRoZSBub3JtYWwgd2FzIGNhbGN1bGF0ZWRcbiAgICAvLyBpbmNvcnJlY3RseSAodGhpcyBpcyBsaWtlbHkgZHVlIHRvIHRoZSB0aW1lIHN0ZXAgYmVpbmcgdG9vIGxhcmdlIGFuZCB0aGUgZmFjdCB0aGF0IG91clxuICAgIC8vIGNvbnRhY3QgY2FsY3VsYXRpb25zIGRvbid0IGNvbnNpZGVyIHZlbG9jaXR5KS4gU28gdXBkYXRlIHRoZSBjb250YWN0IG5vcm1hbCB0byBiZSBpbiB0aGVcbiAgICAvLyBkaXJlY3Rpb24gb2YgdGhlIHJlbGF0aXZlIHZlbG9jaXR5LlxuXG4gICAgLy8gVE9ETzogQ2hlY2sgdGhhdCB0aGlzIHdvcmtzIGFzIGV4cGVjdGVkLlxuXG4gICAgY29uc29sZS53YXJuKCdOb24tY29sbGlzaW9uIGJlY2F1c2Ugb2JqZWN0IGlzIG1vdmluZyBhd2F5IGZyb20gc3RhdGlvbmFyeSBvYmplY3QuJyk7XG5cbiAgICB2ZWMzLmNvcHkoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIHZlbG9jaXR5KTtcbiAgICB2ZWMzLm5vcm1hbGl6ZShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwpO1xuICAgIHZlYzMubmVnYXRlKGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCBjb2xsaXNpb24uY29udGFjdE5vcm1hbCk7XG4gIH1cblxuICBfYXBwbHlJbXB1bHNlRnJvbUNvbGxpc2lvbldpdGhTdGF0aW9uYXJ5T2JqZWN0KHBoeXNpY3NDb2xsaWRhYmxlLCBjb2xsaXNpb24sIHZlbG9jaXR5LFxuICAgICAgY29udGFjdFBvaW50T2Zmc2V0LCBwaHlzaWNzUGFyYW1zKTtcblxuICAvLyBSZXZlcnQgdG8gdGhlIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBmcm9tIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29sbGlzaW9uLlxuICB2ZWMzLmNvcHkobmV4dFN0YXRlLnBvc2l0aW9uLCBwcmV2aW91c1N0YXRlLnBvc2l0aW9uKTtcbiAgcXVhdC5jb3B5KG5leHRTdGF0ZS5vcmllbnRhdGlvbiwgcHJldmlvdXNTdGF0ZS5vcmllbnRhdGlvbik7XG5cbiAgLy8gQWxzbyByZXZlcnQgdGhlIGNvbGxpZGFibGUncyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXG4gIHBoeXNpY3NDb2xsaWRhYmxlLnBvc2l0aW9uID0gcHJldmlvdXNTdGF0ZS5wb3NpdGlvbjtcbiAgcGh5c2ljc0NvbGxpZGFibGUub3JpZW50YXRpb24gPSBwcmV2aW91c1N0YXRlLm9yaWVudGF0aW9uO1xuXG4gIG5leHRTdGF0ZS51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIGJhc2VkIG9uIGNvbGxpc2lvbi1yZXNwb25zZSBhbGdvcml0aG1zIGZyb20gV2lraXBlZGlhXG4gKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29sbGlzaW9uX3Jlc3BvbnNlI0ltcHVsc2UtYmFzZWRfcmVhY3Rpb25fbW9kZWwpLiBUaGlzIGFsZ29yaXRobVxuICogaGFzIGJlZW4gc2ltcGxpZmllZCBieSBhc3N1bWluZyB0aGUgc3RhdGlvbmFyeSBib2R5IGhhcyBpbmZpbml0ZSBtYXNzIGFuZCB6ZXJvIHZlbG9jaXR5LlxuICpcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqIEBwYXJhbSB7dmVjM30gcmVsYXRpdmVWZWxvY2l0eVxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRPZmZzZXRBXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludE9mZnNldEJcbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2FwcGx5SW1wdWxzZUZyb21Db2xsaXNpb24oY29sbGlzaW9uLCByZWxhdGl2ZVZlbG9jaXR5LCBjb250YWN0UG9pbnRPZmZzZXRBLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdFBvaW50T2Zmc2V0QiwgcGh5c2ljc1BhcmFtcykge1xuICBjb25zdCBjb2xsaWRhYmxlQSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQTtcbiAgY29uc3QgY29sbGlkYWJsZUIgPSBjb2xsaXNpb24uY29sbGlkYWJsZUI7XG5cbiAgY29uc3Qgc3RhdGVBID0gY29sbGlkYWJsZUEucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XG4gIGNvbnN0IHN0YXRlQiA9IGNvbGxpZGFibGVCLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xuXG4gIGNvbnN0IGNvbnRhY3ROb3JtYWwgPSBjb2xsaXNpb24uY29udGFjdE5vcm1hbDtcblxuICAvL1xuICAvLyBDYWxjdWxhdGUgYW5kIGFwcGx5IHRoZSBtYWluIGNvbGxpc2lvbiBpbXB1bHNlLlxuICAvL1xuXG4gIHZlYzMuc2NhbGUodG1wVmVjMSwgcmVsYXRpdmVWZWxvY2l0eSwgLSgxICsgcGh5c2ljc1BhcmFtcy5jb2VmZmljaWVudE9mUmVzdGl0dXRpb24pKTtcbiAgY29uc3QgbnVtZXJhdG9yID0gdmVjMy5kb3QodG1wVmVjMSwgY29udGFjdE5vcm1hbCk7XG5cbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXRBLCBjb250YWN0Tm9ybWFsKTtcbiAgdmVjMy50cmFuc2Zvcm1NYXQzKHRtcFZlYzEsIHRtcFZlYzEsIHN0YXRlQS5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgdG1wVmVjMSwgY29udGFjdFBvaW50T2Zmc2V0QSk7XG5cbiAgdmVjMy5jcm9zcyh0bXBWZWMyLCBjb250YWN0UG9pbnRPZmZzZXRCLCBjb250YWN0Tm9ybWFsKTtcbiAgdmVjMy50cmFuc2Zvcm1NYXQzKHRtcFZlYzIsIHRtcFZlYzIsIHN0YXRlQi5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XG4gIHZlYzMuY3Jvc3ModG1wVmVjMiwgdG1wVmVjMiwgY29udGFjdFBvaW50T2Zmc2V0Qik7XG5cbiAgdmVjMy5hZGQodG1wVmVjMSwgdG1wVmVjMSwgdG1wVmVjMik7XG4gIGNvbnN0IGRlbm9taW5hdG9yID0gdmVjMy5kb3QodG1wVmVjMSwgY29udGFjdE5vcm1hbCkgKyBzdGF0ZUEuaW52ZXJzZU1hc3MgKyBzdGF0ZUIuaW52ZXJzZU1hc3M7XG5cbiAgY29uc3QgaW1wdWxzZU1hZ25pdHVkZSA9IG51bWVyYXRvciAvIGRlbm9taW5hdG9yO1xuXG4gIF9hcHBseUltcHVsc2Uoc3RhdGVBLCAtaW1wdWxzZU1hZ25pdHVkZSwgY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50T2Zmc2V0QSk7XG4gIF9hcHBseUltcHVsc2Uoc3RhdGVCLCBpbXB1bHNlTWFnbml0dWRlLCBjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnRPZmZzZXRCKTtcblxuICAvL1xuICAvLyBDYWxjdWxhdGUgYW5kIGFwcGx5IGEgZHluYW1pYyBmcmljdGlvbiBpbXB1bHNlLlxuICAvL1xuXG4gIGNvbnN0IGZyaWN0aW9uSW1wdWxzZU1hZ25pdHVkZSA9IGltcHVsc2VNYWduaXR1ZGUgKiBwaHlzaWNzUGFyYW1zLmNvZWZmaWNpZW50T2ZGcmljdGlvbjtcblxuICBjb25zdCB0YW5nZW50ID0gdG1wVmVjMjtcbiAgdmVjMy5zY2FsZSh0bXBWZWMxLCBjb250YWN0Tm9ybWFsLCB2ZWMzLmRvdChyZWxhdGl2ZVZlbG9jaXR5LCBjb250YWN0Tm9ybWFsKSk7XG4gIHZlYzMuc3VidHJhY3QodGFuZ2VudCwgcmVsYXRpdmVWZWxvY2l0eSwgdG1wVmVjMSk7XG4gIHZlYzMubm9ybWFsaXplKHRhbmdlbnQsIHRhbmdlbnQpO1xuXG4gIF9hcHBseUltcHVsc2Uoc3RhdGVBLCBmcmljdGlvbkltcHVsc2VNYWduaXR1ZGUsIHRhbmdlbnQsIGNvbnRhY3RQb2ludE9mZnNldEEpO1xuICBfYXBwbHlJbXB1bHNlKHN0YXRlQiwgLWZyaWN0aW9uSW1wdWxzZU1hZ25pdHVkZSwgdGFuZ2VudCwgY29udGFjdFBvaW50T2Zmc2V0Qik7XG59XG5cbi8qKlxuICogVGhpcyBpcyBiYXNlZCBvbiBjb2xsaXNpb24tcmVzcG9uc2UgYWxnb3JpdGhtcyBmcm9tIFdpa2lwZWRpYVxuICogKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbGxpc2lvbl9yZXNwb25zZSNJbXB1bHNlLWJhc2VkX3JlYWN0aW9uX21vZGVsKS4gVGhpcyBhbGdvcml0aG1cbiAqIGhhcyBiZWVuIHNpbXBsaWZpZWQgYnkgYXNzdW1pbmcgdGhlIHN0YXRpb25hcnkgYm9keSBoYXMgaW5maW5pdGUgbWFzcyBhbmQgemVybyB2ZWxvY2l0eS5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IHBoeXNpY3NDb2xsaWRhYmxlXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKiBAcGFyYW0ge3ZlYzN9IHZlbG9jaXR5XG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludE9mZnNldFxuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfYXBwbHlJbXB1bHNlRnJvbUNvbGxpc2lvbldpdGhTdGF0aW9uYXJ5T2JqZWN0KHBoeXNpY3NDb2xsaWRhYmxlLCBjb2xsaXNpb24sIHZlbG9jaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0UG9pbnRPZmZzZXQsIHBoeXNpY3NQYXJhbXMpIHtcbiAgY29uc3Qgc3RhdGUgPSBwaHlzaWNzQ29sbGlkYWJsZS5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZTtcbiAgY29uc3QgY29udGFjdE5vcm1hbCA9IGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsO1xuXG4gIC8vXG4gIC8vIENhbGN1bGF0ZSBhbmQgYXBwbHkgdGhlIG1haW4gY29sbGlzaW9uIGltcHVsc2UuXG4gIC8vXG5cbiAgdmVjMy5zY2FsZSh0bXBWZWMxLCB2ZWxvY2l0eSwgLSgxICsgcGh5c2ljc1BhcmFtcy5jb2VmZmljaWVudE9mUmVzdGl0dXRpb24pKTtcbiAgY29uc3QgbnVtZXJhdG9yID0gdmVjMy5kb3QodG1wVmVjMSwgY29udGFjdE5vcm1hbCk7XG5cbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXQsIGNvbnRhY3ROb3JtYWwpO1xuICB2ZWMzLnRyYW5zZm9ybU1hdDModG1wVmVjMSwgdG1wVmVjMSwgc3RhdGUuaW52ZXJzZUluZXJ0aWFUZW5zb3IpO1xuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIHRtcFZlYzEsIGNvbnRhY3RQb2ludE9mZnNldCk7XG4gIGNvbnN0IGRlbm9taW5hdG9yID0gdmVjMy5kb3QodG1wVmVjMSwgY29udGFjdE5vcm1hbCkgKyBzdGF0ZS5pbnZlcnNlTWFzcztcblxuICBjb25zdCBpbXB1bHNlTWFnbml0dWRlID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XG5cbiAgX2FwcGx5SW1wdWxzZShzdGF0ZSwgaW1wdWxzZU1hZ25pdHVkZSwgY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50T2Zmc2V0KTtcblxuICAvL1xuICAvLyBDYWxjdWxhdGUgYW5kIGFwcGx5IGEgZHluYW1pYyBmcmljdGlvbiBpbXB1bHNlLlxuICAvL1xuXG4gIGNvbnN0IGZyaWN0aW9uSW1wdWxzZU1hZ25pdHVkZSA9IGltcHVsc2VNYWduaXR1ZGUgKiBwaHlzaWNzUGFyYW1zLmNvZWZmaWNpZW50T2ZGcmljdGlvbjtcblxuICBjb25zdCB0YW5nZW50ID0gdG1wVmVjMjtcbiAgdmVjMy5zY2FsZSh0bXBWZWMxLCBjb250YWN0Tm9ybWFsLCB2ZWMzLmRvdCh2ZWxvY2l0eSwgY29udGFjdE5vcm1hbCkpO1xuICB2ZWMzLnN1YnRyYWN0KHRhbmdlbnQsIHZlbG9jaXR5LCB0bXBWZWMxKTtcbiAgdmVjMy5ub3JtYWxpemUodGFuZ2VudCwgdGFuZ2VudCk7XG5cbiAgX2FwcGx5SW1wdWxzZShzdGF0ZSwgZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlLCB0YW5nZW50LCBjb250YWN0UG9pbnRPZmZzZXQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGltcHVsc2VNYWduaXR1ZGVcbiAqIEBwYXJhbSB7dmVjM30gaW1wdWxzZURpcmVjdGlvblxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRPZmZzZXRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9hcHBseUltcHVsc2Uoc3RhdGUsIGltcHVsc2VNYWduaXR1ZGUsIGltcHVsc2VEaXJlY3Rpb24sIGNvbnRhY3RQb2ludE9mZnNldCkge1xuICAvLyBDYWxjdWxhdGUgdGhlIHVwZGF0ZWQgbGluZWFyIG1vbWVudGEuXG4gIGNvbnN0IGZpbmFsTGluZWFyTW9tZW50dW0gPSB2ZWMzLmNyZWF0ZSgpO1xuICB2ZWMzLnNjYWxlQW5kQWRkKGZpbmFsTGluZWFyTW9tZW50dW0sIHN0YXRlLm1vbWVudHVtLCBpbXB1bHNlRGlyZWN0aW9uLCBpbXB1bHNlTWFnbml0dWRlKTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIHVwZGF0ZWQgYW5ndWxhciBtb21lbnRhLlxuICBjb25zdCBmaW5hbEFuZ3VsYXJNb21lbnR1bSA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgY29udGFjdFBvaW50T2Zmc2V0LCBpbXB1bHNlRGlyZWN0aW9uKTtcbiAgdmVjMy5zY2FsZUFuZEFkZChmaW5hbEFuZ3VsYXJNb21lbnR1bSwgc3RhdGUuYW5ndWxhck1vbWVudHVtLCB0bXBWZWMxLCBpbXB1bHNlTWFnbml0dWRlKTtcblxuICAvLyBBcHBseSB0aGUgdXBkYXRlZCBtb21lbnRhLlxuICB2ZWMzLmNvcHkoc3RhdGUubW9tZW50dW0sIGZpbmFsTGluZWFyTW9tZW50dW0pO1xuICB2ZWMzLmNvcHkoc3RhdGUuYW5ndWxhck1vbWVudHVtLCBmaW5hbEFuZ3VsYXJNb21lbnR1bSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gam9iXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9pc0pvYkF0UmVzdChqb2IpIHtcbiAgcmV0dXJuIGFyZVZlYzNzQ2xvc2Uoam9iLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbiwgam9iLnByZXZpb3VzU3RhdGUucG9zaXRpb24pICYmXG4gICAgICBhcmVWZWMzc0Nsb3NlKGpvYi5jdXJyZW50U3RhdGUudmVsb2NpdHksIGpvYi5wcmV2aW91c1N0YXRlLnZlbG9jaXR5KSAmJlxuICAgICAgYXJlVmVjM3NDbG9zZShqb2IuY3VycmVudFN0YXRlLm9yaWVudGF0aW9uLCBqb2IucHJldmlvdXNTdGF0ZS5vcmllbnRhdGlvbikgJiZcbiAgICAgIF9kb0NvbGxpc2lvbnNNYXRjaChqb2IuY29sbGlkYWJsZS5jb2xsaXNpb25zLCBqb2IuY29sbGlkYWJsZS5wcmV2aW91c0NvbGxpc2lvbnMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpc2lvbj59IGNvbGxpc2lvbnNBXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaXNpb24+fSBjb2xsaXNpb25zQlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZG9Db2xsaXNpb25zTWF0Y2goY29sbGlzaW9uc0EsIGNvbGxpc2lvbnNCKSB7XG4gIGNvbnN0IGNvdW50ID0gY29sbGlzaW9uc0EubGVuZ3RoO1xuXG4gIGlmIChjb3VudCAhPT0gY29sbGlzaW9uc0IubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgY29uc3QgY29sbGlzaW9uQSA9IGNvbGxpc2lvbnNBW2ldO1xuICAgIGNvbnN0IGNvbGxpc2lvbkIgPSBjb2xsaXNpb25zQltpXTtcbiAgICBpZiAoY29sbGlzaW9uQS5jb2xsaWRhYmxlQSAhPT0gY29sbGlzaW9uQi5jb2xsaWRhYmxlQSB8fFxuICAgICAgICBjb2xsaXNpb25BLmNvbGxpZGFibGVCICE9PSBjb2xsaXNpb25CLmNvbGxpZGFibGVCIHx8XG4gICAgICAgICFhcmVWZWMzc0Nsb3NlKGNvbGxpc2lvbkEuY29udGFjdFBvaW50LCBjb2xsaXNpb25CLmNvbnRhY3RQb2ludCkgfHxcbiAgICAgICAgIWFyZVZlYzNzQ2xvc2UoY29sbGlzaW9uQS5jb250YWN0Tm9ybWFsLCBjb2xsaXNpb25CLmNvbnRhY3ROb3JtYWwpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZWNvcmRPbGRDb2xsaXNpb25zRm9yRGV2TW9kZUZvckNvbGxpZGFibGUoY29sbGlkYWJsZSkge1xuICBpZiAoIWNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnMpIHtcbiAgICBjb2xsaWRhYmxlLmV4dHJhUHJldmlvdXNDb2xsaXNpb25zID0gW107XG4gIH1cblxuICBmb3IgKGxldCBpID0gMzsgaSA+IDA7IGktLSkge1xuICAgIGNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnNbaV0gPSBjb2xsaWRhYmxlLmV4dHJhUHJldmlvdXNDb2xsaXNpb25zW2kgLSAxXTtcbiAgfVxuICBjb2xsaWRhYmxlLmV4dHJhUHJldmlvdXNDb2xsaXNpb25zWzBdID0gY29sbGlkYWJsZS5wcmV2aW91c0NvbGxpc2lvbnM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNDb250cm9sbGVyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRPdGhlckNvbnRyb2xsZXJGcm9tQ29sbGlzaW9uKGNvbGxpc2lvbiwgdGhpc0NvbnRyb2xsZXIpIHtcbiAgY29uc3QgY29udHJvbGxlckEgPSBjb2xsaXNpb24uY29sbGlkYWJsZUEucGh5c2ljc0pvYi5jb250cm9sbGVyO1xuICBjb25zdCBjb250cm9sbGVyQiA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQi5waHlzaWNzSm9iLmNvbnRyb2xsZXI7XG4gIGlmIChjb250cm9sbGVyQSA9PT0gdGhpc0NvbnRyb2xsZXIpIHtcbiAgICByZXR1cm4gY29udHJvbGxlckI7XG4gIH0gZWxzZSBpZiAoY29udHJvbGxlckIgPT09IHRoaXNDb250cm9sbGVyKSB7XG4gICAgcmV0dXJuIGNvbnRyb2xsZXJBO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignTmVpdGhlciBjb2xsaWRhYmxlIGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBjb250cm9sbGVyJyk7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgaGFuZGxlQ29sbGlzaW9uc0ZvckpvYixcbiAgZmluZEludGVyc2VjdGluZ0NvbGxpZGFibGVzRm9yQ29sbGlkYWJsZSxcbiAgZGV0ZXJtaW5lSm9ic0F0UmVzdCxcbiAgcmVjb3JkT2xkQ29sbGlzaW9uc0ZvckRldk1vZGVGb3JBbGxDb2xsaWRhYmxlcyxcbiAgY2hlY2tUaGF0Tm9PYmplY3RzQ29sbGlkZSxcbiAgZ2V0T3RoZXJDb250cm9sbGVyRnJvbUNvbGxpc2lvbixcbn07XG4iLCJpbXBvcnQge1xuICBBYWJiLFxuICBDYXBzdWxlLFxuICBPYmIsXG4gIFNwaGVyZVxufSBmcm9tICcuLi9jb2xsaWRhYmxlcyc7XG5cbmltcG9ydCB7XG4gIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24sXG4gIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24sXG4gIG9iYkNvbGxpc2lvbkRldGVjdGlvbixcbiAgc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLFxufSBmcm9tICcuLi9jb2xsaXNpb24tZGV0ZWN0aW9uJztcblxuaW1wb3J0IHtcbiAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbixcbiAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbixcbiAgb2JiQ29udGFjdENhbGN1bGF0aW9uLFxuICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24sXG59IGZyb20gJy4uL2NvbnRhY3QtY2FsY3VsYXRpb24nO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgZGV0ZWN0aW5nIGFuZCByZXNwb25kaW5nIHRvXG4gKiBjb2xsaXNpb25zLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBhXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBkZXRlY3RJbnRlcnNlY3Rpb24oYSwgYikge1xuICBpZiAoYSBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzU3BoZXJlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNBYWJiKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNDYXBzdWxlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc09iYihhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc1BvaW50KGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgQWFiYikge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICByZXR1cm4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNTcGhlcmUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzQWFiYihhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICByZXR1cm4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNDYXBzdWxlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzT2JiKGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNQb2ludChhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzU3BoZXJlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc0FhYmIoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzQ2Fwc3VsZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc09iYihhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzUG9pbnQoYSwgYik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1NwaGVyZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzQWFiYihhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzQ2Fwc3VsZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNPYmIoYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNQb2ludChhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNQb2ludChiLCBhKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICByZXR1cm4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNQb2ludChiLCBhKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNQb2ludChiLCBhKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNQb2ludChiLCBhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ29udGFjdChjb2xsaXNpb24pIHtcbiAgY29uc3QgYSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQTtcbiAgY29uc3QgYiA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQjtcbiAgY29uc3QgY29udGFjdFBvaW50ID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgY29udGFjdE5vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XG5cbiAgaWYgKGEgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgQWFiYikge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYiwgYSk7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGIsIGEpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBiLCBhKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYiwgYSk7XG4gICAgfSBlbHNlIHt9XG4gICAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gIH1cblxuICBjb2xsaXNpb24uY29udGFjdFBvaW50ID0gY29udGFjdFBvaW50O1xuICBjb2xsaXNpb24uY29udGFjdE5vcm1hbCA9IGNvbnRhY3ROb3JtYWw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBhXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBkZXRlY3RCb3VuZGluZ1ZvbHVtZUludGVyc2VjdGlvbihhLCBiKSB7XG4gIHJldHVybiBkZXRlY3RJbnRlcnNlY3Rpb24oYS5ib3VuZGluZ1ZvbHVtZSwgYi5ib3VuZGluZ1ZvbHVtZSk7XG59XG5cbmV4cG9ydCB7XG4gIGRldGVjdEludGVyc2VjdGlvbixcbiAgY2FsY3VsYXRlQ29udGFjdCxcbiAgZGV0ZWN0Qm91bmRpbmdWb2x1bWVJbnRlcnNlY3Rpb24sXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSByZS1leHBvcnRzIGFsbCBvZiB0aGUgZXhwb3J0cyBpbiB0aGUgZ3JhZnggZnJhbWV3b3JrLiBUaGlzIG1ha2VzIHRoZSBlbnRpcmUgZnJhbWV3b3JrXG4gKiBjb252ZW5pZW50bHkgYWNjZXNzaWJsZSB2aWEgdGhpcyBzaW5nbGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vY29sbGlzaW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL2ludGVncmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi91dGlsJztcblxuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1lbmdpbmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1zdGF0ZSc7XG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy9pbnRlZ3JhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3JrNC1pbnRlZ3JhdG9yJztcbiIsIi8qKlxuICogVGhpcyBjbGFzcyBudW1lcmljYWxseSBpbnRlZ3JhdGVzIHRoZSBlcXVhdGlvbnMgb2YgbW90aW9uLiBUaGF0IGlzLCBhbiBpbnRlZ3JhdG9yIGltcGxlbWVudHNcbiAqIHBoeXNpY3Mgc2ltdWxhdGlvbnMgYnkgdXBkYXRpbmcgcG9zaXRpb24gYW5kIHZlbG9jaXR5IHZhbHVlcyBmb3IgZWFjaCB0aW1lIHN0ZXAuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIEludGVncmF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBJbnRlZ3JhdG9yIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gSW50ZWdyYXRvcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBJbnRlZ3JhdG9yIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlZ3JhdGUgdGhlIHN0YXRlIGZyb20gdCB0byB0ICsgZHQuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0IFRvdGFsIGVsYXBzZWQgdGltZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR0IER1cmF0aW9uIG9mIHRoZSBjdXJyZW50IHRpbWUgc3RlcC5cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBpbnRlZ3JhdGUoam9iLCB0LCBkdCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtQaHlzaWNzRGVyaXZhdGl2ZX1cbiAgICovXG4gIHN0YXRpYyBjcmVhdGVEZXJpdmF0aXZlKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2ZWxvY2l0eTogdmVjMy5jcmVhdGUoKSxcbiAgICAgIGZvcmNlOiB2ZWMzLmNyZWF0ZSgpLFxuICAgICAgc3BpbjogcXVhdC5jcmVhdGUoKSxcbiAgICAgIHRvcnF1ZTogdmVjMy5jcmVhdGUoKVxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHtJbnRlZ3JhdG9yfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQaHlzaWNzRGVyaXZhdGl2ZVxuICogQHByb3BlcnR5IHt2ZWMzfSB2ZWxvY2l0eSBEZXJpdmF0aXZlIG9mIHBvc2l0aW9uLlxuICogQHByb3BlcnR5IHt2ZWMzfSBmb3JjZSBEZXJpdmF0aXZlIG9mIG1vbWVudHVtLlxuICogQHByb3BlcnR5IHtxdWF0fSBzcGluIERlcml2YXRpdmUgb2Ygb3JpZW50YXRpb24uXG4gKiBAcHJvcGVydHkge3ZlYzN9IHRvcnF1ZSBEZXJpdmF0aXZlIG9mIGFuZ3VsYXIgbW9tZW50dW0uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGb3JjZUFwcGxpZXJPdXRwdXRcbiAqIEBwcm9wZXJ0eSB7dmVjM30gZm9yY2VcbiAqIEBwcm9wZXJ0eSB7dmVjM30gdG9ycXVlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGb3JjZUFwcGxpZXJJbnB1dFxuICogQHByb3BlcnR5IHtQaHlzaWNzU3RhdGV9IHN0YXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR0XG4gKi9cbiIsImltcG9ydCB7X2dlb21ldHJ5LCBfdXRpbH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge0ludGVncmF0b3J9IGZyb20gJy4vaW50ZWdyYXRvcic7XG5pbXBvcnQge1BoeXNpY3NTdGF0ZX0gZnJvbSAnLi4vLi4vc3JjL3BoeXNpY3Mtc3RhdGUnO1xuXG4vLyBUT0RPOiBBY2NvdW50IGZvciB0aGUgZmFjdCB0aGF0IGNvbGxpc2lvbnMgdGFrZSBwbGFjZSBiZXR3ZWVuIHRpbWUgc3RlcHM7IGludGVncmF0aW9uIHNob3VsZFxuLy8gcmVhbGx5IGNvbnNpZGVyIHRoZSBwcmV2aW91cyBzdGF0ZSBhcyBiZWluZyB0aGUgdGltZSBhbmQgc3RhdGUgYXQgdGhlIG1vbWVudCBvZiBjb2xsaXNpb24uXG5cbi8qKlxuICogVGhpcyBjbGFzcyBudW1lcmljYWxseSBpbnRlZ3JhdGVzIHRoZSBlcXVhdGlvbnMgb2YgbW90aW9uLiBUaGF0IGlzLCB0aGlzIGltcGxlbWVudHMgcGh5c2ljc1xuICogc2ltdWxhdGlvbnMgYnkgdXBkYXRpbmcgcG9zaXRpb24gYW5kIHZlbG9jaXR5IHZhbHVlcyBmb3IgZWFjaCB0aW1lIHN0ZXAuXG4gKlxuICogVGhpcyBpbnRlZ3JhdG9yIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjbGFzc2ljYWwgUnVuZ2UtS3V0dGEgbWV0aG9kIChSSzQpXG4gKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUnVuZ2Vfa3V0dGEpLlxuICpcbiAqIFRoaXMgaW50ZWdyYXRvciBjYXVzZXMgZW5lcmd5IHRvIGJlIGxvc3QgYXQgYSBzbWFsbCByYXRlLiBUaGlzIGlzIGEgY29tbW9uIHByb2JsZW0gZm9yIG51bWVyaWNhbFxuICogaW50ZWdyYXRvcnMsIGFuZCBpcyB1c3VhbGx5IG5lZ2xpZ2libGUuXG4gKi9cbmNsYXNzIFJLNEludGVncmF0b3IgZXh0ZW5kcyBJbnRlZ3JhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAoX3V0aWwuaXNJbkRldk1vZGUpIHtcbiAgICAgIHRoaXMuX3dyYXBGb3JEZXZNb2RlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludGVncmF0ZSB0aGUgc3RhdGUgZnJvbSB0IHRvIHQgKyBkdC5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAgICogQHBhcmFtIHtudW1iZXJ9IHQgVG90YWwgZWxhcHNlZCB0aW1lLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHQgRHVyYXRpb24gb2YgdGhlIGN1cnJlbnQgdGltZSBzdGVwLlxuICAgKi9cbiAgaW50ZWdyYXRlKGpvYiwgdCwgZHQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGpvYi5jdXJyZW50U3RhdGU7XG4gICAgX3RlbXBTdGF0ZS5jb3B5KHN0YXRlKTtcblxuICAgIF9jYWxjdWxhdGVEZXJpdmF0aXZlKF9hLCBfdGVtcFN0YXRlLCBqb2IsIHQsIDAsIF9FTVBUWV9ERVJJVkFUSVZFKTtcbiAgICBfY2FsY3VsYXRlRGVyaXZhdGl2ZShfYiwgX3RlbXBTdGF0ZSwgam9iLCB0LCBkdCAqIDAuNSwgX2EpO1xuICAgIF9jYWxjdWxhdGVEZXJpdmF0aXZlKF9jLCBfdGVtcFN0YXRlLCBqb2IsIHQsIGR0ICogMC41LCBfYik7XG4gICAgX2NhbGN1bGF0ZURlcml2YXRpdmUoX2QsIF90ZW1wU3RhdGUsIGpvYiwgdCwgZHQsIF9jKTtcblxuICAgIF9jYWxjdWxhdGVWZWMzRGVyaXZhdGl2ZVdlaWdodGVkU3VtKFxuICAgICAgICBfcG9zaXRpb25EZXJpdmF0aXZlLCBfYS52ZWxvY2l0eSwgX2IudmVsb2NpdHksIF9jLnZlbG9jaXR5LCBfZC52ZWxvY2l0eSk7XG4gICAgX2NhbGN1bGF0ZVZlYzNEZXJpdmF0aXZlV2VpZ2h0ZWRTdW0oXG4gICAgICAgIF9tb21lbnR1bURlcml2YXRpdmUsIF9hLmZvcmNlLCBfYi5mb3JjZSwgX2MuZm9yY2UsIF9kLmZvcmNlKTtcbiAgICBfY2FsY3VsYXRlUXVhdERlcml2YXRpdmVXZWlnaHRlZFN1bShfb3JpZW50YXRpb25EZXJpdmF0aXZlLCBfYS5zcGluLCBfYi5zcGluLCBfYy5zcGluLCBfZC5zcGluKTtcbiAgICBfY2FsY3VsYXRlVmVjM0Rlcml2YXRpdmVXZWlnaHRlZFN1bShcbiAgICAgICAgX2FuZ3VsYXJNb21lbnR1bURlcml2YXRpdmUsIF9hLnRvcnF1ZSwgX2IudG9ycXVlLCBfYy50b3JxdWUsIF9kLnRvcnF1ZSk7XG5cbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLnBvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbiwgX3Bvc2l0aW9uRGVyaXZhdGl2ZSwgZHQpO1xuICAgIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUubW9tZW50dW0sIHN0YXRlLm1vbWVudHVtLCBfbW9tZW50dW1EZXJpdmF0aXZlLCBkdCk7XG4gICAgX2dlb21ldHJ5LnNjYWxlQW5kQWRkUXVhdChzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUub3JpZW50YXRpb24sIF9vcmllbnRhdGlvbkRlcml2YXRpdmUsIGR0KTtcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgc3RhdGUuYW5ndWxhck1vbWVudHVtLCBfYW5ndWxhck1vbWVudHVtRGVyaXZhdGl2ZSwgZHQpO1xuXG4gICAgc3RhdGUudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG4gIH1cblxuICAvKipcbiAgICogV3JhcHMgdGhlIGludGVncmF0ZSBtZXRob2QgYW5kIGNoZWNrIGZvciBOYU4gdmFsdWVzIGFmdGVyIGVhY2ggaW50ZWdyYXRpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfd3JhcEZvckRldk1vZGUoKSB7XG4gICAgY29uc3QgdW5ndWFyZGVkSW50ZWdyYXRlID0gdGhpcy5pbnRlZ3JhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmludGVncmF0ZSA9IChqb2IsIHQsIGR0KSA9PiB7XG4gICAgICB1bmd1YXJkZWRJbnRlZ3JhdGUoam9iLCB0LCBkdCk7XG4gICAgICBfY2hlY2tGb3JTdGF0ZUVycm9yKGpvYi5jdXJyZW50U3RhdGUpO1xuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGRlcml2YXRpdmUgZnJvbSB0aGUgZ2l2ZW4gc3RhdGUgd2l0aCB0aGUgZ2l2ZW4gdGltZSBzdGVwLlxuICpcbiAqIEBwYXJhbSB7UGh5c2ljc0Rlcml2YXRpdmV9IG91dFxuICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IHN0YXRlXG4gKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdFxuICogQHBhcmFtIHtQaHlzaWNzRGVyaXZhdGl2ZX0gZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZURlcml2YXRpdmUob3V0LCBzdGF0ZSwgam9iLCB0LCBkdCwgZCkge1xuICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLnBvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbiwgZC52ZWxvY2l0eSwgZHQpO1xuICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLm1vbWVudHVtLCBzdGF0ZS5tb21lbnR1bSwgZC5mb3JjZSwgZHQpO1xuICBfZ2VvbWV0cnkuc2NhbGVBbmRBZGRRdWF0KHN0YXRlLm9yaWVudGF0aW9uLCBzdGF0ZS5vcmllbnRhdGlvbiwgZC5zcGluLCBkdCk7XG4gIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUuYW5ndWxhck1vbWVudHVtLCBzdGF0ZS5hbmd1bGFyTW9tZW50dW0sIGQudG9ycXVlLCBkdCk7XG5cbiAgc3RhdGUudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG5cbiAgb3V0LnZlbG9jaXR5ID0gc3RhdGUudmVsb2NpdHk7XG4gIG91dC5zcGluID0gc3RhdGUuc3BpbjtcbiAgdmVjMy5zZXQob3V0LmZvcmNlLCAwLCAwLCAwKTtcbiAgdmVjMy5zZXQob3V0LnRvcnF1ZSwgMCwgMCwgMCk7XG5cbiAgX2ZvcmNlQXBwbGllck91dHB1dC5mb3JjZSA9IG91dC5mb3JjZTtcbiAgX2ZvcmNlQXBwbGllck91dHB1dC50b3JxdWUgPSBvdXQudG9ycXVlO1xuICBfZm9yY2VBcHBsaWVySW5wdXQuc3RhdGUgPSBzdGF0ZTtcbiAgX2ZvcmNlQXBwbGllcklucHV0LnQgPSB0ICsgZHQ7XG4gIF9mb3JjZUFwcGxpZXJJbnB1dC5kdCA9IGR0O1xuXG4gIGpvYi5hcHBseUZvcmNlcyhfZm9yY2VBcHBsaWVyT3V0cHV0LCBfZm9yY2VBcHBsaWVySW5wdXQpO1xufVxuXG5jb25zdCBfRU1QVFlfREVSSVZBVElWRSA9IEludGVncmF0b3IuY3JlYXRlRGVyaXZhdGl2ZSgpO1xuXG5jb25zdCBfdGVtcFN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZSgpO1xuY29uc3QgX2EgPSBJbnRlZ3JhdG9yLmNyZWF0ZURlcml2YXRpdmUoKTtcbmNvbnN0IF9iID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XG5jb25zdCBfYyA9IEludGVncmF0b3IuY3JlYXRlRGVyaXZhdGl2ZSgpO1xuY29uc3QgX2QgPSBJbnRlZ3JhdG9yLmNyZWF0ZURlcml2YXRpdmUoKTtcblxuY29uc3QgX3Bvc2l0aW9uRGVyaXZhdGl2ZSA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfbW9tZW50dW1EZXJpdmF0aXZlID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF9vcmllbnRhdGlvbkRlcml2YXRpdmUgPSBxdWF0LmNyZWF0ZSgpO1xuY29uc3QgX2FuZ3VsYXJNb21lbnR1bURlcml2YXRpdmUgPSB2ZWMzLmNyZWF0ZSgpO1xuXG5jb25zdCBfZm9yY2VBcHBsaWVyT3V0cHV0ID0ge307XG5jb25zdCBfZm9yY2VBcHBsaWVySW5wdXQgPSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dFxuICogQHBhcmFtIHt2ZWMzfSBhXG4gKiBAcGFyYW0ge3ZlYzN9IGJcbiAqIEBwYXJhbSB7dmVjM30gY1xuICogQHBhcmFtIHt2ZWMzfSBkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlVmVjM0Rlcml2YXRpdmVXZWlnaHRlZFN1bShvdXQsIGEsIGIsIGMsIGQpIHtcbiAgb3V0WzBdID0gMSAvIDYgKiAoYVswXSArIDIgKiAoYlswXSArIGNbMF0pICsgZFswXSk7XG4gIG91dFsxXSA9IDEgLyA2ICogKGFbMV0gKyAyICogKGJbMV0gKyBjWzFdKSArIGRbMV0pO1xuICBvdXRbMl0gPSAxIC8gNiAqIChhWzJdICsgMiAqIChiWzJdICsgY1syXSkgKyBkWzJdKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3F1YXR9IG91dFxuICogQHBhcmFtIHtxdWF0fSBhXG4gKiBAcGFyYW0ge3F1YXR9IGJcbiAqIEBwYXJhbSB7cXVhdH0gY1xuICogQHBhcmFtIHtxdWF0fSBkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlUXVhdERlcml2YXRpdmVXZWlnaHRlZFN1bShvdXQsIGEsIGIsIGMsIGQpIHtcbiAgb3V0WzBdID0gMSAvIDYgKiAoYVswXSArIDIgKiAoYlswXSArIGNbMF0pICsgZFswXSk7XG4gIG91dFsxXSA9IDEgLyA2ICogKGFbMV0gKyAyICogKGJbMV0gKyBjWzFdKSArIGRbMV0pO1xuICBvdXRbMl0gPSAxIC8gNiAqIChhWzJdICsgMiAqIChiWzJdICsgY1syXSkgKyBkWzJdKTtcbiAgb3V0WzNdID0gMSAvIDYgKiAoYVszXSArIDIgKiAoYlszXSArIGNbM10pICsgZFszXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IHN0YXRlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2hlY2tGb3JTdGF0ZUVycm9yKHN0YXRlKSB7XG4gIGNvbnN0IGVycm9yUHJvcGVydGllcyA9IFtcbiAgICAncG9zaXRpb24nLFxuICAgICdtb21lbnR1bScsXG4gICAgJ29yaWVudGF0aW9uJyxcbiAgICAnYW5ndWxhck1vbWVudHVtJyxcbiAgXS5maWx0ZXIocHJvcGVydHkgPT4gX2NvbnRhaW5zTmFOKHN0YXRlW3Byb3BlcnR5XSkpO1xuICBjb25zdCBwcm9wZXJ0eSA9IGVycm9yUHJvcGVydGllc1swXTtcbiAgaWYgKHByb3BlcnR5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3Byb3BlcnR5fSBjb250YWlucyBhIE5hTiB2YWx1ZSBhZnRlciBpbnRlZ3JhdGluZzogJHtzdGF0ZVtwcm9wZXJ0eV19YCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIHZlY3RvciBjb250YWlucyBhIE5hTiB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHZcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jb250YWluc05hTih2KSB7XG4gIHJldHVybiBpc05hTih2WzBdKSB8fCBpc05hTih2WzFdKSB8fCBpc05hTih2WzJdKTtcbn1cblxuY29uc3Qgcms0SW50ZWdyYXRvciA9IG5ldyBSSzRJbnRlZ3JhdG9yKCk7XG5cbmV4cG9ydCB7cms0SW50ZWdyYXRvcn07XG4iLCJpbXBvcnQge0ZyYW1lTGF0ZW5jeVByb2ZpbGVyLCBQZXJzaXN0ZW50QW5pbWF0aW9uSm9ifSBmcm9tICdsc2wtYW5pbWF0ZXgnO1xuaW1wb3J0IHtfdXRpbH0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7XG4gIGNoZWNrVGhhdE5vT2JqZWN0c0NvbGxpZGUsXG4gIENvbGxpZGFibGVQaHlzaWNzSm9iLFxuICBkZXRlcm1pbmVKb2JzQXRSZXN0LFxuICBoYW5kbGVDb2xsaXNpb25zRm9ySm9iLFxuICByZWNvcmRPbGRDb2xsaXNpb25zRm9yRGV2TW9kZUZvckFsbENvbGxpZGFibGVzLFxufSBmcm9tICcuLi9jb2xsaXNpb25zJztcbmltcG9ydCB7UGh5c2ljc1N0YXRlfSBmcm9tICcuL3BoeXNpY3Mtc3RhdGUnO1xuaW1wb3J0IHtyazRJbnRlZ3JhdG9yfSBmcm9tICcuLi9pbnRlZ3JhdG9yJztcblxuY29uc3QgX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCA9IDUwMDA7XG5jb25zdCBfTEFURU5DWV9MT0dfTEFCRUwgPSAnUGh5c2ljcyBmcmFtZSBkdXJhdGlvbic7XG5cbi8qKlxuICogVGhpcyBwaHlzaWNzIGVuZ2luZSBzaW11bGF0ZXMgaGlnaC1wZXJmb3JtYW5jZSwgdGhyZWUtZGltZW5zaW9uYWwgcmlnaWQtYm9keSBkeW5hbWljcy5cbiAqXG4gKiBOb3RhYmxlIGZlYXR1cmVzOlxuICogLSBJbmNsdWRlcyBjb2xsaXNpb24gZGV0ZWN0aW9uIHdpdGggaW1wdWxzZS1iYXNlZCByZXNvbHV0aW9uLlxuICogLSBEZWNvdXBsZXMgdGhlIHBoeXNpY3Mgc2ltdWxhdGlvbiBhbmQgYW5pbWF0aW9uIHJlbmRlcmluZyB0aW1lIHN0ZXBzLCBhbmQgdXNlcyBhIGZpeGVkIHRpbWVzdGVwXG4gKiBmb3IgdGhlIHBoeXNpY3MgbG9vcC4gVGhpcyBnaXZlcyB1cyBudW1lcmljYWwgc3RhYmlsaXR5IGFuZCBwcmVjaXNlIHJlcHJvZHVjaWJpbGl0eS5cbiAqIC0gU3VwcHJlc3NlcyBsaW5lYXIgYW5kIGFuZ3VsYXIgbW9tZW50YSBiZWxvdyBhIGNlcnRhaW4gdGhyZXNob2xkLlxuICpcbiAqIFRoZSBlbmdpbmUgY29uc2lzdHMgcHJpbWFyaWx5IG9mIGEgY29sbGVjdGlvbiBvZiBpbmRpdmlkdWFsIHBoeXNpY3Mgam9icyBhbmQgYW4gdXBkYXRlIGxvb3AuIFRoaXNcbiAqIHVwZGF0ZSBsb29wIGlzIGluIHR1cm4gY29udHJvbGxlZCBieSB0aGUgYW5pbWF0aW9uIGxvb3AuIEhvd2V2ZXIsIHdoZXJlYXMgdGhlIGFuaW1hdGlvbiBsb29wXG4gKiByZW5kZXJzIGVhY2ggam9iIG9uY2UgcGVyIGZyYW1lIGxvb3AtLXJlZ2FyZGxlc3Mgb2YgaG93IG11Y2ggdGltZSBhY3R1YWxseSBlbGFwc2VkIHNpbmNlIHRoZVxuICogcHJldmlvdXMgZnJhbWUtLXRoZSBwaHlzaWNzIGxvb3AgdXBkYXRlcyBpdHMgam9icyBhdCBhIGNvbnN0YW50IHJhdGUuIFRvIHJlY29uY2lsZSB0aGVzZSBmcmFtZVxuICogcmF0ZXMsIHRoZSBwaHlzaWNzIGxvb3AgcnVucyBhcyBtYW55IHRpbWVzIGFzIGlzIG5lZWRlZCBpbiBvcmRlciB0byBjYXRjaCB1cCB0byB0aGUgdGltZSBvZiB0aGVcbiAqIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lLiBUaGUgcGh5c2ljcyBmcmFtZSByYXRlIHNob3VsZCBiZSBtdWNoIGhpZ2hlciB0aGFuIHRoZSBhbmltYXRpb24gZnJhbWVcbiAqIHJhdGUuXG4gKlxuICogSXQgaXMgVkVSWSBJTVBPUlRBTlQgZm9yIGEgUGh5c2ljc0pvYiB0byBtaW5pbWl6ZSB0aGUgcnVudGltZSBvZiBpdHMgdXBkYXRlIHN0ZXAuXG4gKlxuICogIyMgQSBub3RlIG9uIGpvYiBvcmRlclxuICpcbiAqIFRoZSBpbnRlZ3JhdGlvbitjb2xsaXNpb24gcGlwZWxpbmUgaGFuZGxlIG9uZSBqb2IgYXQgYSB0aW1lLiBBIGNvbnNlcXVlbmNlIG9mIHRoaXMgZGVzaWduXG4gKiBpcyB0aGF0IGhhbGYgb2YgdGhlIGNvbGxpc2lvbnMgdGVjaG5pY2FsbHkgcmVwcmVzZW50IGEgZmFsc2UgaW50ZXJhY3Rpb24gYmV0d2VlbiB0aGUgc3RhdGUgb2YgdGhlXG4gKiBmaXJzdCBvYmplY3QgYXQgdGltZSB0IGFuZCB0aGUgc3RhdGUgb2YgdGhlIHNlY29uZCBvYmplY3QgYXQgdGltZSB0IC0gMS5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIHByZXZlbnRzIGEgbW9yZSBwcm9ibGVtYXRpYyBpc3N1ZS4gSWYgYWxsIG9iamVjdHMgd2VyZSBmaXJzdCBpbnRlZ3JhdGVkLCB0aGVuXG4gKiBhbGwgb2JqZWN0cyB3ZXJlIGNoZWNrZWQgZm9yIGNvbGxpc2lvbnMsIHRoZW4gYWxsIGNvbGxpc2lvbnMgd2VyZSByZXNvbHZlZCwgdGhlbiB0aGUgZm9sbG93aW5nXG4gKiBzY2VuYXJpbyBjb3VsZCBhcmlzZTpcbiAqIC0gVGhlIG5leHQgcG9zaXRpb24gb2Ygb2JqZWN0IEEgY29sbGlkZXMgd2l0aCB0aGUgcHJldmlvdXMgcG9zaXRpb24gb2Ygb2JqZWN0IEIsIGJ1dCBub3Qgd2l0aCB0aGVcbiAqICAgbmV4dCBwb3NpdGlvbiBvZiBvYmplY3QgQiwgc28gb2JqZWN0IEEgbW92ZXMgc3VjY2Vzc2Z1bGx5IHRvIGl0cyBuZXcgcG9zaXRpb24uXG4gKiAtIFRoZSBuZXh0IHBvc2l0aW9uIG9mIG9iamVjdCBCIGNvbGxpZGVzIHdpdGggdGhlIG5leHQgcG9zaXRpb24gb2Ygb2JqZWN0IEMsIHNvIG9iamVjdHMgQiBhbmQgQ1xuICogICBhcmUgcmVzZXQgdG8gdGhlaXIgcHJldmlvdXMgcG9zaXRpb25zLlxuICogLSBPYmplY3QgQiBhbmQgQyBub3cgaW50ZXJzZWN0LlxuICovXG5jbGFzcyBQaHlzaWNzRW5naW5lIGV4dGVuZHMgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBDbGllbnRzIHNob3VsZCBjYWxsIFBoeXNpY3NFbmdpbmUuY3JlYXRlIGluc3RlYWQgb2YgaW5zdGFudGlhdGluZyBhIFBoeXNpY3NFbmdpbmUgZGlyZWN0bHkuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGh5c2ljc1BhcmFtcykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBpZiAoX3BoeXNpY3NFbmdpbmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuXFwndCBpbnN0YW50aWF0ZSBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgUGh5c2ljc0VuZ2luZS4nKTtcbiAgICB9XG5cbiAgICBfcGh5c2ljc0VuZ2luZSA9IHRoaXM7XG5cbiAgICB0aGlzLl9waHlzaWNzUGFyYW1zID0gcGh5c2ljc1BhcmFtcztcbiAgICB0aGlzLmludGVncmF0b3IgPSByazRJbnRlZ3JhdG9yO1xuICAgIHRoaXMuX2VsYXBzZWRUaW1lID0gMC4wO1xuICAgIHRoaXMuX3JlbWFpbmluZ1RpbWUgPSAwLjA7XG4gICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMgPSBbXTtcbiAgICB0aGlzLl9jb2xsaWRhYmxlSm9icyA9IFtdO1xuXG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XG4gICAgICB0aGlzLl9zZXRVcEZvckluRGV2TW9kZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAgICovXG4gIHN0YXRpYyBjcmVhdGUocGh5c2ljc1BhcmFtcykge1xuICAgIG5ldyBQaHlzaWNzRW5naW5lKHBoeXNpY3NQYXJhbXMpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fZWxhcHNlZFRpbWUgPSAwLjA7XG4gICAgdGhpcy5fcmVtYWluaW5nVGltZSA9IDAuMDtcbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icyA9IFtdO1xuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gUGh5c2ljc0pvYi5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAgICovXG4gIGFkZEpvYihqb2IpIHtcbiAgICAvLyBjb25zb2xlLmRlYnVnKGBTdGFydGluZyBQaHlzaWNzSm9iYCk7XG5cbiAgICBpZiAoam9iIGluc3RhbmNlb2YgQ29sbGlkYWJsZVBoeXNpY3NKb2IpIHtcbiAgICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLnB1c2goam9iKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMucHVzaChqb2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBQaHlzaWNzSm9iLlxuICAgKlxuICAgKiBUaHJvd3Mgbm8gZXJyb3IgaWYgdGhlIGpvYiBpcyBub3QgcmVnaXN0ZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAgICovXG4gIHJlbW92ZUpvYihqb2IpIHtcbiAgICAvLyBjb25zb2xlLmRlYnVnKGBDYW5jZWxsaW5nIFBoeXNpY3NKb2JgKTtcbiAgICB0aGlzLl9yZW1vdmVKb2Ioam9iKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcyB0aGUgZHJhdyBhbmQgdXBkYXRlIG1ldGhvZHMgaW4gYSBwcm9maWxlciBmdW5jdGlvbiB0aGF0IHdpbGwgdHJhY2sgdGhlIGZyYW1lIGxhdGVuY2llcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRVcEZvckluRGV2TW9kZSgpIHtcbiAgICBjb25zdCB1bndyYXBwZWRVcGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIGNvbnN0IGxhdGVuY3lQcm9maWxlciA9IG5ldyBGcmFtZUxhdGVuY3lQcm9maWxlcihfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9ELCBcbiAgICAgICAgdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uLCBfTEFURU5DWV9MT0dfTEFCRUwpO1xuICAgIGxhdGVuY3lQcm9maWxlci5zdGFydCgpO1xuXG4gICAgdGhpcy51cGRhdGUgPSAoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3QgYmVmb3JlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgdW53cmFwcGVkVXBkYXRlKC4uLmFyZ3MpO1xuICAgICAgY29uc3QgZGVsdGFUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBiZWZvcmVUaW1lO1xuICAgICAgbGF0ZW5jeVByb2ZpbGVyLnJlY29yZEZyYW1lTGF0ZW5jeShkZWx0YVRpbWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwaHlzaWNzIHN0YXRlIGZvciB0aGUgY3VycmVudCBhbmltYXRpb24gdXBkYXRlIGZyYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMuX3JlbWFpbmluZ1RpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgLy8gUnVuIGFzIG1hbnkgY29uc3RhbnQtaW50ZXJ2YWwgcGh5c2ljcyB1cGRhdGVzIGFzIGFyZSBuZWVkZWQgZm9yIHRoZSBnaXZlbiBhbmltYXRpb24gZnJhbWVcbiAgICAvLyBpbnRlcnZhbC5cbiAgICB3aGlsZSAodGhpcy5fcmVtYWluaW5nVGltZSA+PSB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb24pIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRvTmV4dFBoeXNpY3NGcmFtZSgpO1xuICAgICAgdGhpcy5fZWxhcHNlZFRpbWUgKz0gdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uO1xuICAgICAgdGhpcy5fcmVtYWluaW5nVGltZSAtPSB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBpbnRlcm1lZGlhdGUgcGh5c2ljcyBzdGF0ZSB0byB1c2UgZm9yIHJlbmRlcmluZyB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUuXG4gICAgY29uc3QgcGFydGlhbFJhdGlvID0gdGhpcy5fcmVtYWluaW5nVGltZSAvIHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbjtcbiAgICB0aGlzLl9zZXRQYXJ0aWFsU3RhdGVGb3JSZW5kZXJUaW1lU3RlcEZvckFsbEpvYnMocGFydGlhbFJhdGlvKTtcbiAgfVxuXG4gIF91cGRhdGVUb05leHRQaHlzaWNzRnJhbWUoKSB7XG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XG4gICAgICB0aGlzLl9yZWNvcmRPbGRTdGF0ZXNGb3JBbGxKb2JzRm9yRGV2TW9kZSgpO1xuICAgICAgcmVjb3JkT2xkQ29sbGlzaW9uc0ZvckRldk1vZGVGb3JBbGxDb2xsaWRhYmxlcygpO1xuICAgIH1cblxuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLmZvckVhY2godGhpcy5faW50ZWdyYXRlUGh5c2ljc1N0YXRlRm9ySm9iLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLmZvckVhY2goam9iID0+IHtcbiAgICAgIGlmICgham9iLmlzQXRSZXN0KSB7XG4gICAgICAgIHRoaXMuX2ludGVncmF0ZVBoeXNpY3NTdGF0ZUZvckNvbGxpZGFibGVKb2Ioam9iKTtcbiAgICAgICAgaGFuZGxlQ29sbGlzaW9uc0ZvckpvYihqb2IsIHRoaXMuX2VsYXBzZWRUaW1lLCB0aGlzLl9waHlzaWNzUGFyYW1zKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChfdXRpbC5pc0luRGV2TW9kZSkge1xuICAgICAgY2hlY2tUaGF0Tm9PYmplY3RzQ29sbGlkZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3N1cHByZXNzTG93TW9tZW50YUZvckFsbEpvYnMoKTtcblxuICAgIGRldGVybWluZUpvYnNBdFJlc3QodGhpcy5fY29sbGlkYWJsZUpvYnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGpvYiBmcm9tIHRoZSBjb2xsZWN0aW9uIG9mIGFjdGl2ZSBqb2JzIGlmIGl0IGV4aXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0tMV1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVKb2Ioam9iLCBpbmRleCA9IC0xKSB7XG4gICAgaWYgKGpvYiBpbnN0YW5jZW9mIENvbGxpZGFibGVQaHlzaWNzSm9iKSB7XG4gICAgICBfcmVtb3ZlSm9iRnJvbUNvbGxlY3Rpb24oam9iLCBpbmRleCwgdGhpcy5fY29sbGlkYWJsZUpvYnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfcmVtb3ZlSm9iRnJvbUNvbGxlY3Rpb24oam9iLCBpbmRleCwgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgcGh5c2ljcyBzdGF0ZSBmb3IgYSBqb2IgZm9yIHRoZSBjdXJyZW50IHBoeXNpY3MgdXBkYXRlIGZyYW1lLlxuICAgKlxuICAgKiBUaGlzIGluY2x1ZGVzIGFwcGx5aW5nIGFsbCBmb3JjZXMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB3aXRoIHRoZSBwaHlzaWNzIGpvYi5cbiAgICpcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gam9iXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW50ZWdyYXRlUGh5c2ljc1N0YXRlRm9yQ29sbGlkYWJsZUpvYihqb2IpIHtcbiAgICB0aGlzLl9pbnRlZ3JhdGVQaHlzaWNzU3RhdGVGb3JKb2Ioam9iKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgY29sbGlkYWJsZSdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbi5cbiAgICBqb2IuY29sbGlkYWJsZS5wb3NpdGlvbiA9IGpvYi5jdXJyZW50U3RhdGUucG9zaXRpb247XG4gICAgam9iLmNvbGxpZGFibGUub3JpZW50YXRpb24gPSBqb2IuY3VycmVudFN0YXRlLm9yaWVudGF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY3VycmVudCBwaHlzaWNzIHN0YXRlIGZvciBhIGpvYiBmb3IgdGhlIGN1cnJlbnQgcGh5c2ljcyB1cGRhdGUgZnJhbWUuXG4gICAqXG4gICAqIFRoaXMgaW5jbHVkZXMgYXBwbHlpbmcgYWxsIGZvcmNlcyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIHdpdGggdGhlIHBoeXNpY3Mgam9iLlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ludGVncmF0ZVBoeXNpY3NTdGF0ZUZvckpvYihqb2IpIHtcbiAgICBqb2IucHJldmlvdXNTdGF0ZS5jb3B5KGpvYi5jdXJyZW50U3RhdGUpO1xuICAgIHRoaXMuaW50ZWdyYXRvci5pbnRlZ3JhdGUoam9iLCB0aGlzLl9lbGFwc2VkVGltZSwgdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uKTtcbiAgfVxuXG4gIF9zdXBwcmVzc0xvd01vbWVudGFGb3JBbGxKb2JzKCkge1xuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLmZvckVhY2goam9iID0+IF9zdXBwcmVzc0xvd01vbWVudGFGb3JKb2Ioam9iLFxuICAgICAgICB0aGlzLl9waHlzaWNzUGFyYW1zLmxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQsXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMubG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpKTtcbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icy5mb3JFYWNoKGpvYiA9PiBfc3VwcHJlc3NMb3dNb21lbnRhRm9ySm9iKGpvYixcbiAgICAgICAgdGhpcy5fcGh5c2ljc1BhcmFtcy5sb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkLFxuICAgICAgICB0aGlzLl9waHlzaWNzUGFyYW1zLmxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBpbnRlcm1lZGlhdGUgcGh5c2ljcyBzdGF0ZSB0byB1c2UgZm9yIHJlbmRlcmluZyB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUuIFRoZVxuICAgKiBnaXZlbiByYXRpbyBzcGVjaWZpZXMgaG93IGZhciB0aGUgY3VycmVudCByZW5kZXIgZnJhbWUgaXMgYmV0d2VlbiB0aGUgcHJldmlvdXMgYW5kIGN1cnJlbnRcbiAgICogcGh5c2ljcyB1cGRhdGUgZnJhbWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFydGlhbFJhdGlvXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0UGFydGlhbFN0YXRlRm9yUmVuZGVyVGltZVN0ZXBGb3JBbGxKb2JzKHBhcnRpYWxSYXRpbykge1xuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLmZvckVhY2goX3NldFBhcnRpYWxTdGF0ZUZvclJlbmRlclRpbWVTdGVwRm9ySm9iLmJpbmQobnVsbCwgcGFydGlhbFJhdGlvKSk7XG4gICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMuZm9yRWFjaChfc2V0UGFydGlhbFN0YXRlRm9yUmVuZGVyVGltZVN0ZXBGb3JKb2IuYmluZChudWxsLCBwYXJ0aWFsUmF0aW8pKTtcbiAgfVxuXG4gIF9yZWNvcmRPbGRTdGF0ZXNGb3JBbGxKb2JzRm9yRGV2TW9kZSgpIHtcbiAgICB0aGlzLl9jb2xsaWRhYmxlSm9icy5mb3JFYWNoKF9yZWNvcmRPbGRTdGF0ZXNGb3JKb2IpO1xuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLmZvckVhY2goX3JlY29yZE9sZFN0YXRlc0ZvckpvYik7XG4gIH1cblxuICBkcmF3KCkge31cblxuICAvKipcbiAgICogQHJldHVybnMge1BoeXNpY3NFbmdpbmV9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgIGlmICghX3BoeXNpY3NFbmdpbmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuXFwndCBhY2Nlc3MgUGh5c2ljc0VuZ2luZS5pbnN0YW5jZSBiZWZvcmUgaXQgaGFzIGJlZW4gaW5zdGFudGlhdGVkLicpO1xuICAgIH1cbiAgICByZXR1cm4gX3BoeXNpY3NFbmdpbmU7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICogQHBhcmFtIHtudW1iZXJ9IGxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGRcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3N1cHByZXNzTG93TW9tZW50YUZvckpvYihqb2IsIGxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkKSB7XG4gIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGpvYi5jdXJyZW50U3RhdGU7XG5cbiAgaWYgKHZlYzMuc3F1YXJlZExlbmd0aChjdXJyZW50U3RhdGUubW9tZW50dW0pIDwgbG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCkge1xuICAgIHZlYzMuc2V0KGN1cnJlbnRTdGF0ZS5tb21lbnR1bSwgMCwgMCwgMCk7XG4gIH1cblxuICBpZiAodmVjMy5zcXVhcmVkTGVuZ3RoKGN1cnJlbnRTdGF0ZS5hbmd1bGFyTW9tZW50dW0pIDwgbG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpIHtcbiAgICB2ZWMzLnNldChjdXJyZW50U3RhdGUuYW5ndWxhck1vbWVudHVtLCAwLCAwLCAwKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7QXJyYXkuPFBoeXNpY3NKb2I+fSBqb2JzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVtb3ZlSm9iRnJvbUNvbGxlY3Rpb24oam9iLCBpbmRleCwgam9icykge1xuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIGpvYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb3VudCA9IGpvYnMubGVuZ3RoO1xuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoam9ic1tpbmRleF0gPT09IGpvYikge1xuICAgICAgICBqb2JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYXJ0aWFsUmF0aW9cbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfc2V0UGFydGlhbFN0YXRlRm9yUmVuZGVyVGltZVN0ZXBGb3JKb2IocGFydGlhbFJhdGlvLCBqb2IpIHtcbiAgam9iLnJlbmRlclN0YXRlLmxlcnAoam9iLnByZXZpb3VzU3RhdGUsIGpvYi5jdXJyZW50U3RhdGUsIHBhcnRpYWxSYXRpbyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZWNvcmRPbGRTdGF0ZXNGb3JKb2Ioam9iKSB7XG4gIGlmICgham9iLmV4dHJhUHJldmlvdXNTdGF0ZXMpIHtcbiAgICBqb2IuZXh0cmFQcmV2aW91c1N0YXRlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBqb2IuZXh0cmFQcmV2aW91c1N0YXRlc1tpXSA9IG5ldyBQaHlzaWNzU3RhdGUoKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMzsgaSA+IDA7IGktLSkge1xuICAgIGpvYi5leHRyYVByZXZpb3VzU3RhdGVzW2ldLmNvcHkoam9iLmV4dHJhUHJldmlvdXNTdGF0ZXNbaSAtIDFdKTtcbiAgfVxuICBqb2IuZXh0cmFQcmV2aW91c1N0YXRlc1swXS5jb3B5KGpvYi5wcmV2aW91c1N0YXRlKTtcbn1cblxubGV0IF9waHlzaWNzRW5naW5lID0gbnVsbDtcblxuZXhwb3J0IHtQaHlzaWNzRW5naW5lfTtcbiIsImltcG9ydCB7YW5pbWF0b3J9IGZyb20gJ2xzbC1hbmltYXRleCc7XG5pbXBvcnQge1BoeXNpY3NFbmdpbmV9IGZyb20gJy4vcGh5c2ljcy1lbmdpbmUnO1xuaW1wb3J0IHtQaHlzaWNzU3RhdGV9IGZyb20gJy4vcGh5c2ljcy1zdGF0ZSc7XG5pbXBvcnQge191dGlsfSBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiBBIFBoeXNpY3NKb2IgbWFpbnRhaW5zIGEgY3VycmVudCBmb3JjZS9tb21lbnR1bSBzdGF0ZSBhbmQgZGVmaW5lcyBhIG1ldGhvZCBmb3IgYXBwbHlpbmcgZm9yY2VzIGF0XG4gKiBhIGdpdmVuIHBoeXNpY3MgdGltZSBzdGVwLlxuICovXG5jbGFzcyBQaHlzaWNzSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXkuPEZvcmNlQXBwbGllcj59IFtmb3JjZUFwcGxpZXJzXVxuICAgKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gW3N0YXRlXVxuICAgKi9cbiAgY29uc3RydWN0b3IoZm9yY2VBcHBsaWVycywgc3RhdGUpIHtcbiAgICBmb3JjZUFwcGxpZXJzID0gZm9yY2VBcHBsaWVycyB8fCBbXTtcbiAgICBzdGF0ZSA9IHN0YXRlIHx8IG5ldyBQaHlzaWNzU3RhdGUoKTtcblxuICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMucHJldmlvdXNTdGF0ZSA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJTdGF0ZSA9IG51bGw7XG4gICAgdGhpcy5fZm9yY2VBcHBsaWVycyA9IGZvcmNlQXBwbGllcnM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFBhcmFtc1xuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFBhcmFtc1xuICAgKi9cbiAgYXBwbHlGb3JjZXMob3V0cHV0UGFyYW1zLCBpbnB1dFBhcmFtcykge1xuICAgIHRoaXMuX2ZvcmNlQXBwbGllcnMuZm9yRWFjaChmb3JjZUFwcGxpZXIgPT4gZm9yY2VBcHBsaWVyKG91dHB1dFBhcmFtcywgaW5wdXRQYXJhbXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllcn0gZm9yY2VBcHBsaWVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gVGhlIGluZGV4IHRvIGFkZCB0aGUgZ2l2ZW4gZm9yY2UgYXBwbGllciBpbiB0aGUgY3VycmVudCBsaXN0IG9mXG4gICAqIGFwcGxpZXJzLlxuICAgKi9cbiAgYWRkRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllciwgaW5kZXggPSAwKSB7XG4gICAgdGhpcy5fZm9yY2VBcHBsaWVycy5zcGxpY2UoaW5kZXgsIDAsIGZvcmNlQXBwbGllcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJ9IGZvcmNlQXBwbGllclxuICAgKi9cbiAgcmVtb3ZlRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcikge1xuICAgIHRoaXMuX2ZvcmNlQXBwbGllcnMuc3BsaWNlKHRoaXMuX2ZvcmNlQXBwbGllcnMuaW5kZXhPZihmb3JjZUFwcGxpZXIpLCAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhpcyBQaHlzaWNzSm9iIGFuZCBhbGwgb2YgaXRzIGRlc2NlbmRhbnQgY2hpbGQgam9icyB3aXRoIHRoZSBwaHlzaWNzIGVuZ2luZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydFRpbWVdXG4gICAqL1xuICBzdGFydChzdGFydFRpbWUpIHtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IHN0YXJ0VGltZSB8fCBhbmltYXRvci5jdXJyZW50VGltZTtcblxuICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBuZXcgUGh5c2ljc1N0YXRlKCk7XG4gICAgcHJldmlvdXNTdGF0ZS5jb3B5KHRoaXMuY3VycmVudFN0YXRlKTtcbiAgICBjb25zdCByZW5kZXJTdGF0ZSA9IG5ldyBQaHlzaWNzU3RhdGUoKTtcbiAgICByZW5kZXJTdGF0ZS5jb3B5KHRoaXMuY3VycmVudFN0YXRlKTtcblxuICAgIHRoaXMucHJldmlvdXNTdGF0ZSA9IHByZXZpb3VzU3RhdGU7XG4gICAgdGhpcy5yZW5kZXJTdGF0ZSA9IHJlbmRlclN0YXRlO1xuXG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XG4gICAgICAvLyBJdCBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZyB0byBiZSBhYmxlIHRvIHRyYWNlIHRoZSBzdGF0ZXMgYmFjayB0byB0aGVpciBqb2JzLlxuICAgICAgdGhpcy5jdXJyZW50U3RhdGUuam9iID0gdGhpcztcbiAgICAgIHRoaXMucHJldmlvdXNTdGF0ZS5qb2IgPSB0aGlzO1xuICAgICAgdGhpcy5yZW5kZXJTdGF0ZS5qb2IgPSB0aGlzO1xuICAgIH1cblxuICAgIFBoeXNpY3NFbmdpbmUuaW5zdGFuY2UuYWRkSm9iKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIHRoaXMgUGh5c2ljc0pvYiBhbmQgYWxsIG9mIGl0cyBkZXNjZW5kYW50IGNoaWxkIGpvYnMgd2l0aCB0aGUgcGh5c2ljcyBlbmdpbmUuXG4gICAqXG4gICAqIFRocm93cyBubyBlcnJvciBpZiB0aGUgam9iIGlzIG5vdCByZWdpc3RlcmVkLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIFBoeXNpY3NFbmdpbmUuaW5zdGFuY2UucmVtb3ZlSm9iKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRUaW1lXVxuICAgKi9cbiAgcmVzdGFydChzdGFydFRpbWUpIHtcbiAgICB0aGlzLmZpbmlzaCgpO1xuICAgIHRoaXMuc3RhcnQoc3RhcnRUaW1lKTtcbiAgfVxufVxuXG5leHBvcnQge1BoeXNpY3NKb2J9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gRm9yY2VBcHBsaWVyXG4gKiBAcHJvcGVydHkge3ZlYzN9IGZvcmNlIE91dHB1dC5cbiAqIEBwcm9wZXJ0eSB7dmVjM30gdG9ycXVlIE91dHB1dC5cbiAqIEBwcm9wZXJ0eSB7UGh5c2ljc1N0YXRlfSBzdGF0ZSBJbnB1dC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0IElucHV0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR0IElucHV0LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUGh5c2ljc0NvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVTdGVwRHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmF2aXR5XG4gKiBAcHJvcGVydHkge3ZlYzN9IF9ncmF2aXR5VmVjXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZWFyRHJhZ0NvZWZmaWNpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gYW5ndWxhckRyYWdDb2VmZmljaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZWZmaWNpZW50T2ZSZXN0aXR1dGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZWZmaWNpZW50T2ZGcmljdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZFxuICovXG4iLCJpbXBvcnQge3JvdGF0ZVRlbnNvciwgY3JlYXRlQm94SW5lcnRpYVRlbnNvcn0gZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiBhbiBvYmplY3QgdGhhdCBpcyBuZWVkZWQgZm9yIGEgcGh5c2ljcyBzaW11bGF0aW9uIChzdWNoIGFzXG4gKiBwb3NpdGlvbiwgbW9tZW50dW0sIGFuZCBtYXNzKS5cbiAqL1xuY2xhc3MgUGh5c2ljc1N0YXRlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RHluYW1pY3NDb25maWd9IFtkeW5hbWljc1BhcmFtcz17fV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGR5bmFtaWNzUGFyYW1zID0ge30pIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGR5bmFtaWNzUGFyYW1zLnBvc2l0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgY29uc3QgbW9tZW50dW0gPSBkeW5hbWljc1BhcmFtcy5tb21lbnR1bSB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gZHluYW1pY3NQYXJhbXMub3JpZW50YXRpb24gfHwgcXVhdC5jcmVhdGUoKTtcbiAgICBjb25zdCBhbmd1bGFyTW9tZW50dW0gPSBkeW5hbWljc1BhcmFtcy5hbmd1bGFyTW9tZW50dW0gfHwgdmVjMy5jcmVhdGUoKTtcbiAgICBjb25zdCBtYXNzID0gZHluYW1pY3NQYXJhbXMubWFzcyB8fCAxO1xuICAgIGNvbnN0IHVucm90YXRlZEluZXJ0aWFUZW5zb3IgPSBkeW5hbWljc1BhcmFtcy51bnJvdGF0ZWRJbmVydGlhVGVuc29yIHx8IGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IoMSwgMSwgMSwgbWFzcyk7XG5cbiAgICAvLyBDb25zdGFudCBmaWVsZHMuXG5cbiAgICB0aGlzLm1hc3MgPSBtYXNzO1xuICAgIHRoaXMuaW52ZXJzZU1hc3MgPSAxIC8gbWFzcztcbiAgICB0aGlzLnVucm90YXRlZEluZXJ0aWFUZW5zb3IgPSB1bnJvdGF0ZWRJbmVydGlhVGVuc29yO1xuXG4gICAgLy8gSW5kZXBlbmRlbnQgZmllbGRzLlxuXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMubW9tZW50dW0gPSBtb21lbnR1bTtcbiAgICB0aGlzLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG4gICAgdGhpcy5hbmd1bGFyTW9tZW50dW0gPSBhbmd1bGFyTW9tZW50dW07XG5cbiAgICAvLyBEZXBlbmRlbnQgZmllbGRzLlxuXG4gICAgLy8gTGluZWFyIHZlbG9jaXR5LlxuICAgIHRoaXMudmVsb2NpdHkgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIC8vIFF1YXRlcm5pb24tYmFzZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhdGUgb2YgY2hhbmdlIGluIG9yaWVudGF0aW9uLlxuICAgIHRoaXMuc3BpbiA9IHF1YXQuY3JlYXRlKCk7XG4gICAgLy8gVmVjdG9yLWJhc2VkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBhbmd1bGFyIHZlbG9jaXR5LlxuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKTtcbiAgICAvLyBUaGUgaW52ZXJzZSBpbmVydGlhIHRlbnNvciByb3RhdGVkIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIGZyYW1lLlxuICAgIHRoaXMuaW52ZXJzZUluZXJ0aWFUZW5zb3IgPSBtYXQzLmNyZWF0ZSgpO1xuXG4gICAgdGhpcy51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcbiAgfVxuXG4gIHVwZGF0ZURlcGVuZGVudEZpZWxkcygpIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxuICAgIC8vIFVwZGF0ZSBsaW5lYXIgdmVsb2NpdHkuXG4gICAgdmVjMy5zY2FsZSh0aGlzLnZlbG9jaXR5LCB0aGlzLm1vbWVudHVtLCB0aGlzLmludmVyc2VNYXNzKTtcblxuICAgIC8vIFVwZGF0ZSBhbmd1bGFyIHZlbG9jaXR5LlxuICAgIHF1YXQubm9ybWFsaXplKHRoaXMub3JpZW50YXRpb24sIHRoaXMub3JpZW50YXRpb24pO1xuICAgIHJvdGF0ZVRlbnNvcih0aGlzLmludmVyc2VJbmVydGlhVGVuc29yLCB0aGlzLnVucm90YXRlZEluZXJ0aWFUZW5zb3IsIHRoaXMub3JpZW50YXRpb24pO1xuICAgIG1hdDMuaW52ZXJ0KHRoaXMuaW52ZXJzZUluZXJ0aWFUZW5zb3IsIHRoaXMudW5yb3RhdGVkSW5lcnRpYVRlbnNvcik7XG4gICAgdmVjMy50cmFuc2Zvcm1NYXQzKHRoaXMuYW5ndWxhclZlbG9jaXR5LCB0aGlzLmFuZ3VsYXJNb21lbnR1bSwgdGhpcy5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XG4gICAgcXVhdC5zZXQodGhpcy5zcGluLCB0aGlzLmFuZ3VsYXJWZWxvY2l0eVswXSwgdGhpcy5hbmd1bGFyVmVsb2NpdHlbMV0sXG4gICAgICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5WzJdLCAwKTtcbiAgICBxdWF0LnNjYWxlKHRoaXMuc3BpbiwgdGhpcy5zcGluLCAwLjUpO1xuICAgIHF1YXQubXVsdGlwbHkodGhpcy5zcGluLCB0aGlzLnNwaW4sIHRoaXMub3JpZW50YXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gYSBkZWVwIGNvcHkuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBvdGhlclxuICAgKi9cbiAgY29weShvdGhlcikge1xuICAgIHRoaXMubWFzcyA9IG90aGVyLm1hc3M7XG4gICAgdGhpcy5pbnZlcnNlTWFzcyA9IG90aGVyLmludmVyc2VNYXNzO1xuICAgIG1hdDMuY29weSh0aGlzLnVucm90YXRlZEluZXJ0aWFUZW5zb3IsIG90aGVyLnVucm90YXRlZEluZXJ0aWFUZW5zb3IpO1xuICAgIG1hdDMuY29weSh0aGlzLmludmVyc2VJbmVydGlhVGVuc29yLCBvdGhlci5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XG4gICAgdmVjMy5jb3B5KHRoaXMucG9zaXRpb24sIG90aGVyLnBvc2l0aW9uKTtcbiAgICB2ZWMzLmNvcHkodGhpcy5tb21lbnR1bSwgb3RoZXIubW9tZW50dW0pO1xuICAgIHF1YXQuY29weSh0aGlzLm9yaWVudGF0aW9uLCBvdGhlci5vcmllbnRhdGlvbik7XG4gICAgdmVjMy5jb3B5KHRoaXMuYW5ndWxhck1vbWVudHVtLCBvdGhlci5hbmd1bGFyTW9tZW50dW0pO1xuICAgIHZlYzMuY29weSh0aGlzLnZlbG9jaXR5LCBvdGhlci52ZWxvY2l0eSk7XG4gICAgcXVhdC5jb3B5KHRoaXMuc3Bpbiwgb3RoZXIuc3Bpbik7XG4gICAgdmVjMy5jb3B5KHRoaXMuYW5ndWxhclZlbG9jaXR5LCBvdGhlci5hbmd1bGFyVmVsb2NpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBhXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBiXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwYXJ0aWFsUmF0aW9cbiAgICovXG4gIGxlcnAoYSwgYiwgcGFydGlhbFJhdGlvKSB7XG4gICAgdmVjMy5sZXJwKHRoaXMucG9zaXRpb24sIGEucG9zaXRpb24sIGIucG9zaXRpb24sIHBhcnRpYWxSYXRpbyk7XG4gICAgdmVjMy5sZXJwKHRoaXMubW9tZW50dW0sIGEubW9tZW50dW0sIGIubW9tZW50dW0sIHBhcnRpYWxSYXRpbyk7XG4gICAgcXVhdC5zbGVycCh0aGlzLm9yaWVudGF0aW9uLCBhLm9yaWVudGF0aW9uLCBiLm9yaWVudGF0aW9uLCBwYXJ0aWFsUmF0aW8pO1xuICAgIHF1YXQubm9ybWFsaXplKHRoaXMub3JpZW50YXRpb24sIHRoaXMub3JpZW50YXRpb24pO1xuICAgIHZlYzMubGVycCh0aGlzLmFuZ3VsYXJNb21lbnR1bSwgYS5hbmd1bGFyTW9tZW50dW0sIGIuYW5ndWxhck1vbWVudHVtLCBwYXJ0aWFsUmF0aW8pO1xuICAgIHRoaXMudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG4gIH1cbn1cblxuZXhwb3J0IHtQaHlzaWNzU3RhdGV9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IER5bmFtaWNzQ29uZmlnXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtwb3NpdGlvbl1cbiAqIEBwcm9wZXJ0eSB7dmVjM30gW21vbWVudHVtXVxuICogQHByb3BlcnR5IHtxdWF0fSBbb3JpZW50YXRpb25dXG4gKiBAcHJvcGVydHkge3ZlYzN9IFthbmd1bGFyTW9tZW50dW1dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21hc3NdXG4gKiBAcHJvcGVydHkge21hdDN9IFt1bnJvdGF0ZWRJbmVydGlhVGVuc29yXVxuICovXG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy9mb3JjZS11dGlscyc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9nZW9tZXRyeSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9pbmVydGlhLXRlbnNvci11dGlscyc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy91dGlsJztcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIGdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNhbGN1bGF0aW5nIGZvcmNlcy5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7R3Jhdml0eUFwcGxpZXJDb25maWd9IGNvbmZpZ1xuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gYXBwbHlHcmF2aXR5KGNvbmZpZywgb3V0cHV0LCBpbnB1dCkge1xuICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dC5mb3JjZSwgb3V0cHV0LmZvcmNlLCBjb25maWcuX2dyYXZpdHlWZWMsIGlucHV0LnN0YXRlLm1hc3MpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TGluZWFyRHJhZ0FwcGxpZXJDb25maWd9IGNvbmZpZ1xuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gYXBwbHlMaW5lYXJEcmFnKGNvbmZpZywgb3V0cHV0LCBpbnB1dCkge1xuICBjb25zdCBkcmFnTWFnbml0dWRlID0gLXZlYzMuc3F1YXJlZExlbmd0aChpbnB1dC5zdGF0ZS52ZWxvY2l0eSkgKiBjb25maWcubGluZWFyRHJhZ0NvZWZmaWNpZW50O1xuICB2ZWMzLm5vcm1hbGl6ZShfdmVjMywgaW5wdXQuc3RhdGUudmVsb2NpdHkpO1xuICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dC5mb3JjZSwgb3V0cHV0LmZvcmNlLCBfdmVjMywgZHJhZ01hZ25pdHVkZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBbmd1bGFyRHJhZ0FwcGxpZXJDb25maWd9IGNvbmZpZ1xuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gYXBwbHlBbmd1bGFyRHJhZyhjb25maWcsIG91dHB1dCwgaW5wdXQpIHtcbiAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXQudG9ycXVlLCBvdXRwdXQudG9ycXVlLCBpbnB1dC5zdGF0ZS5hbmd1bGFyVmVsb2NpdHksXG4gICAgICBjb25maWcuYW5ndWxhckRyYWdDb2VmZmljaWVudCk7XG59XG5cbi8qKlxuICogQXBwbGllcyBhIHNpbXBsZSBsaW5lYXIgc3ByaW5nIGZvcmNlICh1c2luZyBIb29rZSdzIGxhdykuXG4gKlxuICogZm9yY2UgPSBkaXNwbGFjZW1lbnQgKiBjb2VmZmljaWVudFxuICpcbiAqIEBwYXJhbSB7TGluZWFyU3ByaW5nRm9yY2VBcHBsaWVyQ29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5TGluZWFyU3ByaW5nRm9yY2UoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XG4gIHZlYzMuc3VidHJhY3QoX3ZlYzMsIGNvbmZpZy5nZXRJbnRlbmRlZFBvc2l0aW9uKCksIGlucHV0LnN0YXRlLnBvc2l0aW9uKTtcbiAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXQuZm9yY2UsIG91dHB1dC5mb3JjZSwgX3ZlYzMsIGNvbmZpZy5zcHJpbmdDb2VmZmljaWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTcHJpbmdEYW1waW5nQXBwbGllckNvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBhcHBseVNwcmluZ0RhbXBpbmcoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XG4gIHZlYzMuc2NhbGUoX3ZlYzMsIGlucHV0LnN0YXRlLnZlbG9jaXR5LCAtY29uZmlnLmRhbXBpbmdDb2VmZmljaWVudCk7XG4gIHZlYzMuYWRkKG91dHB1dC5mb3JjZSwgb3V0cHV0LmZvcmNlLCBfdmVjMyk7XG59XG5cbmNvbnN0IF92ZWMzID0gdmVjMy5jcmVhdGUoKTtcblxuZXhwb3J0IHtcbiAgYXBwbHlBbmd1bGFyRHJhZyxcbiAgYXBwbHlHcmF2aXR5LFxuICBhcHBseUxpbmVhckRyYWcsXG4gIGFwcGx5TGluZWFyU3ByaW5nRm9yY2UsXG4gIGFwcGx5U3ByaW5nRGFtcGluZyxcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBHcmF2aXR5QXBwbGllckNvbmZpZ1xuICogQHByb3BlcnR5IHt2ZWMzfSBfZ3Jhdml0eVZlY1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTGluZWFyRHJhZ0FwcGxpZXJDb25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lYXJEcmFnQ29lZmZpY2llbnRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuZ3VsYXJEcmFnQXBwbGllckNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFuZ3VsYXJEcmFnQ29lZmZpY2llbnRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpbmVhclNwcmluZ0ZvcmNlQXBwbGllckNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNwcmluZ0NvZWZmaWNpZW50XG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjx2ZWMzPn0gZ2V0SW50ZW5kZWRQb3NpdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3ByaW5nRGFtcGluZ0FwcGxpZXJDb25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYW1waW5nQ29lZmZpY2llbnRcbiAqL1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgZ2VvbWV0cnkgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAwMTtcbmNvbnN0IEhBTEZfUEkgPSBNYXRoLlBJIC8gMjtcbmNvbnN0IFRXT19QSSA9IE1hdGguUEkgKiAyO1xuXG4vKipcbiAqIEZpbmRzIHRoZSBtaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiB0d28gbGluZSBzZWdtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50QVxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudEJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMoc2VnbWVudEEsIHNlZ21lbnRCKSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQoX3NlZ21lbnREaXN0YW5jZV90bXBWZWNBLCBfc2VnbWVudERpc3RhbmNlX3RtcFZlY0IsXG4gICAgICBzZWdtZW50QSwgc2VnbWVudEIpO1xuICByZXR1cm4gdmVjMy5zcXVhcmVkRGlzdGFuY2UoX3NlZ21lbnREaXN0YW5jZV90bXBWZWNBLCBfc2VnbWVudERpc3RhbmNlX3RtcFZlY0IpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBtaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGxpbmUgc2VnbWVudCBhbmQgYSBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50XG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBmaW5kU3F1YXJlZERpc3RhbmNlRnJvbVNlZ21lbnRUb1BvaW50KHNlZ21lbnQsIHBvaW50KSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQSwgc2VnbWVudCwgcG9pbnQpO1xuICByZXR1cm4gdmVjMy5zcXVhcmVkRGlzdGFuY2UoX3NlZ21lbnREaXN0YW5jZV90bXBWZWNBLCBwb2ludCk7XG59XG5cbmNvbnN0IF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQSA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfc2VnbWVudERpc3RhbmNlX3RtcFZlY0IgPSB2ZWMzLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gb3V0cHV0UG9pbnQgT3V0cHV0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHt2ZWMzfSB0YXJnZXRQb2ludFxuICovXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KG91dHB1dFBvaW50LCBhYWJiLCB0YXJnZXRQb2ludCkge1xuICBvdXRwdXRQb2ludFswXSA9IGFhYmIubWluWCA+IHRhcmdldFBvaW50WzBdXG4gICAgICA/IGFhYmIubWluWFxuICAgICAgOiBhYWJiLm1heFggPCB0YXJnZXRQb2ludFswXVxuICAgICAgICAgID8gYWFiYi5tYXhYXG4gICAgICAgICAgOiB0YXJnZXRQb2ludFswXTtcbiAgb3V0cHV0UG9pbnRbMV0gPSBhYWJiLm1pblkgPiB0YXJnZXRQb2ludFsxXVxuICAgICAgPyBhYWJiLm1pbllcbiAgICAgIDogYWFiYi5tYXhZIDwgdGFyZ2V0UG9pbnRbMV1cbiAgICAgICAgICA/IGFhYmIubWF4WVxuICAgICAgICAgIDogdGFyZ2V0UG9pbnRbMV07XG4gIG91dHB1dFBvaW50WzJdID0gYWFiYi5taW5aID4gdGFyZ2V0UG9pbnRbMl1cbiAgICAgID8gYWFiYi5taW5aXG4gICAgICA6IGFhYmIubWF4WiA8IHRhcmdldFBvaW50WzJdXG4gICAgICAgICAgPyBhYWJiLm1heFpcbiAgICAgICAgICA6IHRhcmdldFBvaW50WzJdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gb3V0cHV0UG9pbnQgT3V0cHV0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHt2ZWMzfSB0YXJnZXRQb2ludFxuICovXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJTdXJmYWNlVG9Qb2ludChvdXRwdXRQb2ludCwgYWFiYiwgdGFyZ2V0UG9pbnQpIHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludChvdXRwdXRQb2ludCwgYWFiYiwgdGFyZ2V0UG9pbnQpO1xuXG4gIC8vIElmIHRoZSBjYWxjdWxhdGVkIHBvaW50IGxpZXMgd2l0aGluIHRoZSBBQUJCLCB0aGVuIHdlIG5lZWQgdG8gYWRqdXN0IG9uZSBjb29yZGluYXRlIHRvIGxpZVxuICAvLyBhbG9uZyB0aGUgZWRnZSBvZiB0aGUgQUFCQi5cbiAgaWYgKGFhYmJWc1BvaW50KGFhYmIsIG91dHB1dFBvaW50KSkge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgY2xvc2VzdCB2ZXJ0ZXguXG4gICAgX3RtcFZlYzFbMF0gPSB0YXJnZXRQb2ludFswXSAtIGFhYmIubWluWCA8IGFhYmIubWF4WCAtIHRhcmdldFBvaW50WzBdXG4gICAgICAgID8gYWFiYi5taW5YXG4gICAgICAgIDogYWFiYi5tYXhYO1xuICAgIF90bXBWZWMxWzFdID0gdGFyZ2V0UG9pbnRbMV0gLSBhYWJiLm1pblkgPCBhYWJiLm1heFkgLSB0YXJnZXRQb2ludFsxXVxuICAgICAgICA/IGFhYmIubWluWVxuICAgICAgICA6IGFhYmIubWF4WTtcbiAgICBfdG1wVmVjMVsyXSA9IHRhcmdldFBvaW50WzJdIC0gYWFiYi5taW5aIDwgYWFiYi5tYXhaIC0gdGFyZ2V0UG9pbnRbMl1cbiAgICAgICAgPyBhYWJiLm1pblpcbiAgICAgICAgOiBhYWJiLm1heFo7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIHRvIHRoZSB2ZXJ0ZXggYWxvbmcgZWFjaCBkaW1lbnNpb24uXG4gICAgX3RtcFZlYzJbMF0gPSBfdG1wVmVjMVswXSAtIG91dHB1dFBvaW50WzBdO1xuICAgIF90bXBWZWMyWzBdID0gX3RtcFZlYzJbMF0gPCAwID8gLV90bXBWZWMyWzBdIDogX3RtcFZlYzJbMF07XG4gICAgX3RtcFZlYzJbMV0gPSBfdG1wVmVjMVsxXSAtIG91dHB1dFBvaW50WzFdO1xuICAgIF90bXBWZWMyWzFdID0gX3RtcFZlYzJbMV0gPCAxID8gLV90bXBWZWMyWzFdIDogX3RtcFZlYzJbMV07XG4gICAgX3RtcFZlYzJbMl0gPSBfdG1wVmVjMVsyXSAtIG91dHB1dFBvaW50WzJdO1xuICAgIF90bXBWZWMyWzJdID0gX3RtcFZlYzJbMl0gPCAyID8gLV90bXBWZWMyWzJdIDogX3RtcFZlYzJbMl07XG5cbiAgICAvLyBEZXRlcm1pbmUgYWxvbmcgd2hpY2ggZGltZW5zaW9uIHRoZSBwb2ludCBpcyBjbG9zZXN0IHRvIHRoZSBBQUJCLlxuICAgIGNvbnN0IGluZGV4ID0gX3RtcFZlYzJbMF0gPCBfdG1wVmVjMlsxXVxuICAgICAgICA/IChfdG1wVmVjMlswXSA8IF90bXBWZWMyWzJdXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogMilcbiAgICAgICAgOiAoX3RtcFZlYzJbMV0gPCBfdG1wVmVjMlsyXVxuICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICA6IDIpO1xuXG4gICAgb3V0cHV0UG9pbnRbaW5kZXhdID0gX3RtcFZlYzFbaW5kZXhdO1xuICB9XG59XG5cbi8qKlxuICogRmluZHMgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgbGluZSBzZWdtZW50IGFuZCBhIGNvcGxhbmFyIHF1YWRyaWxhdGVyYWwuXG4gKlxuICogVGhpcyBhc3N1bWVzIHRoZSByZWdpb24gaXMgbm90IGRlZ2VuZXJhdGUgKGhhcyBub24temVybyBzaWRlIGxlbmd0aHMpLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gcG9pIE91dHB1dCBwYXJhbS4gTnVsbCBpZiB0aGVyZSBpcyBubyBpbnRlcnNlY3Rpb24uXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50XG4gKiBAcGFyYW0ge3ZlYzN9IHBsYW5lVmVydGV4MVxuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDJcbiAqIEBwYXJhbSB7dmVjM30gcGxhbmVWZXJ0ZXgzXG4gKiBAcGFyYW0ge3ZlYzN9IHBsYW5lVmVydGV4NFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlcmUgaXMgYW4gaW50ZXJzZWN0aW9uLlxuICovXG5mdW5jdGlvbiBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbihwb2ksIHNlZ21lbnQsIHBsYW5lVmVydGV4MSwgcGxhbmVWZXJ0ZXgyLCBwbGFuZVZlcnRleDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuZVZlcnRleDQpIHtcbiAgcmV0dXJuIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFRyaWFuZ2xlKHBvaSwgc2VnbWVudCwgcGxhbmVWZXJ0ZXgxLCBwbGFuZVZlcnRleDIsIHBsYW5lVmVydGV4MykgfHxcbiAgICAgIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFRyaWFuZ2xlKHBvaSwgc2VnbWVudCwgcGxhbmVWZXJ0ZXgxLCBwbGFuZVZlcnRleDMsIHBsYW5lVmVydGV4NCk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgbGluZSBzZWdtZW50IGFuZCBhIHRyaWFuZ2xlLlxuICpcbiAqIFRoaXMgYXNzdW1lcyB0aGUgdHJpYW5nbGUgaXMgbm90IGRlZ2VuZXJhdGUgKGhhcyBub24temVybyBzaWRlIGxlbmd0aHMpLlxuICpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE9yaWdpbmFsbHkgYmFzZWQgb24gRGFuIFN1bmRheSdzIGFsZ29yaXRobXMgYXQgaHR0cDovL2dlb21hbGdvcml0aG1zLmNvbS9hMDYtX2ludGVyc2VjdC0yLmh0bWwuXG4gKlxuICogQ29weXJpZ2h0IDIwMDEgc29mdFN1cmZlciwgMjAxMiBEYW4gU3VuZGF5XG4gKiBUaGlzIGNvZGUgbWF5IGJlIGZyZWVseSB1c2VkIGFuZCBtb2RpZmllZCBmb3IgYW55IHB1cnBvc2VcbiAqIHByb3ZpZGluZyB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBpbmNsdWRlZCB3aXRoIGl0LlxuICogU29mdFN1cmZlciBtYWtlcyBubyB3YXJyYW50eSBmb3IgdGhpcyBjb2RlLCBhbmQgY2Fubm90IGJlIGhlbGRcbiAqIGxpYWJsZSBmb3IgYW55IHJlYWwgb3IgaW1hZ2luZWQgZGFtYWdlIHJlc3VsdGluZyBmcm9tIGl0cyB1c2UuXG4gKiBVc2VycyBvZiB0aGlzIGNvZGUgbXVzdCB2ZXJpZnkgY29ycmVjdG5lc3MgZm9yIHRoZWlyIGFwcGxpY2F0aW9uLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIEBwYXJhbSB7dmVjM30gcG9pIE91dHB1dCBwYXJhbS4gTnVsbCBpZiB0aGVyZSBpcyBubyBpbnRlcnNlY3Rpb24uXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50XG4gKiBAcGFyYW0ge3ZlYzN9IHRyaWFuZ2xlVmVydGV4MVxuICogQHBhcmFtIHt2ZWMzfSB0cmlhbmdsZVZlcnRleDJcbiAqIEBwYXJhbSB7dmVjM30gdHJpYW5nbGVWZXJ0ZXgzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGVyZSBpcyBhbiBpbnRlcnNlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFRyaWFuZ2xlKHBvaSwgc2VnbWVudCwgdHJpYW5nbGVWZXJ0ZXgxLCB0cmlhbmdsZVZlcnRleDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZVZlcnRleDMpIHtcbiAgLy9cbiAgLy8gRmluZCB0aGUgcG9pbnQgb2YgaW50ZXJzZWN0aW9uIGJldHdlZW4gdGhlIHNlZ21lbnQgYW5kIHRoZSB0cmlhbmdsZSdzIHBsYW5lLlxuICAvL1xuXG4gIC8vIEZpcnN0IHRyaWFuZ2xlIGVkZ2UuXG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzEsIHRyaWFuZ2xlVmVydGV4MiwgdHJpYW5nbGVWZXJ0ZXgxKTtcbiAgLy8gU2Vjb25kIHRyaWFuZ2xlIGVkZ2UuXG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzIsIHRyaWFuZ2xlVmVydGV4MywgdHJpYW5nbGVWZXJ0ZXgxKTtcbiAgLy8gVHJpYW5nbGUgbm9ybWFsLlxuICB2ZWMzLmNyb3NzKF90bXBWZWMzLCBfdG1wVmVjMSwgX3RtcFZlYzIpO1xuICAvLyBUcmlhbmdsZSB0byBzZWdtZW50LlxuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWM0LCBzZWdtZW50LnN0YXJ0LCB0cmlhbmdsZVZlcnRleDEpO1xuXG4gIGNvbnN0IG5vcm1hbFRvU2VnbWVudFByb2ogPSB2ZWMzLmRvdChfdG1wVmVjMywgc2VnbWVudC5kaXIpO1xuXG4gIGlmIChub3JtYWxUb1NlZ21lbnRQcm9qIDwgRVBTSUxPTiAmJiBub3JtYWxUb1NlZ21lbnRQcm9qID4gLUVQU0lMT04pIHtcbiAgICAvLyBUaGUgbGluZSBzZWdtZW50IGlzIHBhcmFsbGVsIHRvIHRoZSB0cmlhbmdsZS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBub3JtYWxUb0RpZmZQcm9qID0gLXZlYzMuZG90KF90bXBWZWMzLCBfdG1wVmVjNCk7XG4gIGNvbnN0IHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UgPSBub3JtYWxUb0RpZmZQcm9qIC8gbm9ybWFsVG9TZWdtZW50UHJvajtcblxuICBpZiAoc2VnbWVudE5vcm1hbGl6ZWREaXN0YW5jZSA8IDAgfHwgc2VnbWVudE5vcm1hbGl6ZWREaXN0YW5jZSA+IDEpIHtcbiAgICAvLyBUaGUgbGluZSBzZWdtZW50IGVuZHMgYmVmb3JlIGludGVyc2VjdGluZyB0aGUgcGxhbmUuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmVjMy5zY2FsZUFuZEFkZChwb2ksIHNlZ21lbnQuc3RhcnQsIHNlZ21lbnQuZGlyLCBzZWdtZW50Tm9ybWFsaXplZERpc3RhbmNlKTtcblxuICAvL1xuICAvLyBEZXRlcm1pbmUgd2hldGhlciB0aGUgcG9pbnQgb2YgaW50ZXJzZWN0aW9uIGxpZXMgd2l0aGluIHRoZSB0cmlhbmdsZS5cbiAgLy9cblxuICBjb25zdCBlZGdlMURvdEVkZ2UxID0gdmVjMy5kb3QoX3RtcFZlYzEsIF90bXBWZWMxKTtcbiAgY29uc3QgZWRnZTFEb3RFZGdlMiA9IHZlYzMuZG90KF90bXBWZWMxLCBfdG1wVmVjMik7XG4gIGNvbnN0IGVkZ2UyRG90RWRnZTIgPSB2ZWMzLmRvdChfdG1wVmVjMiwgX3RtcFZlYzIpO1xuICAvLyBUcmlhbmdsZSB0byBwb2ludCBvZiBpbnRlcnNlY3Rpb24uXG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzMsIHBvaSwgdHJpYW5nbGVWZXJ0ZXgxKTtcbiAgY29uc3QgZGlmZkRvdEVkZ2UxID0gdmVjMy5kb3QoX3RtcFZlYzMsIF90bXBWZWMxKTtcbiAgY29uc3QgZGlmZkRvdEVkZ2UyID0gdmVjMy5kb3QoX3RtcFZlYzMsIF90bXBWZWMyKTtcbiAgY29uc3QgZGVub21pbmF0b3IgPSBlZGdlMURvdEVkZ2UyICogZWRnZTFEb3RFZGdlMiAtIGVkZ2UxRG90RWRnZTEgKiBlZGdlMkRvdEVkZ2UyO1xuXG4gIC8vIENoZWNrIHRoZSB0cmlhbmdsZSdzIHBhcmFtZXRyaWMgY29vcmRpbmF0ZXMuXG4gIGNvbnN0IHMgPSAoZWRnZTFEb3RFZGdlMiAqIGRpZmZEb3RFZGdlMiAtIGVkZ2UyRG90RWRnZTIgKiBkaWZmRG90RWRnZTEpIC8gZGVub21pbmF0b3I7XG4gIGlmIChzIDwgMCB8fCBzID4gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0ID0gKGVkZ2UxRG90RWRnZTIgKiBkaWZmRG90RWRnZTEgLSBlZGdlMURvdEVkZ2UxICogZGlmZkRvdEVkZ2UyKSAvIGRlbm9taW5hdG9yO1xuICBpZiAodCA8IDAgfHwgcyArIHQgPiAxKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBKdWtrYSBKeWzDpG5raSdzIGFsZ29yaXRobSBhdFxuICogaHR0cHM6Ly9naXRodWIuY29tL2p1ai9NYXRoR2VvTGliL2Jsb2IvMTA5M2UzOWQ5MWRlZjdmZjY5MDVmYjc0ODk4OTMxOTBkN2Q4MTM1My9zcmMvR2VvbWV0cnkvT0JCLmNwcC5cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBKdWtrYSBKeWzDpG5raVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0cHV0UG9pbnQgT3V0cHV0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7dmVjM30gdGFyZ2V0UG9pbnRcbiAqL1xuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludEZyb21PYmJUb1BvaW50KG91dHB1dFBvaW50LCBvYmIsIHRhcmdldFBvaW50KSB7XG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzEsIHRhcmdldFBvaW50LCBvYmIuY2VudGVyT2ZWb2x1bWUpO1xuICB2ZWMzLmNvcHkob3V0cHV0UG9pbnQsIG9iYi5jZW50ZXJPZlZvbHVtZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgLy8gQ29tcHV0ZSB0aGUgZGlzcGxhY2VtZW50IGFsb25nIHRoaXMgYXhpcy5cbiAgICBsZXQgcHJvamVjdGlvbiA9IHZlYzMuZG90KG9iYi5heGVzW2ldLCBfdG1wVmVjMSk7XG4gICAgcHJvamVjdGlvbiA9IHByb2plY3Rpb24gPiBvYmIuaGFsZlNpZGVMZW5ndGhzW2ldID8gb2JiLmhhbGZTaWRlTGVuZ3Roc1tpXSA6XG4gICAgICAgIChwcm9qZWN0aW9uIDwgLW9iYi5oYWxmU2lkZUxlbmd0aHNbaV0gPyAtb2JiLmhhbGZTaWRlTGVuZ3Roc1tpXSA6IHByb2plY3Rpb24pO1xuICAgIHZlYzMuc2NhbGVBbmRBZGQob3V0cHV0UG9pbnQsIG91dHB1dFBvaW50LCBvYmIuYXhlc1tpXSwgcHJvamVjdGlvbik7XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb3NpdGlvbiBvbiBvbmUgbGluZSBzZWdtZW50IHRvIHRoZSBvdGhlciBsaW5lIHNlZ21lbnQsIGFuZCB2aWNlIHZlcnNhLlxuICpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE9yaWdpbmFsbHkgYmFzZWQgb24gSnVra2EgSnlsw6Rua2kncyBhbGdvcml0aG0gYXRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWovTWF0aEdlb0xpYi9ibG9iL2ZmMmQzNDhhMTY3MDA4YzgzMWFlMzA0NDgzYjgyNDY0N2Y3MWZiZjYvc3JjL0dlb21ldHJ5L0xpbmVTZWdtZW50LmNwcC5cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBKdWtrYSBKeWzDpG5raVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIEBwYXJhbSB7dmVjM30gY2xvc2VzdEEgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjbG9zZXN0QiBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50QVxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudEJcbiAqL1xuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudChjbG9zZXN0QSwgY2xvc2VzdEIsIHNlZ21lbnRBLCBzZWdtZW50Qikge1xuICBjb25zdCB7ZGlzdEEsIGRpc3RCfSA9IGZpbmRDbG9zZXN0UG9pbnRzRnJvbUxpbmVUb0xpbmUoXG4gICAgICBzZWdtZW50QS5zdGFydCwgc2VnbWVudEEuZGlyLCBzZWdtZW50Qi5zdGFydCwgc2VnbWVudEIuZGlyKTtcblxuICBjb25zdCBpc0Rpc3RBSW5Cb3VuZHMgPSBkaXN0QSA+PSAwICYmIGRpc3RBIDw9IDE7XG4gIGNvbnN0IGlzRGlzdEJJbkJvdW5kcyA9IGRpc3RCID49IDAgJiYgZGlzdEIgPD0gMTtcblxuICBpZiAoaXNEaXN0QUluQm91bmRzKSB7XG4gICAgaWYgKGlzRGlzdEJJbkJvdW5kcykge1xuICAgICAgLy8gVGhlIGRpc3RhbmNlcyBhbG9uZyBib3RoIGxpbmUgc2VnbWVudHMgYXJlIHdpdGhpbiBib3VuZHMuXG4gICAgICB2ZWMzLnNjYWxlQW5kQWRkKGNsb3Nlc3RBLCBzZWdtZW50QS5zdGFydCwgc2VnbWVudEEuZGlyLCBkaXN0QSk7XG4gICAgICB2ZWMzLnNjYWxlQW5kQWRkKGNsb3Nlc3RCLCBzZWdtZW50Qi5zdGFydCwgc2VnbWVudEIuZGlyLCBkaXN0Qik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9ubHkgdGhlIGRpc3RhbmNlIGFsb25nIHRoZSBmaXJzdCBsaW5lIHNlZ21lbnQgaXMgd2l0aGluIGJvdW5kcy5cbiAgICAgIGlmIChkaXN0QiA8IDApIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RCLCBzZWdtZW50Qi5zdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEIsIHNlZ21lbnRCLmVuZCk7XG4gICAgICB9XG4gICAgICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChjbG9zZXN0QSwgc2VnbWVudEEsIGNsb3Nlc3RCKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzRGlzdEJJbkJvdW5kcykge1xuICAgICAgLy8gT25seSB0aGUgZGlzdGFuY2UgYWxvbmcgdGhlIHNlY29uZCBsaW5lIHNlZ21lbnQgaXMgd2l0aGluIGJvdW5kcy5cbiAgICAgIGlmIChkaXN0QSA8IDApIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RBLCBzZWdtZW50QS5zdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEEsIHNlZ21lbnRBLmVuZCk7XG4gICAgICB9XG4gICAgICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChjbG9zZXN0Qiwgc2VnbWVudEIsIGNsb3Nlc3RBKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTmVpdGhlciBvZiB0aGUgZGlzdGFuY2VzIGFsb25nIGVpdGhlciBsaW5lIHNlZ21lbnQgYXJlIHdpdGhpbiBib3VuZHMuXG4gICAgICBpZiAoZGlzdEEgPCAwKSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QSwgc2VnbWVudEEuc3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RBLCBzZWdtZW50QS5lbmQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzdEIgPCAwKSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0Qiwgc2VnbWVudEIuc3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RCLCBzZWdtZW50Qi5lbmQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhbHRDbG9zZXN0QSA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICBjb25zdCBhbHRDbG9zZXN0QiA9IHZlYzMuY3JlYXRlKCk7XG5cbiAgICAgIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGFsdENsb3Nlc3RBLCBzZWdtZW50QSwgY2xvc2VzdEIpO1xuICAgICAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoYWx0Q2xvc2VzdEIsIHNlZ21lbnRCLCBjbG9zZXN0QSk7XG5cbiAgICAgIGlmICh2ZWMzLnNxdWFyZWREaXN0YW5jZShhbHRDbG9zZXN0QSwgY2xvc2VzdEIpIDxcbiAgICAgICAgICB2ZWMzLnNxdWFyZWREaXN0YW5jZShhbHRDbG9zZXN0QiwgY2xvc2VzdEEpKSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QSwgYWx0Q2xvc2VzdEEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RCLCBhbHRDbG9zZXN0Qik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9zaXRpb24gb24gYSBsaW5lIHNlZ21lbnQgdG8gYSBwb2ludC5cbiAqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIEp1a2thIEp5bMOkbmtpJ3MgYWxnb3JpdGhtIGF0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi9mZjJkMzQ4YTE2NzAwOGM4MzFhZTMwNDQ4M2I4MjQ2NDdmNzFmYmY2L3NyYy9HZW9tZXRyeS9MaW5lU2VnbWVudC5jcHAuXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgSnVra2EgSnlsw6Rua2lcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNsb3Nlc3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50XG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChjbG9zZXN0UG9pbnQsIHNlZ21lbnQsIHBvaW50KSB7XG4gIGNvbnN0IGRpclNxdWFyZWRMZW5ndGggPSB2ZWMzLnNxdWFyZWRMZW5ndGgoc2VnbWVudC5kaXIpO1xuXG4gIGlmICghZGlyU3F1YXJlZExlbmd0aCkge1xuICAgIC8vIFRoZSBwb2ludCBpcyBhdCB0aGUgc2VnbWVudCBzdGFydC5cbiAgICB2ZWMzLmNvcHkoY2xvc2VzdFBvaW50LCBzZWdtZW50LnN0YXJ0KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDYWxjdWxhdGUgdGhlIHByb2plY3Rpb24gb2YgdGhlIHBvaW50IG9udG8gdGhlIGxpbmUgZXh0ZW5kaW5nIHRocm91Z2ggdGhlIHNlZ21lbnQuXG4gICAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjMSwgcG9pbnQsIHNlZ21lbnQuc3RhcnQpO1xuICAgIGNvbnN0IHQgPSB2ZWMzLmRvdChfdG1wVmVjMSwgc2VnbWVudC5kaXIpIC8gZGlyU3F1YXJlZExlbmd0aDtcblxuICAgIGlmICh0IDwgMCkge1xuICAgICAgLy8gVGhlIHBvaW50IHByb2plY3RzIGJleW9uZCB0aGUgc2VnbWVudCBzdGFydC5cbiAgICAgIHZlYzMuY29weShjbG9zZXN0UG9pbnQsIHNlZ21lbnQuc3RhcnQpO1xuICAgIH0gZWxzZSBpZiAodCA+IDEpIHtcbiAgICAgIC8vIFRoZSBwb2ludCBwcm9qZWN0cyBiZXlvbmQgdGhlIHNlZ21lbnQgZW5kLlxuICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RQb2ludCwgc2VnbWVudC5lbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgcG9pbnQgcHJvamVjdHMgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgc2VnbWVudC5cbiAgICAgIHZlYzMuc2NhbGVBbmRBZGQoY2xvc2VzdFBvaW50LCBzZWdtZW50LnN0YXJ0LCBzZWdtZW50LmRpciwgdCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9zaXRpb24gb24gb25lIGxpbmUgdG8gdGhlIG90aGVyIGxpbmUsIGFuZCB2aWNlIHZlcnNhLlxuICpcbiAqIFRoZSBwb3NpdGlvbnMgYXJlIHJlcHJlc2VudGVkIGFzIHNjYWxhci12YWx1ZSBkaXN0YW5jZXMgZnJvbSB0aGUgXCJzdGFydFwiIHBvc2l0aW9ucyBvZiBlYWNoIGxpbmUuXG4gKiBUaGVzZSBhcmUgc2NhbGVkIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZGlyZWN0aW9uIHZlY3RvcnMuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBKdWtrYSBKeWzDpG5raSdzIGFsZ29yaXRobSBhdFxuICogaHR0cHM6Ly9naXRodWIuY29tL2p1ai9NYXRoR2VvTGliL2Jsb2IvZmYyZDM0OGExNjcwMDhjODMxYWUzMDQ0ODNiODI0NjQ3ZjcxZmJmNi9zcmMvR2VvbWV0cnkvTGluZS5jcHAuXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgSnVra2EgSnlsw6Rua2lcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0QSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgbGluZSBBLlxuICogQHBhcmFtIHt2ZWMzfSBkaXJBIFRoZSAodW5ub3JtYWxpemVkKSBkaXJlY3Rpb24gb2YgbGluZSBBLiBDYW5ub3QgYmUgemVyby5cbiAqIEBwYXJhbSB7dmVjM30gc3RhcnRCIFRoZSBzdGFydCBwb3NpdGlvbiBvZiBsaW5lIEIuXG4gKiBAcGFyYW0ge3ZlYzN9IGRpckIgVGhlICh1bm5vcm1hbGl6ZWQpIGRpcmVjdGlvbiBvZiBsaW5lIEIuIENhbm5vdCBiZSB6ZXJvLlxuICogQHJldHVybnMge3tkaXN0QTogTnVtYmVyLCBkaXN0QjogTnVtYmVyfX1cbiAqL1xuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludHNGcm9tTGluZVRvTGluZShzdGFydEEsIGRpckEsIHN0YXJ0QiwgZGlyQikge1xuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMxLCBzdGFydEEsIHN0YXJ0Qik7XG4gIGNvbnN0IGRpckJEb3REaXJBVG9CID0gdmVjMy5kb3QoZGlyQiwgX3RtcFZlYzEpO1xuICBjb25zdCBkaXJBRG90RGlyQVRvQiA9IHZlYzMuZG90KGRpckEsIF90bXBWZWMxKTtcblxuICBjb25zdCBzcXJMZW5EaXJCID0gdmVjMy5zcXVhcmVkTGVuZ3RoKGRpckIpO1xuICBjb25zdCBzcXJMZW5EaXJBID0gdmVjMy5zcXVhcmVkTGVuZ3RoKGRpckEpO1xuXG4gIGNvbnN0IGRpckFEb3REaXJCID0gdmVjMy5kb3QoZGlyQSwgZGlyQik7XG5cbiAgY29uc3QgZGVub21pbmF0b3IgPSBzcXJMZW5EaXJBICogc3FyTGVuRGlyQiAtIGRpckFEb3REaXJCICogZGlyQURvdERpckI7XG5cbiAgY29uc3QgZGlzdEEgPSBkZW5vbWluYXRvciA8IEVQU0lMT05cbiAgICAgID8gMFxuICAgICAgOiAoZGlyQURvdERpckIgKiBkaXJCRG90RGlyQVRvQiAtIHNxckxlbkRpckIgKiBkaXJBRG90RGlyQVRvQikgLyBkZW5vbWluYXRvcjtcbiAgY29uc3QgZGlzdEIgPSAoZGlyQkRvdERpckFUb0IgKyBkaXJBRG90RGlyQiAqIGRpc3RBKSAvIHNxckxlbkRpckI7XG5cbiAgcmV0dXJuIHtcbiAgICBkaXN0QTogZGlzdEEsXG4gICAgZGlzdEI6IGRpc3RCXG4gIH07XG59XG5cbi8qKlxuICogQSBnb29kIGRlc2NyaXB0aW9uIG9mIHdoeSB3ZSBuZWVkIHRoZXNlIHNwZWNpYWwgb3BlcmF0aW9ucyBmb3Igcm90YXRpbmcgdGVuc29ycyBjYW4gYmUgZm91bmRcbiAqIGhlcmU6IGh0dHA6Ly93d3cucmFuZHlnYXVsLm5ldC8yMDE0LzA0LzA5L3RyYW5zZm9ybWF0aW9ucy1jaGFuZ2Utb2YtYmFzaXMtbWF0cml4Ly5cbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dHB1dCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge21hdDN9IHRlbnNvclxuICogQHBhcmFtIHtxdWF0fSByb3RhdGlvblxuICovXG5mdW5jdGlvbiByb3RhdGVUZW5zb3Iob3V0cHV0LCB0ZW5zb3IsIHJvdGF0aW9uKSB7Ly8gVE9ETzogVGVzdCB0aGlzIHNvbWVob3cuLi5cbiAgbWF0My5mcm9tUXVhdChfdG1wTWF0LCByb3RhdGlvbik7XG4gIG1hdDMubXVsdGlwbHkob3V0cHV0LCBfdG1wTWF0LCB0ZW5zb3IpO1xuICBtYXQzLmludmVydChfdG1wTWF0LCBfdG1wTWF0KTtcbiAgbWF0My5tdWx0aXBseShvdXRwdXQsIG91dHB1dCwgX3RtcE1hdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYWFiYlZzUG9pbnQoYWFiYiwgcG9pbnQpIHtcbiAgcmV0dXJuIHBvaW50WzBdID49IGFhYmIubWluWCAmJiBwb2ludFswXSA8PSBhYWJiLm1heFggJiZcbiAgICAgIHBvaW50WzFdID49IGFhYmIubWluWSAmJiBwb2ludFsxXSA8PSBhYWJiLm1heFkgJiZcbiAgICAgIHBvaW50WzJdID49IGFhYmIubWluWiAmJiBwb2ludFsyXSA8PSBhYWJiLm1heFpcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3F1YXR9IG91dFxuICogQHBhcmFtIHtxdWF0fSBhXG4gKiBAcGFyYW0ge3F1YXR9IGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVxuICogQHJldHVybnMge3F1YXR9XG4gKi9cbmZ1bmN0aW9uIHNjYWxlQW5kQWRkUXVhdChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIHJldHVybiBxdWF0LnNldChvdXQsXG4gICAgICBhWzBdICsgYlswXSAqIHNjYWxlLFxuICAgICAgYVsxXSArIGJbMV0gKiBzY2FsZSxcbiAgICAgIGFbMl0gKyBiWzJdICogc2NhbGUsXG4gICAgICBhWzNdICsgYlszXSAqIHNjYWxlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGFcbiAqIEBwYXJhbSB7dmVjM30gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFyZVZlYzNzQ2xvc2UoYSwgYikge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIGlmIChhW2ldIC0gYltpXSA+IEVQU0lMT04gfHwgYltpXSAtIGFbaV0gPiBFUFNJTE9OKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBSZS11c2VkIGFjcm9zcyB0aGUgZ2VvbWV0cnkgdXRpbGl0eSBmdW5jdGlvbnMsIHNvIHdlIGRvbid0IGluc3RhbnRpYXRlIGFzIG1hbnkgdmVjMyBvYmplY3RzLlxuY29uc3QgX3RtcFZlYzEgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3RtcFZlYzIgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3RtcFZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3RtcFZlYzQgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3RtcE1hdCA9IG1hdDMuY3JlYXRlKCk7XG5cbi8vIEV4cG9zZWQgdG8gY29uc3VtZXJzLCBzbyB0aGV5IGRvbid0IGhhdmUgdG8gaW5zdGFudGlhdGUgYXMgbWFueSB2ZWMzIG9iamVjdHMuXG5jb25zdCB0bXBWZWMxID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IHRtcFZlYzIgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgdG1wVmVjMyA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCB0bXBWZWM0ID0gdmVjMy5jcmVhdGUoKTtcblxuY29uc3QgX2dlb21ldHJ5ID0ge1xuICBFUFNJTE9OLFxuICBIQUxGX1BJLFxuICBUV09fUEksXG4gIHNjYWxlQW5kQWRkUXVhdCxcbn07XG5cbmV4cG9ydCB7XG4gIF9nZW9tZXRyeSxcbiAgdG1wVmVjMSxcbiAgdG1wVmVjMixcbiAgdG1wVmVjMyxcbiAgdG1wVmVjNCxcbiAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyxcbiAgZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludCxcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCxcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiU3VyZmFjZVRvUG9pbnQsXG4gIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFRyaWFuZ2xlLFxuICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbixcbiAgZmluZENsb3Nlc3RQb2ludEZyb21PYmJUb1BvaW50LFxuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50LFxuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludCxcbiAgZmluZENsb3Nlc3RQb2ludHNGcm9tTGluZVRvTGluZSxcbiAgcm90YXRlVGVuc29yLFxuICBhYWJiVnNQb2ludCxcbiAgYXJlVmVjM3NDbG9zZSxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgY2FsY3VsYXRpbmcgaW5lcnRpYSB0ZW5zb3JzLlxuICovXG5cbmltcG9ydCB7X2dlb21ldHJ5LCByb3RhdGVUZW5zb3J9IGZyb20gJy4vZ2VvbWV0cnknO1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJucyB7bWF0M31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3BoZXJlSW5lcnRpYVRlbnNvcihyYWRpdXMsIG1hc3MpIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxuICBjb25zdCB0ZW5zb3IgPSBtYXQzLmNyZWF0ZSgpO1xuICBjb25zdCBtb21lbnQgPSAyIC8gNSAqIG1hc3MgKiByYWRpdXMgKiByYWRpdXM7XG4gIHRlbnNvclswXSA9IG1vbWVudDtcbiAgdGVuc29yWzRdID0gbW9tZW50O1xuICB0ZW5zb3JbOF0gPSBtb21lbnQ7XG4gIHJldHVybiB0ZW5zb3I7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJhbmdlWFxuICogQHBhcmFtIHtudW1iZXJ9IHJhbmdlWVxuICogQHBhcmFtIHtudW1iZXJ9IHJhbmdlWlxuICogQHBhcmFtIHtudW1iZXJ9IG1hc3NcbiAqIEByZXR1cm5zIHttYXQzfVxuICovXG5mdW5jdGlvbiBjcmVhdGVCb3hJbmVydGlhVGVuc29yKHJhbmdlWCwgcmFuZ2VZLCByYW5nZVosIG1hc3MpIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxuICBjb25zdCB0ZW5zb3IgPSBtYXQzLmNyZWF0ZSgpO1xuICBjb25zdCB0bXAgPSBtYXNzIC8gMTI7XG4gIGNvbnN0IHhSYW5nZVNxdWFyZWQgPSByYW5nZVggKiByYW5nZVg7XG4gIGNvbnN0IHlSYW5nZVNxdWFyZWQgPSByYW5nZVkgKiByYW5nZVk7XG4gIGNvbnN0IHpSYW5nZVNxdWFyZWQgPSByYW5nZVogKiByYW5nZVo7XG4gIHRlbnNvclswXSA9IHRtcCAqICh5UmFuZ2VTcXVhcmVkICsgelJhbmdlU3F1YXJlZCk7XG4gIHRlbnNvcls0XSA9IHRtcCAqICh4UmFuZ2VTcXVhcmVkICsgeVJhbmdlU3F1YXJlZCk7XG4gIHRlbnNvcls4XSA9IHRtcCAqICh4UmFuZ2VTcXVhcmVkICsgelJhbmdlU3F1YXJlZCk7XG4gIHJldHVybiB0ZW5zb3I7XG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBCb2phbiBMb3Zyb3ZpYydzIGFsZ29yaXRobSBhdFxuICogaHR0cDovL3d3dy5nYW1lZGV2Lm5ldC9wYWdlL3Jlc291cmNlcy9fL3RlY2huaWNhbC9tYXRoLWFuZC1waHlzaWNzL2NhcHN1bGUtaW5lcnRpYS10ZW5zb3ItcjM4NTYuXG4gKlxuICogQ29weXJpZ2h0IDIwMTQgQm9qYW4gTG92cm92aWNcbiAqXG4gKiBHYW1lRGV2Lm5ldCBPcGVuIExpY2Vuc2VcbiAqIChodHRwOi8vd3d3LmdhbWVkZXYubmV0L3BhZ2UvcmVzb3VyY2VzL18vZ2RuZXRoZWxwL2dhbWVkZXZuZXQtb3Blbi1saWNlbnNlLXIyOTU2KVxuICpcbiAqIFRFUk1TIEFORCBDT05ESVRJT05TIEZPUiBVU0UsIFJFUFJPRFVDVElPTiwgQU5EIERJU1RSSUJVVElPTlxuICpcbiAqIDEuIERlZmluaXRpb25zLlxuICpcbiAqIFwiQXJ0aWNsZVwiIHNoYWxsIHJlZmVyIHRvIGFueSBib2R5IG9mIHRleHQgd3JpdHRlbiBieSBBdXRob3Igd2hpY2ggZGVzY3JpYmVzIGFuZCBkb2N1bWVudHMgdGhlIHVzZVxuICogYW5kL29yIG9wZXJhdGlvbiBvZiBTb3VyY2UuIEl0IHNwZWNpZmljYWxseSBkb2VzIG5vdCByZWZlciB0byBhbnkgYWNjb21wYW55aW5nIFNvdXJjZSBlaXRoZXJcbiAqIGVtYmVkZGVkIHdpdGhpbiB0aGUgYm9keSBvZiB0ZXh0IG9yIGF0dGFjaGVkIHRvIHRoZSBhcnRpY2xlIGFzIGEgZmlsZS5cbiAqXG4gKiBcIkF1dGhvclwiIG1lYW5zIHRoZSBpbmRpdmlkdWFsIG9yIGVudGl0eSB0aGF0IG9mZmVycyB0aGUgV29yayB1bmRlciB0aGUgdGVybXMgb2YgdGhpcyBMaWNlbnNlLlxuICpcbiAqIFwiTGljZW5zZVwiIHNoYWxsIG1lYW4gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIGZvciB1c2UsIHJlcHJvZHVjdGlvbiwgYW5kIGRpc3RyaWJ1dGlvbiBhcyBkZWZpbmVkXG4gKiBieSBTZWN0aW9ucyAxIHRocm91Z2ggOSBvZiB0aGlzIGRvY3VtZW50LlxuICpcbiAqIFwiTGljZW5zb3JcIiBzaGFsbCBtZWFuIHRoZSBjb3B5cmlnaHQgb3duZXIgb3IgZW50aXR5IGF1dGhvcml6ZWQgYnkgdGhlIGNvcHlyaWdodCBvd25lciB0aGF0IGlzXG4gKiBncmFudGluZyB0aGUgTGljZW5zZS5cbiAqXG4gKiBcIllvdVwiIChvciBcIllvdXJcIikgc2hhbGwgbWVhbiBhbiBpbmRpdmlkdWFsIG9yIGVudGl0eSBleGVyY2lzaW5nIHBlcm1pc3Npb25zIGdyYW50ZWQgYnkgdGhpc1xuICogTGljZW5zZS5cbiAqXG4gKiBcIlNvdXJjZVwiIHNoYWxsIGluY2x1ZGUgYWxsIHNvZnR3YXJlIHRleHQgc291cmNlIGNvZGUgYW5kIGNvbmZpZ3VyYXRpb24gZmlsZXMgdXNlZCB0byBjcmVhdGVcbiAqIGV4ZWN1dGFibGUgc29mdHdhcmVcbiAqXG4gKiBcIk9iamVjdFwiIHNoYWxsIG1lYW4gYW55IFNvdXJjZSB3aGljaCBoYXMgYmVlbiBjb252ZXJ0ZWQgaW50byBhIG1hY2hpbmUgZXhlY3V0YWJsZSBzb2Z0d2FyZVxuICpcbiAqIFwiV29ya1wiIGNvbnNpc3RzIG9mIGJvdGggdGhlIEFydGljbGUgYW5kIFNvdXJjZVxuICpcbiAqIFwiUHVibGlzaGVyXCIgcmVmZXJzIHRvIEdhbWVEZXYubmV0IExMQ1xuICpcbiAqIFRoaXMgYWdyZWVtZW50IGlzIGJldHdlZW4gWW91IGFuZCBBdXRob3IsIHRoZSBvd25lciBhbmQgY3JlYXRvciBvZiB0aGUgV29yayBsb2NhdGVkIGF0XG4gKiBHYW1lZGV2Lm5ldC5cbiAqXG4gKiAyLiBGYWlyIERlYWxpbmcgUmlnaHRzLlxuICpcbiAqIE5vdGhpbmcgaW4gdGhpcyBMaWNlbnNlIGlzIGludGVuZGVkIHRvIHJlZHVjZSwgbGltaXQsIG9yIHJlc3RyaWN0IGFueSB1c2VzIGZyZWUgZnJvbSBjb3B5cmlnaHQgb3JcbiAqIHJpZ2h0cyBhcmlzaW5nIGZyb20gbGltaXRhdGlvbnMgb3IgZXhjZXB0aW9ucyB0aGF0IGFyZSBwcm92aWRlZCBmb3IgaW4gY29ubmVjdGlvbiB3aXRoIHRoZVxuICogY29weXJpZ2h0IHByb3RlY3Rpb24gdW5kZXIgY29weXJpZ2h0IGxhdyBvciBvdGhlciBhcHBsaWNhYmxlIGxhd3MuXG4gKlxuICogMy4gR3JhbnQgb2YgQ29weXJpZ2h0IExpY2Vuc2UuXG4gKlxuICogU3ViamVjdCB0byB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2YgdGhpcyBMaWNlbnNlLCB0aGUgQXV0aG9yIGhlcmVieSBncmFudHMgdG8gWW91IGEgcGVycGV0dWFsLFxuICogd29ybGR3aWRlLCBub24tZXhjbHVzaXZlLCBuby1jaGFyZ2UsIHJveWFsdHktZnJlZSwgaXJyZXZvY2FibGUgY29weXJpZ2h0IGxpY2Vuc2UgdG8gdGhlIFdvcmtcbiAqIHVuZGVyIHRoZSBmb2xsb3dpbmcgc3RhdGVkIHRlcm1zOlxuICogWW91IG1heSBub3QgcmVwcm9kdWNlIHRoZSBBcnRpY2xlIG9uIGFueSBvdGhlciB3ZWJzaXRlIG91dHNpZGUgb2YgR2FtZWRldi5uZXQgd2l0aG91dCBleHByZXNzXG4gKiB3cml0dGVuIHBlcm1pc3Npb24gZnJvbSB0aGUgQXV0aG9yXG4gKiBZb3UgbWF5IHVzZSwgY29weSwgbGluaywgbW9kaWZ5IGFuZCBkaXN0cmlidXRlIHVuZGVyIFlvdXIgb3duIHRlcm1zLCBiaW5hcnkgT2JqZWN0IGNvZGUgdmVyc2lvbnNcbiAqIGJhc2VkIG9uIHRoZSBXb3JrIGluIHlvdXIgb3duIHNvZnR3YXJlXG4gKiBZb3UgbWF5IHJlcHJvZHVjZSwgcHJlcGFyZSBkZXJpdmF0aXZlIFdvcmtzIG9mLCBwdWJsaWNseSBkaXNwbGF5LCBwdWJsaWNseSBwZXJmb3JtLCBzdWJsaWNlbnNlLFxuICogYW5kIGRpc3RyaWJ1dGUgdGhlIFNvdXJjZSBhbmQgc3VjaCBkZXJpdmF0aXZlIFNvdXJjZSBpbiBTb3VyY2UgZm9ybSBvbmx5IGFzIHBhcnQgb2YgYSBsYXJnZXJcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGlvbiBhbmQgcHJvdmlkZWQgdGhhdCBhdHRyaWJ1dGlvbiB0byB0aGUgb3JpZ2luYWwgQXV0aG9yIGlzIGdyYW50ZWQuXG4gKiBUaGUgb3JpZ2luIG9mIHRoaXMgV29yayBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90IGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZVxuICogb3JpZ2luYWwgU291cmNlLiBJZiB5b3UgdXNlIHRoaXMgU291cmNlIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgb2YgdGhlIEF1dGhvciBuYW1lIHdvdWxkXG4gKiBiZSBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuICpcbiAqIDQuIFJlc3RyaWN0aW9ucy5cbiAqXG4gKiBUaGUgbGljZW5zZSBncmFudGVkIGluIFNlY3Rpb24gMyBhYm92ZSBpcyBleHByZXNzbHkgbWFkZSBzdWJqZWN0IHRvIGFuZCBsaW1pdGVkIGJ5IHRoZSBmb2xsb3dpbmdcbiAqIHJlc3RyaWN0aW9uczpcbiAqIEFsdGVyZWQgU291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nXG4gKiB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4gKiBUaGlzIExpY2Vuc2UgbXVzdCBiZSB2aXNpYmx5IGxpbmtlZCB0byBmcm9tIGFueSBvbmxpbmUgZGlzdHJpYnV0aW9uIG9mIHRoZSBBcnRpY2xlIGJ5IFVSSSBhbmRcbiAqIHVzaW5nIHRoZSBkZXNjcmlwdGl2ZSB0ZXh0IFwiTGljZW5zZWQgdW5kZXIgdGhlIEdhbWVEZXYubmV0IE9wZW4gTGljZW5zZVwiXG4gKiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBBdXRob3Igb2YgdGhpcyBXb3JrLCBub3IgYW55IG9mIHRoZWlyIHRyYWRlbWFya3Mgb3Igc2VydmljZSBtYXJrcywgbWF5IGJlXG4gKiB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBXb3JrIHdpdGhvdXQgZXhwcmVzcyBwcmlvciBwZXJtaXNzaW9uIG9mXG4gKiB0aGUgQXV0aG9yXG4gKiBFeGNlcHQgYXMgZXhwcmVzc2x5IHN0YXRlZCBoZXJlaW4sIG5vdGhpbmcgaW4gdGhpcyBMaWNlbnNlIGdyYW50cyBhbnkgbGljZW5zZSB0byBBdXRob3Inc1xuICogdHJhZGVtYXJrcywgY29weXJpZ2h0cywgcGF0ZW50cywgdHJhZGUgc2VjcmV0cyBvciBhbnkgb3RoZXIgaW50ZWxsZWN0dWFsIHByb3BlcnR5LiBObyBsaWNlbnNlIGlzXG4gKiBncmFudGVkIHRvIHRoZSB0cmFkZW1hcmtzIG9mIEF1dGhvciBldmVuIGlmIHN1Y2ggbWFya3MgYXJlIGluY2x1ZGVkIGluIHRoZSBXb3JrLiBOb3RoaW5nIGluIHRoaXNcbiAqIExpY2Vuc2Ugc2hhbGwgYmUgaW50ZXJwcmV0ZWQgdG8gcHJvaGliaXQgQXV0aG9yIGZyb20gbGljZW5zaW5nIHVuZGVyIHRlcm1zIGRpZmZlcmVudCBmcm9tIHRoaXNcbiAqIExpY2Vuc2UgYW55IFdvcmsgdGhhdCBBdXRob3Igb3RoZXJ3aXNlIHdvdWxkIGhhdmUgYSByaWdodCB0byBsaWNlbnNlLlxuICpcbiAqIDUuIEdyYW50IG9mIFBhdGVudCBMaWNlbnNlLlxuICpcbiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHRoaXMgTGljZW5zZSwgZWFjaCBDb250cmlidXRvciBoZXJlYnkgZ3JhbnRzIHRvIFlvdSBhXG4gKiBwZXJwZXR1YWwsIHdvcmxkd2lkZSwgbm9uLWV4Y2x1c2l2ZSwgbm8tY2hhcmdlLCByb3lhbHR5LWZyZWUsIGlycmV2b2NhYmxlIChleGNlcHQgYXMgc3RhdGVkIGluXG4gKiB0aGlzIHNlY3Rpb24pIHBhdGVudCBsaWNlbnNlIHRvIG1ha2UsIGhhdmUgbWFkZSwgdXNlLCBvZmZlciB0byBzZWxsLCBzZWxsLCBpbXBvcnQsIGFuZCBvdGhlcndpc2VcbiAqIHRyYW5zZmVyIHRoZSBXb3JrLCB3aGVyZSBzdWNoIGxpY2Vuc2UgYXBwbGllcyBvbmx5IHRvIHRob3NlIHBhdGVudCBjbGFpbXMgbGljZW5zYWJsZSBieSBzdWNoXG4gKiBDb250cmlidXRvciB0aGF0IGFyZSBuZWNlc3NhcmlseSBpbmZyaW5nZWQgYnkgdGhlaXIgQ29udHJpYnV0aW9uKHMpIGFsb25lIG9yIGJ5IGNvbWJpbmF0aW9uIG9mXG4gKiB0aGVpciBDb250cmlidXRpb24ocykgd2l0aCB0aGUgV29yayB0byB3aGljaCBzdWNoIENvbnRyaWJ1dGlvbihzKSB3YXMgc3VibWl0dGVkLiBJZiBZb3UgaW5zdGl0dXRlXG4gKiBwYXRlbnQgbGl0aWdhdGlvbiBhZ2FpbnN0IGFueSBlbnRpdHkgKGluY2x1ZGluZyBhIGNyb3NzLWNsYWltIG9yIGNvdW50ZXJjbGFpbSBpbiBhIGxhd3N1aXQpXG4gKiBhbGxlZ2luZyB0aGF0IHRoZSBXb3JrIG9yIFNvdXJjZSBpbmNvcnBvcmF0ZWQgd2l0aGluIHRoZSBXb3JrIGNvbnN0aXR1dGVzIGRpcmVjdCBvciBjb250cmlidXRvcnlcbiAqIHBhdGVudCBpbmZyaW5nZW1lbnQsIHRoZW4gYW55IHBhdGVudCBsaWNlbnNlcyBncmFudGVkIHRvIFlvdSB1bmRlciB0aGlzIExpY2Vuc2UgZm9yIHRoYXQgV29ya1xuICogc2hhbGwgdGVybWluYXRlIGFzIG9mIHRoZSBkYXRlIHN1Y2ggbGl0aWdhdGlvbiBpcyBmaWxlZC5cbiAqXG4gKiA2LiBMaW1pdGF0aW9uIG9mIExpYWJpbGl0eS5cbiAqXG4gKiBJbiBubyBldmVudCBhbmQgdW5kZXIgbm8gbGVnYWwgdGhlb3J5LCB3aGV0aGVyIGluIHRvcnQgKGluY2x1ZGluZyBuZWdsaWdlbmNlKSwgY29udHJhY3QsIG9yXG4gKiBvdGhlcndpc2UsIHVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyAoc3VjaCBhcyBkZWxpYmVyYXRlIGFuZCBncm9zc2x5IG5lZ2xpZ2VudCBhY3RzKSBvclxuICogYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNoYWxsIGFueSBBdXRob3Igb3IgUHVibGlzaGVyIGJlIGxpYWJsZSB0byBZb3UgZm9yIGRhbWFnZXMsIGluY2x1ZGluZyBhbnlcbiAqIGRpcmVjdCwgaW5kaXJlY3QsIHNwZWNpYWwsIGluY2lkZW50YWwsIG9yIGNvbnNlcXVlbnRpYWwgZGFtYWdlcyBvZiBhbnkgY2hhcmFjdGVyIGFyaXNpbmcgYXMgYVxuICogcmVzdWx0IG9mIHRoaXMgTGljZW5zZSBvciBvdXQgb2YgdGhlIHVzZSBvciBpbmFiaWxpdHkgdG8gdXNlIHRoZSBXb3JrIChpbmNsdWRpbmcgYnV0IG5vdCBsaW1pdGVkXG4gKiB0byBkYW1hZ2VzIGZvciBsb3NzIG9mIGdvb2R3aWxsLCB3b3JrIHN0b3BwYWdlLCBjb21wdXRlciBmYWlsdXJlIG9yIG1hbGZ1bmN0aW9uLCBvciBhbnkgYW5kIGFsbFxuICogb3RoZXIgY29tbWVyY2lhbCBkYW1hZ2VzIG9yIGxvc3NlcyksIGV2ZW4gaWYgc3VjaCBBdXRob3IgaGFzIGJlZW4gYWR2aXNlZCBvZiB0aGUgcG9zc2liaWxpdHkgb2ZcbiAqIHN1Y2ggZGFtYWdlcy5cbiAqXG4gKiA3LiBESVNDTEFJTUVSIE9GIFdBUlJBTlRZXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUXG4gKiBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbiAqIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICpcbiAqIDguIFB1Ymxpc2hlci5cbiAqXG4gKiBUaGUgcGFydGllcyBoZXJlYnkgY29uZmlybSB0aGF0IHRoZSBQdWJsaXNoZXIgc2hhbGwgbm90LCB1bmRlciBhbnkgY2lyY3Vtc3RhbmNlcywgYmUgcmVzcG9uc2libGVcbiAqIGZvciBhbmQgc2hhbGwgbm90IGhhdmUgYW55IGxpYWJpbGl0eSBpbiByZXNwZWN0IG9mIHRoZSBzdWJqZWN0IG1hdHRlciBvZiB0aGlzIExpY2Vuc2UuIFRoZVxuICogUHVibGlzaGVyIG1ha2VzIG5vIHdhcnJhbnR5IHdoYXRzb2V2ZXIgaW4gY29ubmVjdGlvbiB3aXRoIHRoZSBXb3JrIGFuZCBzaGFsbCBub3QgYmUgbGlhYmxlIHRvIFlvdVxuICogb3IgYW55IHBhcnR5IG9uIGFueSBsZWdhbCB0aGVvcnkgZm9yIGFueSBkYW1hZ2VzIHdoYXRzb2V2ZXIsIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gYW55XG4gKiBnZW5lcmFsLCBzcGVjaWFsLCBpbmNpZGVudGFsIG9yIGNvbnNlcXVlbnRpYWwgZGFtYWdlcyBhcmlzaW5nIGluIGNvbm5lY3Rpb24gdG8gdGhpcyBsaWNlbnNlLiBUaGVcbiAqIFB1Ymxpc2hlciByZXNlcnZlcyB0aGUgcmlnaHQgdG8gY2Vhc2UgbWFraW5nIHRoZSBXb3JrIGF2YWlsYWJsZSB0byBZb3UgYXQgYW55IHRpbWUgd2l0aG91dCBub3RpY2VcbiAqXG4gKiA5LiBUZXJtaW5hdGlvblxuICpcbiAqIFRoaXMgTGljZW5zZSBhbmQgdGhlIHJpZ2h0cyBncmFudGVkIGhlcmV1bmRlciB3aWxsIHRlcm1pbmF0ZSBhdXRvbWF0aWNhbGx5IHVwb24gYW55IGJyZWFjaCBieSBZb3VcbiAqIG9mIHRoZSB0ZXJtcyBvZiB0aGlzIExpY2Vuc2UuIEluZGl2aWR1YWxzIG9yIGVudGl0aWVzIHdobyBoYXZlIHJlY2VpdmVkIERlcml2aWF0aXZlIFdvcmtzIGZyb21cbiAqIFlvdSB1bmRlciB0aGlzIExpY2Vuc2UsIGhvd2V2ZXIsIHdpbGwgbm90IGhhdmUgdGhlaXIgbGljZW5zZXMgdGVybWluYXRlZCBwcm92aWRlZCBzdWNoXG4gKiBpbmRpdmlkdWFscyBvciBlbnRpdGllcyByZW1haW4gaW4gZnVsbCBjb21wbGlhbmNlIHdpdGggdGhvc2UgbGljZW5zZXMuIFNlY3Rpb25zIDEsIDIsIDYsIDcsIDggYW5kXG4gKiA5IHdpbGwgc3Vydml2ZSBhbnkgdGVybWluYXRpb24gb2YgdGhpcyBMaWNlbnNlLlxuICogU3ViamVjdCB0byB0aGUgYWJvdmUgdGVybXMgYW5kIGNvbmRpdGlvbnMsIHRoZSBsaWNlbnNlIGdyYW50ZWQgaGVyZSBpcyBwZXJwZXR1YWwgKGZvciB0aGVcbiAqIGR1cmF0aW9uIG9mIHRoZSBhcHBsaWNhYmxlIGNvcHlyaWdodCBpbiB0aGUgV29yaykuIE5vdHdpdGhzdGFuZGluZyB0aGUgYWJvdmUsIExpY2Vuc29yIHJlc2VydmVzXG4gKiB0aGUgcmlnaHQgdG8gcmVsZWFzZSB0aGUgV29yayB1bmRlciBkaWZmZXJlbnQgbGljZW5zZSB0ZXJtcyBvciB0byBzdG9wIGRpc3RyaWJ1dGluZyB0aGUgV29yayBhdFxuICogYW55IHRpbWU7IHByb3ZpZGVkLCBob3dldmVyIHRoYXQgYW55IHN1Y2ggZWxlY3Rpb24gd2lsbCBub3Qgc2VydmUgdG8gd2l0aGRyYXcgdGhpcyBMaWNlbnNlIChvclxuICogYW55IG90aGVyIGxpY2Vuc2UgdGhhdCBoYXMgYmVlbiwgb3IgaXMgcmVxdWlyZWQgdG8gYmUsIGdyYW50ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoaXMgTGljZW5zZSksXG4gKiBhbmQgdGhpcyBMaWNlbnNlIHdpbGwgY29udGludWUgaW4gZnVsbCBmb3JjZSBhbmQgZWZmZWN0IHVubGVzcyB0ZXJtaW5hdGVkIGFzIHN0YXRlZCBhYm92ZS5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaGFsZkRpc3RhbmNlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICogQHJldHVybnMge21hdDN9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhcHN1bGVJbmVydGlhVGVuc29yKGhhbGZEaXN0YW5jZSwgcmFkaXVzLCBtYXNzKSB7Ly8gVE9ETzogVGVzdCB0aGlzIHNvbWVob3cuLi5cbiAgY29uc3QgdGVuc29yID0gbWF0My5jcmVhdGUoKTtcblxuICBjb25zdCBjeWxpbmRlckhlaWdodCA9IGhhbGZEaXN0YW5jZSAqIDI7XG4gIGNvbnN0IHJhZGl1c1NxdWFyZWQgPSByYWRpdXMgKiByYWRpdXM7XG4gIGNvbnN0IGN5bGluZGVyVm9sdW1lID0gTWF0aC5QSSAqIHJhZGl1c1NxdWFyZWQgKiBjeWxpbmRlckhlaWdodDtcbiAgY29uc3QgaGVtaXNwaGVyZUNvbWJpbmVkVm9sdW1lID0gNCAvIDMgKiBNYXRoLlBJICogcmFkaXVzU3F1YXJlZDtcbiAgY29uc3QgY3lsaW5kZXJNYXNzID0gY3lsaW5kZXJWb2x1bWUgLyAoY3lsaW5kZXJWb2x1bWUgKiBoZW1pc3BoZXJlQ29tYmluZWRWb2x1bWUpICogbWFzcztcbiAgY29uc3QgaGVtaXNwaGVyZU1hc3MgPSAobWFzcyAtIGN5bGluZGVyTWFzcykgLyAyO1xuXG4gIC8vIENvbnRyaWJ1dGlvbiBmcm9tIHRoZSBjeWxpbmRlci5cbiAgdGVuc29yWzRdID0gcmFkaXVzU3F1YXJlZCAqIGN5bGluZGVyTWFzcyAvIDI7XG4gIHRlbnNvclswXSA9IHRlbnNvcls0XSAvIDIgKyBjeWxpbmRlck1hc3MgKiBjeWxpbmRlckhlaWdodCAqIGN5bGluZGVySGVpZ2h0IC8gMTI7XG4gIHRlbnNvcls4XSA9IHRlbnNvclswXTtcblxuICAvLyBDb250cmlidXRpb25zIGZyb20gdGhlIGhlbWlzcGhlcmVzLlxuICBjb25zdCB0bXAxID0gaGVtaXNwaGVyZU1hc3MgKiAyICogcmFkaXVzU3F1YXJlZCAvIDU7XG4gIHRlbnNvcls0XSArPSB0bXAxICogMjtcbiAgY29uc3QgdG1wMiA9XG4gICAgICAodG1wMSArIGhlbWlzcGhlcmVNYXNzICogKGhhbGZEaXN0YW5jZSAqIGhhbGZEaXN0YW5jZSArIDMgLyA4ICogY3lsaW5kZXJIZWlnaHQgKiByYWRpdXMpKSAqIDI7XG4gIHRlbnNvclswXSArPSB0bXAyO1xuICB0ZW5zb3JbOF0gKz0gdG1wMjtcblxuICAvLyBUaGUgYWJvdmUgY2FsY3VsYXRpb25zIGFzc3VtZSB0aGUgY2Fwc3VsZSBpcyBhbGlnbmVkIGFsb25nIHRoZSB5LWF4aXMuIEhvd2V2ZXIsIG91ciBkZWZhdWx0XG4gIC8vIGNhcHN1bGUgb3JpZW50YXRpb24gaXMgYWxpZ25lZCBhbG9uZyB0aGUgei1heGlzLlxuICBjb25zdCByb3RhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XG4gIHF1YXQucm90YXRlWChyb3RhdGlvbiwgcm90YXRpb24sIF9nZW9tZXRyeS5IQUxGX1BJKTtcbiAgcm90YXRlVGVuc29yKHRlbnNvciwgdGVuc29yLCByb3RhdGlvbik7XG5cbiAgcmV0dXJuIHRlbnNvcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJucyB7bWF0M31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlLCBtYXNzKSB7XG4gIHN3aXRjaCAoY29sbGlkYWJsZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgY2FzZSAnU3BoZXJlJzpcbiAgICAgIHJldHVybiBjcmVhdGVTcGhlcmVJbmVydGlhVGVuc29yKGNvbGxpZGFibGUucmFkaXVzLCBtYXNzKTtcbiAgICBjYXNlICdBYWJiJzpcbiAgICAgIHJldHVybiBjcmVhdGVCb3hJbmVydGlhVGVuc29yKGNvbGxpZGFibGUucmFuZ2VYLCBjb2xsaWRhYmxlLnJhbmdlWSwgY29sbGlkYWJsZS5yYW5nZVosIG1hc3MpO1xuICAgIGNhc2UgJ0NhcHN1bGUnOlxuICAgICAgcmV0dXJuIGNyZWF0ZUNhcHN1bGVJbmVydGlhVGVuc29yKGNvbGxpZGFibGUuaGFsZkRpc3RhbmNlLCBjb2xsaWRhYmxlLnJhZGl1cywgbWFzcyk7XG4gICAgY2FzZSAnT2JiJzpcbiAgICAgIHJldHVybiBjcmVhdGVCb3hJbmVydGlhVGVuc29yKGNvbGxpZGFibGUuaGFsZlNpZGVMZW5ndGhzWzBdICogMixcbiAgICAgICAgICBjb2xsaWRhYmxlLmhhbGZTaWRlTGVuZ3Roc1sxXSAqIDIsIGNvbGxpZGFibGUuaGFsZlNpZGVMZW5ndGhzWzJdICogMiwgbWFzcyk7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgY3JlYXRlU3BoZXJlSW5lcnRpYVRlbnNvcixcbiAgY3JlYXRlQm94SW5lcnRpYVRlbnNvcixcbiAgY3JlYXRlQ2Fwc3VsZUluZXJ0aWFUZW5zb3IsXG4gIGNyZWF0ZUZvckNvbGxpZGFibGUsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgZ2VuZXJhbCB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqL1xuXG4vLyBUT0RPOiBUaGlzIHNob3VsZCBiZSBzZXQgZnJvbSBzb21ld2hlcmUgZWxzZSAocHJvYmFibHkgYXMgYSBwYXJhbSB0byBjb250cm9sbGVyIGxpa2UgYmVmb3JlOyBidXQgdGhlbiBJIG5lZWQgdG8gbWFrZSB0aGlzIHVwZGF0YWJsZSlcbmNvbnN0IGlzSW5EZXZNb2RlID0gdHJ1ZTtcblxuY29uc3QgX3V0aWwgPSB7XG4gIGlzSW5EZXZNb2RlOiBpc0luRGV2TW9kZVxufTtcblxuZXhwb3J0IHtcbiAgX3V0aWwsXG59O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvY2FtZXJhJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvZmlyc3QtcGVyc29uLWNhbWVyYSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZpeGVkLWNhbWVyYSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZpeGVkLWZvbGxvdy1jYW1lcmEnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9mb2xsb3ctY2FtZXJhJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvdGhpcmQtcGVyc29uLWNhbWVyYSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL292ZXJoZWFkLWNhbWVyYSc7XHJcbiIsImltcG9ydCB7IFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgfSBmcm9tICdsc2wtYW5pbWF0ZXgnO1xyXG5cclxuLy8gVE9ETzogTWFrZSB0aGUgcm90YXRpb24gcXVhdGVybmlvbiBiYXNlZCB3aXRoIDZEb0YuXHJcblxyXG4vLyBUT0RPOiBBZGQgc3VwcG9ydCBmb3Igc2NyaXB0aW5nIHRoZSBjYW1lcmEgdG8gZm9sbG93IGEgY3VydmU6XHJcbi8vIChodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2JiMjAzOTA4KHY9eG5hZ2FtZXN0dWRpby4zMSkuYXNweClcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgY29tbW9uIGNhbWVyYSBsb2dpYy5cclxuICpcclxuICogQGFic3RyYWN0XHJcbiAqL1xyXG5jbGFzcyBDYW1lcmEgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcclxuICAvKipcclxuICAgKiBJZiBvbGRDYW1lcmEgaXMgZ2l2ZW4sIHRoZW4gdGhlIHN0YXRlIG9mIHRoZSBuZXcgY2FtZXJhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdG8gbWF0Y2ggdGhhdCBvZlxyXG4gICAqIHRoZSBvbGQgY2FtZXJhLiBUaGlzIGVuYWJsZXMgYSBzbW9vdGggdHJhbnNpdGlvbiB3aGVuIGNoYW5naW5nIGNhbWVyYXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXHJcbiAgICogQHBhcmFtIHtDYW1lcmF9IFtvbGRDYW1lcmFdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgLy8gQ2FtZXJhIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cclxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBDYW1lcmEpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBDYW1lcmEgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fY2FtZXJhUGFyYW1zID0gY2FtZXJhUGFyYW1zO1xyXG4gICAgdGhpcy5fZm92WSA9IG51bGw7XHJcbiAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IG51bGw7XHJcbiAgICB0aGlzLl96TmVhciA9IG51bGw7XHJcbiAgICB0aGlzLl96RmFyID0gbnVsbDtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgIHRoaXMuX29yaWVudGF0aW9uID0gcXVhdC5jcmVhdGUoKTsgLy8gVE9ETzogVXNlIHRoaXMuXHJcbiAgICB0aGlzLl92aWV3TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgIHRoaXMuX3Byb2plY3Rpb25NYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5fdmlld1Byb2plY3Rpb25NYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX21hdGNoT2xkQ2FtZXJhKG9sZENhbWVyYSk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuX3NldFBlcnNwZWN0aXZlKHRoaXMuX2NhbWVyYVBhcmFtcy5mb3ZZLCB0aGlzLl9jYW1lcmFQYXJhbXMuZGVmYXVsdEFzcGVjdFJhdGlvLFxyXG4gICAgICB0aGlzLl9jYW1lcmFQYXJhbXMuX3pOZWFyLCB0aGlzLl9jYW1lcmFQYXJhbXMuX3pGYXIpO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogQ2FsbCB0aGlzIGFmdGVyIGFkZGluZyBzdXBwb3J0IGZvciBkeW5hbWljYWxseSBzd2l0Y2hpbmcgY2FtZXJhcy5cclxuICBkZXN0cm95KCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoaXMgY2FtZXJhJ3Mgb3JpZW50YXRpb24gYW5kIHBvc2l0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSBleWUgVGhlIGNhbWVyYSBwb3NpdGlvbi5cclxuICAgKiBAcGFyYW0ge3ZlYzN9IHRhcmdldCBUaGUgZm9jYWwgcG9pbnQuXHJcbiAgICogQHBhcmFtIHt2ZWMzfSB1cCBUaGUgbG9jYWwgdXAgZGlyZWN0aW9uLlxyXG4gICAqIEBwYXJhbSB7dmVjM30gdmlld0RpcmVjdGlvbiBUaGUgKG5vcm1hbGl6ZWQpIGRpcmVjdGlvbiB0aGUgY2FtZXJhIGlzIGxvb2tpbmcuXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIF9zZXRQb3NpdGlvbkFuZExvb2tBdChleWUsIHRhcmdldCwgdXAsIHZpZXdEaXJlY3Rpb24pIHtcclxuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgZXllKTtcclxuICAgIHRoaXMuX3NldExvb2tBdEZyb21DdXJyZW50UG9zaXRpb24odGFyZ2V0LCB1cCwgdmlld0RpcmVjdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhpcyBjYW1lcmEncyBvcmllbnRhdGlvbiwgYnV0IGRvIG5vdCBjaGFuZ2UgaXRzIHBvc2l0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSB0YXJnZXQgVGhlIGZvY2FsIHBvaW50LlxyXG4gICAqIEBwYXJhbSB7dmVjM30gdXAgVGhlIGxvY2FsIHVwIGRpcmVjdGlvbi5cclxuICAgKiBAcGFyYW0ge3ZlYzN9IHZpZXdEaXJlY3Rpb24gVGhlIChub3JtYWxpemVkKSBkaXJlY3Rpb24gdGhlIGNhbWVyYSBpcyBsb29raW5nLlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfc2V0TG9va0F0RnJvbUN1cnJlbnRQb3NpdGlvbih0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKSB7XHJcbiAgICBtYXQ0Lmxvb2tBdCh0aGlzLl92aWV3TWF0cml4LCB0aGlzLl9wb3NpdGlvbiwgdGFyZ2V0LCB1cCk7XHJcbiAgICBxdWF0LnJvdGF0aW9uVG8odGhpcy5fb3JpZW50YXRpb24sIHRoaXMuX2NhbWVyYVBhcmFtcy5fZGVmYXVsdExvb2tBdERpcmVjdGlvbiwgdmlld0RpcmVjdGlvbik7IC8vIFRPRE86IENoZWNrIHRoaXM7IG1pZ2h0IG5lZWQgdG8gc3dhcCBhcmd1bWVudHMuXHJcbiAgICB0aGlzLl91cGRhdGVWaWV3UHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVHJhbnNsYXRlIHRoaXMgY2FtZXJhIGJ5IHRoZSBnaXZlbiBhbW91bnQgZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7dmVjM30gdHJhbnNsYXRpb25cclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICovXHJcbiAgX3RyYW5zbGF0ZSh0cmFuc2xhdGlvbikge1xyXG4gICAgdmVjMy5hZGQodGhpcy5fcG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uLCB0cmFuc2xhdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSb3RhdGUgdGhpcyBjYW1lcmEgYnkgdGhlIGdpdmVuIGFtb3VudCBmcm9tIGl0cyBjdXJyZW50IG9yaWVudGF0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtxdWF0fSByb3RhdGlvblxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfcm90YXRlKHJvdGF0aW9uKSB7XHJcbiAgICAvLyBUT0RPXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZm92WSBJbiByYWRpYW5zLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3RSYXRpbyBXaWR0aCAvIGhlaWdodC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gek5lYXJcclxuICAgKiBAcGFyYW0ge251bWJlcn0gekZhclxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfc2V0UGVyc3BlY3RpdmUoZm92WSwgYXNwZWN0UmF0aW8sIHpOZWFyLCB6RmFyKSB7XHJcbiAgICB0aGlzLl9mb3ZZID0gZm92WTtcclxuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87XHJcbiAgICB0aGlzLl96TmVhciA9IHpOZWFyO1xyXG4gICAgdGhpcy5fekZhciA9IHpGYXI7XHJcbiAgICB0aGlzLl91cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZS1jYWxjdWxhdGVzIHRoZSB2aWV3LXByb2plY3Rpb24gbWF0cml4LiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYW55IHRpbWUgZWl0aGVyIHRoZSB2aWV3IG9yXHJcbiAgICogcHJvamVjdGlvbiBtYXRyaWNlcyBpcyB1cGRhdGVkLlxyXG4gICAqXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIF91cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkge1xyXG4gICAgbWF0NC5wZXJzcGVjdGl2ZShcclxuICAgICAgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCwgdGhpcy5fZm92WSwgdGhpcy5fYXNwZWN0UmF0aW8sIHRoaXMuX3pOZWFyLCB0aGlzLl96RmFyKTtcclxuICAgIHRoaXMuX3VwZGF0ZVZpZXdQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZS1jYWxjdWxhdGVzIHRoZSB2aWV3LXByb2plY3Rpb24gbWF0cml4LiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYW55IHRpbWUgZWl0aGVyIHRoZSB2aWV3IG9yXHJcbiAgICogcHJvamVjdGlvbiBtYXRyaWNlcyBpcyB1cGRhdGVkLlxyXG4gICAqXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIF91cGRhdGVWaWV3UHJvamVjdGlvbk1hdHJpeCgpIHtcclxuICAgIG1hdDQubXVsdGlwbHkodGhpcy5fdmlld1Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX3ZpZXdNYXRyaXgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXHJcbiAgICogQGFic3RyYWN0XHJcbiAgICovXHJcbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcclxuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XHJcbiAgfVxyXG5cclxuICBkcmF3KCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZvdlkgVGhlIHZlcnRpY2FsIGZpZWxkIG9mIHZpZXcsIGluIHJhZGlhbnMuXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIHNldCBmb3YoZm92WSkge1xyXG4gICAgdGhpcy5fZm92WSA9IGZvdlk7XHJcbiAgICB0aGlzLl91cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0UmF0aW8gV2lkdGggLyBoZWlnaHQuXHJcbiAgICovXHJcbiAgc2V0IGFzcGVjdFJhdGlvKGFzcGVjdFJhdGlvKSB7XHJcbiAgICB0aGlzLl9zZXRQZXJzcGVjdGl2ZSh0aGlzLl9jYW1lcmFQYXJhbXMuZm92WSwgYXNwZWN0UmF0aW8sIHRoaXMuX2NhbWVyYVBhcmFtcy5fek5lYXIsXHJcbiAgICAgIHRoaXMuX2NhbWVyYVBhcmFtcy5fekZhcik7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXHJcbiAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gIH1cclxuICAvKiogQHJldHVybnMge3F1YXR9ICovXHJcbiAgZ2V0IG9yaWVudGF0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xyXG4gIH1cclxuICAvKiogQHJldHVybnMge21hdDR9ICovXHJcbiAgZ2V0IHZpZXdNYXRyaXgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmlld01hdHJpeDtcclxuICB9XHJcbiAgLyoqIEByZXR1cm5zIHttYXQ0fSAqL1xyXG4gIGdldCBwcm9qZWN0aW9uTWF0cml4KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXg7XHJcbiAgfVxyXG4gIC8qKiBAcmV0dXJucyB7bWF0NH0gKi9cclxuICBnZXQgdmlld1Byb2plY3Rpb25NYXRyaXgoKSB7IC8vIFRPRE86IFN0b3AgdXNpbmcgdGhlIGFib3ZlIHR3byBnZXR0ZXJzIGFuZCB1c2UgdGhpcyBpbnN0ZWFkP1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdQcm9qZWN0aW9uTWF0cml4O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoaXMgY2FtZXJhJ3Mgc3RhdGUgdG8gbWF0Y2ggdGhlIGdpdmVuIG9sZCBjYW1lcmEuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0NhbWVyYX0gb2xkQ2FtZXJhXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIF9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpIHtcclxuICAgIGlmICghb2xkQ2FtZXJhKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2ZvdlkgPSBvbGRDYW1lcmEuX2Zvdlk7XHJcbiAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IG9sZENhbWVyYS5fYXNwZWN0UmF0aW87XHJcbiAgICB0aGlzLl96TmVhciA9IG9sZENhbWVyYS5fek5lYXI7XHJcbiAgICB0aGlzLl96RmFyID0gb2xkQ2FtZXJhLl96RmFyO1xyXG4gICAgdmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCBvbGRDYW1lcmEuX3Bvc2l0aW9uKTtcclxuICAgIHZlYzMuY29weSh0aGlzLl9vcmllbnRhdGlvbiwgb2xkQ2FtZXJhLl9vcmllbnRhdGlvbik7XHJcbiAgICBtYXQ0LmNvcHkodGhpcy5fdmlld01hdHJpeCwgb2xkQ2FtZXJhLl92aWV3TWF0cml4KTtcclxuICAgIG1hdDQuY29weSh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCBvbGRDYW1lcmEuX3Byb2plY3Rpb25NYXRyaXgpO1xyXG4gICAgbWF0NC5jb3B5KHRoaXMuX3ZpZXdQcm9qZWN0aW9uTWF0cml4LCBvbGRDYW1lcmEuX3ZpZXdQcm9qZWN0aW9uTWF0cml4KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENhbWVyYSB9O1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gQ2FtZXJhQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb3ZZXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWZhdWx0QXNwZWN0UmF0aW9cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IF96TmVhclxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gX3pGYXJcclxuICogQHByb3BlcnR5IHt2ZWMzfSBfZGVmYXVsdExvb2tBdERpcmVjdGlvblxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGb2xsb3dDYW1lcmFDb25maWdcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNwcmluZ0NvZWZmaWNpZW50XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYW1waW5nQ29lZmZpY2llbnRcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGludGVuZGVkRGlzdGFuY2VGcm9tVGFyZ2V0XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnRlbmRlZFJvdGF0aW9uQW5nbGVGcm9tVGFyZ2V0XHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gaW50ZW5kZWRSb3RhdGlvbkF4aXNGcm9tVGFyZ2V0XHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gX2ludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gaW50ZW5kZWREaXNwbGFjZW1lbnRGcm9tVGFyZ2V0XHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gdmlld0RpcmVjdGlvblxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGFyZ2V0RGlzdGFuY2VcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gRml4ZWRDYW1lcmFDb25maWdcclxuICogQHByb3BlcnR5IHt2ZWMzfSBwb3NpdGlvblxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IHZpZXdEaXJlY3Rpb25cclxuICogQHByb3BlcnR5IHt2ZWMzfSBfdXBcclxuICovXHJcbiIsImltcG9ydCB7IENhbWVyYSB9IGZyb20gJy4vY2FtZXJhJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBmaXJzdC1wZXJzb24gY2FtZXJhLlxyXG4gKlxyXG4gKiBBIGZpcnN0LXBlcnNvbiBjYW1lcmEgaXMgcG9zaXRpb25lZCBhdCBhIGNoYXJhY3RlciBhbmQgbW92ZXMgYW5kIHJvdGF0ZXMgd2l0aCB0aGUgY2hhcmFjdGVyLlxyXG4gKi9cclxuY2xhc3MgRmlyc3RQZXJzb25DYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcclxuICAgKiBAcGFyYW0ge0ZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnfSBmaXJzdFBlcnNvbkNhbWVyYVBhcmFtc1xyXG4gICAqIEBwYXJhbSB7Q2FtZXJhQ29uZmlnfSBjYW1lcmFQYXJhbXNcclxuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihjYW1lcmFUYXJnZXQsIGZpcnN0UGVyc29uQ2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSkge1xyXG4gICAgc3VwZXIoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xyXG4gICAgdGhpcy5fY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xyXG4gICAgdGhpcy5fZmlyc3RQZXJzb25DYW1lcmFQYXJhbXMgPSBmaXJzdFBlcnNvbkNhbWVyYVBhcmFtcztcclxuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5fdXBkYXRlT3JpZW50YXRpb24oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xyXG4gICAgY29uc3QgaW50ZW5kZWRQb3NpdGlvbiA9IHRoaXMuX2dldEludGVuZGVkUG9zaXRpb24oKTtcclxuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgaW50ZW5kZWRQb3NpdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIG9yaWVudGF0aW9uIHVzaW5nIHRoZSBcImxvb2sgYXRcIiBtZXRob2QgYWNjb3JkaW5nIHRvIGl0cyBwb3NpdGlvbiBhbmQgdGhlXHJcbiAgICogcG9zaXRpb24gb2YgaXRzIHRhcmdldC5cclxuICAgKlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfdXBkYXRlT3JpZW50YXRpb24oKSB7XHJcbiAgICAvLyBHZXQgdGhlIHZpZXcgZGlyZWN0aW9uLCBhbmQgdHJhbnNmb3JtIGl0IHRvIGFsaWduIHdpdGggdGhlIHRhcmdldCdzIG9yaWVudGF0aW9uLlxyXG4gICAgY29uc3Qgdmlld0RpcmVjdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB2ZWMzLmNvcHkodmlld0RpcmVjdGlvbiwgdGhpcy5fZmlyc3RQZXJzb25DYW1lcmFQYXJhbXMudmlld0RpcmVjdGlvbik7XHJcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodmlld0RpcmVjdGlvbiwgdmlld0RpcmVjdGlvbiwgdGhpcy5fY2FtZXJhVGFyZ2V0Lm9yaWVudGF0aW9uKTtcclxuXHJcbiAgICBjb25zdCB0YXJnZXQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy5zY2FsZUFuZEFkZCh0YXJnZXQsIHRoaXMuX3Bvc2l0aW9uLCB2aWV3RGlyZWN0aW9uLFxyXG4gICAgICB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcy50YXJnZXREaXN0YW5jZSk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBcInVwXCIgYXMgdGhlIHdvcmxkIHotYXhpcy5cclxuICAgIGNvbnN0IHVwID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhIHRhcmdldCdzIGxvY2FsIHotYXhpcy5cclxuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh1cCwgdXAsIHRoaXMuX2NhbWVyYVRhcmdldC5vcmllbnRhdGlvbik7XHJcblxyXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy5jcm9zcyhyaWdodCwgdmlld0RpcmVjdGlvbiwgdXApO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhJ3MgbG9jYWwgei1heGlzLlxyXG4gICAgdmVjMy5jcm9zcyh1cCwgcmlnaHQsIHZpZXdEaXJlY3Rpb24pO1xyXG5cclxuICAgIHRoaXMuX3NldFBvc2l0aW9uQW5kTG9va0F0KHRoaXMuX3Bvc2l0aW9uLCB0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCBwb3NpdGlvbiBmb3IgdGhpcyBjYW1lcmEgdG8gYmUgaW4gYWNjb3JkaW5nIHRvIHRoZSBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlXHJcbiAgICogY2FtZXJhIHRhcmdldC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKi9cclxuICBfZ2V0SW50ZW5kZWRQb3NpdGlvbigpIHtcclxuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy50cmFuc2Zvcm1NYXQ0KFxyXG4gICAgICBpbnRlbmRlZFBvc2l0aW9uLFxyXG4gICAgICB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcy5pbnRlbmRlZERpc3BsYWNlbWVudEZyb21UYXJnZXQsXHJcbiAgICAgIHRoaXMuX2NhbWVyYVRhcmdldC53b3JsZFRyYW5zZm9ybSk7XHJcbiAgICByZXR1cm4gaW50ZW5kZWRQb3NpdGlvbjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEZpcnN0UGVyc29uQ2FtZXJhIH07XHJcbiIsImltcG9ydCB7Q2FtZXJhfSBmcm9tICcuL2NhbWVyYSc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgZml4ZWQgY2FtZXJhLlxyXG4gKlxyXG4gKiBBIGZpeGVkIGNhbWVyYSdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBhcmUgdXBkYXRlZCBtYW51YWxseSBhbmQgcmVtYWluIGZpeGVkIHVudGlsIGEgbGF0ZXJcclxuICogdXBkYXRlLlxyXG4gKi9cclxuY2xhc3MgRml4ZWRDYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xyXG4gIC8qKlxyXG4gICAqIElmIG9sZENhbWVyYSBpcyBnaXZlbiwgdGhlbiB0aGUgc3RhdGUgb2YgdGhlIG5ldyBjYW1lcmEgd2lsbCBiZSBpbml0aWFsaXplZCB0byBtYXRjaCB0aGF0IG9mXHJcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Rml4ZWRDYW1lcmFDb25maWd9IGZpeGVkQ2FtZXJhUGFyYW1zXHJcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xyXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGZpeGVkQ2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSkge1xyXG4gICAgc3VwZXIoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xyXG5cclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gZml4ZWRDYW1lcmFQYXJhbXMucG9zaXRpb247XHJcbiAgICB0aGlzLl92aWV3RGlyZWN0aW9uID0gZml4ZWRDYW1lcmFQYXJhbXMudmlld0RpcmVjdGlvbjtcclxuICAgIHRoaXMuX3VwID0gZml4ZWRDYW1lcmFQYXJhbXMuX3VwO1xyXG4gICAgdGhpcy5fX3RhcmdldCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcbiAgICB0aGlzLl91cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxyXG5cclxuICBfdXBkYXRlKCkge1xyXG4gICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdmlld0RpcmVjdGlvbiwgdGhpcy5fdmlld0RpcmVjdGlvbik7XHJcbiAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl91cCwgdGhpcy5fdXApO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhJ3MgbG9jYWwgei1heGlzLlxyXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy5jcm9zcyhyaWdodCwgdGhpcy5fdmlld0RpcmVjdGlvbiwgdGhpcy5fdXApO1xyXG4gICAgdmVjMy5jcm9zcyh0aGlzLl91cCwgcmlnaHQsIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xyXG5cclxuICAgIHRoaXMuX3NldFBvc2l0aW9uQW5kTG9va0F0KHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl90YXJnZXQsIHRoaXMuX3VwLCB0aGlzLl92aWV3RGlyZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcGFyYW0ge3ZlYzN9IG5ld0RpcmVjdGlvbiAqL1xyXG4gIHNldCB2aWV3RGlyZWN0aW9uKG5ld0RpcmVjdGlvbikge1xyXG4gICAgdmVjMy5jb3B5KHRoaXMuX3ZpZXdEaXJlY3Rpb24sIG5ld0RpcmVjdGlvbik7XHJcbiAgICB0aGlzLl91cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcGFyYW0ge3ZlYzN9IG5ld1VwICovXHJcbiAgc2V0IHVwKG5ld1VwKSB7XHJcbiAgICB2ZWMzLmNvcHkodGhpcy5fdXAsIG5ld1VwKTtcclxuICAgIHRoaXMuX3VwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEBwYXJhbSB7dmVjM30gbmV3UG9zaXRpb24gKi9cclxuICBzZXQgcG9zaXRpb24obmV3UG9zaXRpb24pIHtcclxuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgbmV3UG9zaXRpb24pO1xyXG4gICAgdGhpcy5fdXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXHJcbiAgLy8gVE9ETzogTG9vayBpbnRvIHdoYXRldmVyIGJ1ZyBwcmV2ZW50cyB0aGUgcGFyZW50LWNsYXNzIGdldHRlciBmcm9tIHdvcmtpbmcuXHJcbiAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xyXG4gIGdldCB2aWV3RGlyZWN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdEaXJlY3Rpb247XHJcbiAgfVxyXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cclxuICBnZXQgdXAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXA7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ2V0IF90YXJnZXQoKSB7XHJcbiAgICByZXR1cm4gdmVjMy5hZGQodGhpcy5fX3RhcmdldCwgdGhpcy5fcG9zaXRpb24sIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtDYW1lcmF9IG9sZENhbWVyYVxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKSB7XHJcbiAgICBzdXBlci5fbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKTtcclxuICAgIGlmIChvbGRDYW1lcmEgaW5zdGFuY2VvZiBGaXhlZENhbWVyYSkge1xyXG4gICAgICB2ZWMzLmNvcHkodGhpcy5fdmlld0RpcmVjdGlvbiwgb2xkQ2FtZXJhLl92aWV3RGlyZWN0aW9uKTtcclxuICAgICAgdmVjMy5jb3B5KHRoaXMuX3VwLCBvbGRDYW1lcmEuX3VwKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Rml4ZWRDYW1lcmF9O1xyXG4iLCJpbXBvcnQge0ZvbGxvd0NhbWVyYX0gZnJvbSAnLi9mb2xsb3ctY2FtZXJhJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBmaXhlZC1vZmZzZXQgZm9sbG93IGNhbWVyYS5cclxuICpcclxuICogVGhpcyBjYW1lcmEgaXMgcG9zaXRpb25lZCBhdCBhIHJlbGF0aXZlLCBmaXhlZCBkaXN0YW5jZSBhbmQgcm90YXRpb24gZnJvbSB0aGUgb2JzZXJ2ZWQgdGFyZ2V0XHJcbiAqIGFuZCBmb2xsb3dzIHRoZSB0YXJnZXQncyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gYXQgdGhpcyBmaXhlZCBkaXN0YW5jZS5cclxuICpcclxuICogQSBmb2xsb3cgY2FtZXJhIHJvdGF0ZXMgaW4gYWxsIHRocmVlIGRpbWVuc2lvbnM7IGl0IGRvZXMgbm90IGhhdmUgYSBmaXhlZCByb2xsLlxyXG4gKi9cclxuY2xhc3MgRml4ZWRGb2xsb3dDYW1lcmEgZXh0ZW5kcyBGb2xsb3dDYW1lcmEge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5fdXBkYXRlT3JpZW50YXRpb24oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xyXG4gICAgY29uc3QgaW50ZW5kZWRQb3NpdGlvbiA9IHRoaXMuX2dldEludGVuZGVkUG9zaXRpb24oKTtcclxuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgaW50ZW5kZWRQb3NpdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge0ZpeGVkRm9sbG93Q2FtZXJhfTtcclxuIiwiaW1wb3J0IHtUaGlyZFBlcnNvbkNhbWVyYX0gZnJvbSAnLi90aGlyZC1wZXJzb24tY2FtZXJhJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYW4gYWJzdHJhY3QgZm9sbG93IGNhbWVyYS5cclxuICpcclxuICogVGhpcyBpcyBhIHRoaXJkLXBlcnNvbiB0eXBlIG9mIGNhbWVyYSB3aG9zZSByb2xsIGFsd2F5cyBtYXRjaGVzIHRoYXQgb2YgdGhlIHRhcmdldC5cclxuICovXHJcbmNsYXNzIEZvbGxvd0NhbWVyYSBleHRlbmRzIFRoaXJkUGVyc29uQ2FtZXJhIHtcclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIG9yaWVudGF0aW9uIHVzaW5nIHRoZSBcImxvb2sgYXRcIiBtZXRob2QgYWNjb3JkaW5nIHRvIGl0cyBwb3NpdGlvbiBhbmQgdGhlXHJcbiAgICogcG9zaXRpb24gb2YgaXRzIHRhcmdldC5cclxuICAgKlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfdXBkYXRlT3JpZW50YXRpb24oKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9jYW1lcmFUYXJnZXQucG9zaXRpb247XHJcblxyXG4gICAgY29uc3Qgdmlld0RpcmVjdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB2ZWMzLnN1YnRyYWN0KHZpZXdEaXJlY3Rpb24sIHRhcmdldCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgdmVjMy5ub3JtYWxpemUodmlld0RpcmVjdGlvbiwgdmlld0RpcmVjdGlvbik7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBcInVwXCIgYXMgdGhlIHdvcmxkIHotYXhpcy5cclxuICAgIGNvbnN0IHVwID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhIHRhcmdldCdzIGxvY2FsIHotYXhpcy5cclxuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh1cCwgdXAsIHRoaXMuX2NhbWVyYVRhcmdldC5vcmllbnRhdGlvbik7XHJcblxyXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy5jcm9zcyhyaWdodCwgdmlld0RpcmVjdGlvbiwgdXApO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhJ3MgbG9jYWwgei1heGlzLlxyXG4gICAgdmVjMy5jcm9zcyh1cCwgcmlnaHQsIHZpZXdEaXJlY3Rpb24pO1xyXG5cclxuICAgIHRoaXMuX3NldFBvc2l0aW9uQW5kTG9va0F0KHRoaXMuX3Bvc2l0aW9uLCB0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Rm9sbG93Q2FtZXJhfTtcclxuIiwiaW1wb3J0IHtUaGlyZFBlcnNvbkNhbWVyYX0gZnJvbSAnLi90aGlyZC1wZXJzb24tY2FtZXJhJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYW4gb3ZlcmhlYWQgY2FtZXJhLlxyXG4gKlxyXG4gKiBBbiBvdmVyaGVhZCBjYW1lcmEgc2l0cyBhYm92ZSB0aGUgb2JzZXJ2ZWQgY2hhcmFjdGVyIGFuZCBtb3ZlcyByZWxhdGl2ZSB0byB0aGUgY2hhcmFjdGVyIHdpdGhvdXRcclxuICogcm90YXRpbmcuXHJcbiAqXHJcbiAqIEFuIG92ZXJoZWFkIGNhbWVyYSdzIHJvdGF0aW9uIHdpdGggdGhlIGNoYXJhY3RlciBpbmNsdWRlcyBvbmx5IHlhdzsgaXQgaGFzIGEgZml4ZWQgcGl0Y2ggYW5kXHJcbiAqIHJvbGwuXHJcbiAqL1xyXG5jbGFzcyBPdmVyaGVhZENhbWVyYSBleHRlbmRzIFRoaXJkUGVyc29uQ2FtZXJhIHtcclxuICAvKipcclxuICAgKiBJZiBvbGRDYW1lcmEgaXMgZ2l2ZW4sIHRoZW4gdGhlIHN0YXRlIG9mIHRoZSBuZXcgY2FtZXJhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdG8gbWF0Y2ggdGhhdCBvZlxyXG4gICAqIHRoZSBvbGQgY2FtZXJhLiBUaGlzIGVuYWJsZXMgYSBzbW9vdGggdHJhbnNpdGlvbiB3aGVuIGNoYW5naW5nIGNhbWVyYXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0NhbWVyYVRhcmdldH0gY2FtZXJhVGFyZ2V0XHJcbiAgICogQHBhcmFtIHtGb2xsb3dDYW1lcmFDb25maWd9IGZvbGxvd0NhbWVyYVBhcmFtc1xyXG4gICAqIEBwYXJhbSB7Q2FtZXJhQ29uZmlnfSBjYW1lcmFQYXJhbXNcclxuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihjYW1lcmFUYXJnZXQsIGZvbGxvd0NhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcclxuICAgIHN1cGVyKGNhbWVyYVRhcmdldCwgZm9sbG93Q2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSk7XHJcblxyXG4gICAgdGhpcy5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICBzdXBlci5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogSW1wbGVtZW50IHRoaXMhXHJcbn1cclxuXHJcbmV4cG9ydCB7T3ZlcmhlYWRDYW1lcmF9O1xyXG4iLCJpbXBvcnQge0NhbWVyYX0gZnJvbSAnLi9jYW1lcmEnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBhYnN0cmFjdCB0aGlyZC1wZXJzb24gY2FtZXJhLlxyXG4gKlxyXG4gKiBBIHRoaXJkLXBlcnNvbiBjYW1lcmEgZm9sbG93cyBhIHRhcmdldCBmcm9tIGEgZGlzdGFuY2UuXHJcbiAqXHJcbiAqIEBhYnN0cmFjdFxyXG4gKi9cclxuY2xhc3MgVGhpcmRQZXJzb25DYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xyXG4gIC8qKlxyXG4gICAqIElmIG9sZENhbWVyYSBpcyBnaXZlbiwgdGhlbiB0aGUgc3RhdGUgb2YgdGhlIG5ldyBjYW1lcmEgd2lsbCBiZSBpbml0aWFsaXplZCB0byBtYXRjaCB0aGF0IG9mXHJcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcclxuICAgKiBAcGFyYW0ge0ZvbGxvd0NhbWVyYUNvbmZpZ30gZm9sbG93Q2FtZXJhUGFyYW1zXHJcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xyXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGNhbWVyYVRhcmdldCwgZm9sbG93Q2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSkge1xyXG4gICAgc3VwZXIoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xyXG5cclxuICAgIC8vIFRoaXJkUGVyc29uQ2FtZXJhIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cclxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBUaGlyZFBlcnNvbkNhbWVyYSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFRoaXJkUGVyc29uQ2FtZXJhIGluc3RhbmNlcyBkaXJlY3RseScpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcyA9IGZvbGxvd0NhbWVyYVBhcmFtcztcclxuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCBwb3NpdGlvbiBmb3IgdGhpcyBjYW1lcmEgdG8gYmUgaW4gYWNjb3JkaW5nIHRvIHRoZSBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlXHJcbiAgICogY2FtZXJhIHRhcmdldC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKi9cclxuICBfZ2V0SW50ZW5kZWRQb3NpdGlvbigpIHtcclxuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy50cmFuc2Zvcm1NYXQ0KFxyXG4gICAgICAgIGludGVuZGVkUG9zaXRpb24sXHJcbiAgICAgICAgdGhpcy5fZm9sbG93Q2FtZXJhUGFyYW1zLl9pbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCxcclxuICAgICAgICB0aGlzLl9jYW1lcmFUYXJnZXQud29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgcmV0dXJuIGludGVuZGVkUG9zaXRpb247XHJcbiAgfVxyXG5cclxuICAvKiogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldCAqL1xyXG4gIHNldCBjYW1lcmFUYXJnZXQoY2FtZXJhVGFyZ2V0KSB7XHJcbiAgICB0aGlzLl9jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1RoaXJkUGVyc29uQ2FtZXJhfTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYW1lcmFUYXJnZXRcclxuICogQHByb3BlcnR5IHt2ZWMzfSBwb3NpdGlvbiBJbiB3b3JsZCBjb29yZGluYXRlcy5cclxuICogQHByb3BlcnR5IHtxdWF0fSBvcmllbnRhdGlvbiBSZWxhdGl2ZSB0byB0aGUgd29ybGQgYXhlcy5cclxuICogQHByb3BlcnR5IHttYXQ0fSB3b3JsZFRyYW5zZm9ybSBUaGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAqL1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgdGhlIGV4cG9ydHMgaW4gdGhlIGdyYWZ4IGZyYW1ld29yay4gVGhpcyBtYWtlcyB0aGUgZW50aXJlIGZyYW1ld29ya1xyXG4gKiBjb252ZW5pZW50bHkgYWNjZXNzaWJsZSB2aWEgdGhpcyBzaW5nbGUgbW9kdWxlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vY2FtZXJhcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vbW9kZWxzJztcclxuZXhwb3J0ICogZnJvbSAnLi9wcm9ncmFtLXdyYXBwZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3JlbmRlcmFibGUtc2hhcGVzJztcclxuZXhwb3J0ICogZnJvbSAnLi91dGlsJztcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dyYWZ4LWNvbnRyb2xsZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9saWdodCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NjZW5lJztcclxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvZGVmYXVsdC1tb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ludmlzaWJsZS1tb2RlbC1jb250cm9sbGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvbW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9tb2RlbC1jb250cm9sbGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvbW9kZWwtZ3JvdXAtY29udHJvbGxlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3N0YW5kYXJkLW1vZGVsLWNvbnRyb2xsZXInO1xyXG4iLCJpbXBvcnQge2NyZWF0ZUJ1ZmZlckZyb21EYXRhfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHtNb2RlbH0gZnJvbSAnLi9tb2RlbCc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcmlnaWQgbW9kZWwuXHJcbiAqXHJcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gYWNjZXB0cyBhIFJlbmRlcmFibGVTaGFwZSBhbmQgYXBwbGllcyBzdGFuZGFyZCBPcGVuR0wgYmluZGluZyBsb2dpYyBvbiB0b3BcclxuICogb2YgaXQuXHJcbiAqL1xyXG5jbGFzcyBEZWZhdWx0TW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGV9IHNoYXBlQ29uZmlnXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZ2wsIHNoYXBlQ29uZmlnKSB7XHJcbiAgICBzdXBlcihnbCk7XHJcbiAgICB0aGlzLl9zaGFwZUNvbmZpZyA9IHNoYXBlQ29uZmlnO1xyXG4gICAgdGhpcy5faW5pdGlhbGl6ZUJ1ZmZlcnMoKTtcclxuICAgIHRoaXMuX2luaXRpYWxpemVDb25maWdzKCk7XHJcbiAgfVxyXG5cclxuICBfaW5pdGlhbGl6ZUJ1ZmZlcnMoKSB7XHJcbiAgICAvLyBDcmVhdGUsIGJpbmQsIGFuZCBtb3ZlIGRhdGEgaW50byBidWZmZXJzIGZvciB0aGUgdmVydGV4IHBvc2l0aW9ucywgbm9ybWFscywgdGV4dHVyZVxyXG4gICAgLy8gY29vcmRpbmF0ZXMsIGFuZCBlbGVtZW50IGFycmF5LlxyXG4gICAgdGhpcy5fdmVydGV4UG9zaXRpb25zQnVmZmVyID0gY3JlYXRlQnVmZmVyRnJvbURhdGEodGhpcy5fZ2wsIHRoaXMuX3NoYXBlQ29uZmlnLnZlcnRleFBvc2l0aW9ucyk7XHJcbiAgICB0aGlzLl92ZXJ0ZXhOb3JtYWxzQnVmZmVyID0gY3JlYXRlQnVmZmVyRnJvbURhdGEodGhpcy5fZ2wsIHRoaXMuX3NoYXBlQ29uZmlnLnZlcnRleE5vcm1hbHMpO1xyXG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyID1cclxuICAgICAgICBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgdGhpcy5fc2hhcGVDb25maWcudGV4dHVyZUNvb3JkaW5hdGVzKTtcclxuICAgIGlmICh0aGlzLl9zaGFwZUNvbmZpZy52ZXJ0ZXhJbmRpY2VzKSB7XHJcbiAgICAgIHRoaXMuX3ZlcnRleEluZGljZXNCdWZmZXIgPSBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgdGhpcy5fc2hhcGVDb25maWcudmVydGV4SW5kaWNlcyxcclxuICAgICAgICAgIHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9pbml0aWFsaXplQ29uZmlncygpIHtcclxuICAgIHRoaXMuX3ZlcnRleFBvc2l0aW9uc0NvbmZpZyA9IHtcclxuICAgICAgYnVmZmVyOiB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNCdWZmZXIsXHJcbiAgICAgIHNpemU6IDMsXHJcbiAgICAgIHR5cGU6IHRoaXMuX2dsLkZMT0FULFxyXG4gICAgICBub3JtYWxpemVkOiBmYWxzZSxcclxuICAgICAgc3RyaWRlOiAwLFxyXG4gICAgICBvZmZzZXQ6IDBcclxuICAgIH07XHJcbiAgICB0aGlzLl90ZXh0dXJlQ29vcmRpbmF0ZXNDb25maWcgPSB7XHJcbiAgICAgIGJ1ZmZlcjogdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyLFxyXG4gICAgICBzaXplOiAyLFxyXG4gICAgICB0eXBlOiB0aGlzLl9nbC5GTE9BVCxcclxuICAgICAgbm9ybWFsaXplZDogZmFsc2UsXHJcbiAgICAgIHN0cmlkZTogMCxcclxuICAgICAgb2Zmc2V0OiAwXHJcbiAgICB9O1xyXG4gICAgdGhpcy5fdmVydGV4Tm9ybWFsc0NvbmZpZyA9IHtcclxuICAgICAgYnVmZmVyOiB0aGlzLl92ZXJ0ZXhOb3JtYWxzQnVmZmVyLFxyXG4gICAgICBzaXplOiAzLFxyXG4gICAgICB0eXBlOiB0aGlzLl9nbC5GTE9BVCxcclxuICAgICAgbm9ybWFsaXplZDogZmFsc2UsXHJcbiAgICAgIHN0cmlkZTogMCxcclxuICAgICAgb2Zmc2V0OiAwXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXHJcbiAgZ2V0IGVsZW1lbnRDb3VudCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9zaGFwZUNvbmZpZy5lbGVtZW50Q291bnQ7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cclxuICBnZXQgbW9kZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9nbC5UUklBTkdMRVM7XHJcbiAgICAvL3JldHVybiB0aGlzLl9nbC5MSU5FX1NUUklQOy8vIFRPRE86IFJFTU9WRSBNRVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtEZWZhdWx0TW9kZWx9O1xyXG4iLCJpbXBvcnQge01vZGVsQ29udHJvbGxlcn0gZnJvbSAnLi9tb2RlbC1jb250cm9sbGVyJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYW4gZXh0ZW5zaW9uIG9mIHRoZSBtb2RlbC1jb250cm9sbGVyIGNsYXNzIHRoYXQgd2lsbCBtYWludGFpbiBzdGF0ZSBidXQgd2lsbFxyXG4gKiBuZXZlciByZW5kZXIgYW55dGhpbmcuXHJcbiAqL1xyXG5jbGFzcyBJbnZpc2libGVNb2RlbENvbnRyb2xsZXIgZXh0ZW5kcyBNb2RlbENvbnRyb2xsZXIge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyQ29uZmlnfSBwYXJhbXNcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcclxuICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge31cclxuXHJcbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XHJcblxyXG4gIGRyYXcoKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyB0aGUgcHJvZ3JhbSB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnKCkge1xyXG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IG1ldGhvZCB0byBpbnN0ZWFkIGRvIG5vdGhpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuICBfc2V0VXBQcm9ncmFtV3JhcHBlcihpZCkge1xyXG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCA9IGlkO1xyXG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7SW52aXNpYmxlTW9kZWxDb250cm9sbGVyfTtcclxuIiwiaW1wb3J0IHtQZXJzaXN0ZW50QW5pbWF0aW9uSm9ifSBmcm9tICdsc2wtYW5pbWF0ZXgnO1xyXG5pbXBvcnQge1xyXG4gIHByb2dyYW1XcmFwcGVyU3RvcmUsXHJcbiAgdGV4dHVyZVN0b3JlLFxyXG59IGZyb20gJy4uLy4uL3Byb2dyYW0td3JhcHBlcic7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgbW9kZWwtY29udHJvbGxlciBjbGFzcy5cclxuICpcclxuICogVGhpcyBzaG91bGQgYmUgZXh0ZW5kZWQgYnkgYWxsIGNvbXBvbmVudHMgdGhhdCBoYW5kbGUgbW9kZWxzLS1pLmUuLCBhbnl0aGluZyB0aGF0IHdpbGwgYmVcclxuICogcmVuZGVyaW5nIHNoYXBlcy5cclxuICpcclxuICogQGltcGxlbWVudHMge01vZGVsQ29udHJvbGxlckludGVyZmFjZX1cclxuICogQGFic3RyYWN0XHJcbiAqL1xyXG5jbGFzcyBNb2RlbENvbnRyb2xsZXIgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcclxuICAvKipcclxuICAgKiBQUkVDT05ESVRJT046IFRoZSBQcm9ncmFtV3JhcHBlciByZWZlcmVuY2VkIGJ5IHRoZSBnaXZlbiBwYXJhbXMgbXVzdCBoYXZlIGFscmVhZHkgYmVlblxyXG4gICAqIHJlZ2lzdGVyZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIE1vZGVsQ29udHJvbGxlciBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXHJcbiAgICBpZiAobmV3LnRhcmdldCA9PT0gTW9kZWxDb250cm9sbGVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgTW9kZWxDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2dsID0gcGFyYW1zLmdsO1xyXG4gICAgdGhpcy5fZ2V0Vmlld01hdHJpeCA9IHBhcmFtcy5nZXRWaWV3TWF0cml4O1xyXG4gICAgdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCA9IHBhcmFtcy5nZXRQcm9qZWN0aW9uTWF0cml4O1xyXG4gICAgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gPSBwYXJhbXMuZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm07XHJcbiAgICB0aGlzLl9sb2NhbFRyYW5zZm9ybSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICB0aGlzLl93b3JsZFRyYW5zZm9ybSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyID0gbnVsbDtcclxuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVySWQgPSBudWxsO1xyXG4gICAgdGhpcy5fZHJhd0ZyYW1lSGFuZGxlciA9ICgpID0+IHRoaXMuZHJhdygpO1xyXG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB0aGlzLnNjYWxlID0gdmVjMy5mcm9tVmFsdWVzKDEsIDEsIDEpO1xyXG5cclxuICAgIHRoaXMuX3NldFVwVGV4dHVyZShwYXJhbXMudGV4dHVyZVBhdGgpO1xyXG4gICAgdGhpcy5fc2V0VXBQcm9ncmFtV3JhcHBlcihwYXJhbXMucHJvZ3JhbVdyYXBwZXJJZCk7XHJcblxyXG4gICAgdGhpcy5faXNSZWFkeVByb21pc2UgPSBQcm9taXNlLmFsbChbXHJcbiAgICAgIHRoaXMuX3RleHR1cmVQcm9taXNlLFxyXG4gICAgICB0aGlzLl9wcm9ncmFtV3JhcHBlclByb21pc2UsXHJcbiAgICBdKTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGVkIHdoZW4gdGhpcyBpcyBkb25lIGJlaW5nIHVzZWQsIGFuZCBpcyBiZWluZyBkZXN0cm95ZWQgZnJvbSBtZW1vcnkuXHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHByb2dyYW1XcmFwcGVyU3RvcmUudW5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIodGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCwgdGhpcy5fZHJhd0ZyYW1lSGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxscyB1cGRhdGUsIHVwZGF0ZVRyYW5zZm9ybXMsIGFuZCB1cGRhdGVDaGlsZHJlbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICB0aGlzLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcclxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtcygpO1xyXG4gICAgdGhpcy51cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgcmVsZXZhbnQgc3RhdGUgZm9yIHRoZSBzdWItY2xhc3MuXHJcbiAgICpcclxuICAgKiAtIFRoaXMgZG9lcyBub3QgcmVjdXJzaXZlbHkgdXBkYXRlIGRlc2NlbmRhbnQgbW9kZWwgY29udHJvbGxlcnM7IHRoYXQncyBoYW5kbGVkIGJ5XHJcbiAgICogICB1cGRhdGVDaGlsZHJlbi5cclxuICAgKiAtIFRoaXMgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2NhbCBvciB3b3JsZC1jb29yZGluYXRlIHRyYW5zZm9ybXM7IHRoYXQncyBoYW5kbGVkIGJ5XHJcbiAgICogICB1cGRhdGVUcmFuc2Zvcm1zLlxyXG4gICAqIC0gVGhpcyBpcyBjYWxsZWQgYmVmb3JlIHVwZGF0ZUxvY2FsVHJhbnNmb3JtIGFuZCB1cGRhdGVDaGlsZHJlbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgd29ybGQtY29vcmRpbmF0ZSBhbmQgbG9jYWwtY29vcmRpbmF0ZSBtb2RlbCBtYXRyaWNlcy5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIHVwZGF0ZSBhbmQgYmVmb3JlIHVwZGF0ZUNoaWxkcmVuLlxyXG4gICAqXHJcbiAgICogTk9URTogQWxsIG92ZXJyaWRlcyBvZiB0aGlzIG1ldGhvZCBzaG91bGQgdXBkYXRlIFt0aGlzLl9sb2NhbFRyYW5zZm9ybV0uXHJcbiAgICovXHJcbiAgdXBkYXRlVHJhbnNmb3JtcygpIHtcclxuICAgIG1hdDQubXVsdGlwbHkodGhpcy5fd29ybGRUcmFuc2Zvcm0sIHRoaXMuX2dldFBhcmVudFdvcmxkVHJhbnNmb3JtKCksIHRoaXMuX2xvY2FsVHJhbnNmb3JtKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgcmVsZXZhbnQgc3RhdGUgZm9yIGFueSBjaGlsZHJlbiBtb2RlbCBjb250cm9sbGVycy5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIHVwZGF0ZSBhbmQgdXBkYXRlTG9jYWxUcmFuc2Zvcm0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXHJcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcclxuICAgKi9cclxuICB1cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKi9cclxuICBkcmF3KCkge1xyXG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge21hdDR9XHJcbiAgICovXHJcbiAgZ2V0IGxvY2FsVHJhbnNmb3JtKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xvY2FsVHJhbnNmb3JtO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7bWF0NH1cclxuICAgKi9cclxuICBnZXQgd29ybGRUcmFuc2Zvcm0oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ybGRUcmFuc2Zvcm07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG4gIGdldElzUmVhZHkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeVByb21pc2U7XHJcbiAgfVxyXG5cclxuICAvKiogQHBhcmFtIHtzdHJpbmd9IGlkICovXHJcbiAgc2V0IHByb2dyYW1XcmFwcGVySWQoaWQpIHtcclxuICAgIHByb2dyYW1XcmFwcGVyU3RvcmUudW5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIodGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCwgdGhpcy5fZHJhd0ZyYW1lSGFuZGxlcik7XHJcbiAgICB0aGlzLl9zZXRVcFByb2dyYW1XcmFwcGVyKGlkKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgKi9cclxuICBzZXQgdGV4dHVyZVBhdGgodmFsdWUpIHtcclxuICAgIHRoaXMuX3NldFVwVGV4dHVyZSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyB0aGUgcHJvZ3JhbSB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKi9cclxuICBfc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnKCkge1xyXG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGV4dHVyZVBhdGhdXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfc2V0VXBUZXh0dXJlKHRleHR1cmVQYXRoKSB7XHJcbiAgICB0aGlzLl90ZXh0dXJlUHJvbWlzZSA9IHRleHR1cmVQYXRoXHJcbiAgICAgICAgPyB0ZXh0dXJlU3RvcmUubG9hZFRleHR1cmUodGhpcy5fZ2wsIHRleHR1cmVQYXRoKVxyXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG5cclxuICAgIC8vIEFzc2lnbiB0aGUgYWN0dWFsIHRleHR1cmUuXHJcbiAgICB0aGlzLl90ZXh0dXJlUHJvbWlzZSA9IHRoaXMuX3RleHR1cmVQcm9taXNlXHJcbiAgICAgICAgLnRoZW4odGV4dHVyZSA9PiB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZSlcclxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLl9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWcoKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVQcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfc2V0VXBQcm9ncmFtV3JhcHBlcihpZCkge1xyXG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCA9IGlkO1xyXG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5nZXRQcm9ncmFtV3JhcHBlclByb21pc2UoaWQpXHJcbiAgICAgICAgLnRoZW4ocHJvZ3JhbVdyYXBwZXIgPT4gdGhpcy5fcHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcik7XHJcbiAgICBQcm9taXNlLmFsbChbdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlLCB0aGlzLl90ZXh0dXJlUHJvbWlzZV0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gcHJvZ3JhbVdyYXBwZXJTdG9yZS5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIoaWQsIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIpKTtcclxuICAgIHJldHVybiB0aGlzLl9wcm9ncmFtV3JhcHBlclByb21pc2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge01vZGVsQ29udHJvbGxlcn07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTW9kZWxDb250cm9sbGVySW50ZXJmYWNlXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPFByb21pc2U+fSBnZXRJc1JlYWR5XHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IHJlc2V0XHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRlc3Ryb3lcclxuICogQHByb3BlcnR5IHttYXQ0fSBsb2NhbFRyYW5zZm9ybVxyXG4gKiBAcHJvcGVydHkge21hdDR9IHdvcmxkVHJhbnNmb3JtXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gcG9zaXRpb25cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTW9kZWxDb250cm9sbGVyQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0Vmlld01hdHJpeFxyXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0UHJvamVjdGlvbk1hdHJpeFxyXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm1cclxuICogQHByb3BlcnR5IHtzdHJpbmd9IHByb2dyYW1XcmFwcGVySWRcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0dXJlUGF0aF1cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTW9kZWxHcm91cENvbnRyb2xsZXJDb25maWdcclxuICogQHByb3BlcnR5IHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRWaWV3TWF0cml4XHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRQcm9qZWN0aW9uTWF0cml4XHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRQYXJlbnRXb3JsZFRyYW5zZm9ybVxyXG4gKi9cclxuIiwiaW1wb3J0IHsgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB9IGZyb20gJ2xzbC1hbmltYXRleCc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBjb250cm9scyBncm91cHMgb2YgbW9kZWxzLlxyXG4gKlxyXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgaGlnaGVyLWxldmVsIGNvbnRyb2xsZXJzIHRoYXQgY29udHJvbCBvdGhlciBtb2RlbHMgYW5kIGFsc28gdHJhbnNmb3JtIHRoZW0uXHJcbiAqXHJcbiAqIEBpbXBsZW1lbnRzIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9XHJcbiAqIEBhYnN0cmFjdFxyXG4gKi9cclxuY2xhc3MgTW9kZWxHcm91cENvbnRyb2xsZXIgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcclxuICAvKipcclxuICAgKiBJZiBlaXRoZXIgb2YgdGhlIHNoYWRlciBwYXRocyBhcmUgb21pdHRlZCwgdGhlbiB0aGlzIG1vZGVsIGNvbnRyb2xsZXIgd2lsbCBub3QgY3JlYXRlIGFcclxuICAgKiByZW5kZXJpbmcgcHJvZ3JhbSBjb25maWd1cmF0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIE1vZGVsR3JvdXBDb250cm9sbGVyIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cclxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBNb2RlbEdyb3VwQ29udHJvbGxlcikge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IE1vZGVsR3JvdXBDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2dsID0gcGFyYW1zLmdsO1xyXG4gICAgdGhpcy5fZ2V0Vmlld01hdHJpeCA9IHBhcmFtcy5nZXRWaWV3TWF0cml4O1xyXG4gICAgdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCA9IHBhcmFtcy5nZXRQcm9qZWN0aW9uTWF0cml4O1xyXG4gICAgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gPSBwYXJhbXMuZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gfHwgKCgpID0+IG1hdDQuY3JlYXRlKCkpO1xyXG4gICAgdGhpcy5fbG9jYWxUcmFuc2Zvcm0gPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5fd29ybGRUcmFuc2Zvcm0gPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5fbW9kZWxDdHJscyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuY2xlYXJNb2RlbENvbnRyb2xsZXJzKCk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuX3RyaWdnZXJPbkFsbE1vZGVsQ29udHJvbGxlcnMoJ3Jlc2V0Jyk7XHJcbiAgfVxyXG5cclxuICBjbGVhck1vZGVsQ29udHJvbGxlcnMoKSB7XHJcbiAgICB0aGlzLl90cmlnZ2VyT25BbGxNb2RlbENvbnRyb2xsZXJzKCdkZXN0cm95Jyk7XHJcbiAgICB0aGlzLl9tb2RlbEN0cmxzID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxscyB1cGRhdGUsIHVwZGF0ZVRyYW5zZm9ybXMsIGFuZCB1cGRhdGVDaGlsZHJlbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICB0aGlzLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcclxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtcygpO1xyXG4gICAgdGhpcy51cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgcmVsZXZhbnQgc3RhdGUgZm9yIHRoZSBzdWItY2xhc3MuXHJcbiAgICpcclxuICAgKiAtIFRoaXMgZG9lcyBub3QgcmVjdXJzaXZlbHkgdXBkYXRlIGRlc2NlbmRhbnQgbW9kZWwgY29udHJvbGxlcnM7IHRoYXQncyBoYW5kbGVkIGJ5XHJcbiAgICogICB1cGRhdGVDaGlsZHJlbi5cclxuICAgKiAtIFRoaXMgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2NhbCBvciB3b3JsZC1jb29yZGluYXRlIHRyYW5zZm9ybXM7IHRoYXQncyBoYW5kbGVkIGJ5XHJcbiAgICogICB1cGRhdGVUcmFuc2Zvcm1zLlxyXG4gICAqIC0gVGhpcyBpcyBjYWxsZWQgYmVmb3JlIHVwZGF0ZUxvY2FsVHJhbnNmb3JtIGFuZCB1cGRhdGVDaGlsZHJlbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSB3b3JsZC1jb29yZGluYXRlIGFuZCBsb2NhbC1jb29yZGluYXRlIG1vZGVsIG1hdHJpY2VzLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdXBkYXRlIGFuZCBiZWZvcmUgdXBkYXRlQ2hpbGRyZW4uXHJcbiAgICpcclxuICAgKiBOT1RFOiBBbGwgaW1wbGVtZW50YXRpb25zIG9mIHRoaXMgbWV0aG9kIHNob3VsZCB1cGRhdGUgW3RoaXMuX2xvY2FsVHJhbnNmb3JtXS5cclxuICAgKi9cclxuICB1cGRhdGVUcmFuc2Zvcm1zKCkge1xyXG4gICAgbWF0NC5tdWx0aXBseSh0aGlzLl93b3JsZFRyYW5zZm9ybSwgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0oKSwgdGhpcy5fbG9jYWxUcmFuc2Zvcm0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgYW55IGNoaWxkcmVuIG1vZGVsIGNvbnRyb2xsZXJzLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdXBkYXRlIGFuZCB1cGRhdGVMb2NhbFRyYW5zZm9ybS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcclxuICAgIHRoaXMuX3RyaWdnZXJPbkFsbE1vZGVsQ29udHJvbGxlcnMoJ3VwZGF0ZVNlbGZBbmRDaGlsZHJlbicsIFtjdXJyZW50VGltZSwgZGVsdGFUaW1lXSk7XHJcbiAgfVxyXG5cclxuICBkcmF3KCkge1xyXG4gICAgLy8gV2UgZG9uJ3QgY2FsbCBkcmF3IG9uIHRoZSBjaGlsZHJlbiBtb2RlbCBjb250cm9sbGVycywgYmVjYXVzZSB0aGV5IHJlZ2lzdGVyIHRoZW1zZWx2ZXMgdG8gYmVcclxuICAgIC8vIGRyYXduIHdpdGggdGhlaXIgZ2l2ZW4gc2hhZGVyIHByb2dyYW0uXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckludGVyZmFjZX0gbW9kZWxDdHJsXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPE1vZGVsQ29udHJvbGxlckludGVyZmFjZT59XHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIF9zdGFydE1vZGVsQ29udHJvbGxlcihtb2RlbEN0cmwpIHtcclxuICAgIHJldHVybiBtb2RlbEN0cmwuZ2V0SXNSZWFkeSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICBtb2RlbEN0cmwucmVzZXQoKTtcclxuICAgICAgdGhpcy5fbW9kZWxDdHJscy5wdXNoKG1vZGVsQ3RybCk7XHJcbiAgICAgIHJldHVybiBtb2RlbEN0cmw7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVySW50ZXJmYWNlfSBtb2RlbEN0cmxcclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICovXHJcbiAgX29uTW9kZWxDb250cm9sbGVyRGVzdHJveWVkKG1vZGVsQ3RybCkge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9tb2RlbEN0cmxzLmluZGV4T2YobW9kZWxDdHJsKTtcclxuICAgIHRoaXMuX21vZGVsQ3RybHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIG1vZGVsQ3RybC5kZXN0cm95KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHRhcmdldFBvc2l0aW9uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFNxdWFyZWREaXN0YW5jZVxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfcmVtb3ZlRGlzdGFudE1vZGVsQ29udHJvbGxlcnModGFyZ2V0UG9zaXRpb24sIG1heFNxdWFyZWREaXN0YW5jZSkge1xyXG4gICAgdGhpcy5fbW9kZWxDdHJsc1xyXG4gICAgICAvLyBHZXQgdGhlIE1vZGVsQ29udHJvbGxlcnMgdGhhdCBhcmUgdG9vIGZhciBhd2F5LlxyXG4gICAgICAuZmlsdGVyKG1vZGVsQ3RybCA9PlxyXG4gICAgICAgIHZlYzMuc3F1YXJlZERpc3RhbmNlKG1vZGVsQ3RybC5wb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pID4gbWF4U3F1YXJlZERpc3RhbmNlKVxyXG4gICAgICAvLyBSZW1vdmUgdGhlIGZhci1hd2F5IE1vZGVsQ29udHJvbGxlcnMuXHJcbiAgICAgIC5mb3JFYWNoKG1vZGVsQ3RybCA9PiB0aGlzLl9vbk1vZGVsQ29udHJvbGxlckRlc3Ryb3llZChtb2RlbEN0cmwpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge21hdDR9XHJcbiAgICovXHJcbiAgZ2V0IGxvY2FsVHJhbnNmb3JtKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xvY2FsVHJhbnNmb3JtO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7bWF0NH1cclxuICAgKi9cclxuICBnZXQgd29ybGRUcmFuc2Zvcm0oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ybGRUcmFuc2Zvcm07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG4gIGdldElzUmVhZHkoKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5fbW9kZWxDdHJscy5tYXAoY29udHJvbGxlciA9PiBjb250cm9sbGVyLmdldElzUmVhZHkoKSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWVcclxuICAgKiBAcGFyYW0ge0FycmF5LjwqPn0gW2FyZ3NdXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIF90cmlnZ2VyT25BbGxNb2RlbENvbnRyb2xsZXJzKG1ldGhvZE5hbWUsIGFyZ3MgPSBbXSkge1xyXG4gICAgLy90aGlzLl9kZW1vT2JqZWN0W21ldGhvZE5hbWVdKC4uLmFyZ3MpO1xyXG4gICAgdGhpcy5fbW9kZWxDdHJscy5mb3JFYWNoKG9iamVjdCA9PiBvYmplY3RbbWV0aG9kTmFtZV0oLi4uYXJncykpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgTW9kZWxHcm91cENvbnRyb2xsZXIgfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIHRvcC1sZXZlbCBtb2RlbC5cclxuICpcclxuICogQGFic3RyYWN0XHJcbiAqL1xyXG5jbGFzcyBNb2RlbCB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZ2wpIHtcclxuICAgIC8vIE1vZGVsIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cclxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBNb2RlbCkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IE1vZGVsIGluc3RhbmNlcyBkaXJlY3RseScpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2dsID0gZ2w7XHJcbiAgICB0aGlzLmJvdW5kcyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5fdmVydGV4UG9zaXRpb25zQnVmZmVyID0gbnVsbDtcclxuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNCdWZmZXIgPSBudWxsO1xyXG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNDb25maWcgPSBudWxsO1xyXG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnID0gbnVsbDtcclxuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNDb25maWcgPSBudWxsO1xyXG5cclxuICAgIC8vIElmIHRoaXMgaXMga2VwdCBudWxsLCB0aGVuIGdsLmRyYXdBcnJheXMgd2lsbCBiZSB1c2VkICh3aXRoIGdsLkFSUkFZX0JVRkZFUikgaW5zdGVhZCBvZlxyXG4gICAgLy8gZ2wuZHJhd0VsZW1lbnRzICh3aXRoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKS5cclxuICAgIHRoaXMuX3ZlcnRleEluZGljZXNCdWZmZXIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgbm9ybWFscyBvbiB0aGlzIHNoYXBlIHRvIGVpdGhlciBiZSBzcGhlcmljYWwgKHBvaW50IG91dHdhcmRzIGZyb20gdGhlIGNlbnRlcikgb3JcclxuICAgKiBvcnRob2dvbmFsIHRvIHRoZSBmYWNlcyBvZiB0aGVpciB0cmlhbmdsZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzVXNpbmdTcGhlcmljYWxOb3JtYWxzXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqIEBhYnN0cmFjdFxyXG4gICAqL1xyXG4gIF9zZXROb3JtYWxzKGlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XHJcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHs/QXR0cmlidXRlQ29uZmlnfSAqL1xyXG4gIGdldCB2ZXJ0ZXhQb3NpdGlvbnNDb25maWcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmVydGV4UG9zaXRpb25zQ29uZmlnO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHs/QXR0cmlidXRlQ29uZmlnfSAqL1xyXG4gIGdldCB0ZXh0dXJlQ29vcmRpbmF0ZXNDb25maWcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHs/QXR0cmlidXRlQ29uZmlnfSAqL1xyXG4gIGdldCB2ZXJ0ZXhOb3JtYWxzQ29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZlcnRleE5vcm1hbHNDb25maWc7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMgez9XZWJHTEJ1ZmZlcn0gKi9cclxuICBnZXQgdmVydGV4SW5kaWNlc0J1ZmZlcigpIHtcclxuICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhJbmRpY2VzQnVmZmVyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge251bWJlcn1cclxuICAgKiBAYWJzdHJhY3RcclxuICAgKi9cclxuICBnZXQgZWxlbWVudENvdW50KCkge1xyXG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICogQGFic3RyYWN0XHJcbiAgICovXHJcbiAgZ2V0IG1vZGUoKSB7XHJcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtNb2RlbH07XHJcbiIsImltcG9ydCB7cmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi4vLi4vcmVuZGVyYWJsZS1zaGFwZXMnO1xyXG5cclxuaW1wb3J0IHtNb2RlbENvbnRyb2xsZXJ9IGZyb20gJy4vbW9kZWwtY29udHJvbGxlcic7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGFuIGV4dGVuc2lvbiBvZiB0aGUgbW9kZWwtY29udHJvbGxlciBjbGFzcyB0aGF0IHVzZXMgYSBjb21tb24gc2V0IG9mIHByb2dyYW1cclxuICogdmFyaWFibGVzIGFuZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaWNlcy5cclxuICovXHJcbmNsYXNzIFN0YW5kYXJkTW9kZWxDb250cm9sbGVyIGV4dGVuZHMgTW9kZWxDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXHJcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHNoYXBlUGFyYW1zXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocGFyYW1zLCBzaGFwZVBhcmFtcykge1xyXG4gICAgc3VwZXIocGFyYW1zKTtcclxuXHJcbiAgICB0aGlzLnNjYWxlID0gc2hhcGVQYXJhbXMuc2NhbGUgfHwgdmVjMy5mcm9tVmFsdWVzKDEsIDEsIDEpO1xyXG4gICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5fbm9ybWFsTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgIHRoaXMuX21vZGVsID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5jcmVhdGVNb2RlbCh0aGlzLl9nbCwgc2hhcGVQYXJhbXMpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XHJcblxyXG4gIGRyYXcoKSB7XHJcbiAgICAvLyBVcGRhdGUgdGhlIG1vZGVsLXZpZXcgbWF0cml4LlxyXG4gICAgbWF0NC5tdWx0aXBseSh0aGlzLl9tdk1hdHJpeCwgdGhpcy5fZ2V0Vmlld01hdHJpeCgpLCB0aGlzLl93b3JsZFRyYW5zZm9ybSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBub3JtYWwgbWF0cml4LlxyXG4gICAgbWF0NC5pbnZlcnQodGhpcy5fbm9ybWFsTWF0cml4LCB0aGlzLl9tdk1hdHJpeCk7XHJcbiAgICBtYXQ0LnRyYW5zcG9zZSh0aGlzLl9ub3JtYWxNYXRyaXgsIHRoaXMuX25vcm1hbE1hdHJpeCk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSB1bmlmb3JtIHZhcmlhYmxlcy5cclxuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcudW5pZm9ybXNbJ3VQTWF0cml4J10gPSB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zWyd1TVZNYXRyaXgnXSA9IHRoaXMuX212TWF0cml4O1xyXG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtc1sndU5vcm1hbE1hdHJpeCddID0gdGhpcy5fbm9ybWFsTWF0cml4O1xyXG5cclxuICAgIC8vIERyYXcgc2hhcGVzIHVzaW5nIHRoZSBjdXJyZW50IHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxyXG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXIuZHJhdyh0aGlzLl9nbCwgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgMCwgdGhpcy5fbW9kZWwuZWxlbWVudENvdW50KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIHRoZSBwcm9ncmFtIHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxyXG4gICAqXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqL1xyXG4gIF9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWcoKSB7XHJcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0ge1xyXG4gICAgICBhdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgYVZlcnRleFBvc2l0aW9uOiB0aGlzLl9tb2RlbC52ZXJ0ZXhQb3NpdGlvbnNDb25maWcsXHJcbiAgICAgICAgYVRleHR1cmVDb29yZDogdGhpcy5fbW9kZWwudGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnLFxyXG4gICAgICAgIGFWZXJ0ZXhOb3JtYWw6IHRoaXMuX21vZGVsLnZlcnRleE5vcm1hbHNDb25maWcsXHJcbiAgICAgIH0sXHJcbiAgICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgICAgdVBNYXRyaXg6IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgoKSxcclxuICAgICAgICB1TVZNYXRyaXg6IHRoaXMuX212TWF0cml4LFxyXG4gICAgICAgIHVOb3JtYWxNYXRyaXg6IHRoaXMuX25vcm1hbE1hdHJpeCxcclxuICAgICAgICB1U2FtcGxlcjogdGhpcy5fdGV4dHVyZSxcclxuICAgICAgfSxcclxuICAgICAgbW9kZTogdGhpcy5fbW9kZWwubW9kZSxcclxuICAgICAgdmVydGV4SW5kaWNlczogdGhpcy5fbW9kZWwudmVydGV4SW5kaWNlc0J1ZmZlcixcclxuICAgICAgZWxlbWVudENvdW50OiB0aGlzLl9tb2RlbC5lbGVtZW50Q291bnQsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtTdGFuZGFyZE1vZGVsQ29udHJvbGxlcn07XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL3Byb2dyYW0td3JhcHBlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3Byb2dyYW0td3JhcHBlci1zdG9yZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3RleHR1cmUtc3RvcmUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy91bmlmb3JtLXNldHRlcic7XHJcbiIsImltcG9ydCB7YmluZEZyYW1lYnVmZmVyfSBmcm9tICcuLi8uLi91dGlsJztcclxuXHJcbmltcG9ydCB7cHJvZ3JhbVdyYXBwZXJTdG9yZX0gZnJvbSAnLi9wcm9ncmFtLXdyYXBwZXItc3RvcmUnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgYSBjb2xsZWN0aW9uIG9mIFByb2dyYW1XcmFwcGVycyBhbmQgc3VwcG9ydHMgZHJhd2luZyB0aGVtIGFzIGEgZ3JvdXAuXHJcbiAqL1xyXG5jbGFzcyBHcm91cFByb2dyYW1XcmFwcGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihnbCwgY29uZmlnKSB7XHJcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2NoaWxkcmVuUHJvZ3JhbVdyYXBwZXJzID0gW107XHJcbiAgICB0aGlzLl9pc1JlYWR5ID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLl9sb2FkQ2hpbGRyZW4oZ2wsIGNvbmZpZykudGhlbigoKSA9PiB7XHJcbiAgICAgIGlmIChjb25maWcuaW5pdGlhbGl6ZSkgY29uZmlnLmluaXRpYWxpemUoZ2wpO1xyXG4gICAgICBpZiAoY29uZmlnLmlzQVBvc3RQcm9jZXNzb3IpIHtcclxuICAgICAgICBfY3JlYXRlQ2hpbGRyZW5GcmFtZWJ1ZmZlcnNBbmRUZXh0dXJlcyhnbCwgY29uZmlnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMge3N0cmluZ30gKi9cclxuICBnZXQgcHJvZ3JhbUlkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmlkO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHtQcm9taXNlfSAqL1xyXG4gIGdldElzUmVhZHkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbmRlcnMgc2hhcGVzIHVzaW5nIHRoaXMgcHJvZ3JhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gICAqL1xyXG4gIGRyYXcoZ2wpIHtcclxuICAgIGlmICh0aGlzLmNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyKSB0aGlzLmNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyKGdsKTtcclxuICAgIHRoaXMuY29uZmlnLmNoaWxkcmVuRnJhbWVidWZmZXJJZHMuZm9yRWFjaChfY2xlYXJGcmFtZWJ1ZmZlci5iaW5kKHRoaXMsIGdsKSk7XHJcbiAgICB0aGlzLmNvbmZpZy5jaGlsZHJlblByb2dyYW1zVG9EcmF3LmZvckVhY2goX2RyYXdDaGlsZFByb2dyYW1XcmFwcGVyLmJpbmQodGhpcywgZ2wpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IGNvbmZpZ1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2xvYWRDaGlsZHJlbihnbCwgY29uZmlnKSB7XHJcbiAgICB0aGlzLl9pc1JlYWR5ID0gUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgY29uZmlnLmNoaWxkcmVuUHJvZ3JhbUNvbmZpZ3MubWFwKGNvbmZpZyA9PlxyXG4gICAgICAgICAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmxvYWRQcm9ncmFtV3JhcHBlcihnbCwgY29uZmlnKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocHJvZ3JhbVdyYXBwZXIgPT4gdGhpcy5fY2hpbGRyZW5Qcm9ncmFtV3JhcHBlcnMucHVzaChwcm9ncmFtV3JhcHBlcikpKSk7XHJcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2xlYXJGcmFtZWJ1ZmZlcihnbCwgaWQpIHtcclxuICBjb25zdCBmcmFtZWJ1ZmZlciA9IHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0RnJhbWVidWZmZXIoaWQpO1xyXG4gIGJpbmRGcmFtZWJ1ZmZlcihnbCwgZnJhbWVidWZmZXIpO1xyXG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9jcmVhdGVDaGlsZHJlbkZyYW1lYnVmZmVyc0FuZFRleHR1cmVzKGdsLCBjb25maWcpIHtcclxuICBjb25maWcuY2hpbGRyZW5GcmFtZWJ1ZmZlcklkcy5mb3JFYWNoKGlkID0+XHJcbiAgICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuY3JlYXRlTmV3RnJhbWVidWZmZXJBbmRUZXh0dXJlKGdsLCBpZCwgZmFsc2UpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKiBAcGFyYW0ge0NoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzfSBjaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2RyYXdDaGlsZFByb2dyYW1XcmFwcGVyKGdsLCBjaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkcykge1xyXG4gIGNvbnN0IHtwcm9ncmFtSWQsIGlucHV0RnJhbWVidWZmZXJJZHMsIG91dHB1dEZyYW1lYnVmZmVySWR9ID0gY2hpbGRQcm9ncmFtQW5kRnJhbWVidWZmZXJJZHM7XHJcblxyXG4gIGNvbnN0IGZyYW1lYnVmZmVyID0gb3V0cHV0RnJhbWVidWZmZXJJZCA/XHJcbiAgICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0RnJhbWVidWZmZXIob3V0cHV0RnJhbWVidWZmZXJJZCkgOiBudWxsO1xyXG4gIGNvbnN0IHByb2dyYW1XcmFwcGVyID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5nZXRQcm9ncmFtV3JhcHBlcihwcm9ncmFtSWQpO1xyXG4gIGNvbnN0IHByb2dyYW1WYXJpYWJsZXNDb25maWcgPVxyXG4gICAgICBwcm9ncmFtV3JhcHBlci5jb25maWcuZ2V0UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyhnbCwgaW5wdXRGcmFtZWJ1ZmZlcklkcyk7XHJcblxyXG4gIGJpbmRGcmFtZWJ1ZmZlcihnbCwgZnJhbWVidWZmZXIpO1xyXG4gIHByb2dyYW1XcmFwcGVyLnNldFByb2dyYW0oZ2wpO1xyXG4gIHByb2dyYW1XcmFwcGVyLmRyYXcoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcpO1xyXG59XHJcblxyXG5leHBvcnQge0dyb3VwUHJvZ3JhbVdyYXBwZXJ9O1xyXG4iLCJpbXBvcnQge2NyZWF0ZUZyYW1lYnVmZmVyLCBjcmVhdGVSZW5kZXJCdWZmZXIsIGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmd9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5cclxuaW1wb3J0IHtHcm91cFByb2dyYW1XcmFwcGVyfSBmcm9tICcuL2dyb3VwLXByb2dyYW0td3JhcHBlcic7XHJcbmltcG9ydCB7UHJvZ3JhbVdyYXBwZXJ9IGZyb20gJy4vcHJvZ3JhbS13cmFwcGVyJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGxvYWRzLCBjb21waWxlcywgYW5kIHN0b3JlcyBXZWJHTCByZW5kZXJpbmcgcHJvZ3JhbXMuXHJcbiAqXHJcbiAqIEFsc28sIHRoaXMgc3RvcmVzIGRyYXctZnJhbWUgaGFuZGxlcnMgZm9yIGEgZ2l2ZW4gcHJvZ3JhbS4gVGhpcyBtYWtlcyBpdCBlYXN5IGZvciBhIHRvcC1sZXZlbFxyXG4gKiBjb250cm9sbGVyIHRvIGdyb3VwIHRvZ2V0aGVyIGRyYXcgY2FsbHMgZm9yIGEgZ2l2ZW4gcHJvZ3JhbSBhbmQgdGhlcmVmb3JlIG1pbmltaXplIHByb2dyYW1cclxuICogc3dpdGNoZXMuXHJcbiAqXHJcbiAqIEFsc28sIHRoaXMgZGlzdGluZ3Vpc2hlcyBiZXR3ZWVuIHJlbmRlcmluZyBwcm9ncmFtcyB0aGF0IGFyZSB1c2VkIGZvciByZW5kZXJpbmcgaW5kaXZpZHVhbCBtb2RlbHNcclxuICogYW5kIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtcyB0aGF0IGFyZSB1c2VkIGZvciBtYW5pcHVsYXRpbmcgdGhlIGVudGlyZSBmcmFtZSBhZnRlciBhbGwgdGhlIG1vZGVsc1xyXG4gKiBoYXZlIHJlbmRlcmVkLlxyXG4gKlxyXG4gKiBUaGlzIGFsc28gYWxsb3dzIGZvciBncm91cGluZyBwcm9ncmFtcywgd2hpY2ggY29uc2lzdCBvZiBtdWx0aXBsZSBjaGlsZCBwcm9ncmFtcyB0aGF0IGFyZSBhbGxcclxuICogcmVuZGVyZWQgaW4gc2VxdWVuY2UgZm9yIGEgcmVsYXRlZCBwdXJwb3NlLlxyXG4gKi9cclxuY2xhc3MgUHJvZ3JhbVdyYXBwZXJTdG9yZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZSA9IHt9O1xyXG4gICAgdGhpcy5fc29ydGVkTW9kZWxQcm9ncmFtcyA9IFtdO1xyXG4gICAgdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGUgPSB7fTtcclxuICAgIHRoaXMuX3NvcnRlZFBvc3RQcm9jZXNzaW5nUHJvZ3JhbXMgPSBbXTtcclxuICAgIHRoaXMuX2ZyYW1idWZmZXJzID0ge307XHJcbiAgICB0aGlzLl90ZXh0dXJlcyA9IHt9O1xyXG4gICAgdGhpcy5fcmVuZGVyQnVmZmVycyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9hZHMgYW5kIGNhY2hlcyBhIHByb2dyYW0gd3JhcHBlciB1c2luZyB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGEgZ2l2ZW4gcHJvZ3JhbSB3aWxsIG9ubHkgYmUgY2FjaGVkIG9uY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48UHJvZ3JhbVdyYXBwZXJ8R3JvdXBQcm9ncmFtV3JhcHBlciwgRXJyb3I+fVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgbG9hZFByb2dyYW1XcmFwcGVyKGdsLCBwYXJhbXMpIHtcclxuICAgIGxldCBjYWNoZTtcclxuICAgIGxldCBzb3J0ZWRMaXN0O1xyXG4gICAgaWYgKHBhcmFtcy5pc0FQb3N0UHJvY2Vzc29yKSB7XHJcbiAgICAgIGNhY2hlID0gdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGU7XHJcbiAgICAgIHNvcnRlZExpc3QgPSB0aGlzLl9zb3J0ZWRQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FjaGUgPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZTtcclxuICAgICAgc29ydGVkTGlzdCA9IHRoaXMuX3NvcnRlZE1vZGVsUHJvZ3JhbXM7XHJcbiAgICB9XHJcbiAgICBsZXQgY2FjaGVJbmZvID0gY2FjaGVbcGFyYW1zLmlkXTtcclxuXHJcbiAgICAvLyBDYWNoZSB0aGUgcHJvZ3JhbSBpZiBpdCBoYXMgbm90IGJlZW4gcHJldmlvdXNseSByZWdpc3RlcmVkLlxyXG4gICAgaWYgKCFjYWNoZUluZm8pIHtcclxuICAgICAgY2FjaGVJbmZvID0ge307XHJcblxyXG4gICAgICBjYWNoZUluZm8ucGFyYW1zID0gcGFyYW1zO1xyXG4gICAgICBjYWNoZUluZm8ucmVuZGVyUHJpb3JpdHkgPSBwYXJhbXMucmVuZGVyUHJpb3JpdHk7XHJcblxyXG4gICAgICBsZXQgcHJvZ3JhbVdyYXBwZXIgPSBwYXJhbXMuY2hpbGRyZW5Qcm9ncmFtQ29uZmlncyA/XHJcbiAgICAgICAgICBuZXcgR3JvdXBQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKSA6IG5ldyBQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKTtcclxuXHJcbiAgICAgIGNhY2hlSW5mby5wcm9ncmFtV3JhcHBlciA9IHByb2dyYW1XcmFwcGVyO1xyXG4gICAgICBjYWNoZUluZm8ucHJvbWlzZSA9IHByb2dyYW1XcmFwcGVyLmdldElzUmVhZHkoKS50aGVuKCgpID0+IGNhY2hlSW5mby5wcm9ncmFtV3JhcHBlcik7XHJcblxyXG4gICAgICBpZiAocGFyYW1zLmlzQVBvc3RQcm9jZXNzb3IpIHtcclxuICAgICAgICAvLyBBcyBzb29uIGFzIHdlIGtub3cgd2UnbGwgdXNlIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIG1ha2Ugc3VyZSB3ZSBjcmVhdGUgdGhlIGRlZmF1bHRcclxuICAgICAgICAvLyBmcmFtZWJ1ZmZlci90ZXh0dXJlIGZvciByZW5kZXJpbmcgbW9kZWxzIGludG8uXHJcbiAgICAgICAgaWYgKCF0aGlzLm1vZGVsc0ZyYW1lYnVmZmVyKSB7XHJcbiAgICAgICAgICB0aGlzLmNyZWF0ZU5ld0ZyYW1lYnVmZmVyQW5kVGV4dHVyZShnbCwgTU9ERUxTX0ZSQU1FQlVGRkVSX0lELCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUG9zdC1wcm9jZXNzaW5nIHByb2dyYW1zIGFyZSBub3QgdXNlZCBmb3IgcmVuZGVyaW5nIGluZGl2aWR1YWwgbW9kZWxzLlxyXG4gICAgICAgIGNhY2hlSW5mby5kcmF3RnJhbWVIYW5kbGVycyA9IG5ldyBTZXQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3RvcmUgdGhlIHByb2dyYW0gY2FjaGUgaW5mbyBpbiBib3RoIGEgbWFwIGFuZCBhIGxpc3QgdGhhdCBpcyBzb3J0ZWQgYnkgcmVuZGVyIHByaW9yaXR5LlxyXG4gICAgICBjYWNoZVtwYXJhbXMuaWRdID0gY2FjaGVJbmZvO1xyXG4gICAgICBzb3J0ZWRMaXN0LnB1c2goY2FjaGVJbmZvKTtcclxuICAgICAgc29ydGVkTGlzdC5zb3J0KF9jb21wYXJlUHJvZ3JhbUNhY2hlSW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhY2hlSW5mby5wcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXJzIHRoZSBnaXZlbiBkcmF3LWZyYW1lIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBnaXZlbiBwcm9ncmFtLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudDsgZHJhdy1mcmFtZSBoYW5kbGVycyBhcmUgc3RvcmVkIGluIGEgc2V0LCBzbyBkdXBsaWNhdGUgYWRkaXRpb25zIHdpbGxcclxuICAgKiBvdmVyd3JpdGUgcHJldmlvdXMgYWRkaXRpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhd0ZyYW1lSGFuZGxlclxyXG4gICAqL1xyXG4gIHJlZ2lzdGVyRHJhd0ZyYW1lSGFuZGxlcihpZCwgZHJhd0ZyYW1lSGFuZGxlcikge1xyXG4gICAgY29uc3QgcHJvZ3JhbUNhY2hlSW5mbyA9IHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlW2lkXTtcclxuXHJcbiAgICBpZiAoIXByb2dyYW1DYWNoZUluZm8pIHtcclxuICAgICAgaWYgKHRoaXMuX3Bvc3RQcm9jZXNzaW5nUHJvZ3JhbUNhY2hlW2lkXSkge1xyXG4gICAgICAgIC8vIFRoZSBwcm9ncmFtIGlzIG5vdCBzZXQgdXAgZm9yIHJlbmRlcmluZyBpbmRpdmlkdWFsIG1vZGVscy5cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWdpc3RlciBhIGRyYXctZnJhbWUgaGFuZGxlciBmb3IgYSBwcm9ncmFtIHRoYXQgaXMgbm90IHNldCB1cCBmb3IgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmcgaW5kaXZpZHVhbCBtb2RlbHMgcmVnaXN0ZXJlZDogJHtpZH1gKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBUaGUgcHJvZ3JhbSBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZC5cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWdpc3RlciBhIGRyYXctZnJhbWUgaGFuZGxlciBmb3IgYSBwcm9ncmFtIHRoYXQgaGFzIG5vdCB5ZXQgYmVlbiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWQ6ICR7aWR9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTdG9yZSB0aGUgZHJhdy1mcmFtZSBoYW5kbGVyLlxyXG4gICAgcHJvZ3JhbUNhY2hlSW5mby5kcmF3RnJhbWVIYW5kbGVycy5hZGQoZHJhd0ZyYW1lSGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXQVJOSU5HOiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBwcm9ncmFtIGZyb20gdGhlIHN0b3JlIGV2ZW4gaWYgdGhlcmUgYXJlIHN0aWxsIG90aGVyIGNvbXBvbmVudHNcclxuICAgKiBkZXBlbmRpbmcgb24gdGhpcyBwcm9ncmFtIG9yIGl0cyBkcmF3LWZyYW1lIGhhbmRsZXJzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICovXHJcbiAgZGVsZXRlUHJvZ3JhbVdyYXBwZXIoaWQpIHtcclxuICAgIC8vIERldGVybWluZSB3aGljaCBjb2xsZWN0aW9ucyB3ZSdyZSByZW1vdmluZyB0aGUgcHJvZ3JhbSBmcm9tLlxyXG4gICAgbGV0IHNvcnRlZFByb2dyYW1zO1xyXG4gICAgbGV0IHByb2dyYW1DYWNoZTtcclxuICAgIGlmICh0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0pIHtcclxuICAgICAgc29ydGVkUHJvZ3JhbXMgPSB0aGlzLl9zb3J0ZWRNb2RlbFByb2dyYW1zO1xyXG4gICAgICBwcm9ncmFtQ2FjaGUgPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNvcnRlZFByb2dyYW1zID0gdGhpcy5fc29ydGVkUG9zdFByb2Nlc3NpbmdQcm9ncmFtcztcclxuICAgICAgcHJvZ3JhbUNhY2hlID0gdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcm9ncmFtQ2FjaGVJbmZvID0gcHJvZ3JhbUNhY2hlW2lkXTtcclxuXHJcbiAgICAvLyBSZW1vdmUgdGhlIHByb2dyYW0uXHJcbiAgICBzb3J0ZWRQcm9ncmFtcy5zcGxpY2Uoc29ydGVkUHJvZ3JhbXMuaW5kZXhPZihwcm9ncmFtQ2FjaGVJbmZvKSwgMSk7XHJcbiAgICBkZWxldGUgcHJvZ3JhbUNhY2hlW2lkXTtcclxuICB9XHJcblxyXG4gIC8vIFRPRE86IERvbid0IGZvcmdldCB0byB1bnJlZ2lzdGVyIGRyYXctZnJhbWUgaGFuZGxlcnMgd2hlbiBkZXN0cm95aW5nIG1vZGVscyAoYXN0ZXJvaWRzLCBVRk9zLFxyXG4gIC8vIGV0Yy4pXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhd0ZyYW1lSGFuZGxlclxyXG4gICAqL1xyXG4gIHVucmVnaXN0ZXJEcmF3RnJhbWVIYW5kbGVyKGlkLCBkcmF3RnJhbWVIYW5kbGVyKSB7XHJcbiAgICB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0uZHJhd0ZyYW1lSGFuZGxlcnMuZGVsZXRlKGRyYXdGcmFtZUhhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICogQHRocm93cyBJZiB0aGVyZSBpcyBubyBwcm9ncmFtIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZ2l2ZW4gSUQuXHJcbiAgICovXHJcbiAgZ2V0UHJvZ3JhbVdyYXBwZXJQcm9taXNlKGlkKSB7XHJcbiAgICBjb25zdCBjYWNoZUluZm8gPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0gfHwgdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGVbaWRdO1xyXG4gICAgcmV0dXJuIGNhY2hlSW5mby5wcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICogQHJldHVybnMge1Byb2dyYW1XcmFwcGVyfVxyXG4gICAqIEB0aHJvd3MgSWYgdGhlcmUgaXMgbm8gcHJvZ3JhbSByZWdpc3RlcmVkIHdpdGggdGhlIGdpdmVuIElELlxyXG4gICAqL1xyXG4gIGdldFByb2dyYW1XcmFwcGVyKGlkKSB7XHJcbiAgICBjb25zdCBjYWNoZUluZm8gPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0gfHwgdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGVbaWRdO1xyXG4gICAgcmV0dXJuIGNhY2hlSW5mby5wcm9ncmFtV3JhcHBlcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHJlZ2lzdGVyZWQgcGVyLW1vZGVsIHByb2dyYW0gd3JhcHBlci5cclxuICAgKlxyXG4gICAqIFRoZSBjYWxsYmFjayBpcyBwYXNzZWQgdHdvIGFyZ3VtZW50czogdGhlIHByb2dyYW0gd3JhcHBlciBhbmQgdGhlIHJlZ2lzdGVyZWQgZHJhdy1mcmFtZVxyXG4gICAqIGhhbmRsZXJzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgKi9cclxuICBmb3JFYWNoTW9kZWxQcm9ncmFtKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9zb3J0ZWRNb2RlbFByb2dyYW1zLmZvckVhY2gocHJvZ3JhbUNhY2hlSW5mbyA9PlxyXG4gICAgICAgIGNhbGxiYWNrKHByb2dyYW1DYWNoZUluZm8ucHJvZ3JhbVdyYXBwZXIsIHByb2dyYW1DYWNoZUluZm8uZHJhd0ZyYW1lSGFuZGxlcnMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHJlZ2lzdGVyZWQgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0gd3JhcHBlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICovXHJcbiAgZm9yRWFjaFBvc3RQcm9jZXNzaW5nUHJvZ3JhbShjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fc29ydGVkUG9zdFByb2Nlc3NpbmdQcm9ncmFtcy5mb3JFYWNoKFxyXG4gICAgICAgIHByb2dyYW1DYWNoZUluZm8gPT4gY2FsbGJhY2socHJvZ3JhbUNhY2hlSW5mby5wcm9ncmFtV3JhcHBlcikpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xyXG4gIGdldCBpc1VzaW5nUG9zdFByb2Nlc3NpbmdQcm9ncmFtcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9zb3J0ZWRQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zLmxlbmd0aCA+IDA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGFuZCBzdG9yZXMgYSBmcmFtZWJ1ZmZlciB3aXRoIGEgdGV4dHVyZS5cclxuICAgKlxyXG4gICAqIEJvdGggdGhlIGZyYW1lYnVmZmVyIGFuZCB0ZXh0dXJlIGNhbiBiZSBhY2Nlc3NlZCBsYXRlciB1c2luZyB0aGUgZ2l2ZW4gSUQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGRTdG9yZURlcHRoSW5mbz1mYWxzZV1cclxuICAgKi9cclxuICBjcmVhdGVOZXdGcmFtZWJ1ZmZlckFuZFRleHR1cmUoZ2wsIGlkLCBzaG91bGRTdG9yZURlcHRoSW5mbz1mYWxzZSkge1xyXG4gICAgbGV0IHJlbmRlckJ1ZmZlcjtcclxuICAgIGlmIChzaG91bGRTdG9yZURlcHRoSW5mbykge1xyXG4gICAgICByZW5kZXJCdWZmZXIgPSBjcmVhdGVSZW5kZXJCdWZmZXIoZ2wpO1xyXG4gICAgICB0aGlzLl9yZW5kZXJCdWZmZXJzW2lkXSA9IHJlbmRlckJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZXh0dXJlID0gY3JlYXRlVGV4dHVyZUZvclJlbmRlcmluZyhnbCk7XHJcbiAgICB0aGlzLl90ZXh0dXJlc1tpZF0gPSB0ZXh0dXJlO1xyXG5cclxuICAgIGNvbnN0IGZyYW1lYnVmZmVyID0gY3JlYXRlRnJhbWVidWZmZXIoZ2wsIHRleHR1cmUsIHJlbmRlckJ1ZmZlcik7XHJcbiAgICB0aGlzLl9mcmFtYnVmZmVyc1tpZF0gPSBmcmFtZWJ1ZmZlcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxyXG4gICAqIEByZXR1cm5zIHs/V2ViR0xGcmFtZWJ1ZmZlcn1cclxuICAgKi9cclxuICBnZXRGcmFtZWJ1ZmZlcihpZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ZyYW1idWZmZXJzW2lkXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxyXG4gICAqIEByZXR1cm5zIHs/V2ViR0xUZXh0dXJlfVxyXG4gICAqL1xyXG4gIGdldFRleHR1cmUoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlc1tpZF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJZiB3ZSBhcmUgdXNpbmcgYSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSwgdGhlbiB0aGlzIGlzIHRoZSBkZWZhdWx0IGZyYW1lYnVmZmVyIGZvciByZW5kZXJpbmdcclxuICAgKiBtb2RlbHMgaW50by5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHs/V2ViR0xGcmFtZWJ1ZmZlcn1cclxuICAgKi9cclxuICBnZXQgbW9kZWxzRnJhbWVidWZmZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZnJhbWJ1ZmZlcnNbTU9ERUxTX0ZSQU1FQlVGRkVSX0lEXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIElmIHdlIGFyZSB1c2luZyBhIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtLCB0aGVuIHRoaXMgaXMgdGhlIGRlZmF1bHQgdGV4dHVyZSBmb3IgcmVuZGVyaW5nXHJcbiAgICogbW9kZWxzIGludG8uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7P1dlYkdMVGV4dHVyZX1cclxuICAgKi9cclxuICBnZXQgbW9kZWxzVGV4dHVyZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlc1tNT0RFTFNfRlJBTUVCVUZGRVJfSURdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSWYgd2UgYXJlIHVzaW5nIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIHRoZW4gdGhpcyBpcyB0aGUgZGVmYXVsdCBkZXB0aCByZW5kZXIgYnVmZmVyIGZvclxyXG4gICAqIHJlbmRlcmluZyBtb2RlbHMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7P1dlYkdMUmVuZGVyQnVmZmVyfVxyXG4gICAqL1xyXG4gIGdldCBtb2RlbHNSZW5kZXJCdWZmZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyQnVmZmVyc1tNT0RFTFNfRlJBTUVCVUZGRVJfSURdO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX2NvbXBhcmVQcm9ncmFtQ2FjaGVJbmZvKGEsIGIpIHtcclxuICByZXR1cm4gYS5yZW5kZXJQcmlvcml0eSAtIGIucmVuZGVyUHJpb3JpdHk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBNT0RFTFNfRlJBTUVCVUZGRVJfSUQgPSAnbW9kZWxzJztcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9ncmFtV3JhcHBlclN0b3JlID0gbmV3IFByb2dyYW1XcmFwcGVyU3RvcmUoKTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtQ2FjaGVJbmZvXHJcbiAqIEBwcm9wZXJ0eSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IHBhcmFtc1xyXG4gKiBAcHJvcGVydHkge1Byb2dyYW1XcmFwcGVyfEdyb3VwUHJvZ3JhbVdyYXBwZXJ9IFtwcm9ncmFtV3JhcHBlcl1cclxuICogQHByb3BlcnR5IHtTZXQuPEZ1bmN0aW9uPn0gW2RyYXdGcmFtZUhhbmRsZXJzXVxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxQcm9ncmFtV3JhcHBlcj59IFtjaGlsZHJlblByb2dyYW1XcmFwcGVyc11cclxuICovXHJcbiIsImltcG9ydCB7XHJcbiAgaXNJbkRldk1vZGUsXHJcbiAgZ2V0Vmlld3BvcnRIZWlnaHQsXHJcbiAgZ2V0Vmlld3BvcnRXaWR0aCxcclxuICBsb2FkUHJvZ3JhbSxcclxufSBmcm9tICcuLi8uLi91dGlsJztcclxuXHJcbmltcG9ydCB7VW5pZm9ybVNldHRlcn0gZnJvbSAnLi91bmlmb3JtLXNldHRlcic7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyB3cmFwcyBhIG5hdGl2ZSBXZWJHTFByb2dyYW0gb2JqZWN0IGFuZCBwcm92aWRlcyBjb252ZW5pZW5jZSBtZXRob2RzIGZvcjpcclxuICogLSBzZXR0aW5nIHRoZSB3cmFwcGVkIHByb2dyYW0gZm9yIHVzZSBvbiB0aGUgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQsXHJcbiAqIC0gZW5hYmxpbmcgdGhlIGF0dHJpYnV0ZSB2YXJpYWJsZXMgZm9yIHRoZSBwcm9ncmFtLFxyXG4gKiAtIHNldHRpbmcgdGhlIGF0dHJpYnV0ZSBhbmQgdW5pZm9ybSB2YXJpYWJsZXMgZm9yIHRoZSBwcm9ncmFtLFxyXG4gKiAtIGRyYXdpbmcgc2hhcGVzIHdpdGggdGhlIHByb2dyYW0gYW5kIGl0cyBjdXJyZW50IGNvbmZpZ3VyYXRpb24uXHJcbiAqL1xyXG5jbGFzcyBQcm9ncmFtV3JhcHBlciB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlckNvbmZpZ30gY29uZmlnXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZ2wsIGNvbmZpZykge1xyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9wcm9ncmFtID0gbnVsbDtcclxuICAgIHRoaXMuX3VuaWZvcm1TZXR0ZXJzID0gbnVsbDtcclxuICAgIHRoaXMuX2F0dHJpYnV0ZUVuYWJsZXJzID0gbnVsbDtcclxuICAgIHRoaXMuX2F0dHJpYnV0ZVNldHRlcnMgPSBudWxsO1xyXG5cclxuICAgIC8vIFRoaXMgaXMgdXNlZCBmb3IgYXNzaWduaW5nIGRpZmZlcmVudCB0ZXh0dXJlcyB0byBkaWZmZXJlbnQgdGV4dHVyZSB1bml0cy5cclxuICAgIHRoaXMuYmFzZVRleHR1cmVVbml0SW5kZXggPSAwO1xyXG5cclxuICAgIHRoaXMuX2J1aWxkV2ViR0xQcm9ncmFtUHJvbWlzZSA9IHRoaXMuX2J1aWxkV2ViR0xQcm9ncmFtKGdsLCBjb25maWcpO1xyXG5cclxuICAgIC8vIFRPRE86IEZyZWV6ZSB0aGlzIG9iamVjdCBhZnRlciBpbml0aWFsaXppbmdcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7c3RyaW5nfSAqL1xyXG4gIGdldCBwcm9ncmFtSWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWcuaWQ7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMge1Byb21pc2V9ICovXHJcbiAgZ2V0SXNSZWFkeSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9idWlsZFdlYkdMUHJvZ3JhbVByb21pc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoaXMgcHJvZ3JhbSB0byB1c2UgZm9yIHJlbmRlcmluZyBvbiB0aGUgZ2l2ZW4gV2ViR0wgY29udGV4dC5cclxuICAgKlxyXG4gICAqIFRoaXMgYWxzbyBlbmFibGVzIGFsbCByZWxldmFudCBhdHRyaWJ1dGUgdmFyaWFibGVzIGZvciB0aGlzIHByb2dyYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKi9cclxuICBzZXRQcm9ncmFtKGdsKSB7XHJcbiAgICBnbC51c2VQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xyXG4gICAgdGhpcy5fZW5hYmxlQXR0cmlidXRlcygpO1xyXG4gICAgaWYgKHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIpIHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIoZ2wpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVuZGVycyBzaGFwZXMgdXNpbmcgdGhpcyBwcm9ncmFtIHdpdGggdGhlIGdpdmVuIHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfSBbcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ11cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29mZnNldD0wXSBPZmZzZXQgaW50byB0aGUgZWxlbWVudCBhcnJheSBidWZmZXIgdG8gcmVuZGVyIGZyb20uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudD1wcm9ncmFtVmFyaWFibGVzQ29uZmlnLmVsZW1lbnRDb3VudF0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZW5kZXIuXHJcbiAgICovXHJcbiAgZHJhdyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgb2Zmc2V0LCBjb3VudCkge1xyXG4gICAgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHByb2dyYW1WYXJpYWJsZXNDb25maWcgfHwgdGhpcy5jb25maWcuZ2V0UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyhnbCk7XHJcbiAgICB0aGlzLl9zZXRWYXJpYWJsZXMoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcpO1xyXG4gICAgdGhpcy5fZHJhdyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgb2Zmc2V0LCBjb3VudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHVwIHRoaXMgV2ViR0wgcmVuZGVyaW5nIHByb2dyYW0gdG8gZHJhdyBzaGFwZXMgd2l0aCB0aGUgZ2l2ZW4gcHJvZ3JhbSB2YXJpYWJsZXNcclxuICAgKiBjb25maWd1cmF0aW9uIGFuZCB0aGUgYXR0cmlidXRlL3VuaWZvcm0gc2V0dGVycyB0aGF0IGhhdmUgYmVlbiBzZXQgdXAgZm9yIHRoaXMgcHJvZ3JhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ30gcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3NldFZhcmlhYmxlcyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZykge1xyXG4gICAgdGhpcy5fc2V0QXR0cmlidXRlcyhwcm9ncmFtVmFyaWFibGVzQ29uZmlnLmF0dHJpYnV0ZXMpO1xyXG4gICAgdGhpcy5fc2V0VW5pZm9ybXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcyk7XHJcblxyXG4gICAgLy8gQ2hlY2sgd2hldGhlciB3ZSBhcmUgc2V0IHVwIHRvIGRyYXcgdXNpbmcgZ2wuZHJhd0VsZW1lbnRzIHJhdGhlciB0aGFuIGdsLmRyYXdBcnJheXMuXHJcbiAgICBpZiAocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy52ZXJ0ZXhJbmRpY2VzKSB7XHJcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHByb2dyYW1WYXJpYWJsZXNDb25maWcudmVydGV4SW5kaWNlcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW5kZXJzIHNoYXBlcyBhY2NvcmRpbmcgdG8gdGhpcyBwcm9ncmFtJ3MgY3VycmVudCBjb25maWd1cmF0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfSBwcm9ncmFtVmFyaWFibGVzQ29uZmlnXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvZmZzZXQ9MF0gT2Zmc2V0IGludG8gdGhlIGVsZW1lbnQgYXJyYXkgYnVmZmVyIHRvIHJlbmRlciBmcm9tLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbY291bnQ9cHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5lbGVtZW50Q291bnRdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gcmVuZGVyLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2RyYXcoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcsIG9mZnNldCwgY291bnQpIHtcclxuICAgIG9mZnNldCA9IHR5cGVvZiBvZmZzZXQgPT09ICdudW1iZXInID8gb2Zmc2V0IDogMDtcclxuICAgIGNvdW50ID0gdHlwZW9mIGNvdW50ID09PSAnbnVtYmVyJyA/IGNvdW50IDogcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5lbGVtZW50Q291bnQ7XHJcblxyXG4gICAgaWYgKGlzSW5EZXZNb2RlKSB7XHJcbiAgICAgIHRoaXMuX2NoZWNrVGhhdEdpdmVuVmFyaWFibGVzTWF0Y2hQcm9ncmFtKHByb2dyYW1WYXJpYWJsZXNDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIHdoZXRoZXIgd2UgYXJlIHNldCB1cCB0byBkcmF3IHVzaW5nIGdsLmRyYXdFbGVtZW50cyBvciBnbC5kcmF3QXJyYXlzLlxyXG4gICAgaWYgKHByb2dyYW1WYXJpYWJsZXNDb25maWcudmVydGV4SW5kaWNlcykge1xyXG4gICAgICBnbC5kcmF3RWxlbWVudHMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5tb2RlLCBjb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIG9mZnNldCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnbC5kcmF3QXJyYXlzKHByb2dyYW1WYXJpYWJsZXNDb25maWcubW9kZSwgb2Zmc2V0LCBjb3VudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgYXR0cmlidXRlIGFuZCB1bmlmb3JtIHZhcmlhYmxlcyBzcGVjaWZpZWQgaW4gdGhlIGdpdmVuIGNvbmZpZyBtYXRjaCB0aG9zZVxyXG4gICAqIGRlZmluZWQgaW4gdGhpcyBwcm9ncmFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfSBwcm9ncmFtVmFyaWFibGVzQ29uZmlnXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfY2hlY2tUaGF0R2l2ZW5WYXJpYWJsZXNNYXRjaFByb2dyYW0ocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZykge1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKHByb2dyYW1WYXJpYWJsZXNDb25maWcuYXR0cmlidXRlcykubGVuZ3RoICE9PVxyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9hdHRyaWJ1dGVTZXR0ZXJzKS5sZW5ndGggfHxcclxuICAgICAgICBPYmplY3Qua2V5cyhwcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zKS5sZW5ndGggIT09XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3VuaWZvcm1TZXR0ZXJzKS5sZW5ndGgpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdUaGUgYXR0cmlidXRlL3VuaWZvcm0gdmFyaWFibGVzIGluIHRoZSBQcm9ncmFtVmFyaWFibGVzQ29uZmlnIGRvIG5vdCBtYXRjaCAnICtcclxuICAgICAgICAgICd0aG9zZSBzcGVjaWZpZWQgaW4gdGhlIHNoYWRlcnMuJywgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgdGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB1bmlmb3JtIHZhbHVlcyBmb3IgdGhpcyBwcm9ncmFtLlxyXG4gICAqXHJcbiAgICogU3BlY2lmaWNhbGx5LCB0aGlzIGNhbGxzIGBnbC51bmlmb3JtPC4uLj4obG9jYXRpb24sIHZhbHVlKWAgZm9yIGVhY2hcclxuICAgKiB2YXJpYWJsZS1uYW1lL3ZhcmlhYmxlLXZhbHVlIGtleS12YWx1ZSBwYWlyIGluIHRoZSBnaXZlbiBtYXAuIEFzIHBhcnQgb2YgdGhlIHNldHVwIHByb2Nlc3MsIHRoZVxyXG4gICAqIHVuaWZvcm0gdmFyaWFibGUgbG9jYXRpb25zIGFyZSBzdG9yZWQgaW4gYSBtYXAgZnJvbSB0aGVpciBjb3JyZXNwb25kaW5nIHZhcmlhYmxlIG5hbWVzLiBTbyBvbmx5XHJcbiAgICogdGhlIHZhcmlhYmxlIG5hbWVzIGFyZSBuZWVkZWQgaW4gb3JkZXIgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIGF0IHJlbmRlciB0aW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3QuPFN0cmluZywgVW5pZm9ybURhdGE+fSB1bmlmb3JtVmFsdWVzXHJcbiAgICovXHJcbiAgX3NldFVuaWZvcm1zKHVuaWZvcm1WYWx1ZXMpIHtcclxuICAgIE9iamVjdC5rZXlzKHVuaWZvcm1WYWx1ZXMpLmZvckVhY2godW5pZm9ybU5hbWUgPT4ge1xyXG4gICAgICBjb25zdCB1bmlmb3JtU2V0dGVyID0gdGhpcy5fdW5pZm9ybVNldHRlcnNbdW5pZm9ybU5hbWVdO1xyXG4gICAgICBjb25zdCB1bmlmb3JtVmFsdWUgPSB1bmlmb3JtVmFsdWVzW3VuaWZvcm1OYW1lXTtcclxuICAgICAgdW5pZm9ybVNldHRlci5zZXRVbmlmb3JtKHVuaWZvcm1WYWx1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGF0dHJpYnV0ZSBidWZmZXJzIGZvciB0aGlzIHByb2dyYW0uXHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2FsbHksIHRoaXMgY2FsbHMgYGdsLmJpbmRCdWZmZXIoLi4uKWAgYW5kIGBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKC4uLilgIGZvciBlYWNoXHJcbiAgICogdmFyaWFibGUtbmFtZS92YXJpYWJsZS12YWx1ZSBwYWlyIGluIHRoZSBnaXZlbiBhdHRyaWJ1dGUtaW5mbyBtYXAuIEFzIHBhcnQgb2YgdGhlIHNldHVwXHJcbiAgICogcHJvY2VzcywgdGhlIHVuaWZvcm0gdmFyaWFibGUgbG9jYXRpb25zIGFyZSBzdG9yZWQgaW4gYSBtYXAgZnJvbSB0aGVpciBjb3JyZXNwb25kaW5nIHZhcmlhYmxlXHJcbiAgICogbmFtZXMuIFNvIG9ubHkgdGhlIHZhcmlhYmxlIG5hbWVzIGFyZSBuZWVkZWQgaW4gb3JkZXIgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIGF0IHJlbmRlciB0aW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3QuPFN0cmluZywgQXR0cmlidXRlQ29uZmlnPn0gYXR0cmlidXRlQ29uZmlnc1xyXG4gICAqL1xyXG4gIF9zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZUNvbmZpZ3MpIHtcclxuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZUNvbmZpZ3MpLmZvckVhY2goYXR0cmlidXRlTmFtZSA9PiB7XHJcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZVNldHRlciA9IHRoaXMuX2F0dHJpYnV0ZVNldHRlcnNbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUNvbmZpZyA9IGF0dHJpYnV0ZUNvbmZpZ3NbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgIGF0dHJpYnV0ZVNldHRlcihhdHRyaWJ1dGVDb25maWcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9lbmFibGVBdHRyaWJ1dGVzKCkge1xyXG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMuZm9yRWFjaChhdHRyaWJ1dGVFbmFibGVyID0+IGF0dHJpYnV0ZUVuYWJsZXIoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIHVuaWZvcm0gc2V0dGVycyBmb3IgdGhpcyBwcm9ncmFtIGFuZCBzYXZlcyB0aGVtIGluIHRoZSBfdW5pZm9ybVNldHRlcnMgcHJvcGVydHkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVVbmlmb3JtU2V0dGVycyhnbCkge1xyXG4gICAgY29uc3QgdW5pZm9ybUNvdW50ID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLl9wcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xyXG5cclxuICAgIHRoaXMuX3VuaWZvcm1TZXR0ZXJzID0ge307XHJcblxyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHVuaWZvcm1Db3VudDsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCB1bmlmb3JtSW5mbyA9IGdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5fcHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgICBsZXQgdW5pZm9ybU5hbWUgPSB1bmlmb3JtSW5mby5uYW1lO1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIGFueSBhcnJheSBzdWZmaXguXHJcbiAgICAgIC8vIFRPRE86IElzIHRoaXMgcmVtb3ZhbCByZWR1bmRhbnQgd2l0aCB0aGUgaXNBcnJheSBjaGVjayBiZWxvdz8/XHJcbiAgICAgIGlmICh1bmlmb3JtTmFtZS5zdWJzdHIoLTMpID09PSAnWzBdJykge1xyXG4gICAgICAgIHVuaWZvcm1OYW1lID0gdW5pZm9ybU5hbWUuc3Vic3RyKDAsIHVuaWZvcm1OYW1lLmxlbmd0aCAtIDMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl91bmlmb3JtU2V0dGVyc1t1bmlmb3JtTmFtZV0gPSBuZXcgVW5pZm9ybVNldHRlcihnbCwgdGhpcy5fcHJvZ3JhbSwgdW5pZm9ybUluZm8sIHRoaXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhdHRyaWJ1dGUgZW5hYmxlcnMgYW5kIHNldHRlcnMgZm9yIHRoaXMgcHJvZ3JhbSBhbmQgc2F2ZXMgdGhlbSBpbiB0aGVcclxuICAgKiBfYXR0cmlidXRlRW5hYmxlcnMgYW5kIF9hdHRyaWJ1dGVTZXR0ZXJzIHByb3BlcnRpZXMsIHJlc3BlY3RpdmVseS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2NyZWF0ZUF0dHJpYnV0ZUVuYWJsZXJzQW5kU2V0dGVycyhnbCkge1xyXG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMgPSBbXTtcclxuICAgIHRoaXMuX2F0dHJpYnV0ZVNldHRlcnMgPSB7fTtcclxuXHJcbiAgICBjb25zdCBhdHRyaWJ1dGVDb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fcHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xyXG5cclxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhdHRyaWJ1dGVDb3VudDsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHRoaXMuX3Byb2dyYW0sIGluZGV4KS5uYW1lO1xyXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuX3Byb2dyYW0sIGF0dHJpYnV0ZU5hbWUpO1xyXG5cclxuICAgICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMucHVzaChQcm9ncmFtV3JhcHBlci5fY3JlYXRlQXR0cmlidXRlRW5hYmxlcihnbCwgbG9jYXRpb24pKTtcclxuICAgICAgdGhpcy5fYXR0cmlidXRlU2V0dGVyc1thdHRyaWJ1dGVOYW1lXSA9IFByb2dyYW1XcmFwcGVyLl9jcmVhdGVBdHRyaWJ1dGVTZXR0ZXIoZ2wsIGxvY2F0aW9uKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWRzIHRoZSBzaGFkZXIgc291cmNlIGNvZGUgZnJvbSB0aGUgZ2l2ZW4gVVJMcywgY29tcGlsZXMgdGhlIHNoYWRlciBzb3VyY2UgY29kZSwgYW5kIGNyZWF0ZXNcclxuICAgKiBhIHByb2dyYW0gZnJvbSB0aGUgcmVzdWx0aW5nIHNoYWRlcnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9idWlsZFdlYkdMUHJvZ3JhbShnbCwgY29uZmlnKSB7XHJcbiAgICByZXR1cm4gbG9hZFByb2dyYW0oZ2wsIGNvbmZpZy52ZXJ0ZXhTaGFkZXJQYXRoLCBjb25maWcuZnJhZ21lbnRTaGFkZXJQYXRoKVxyXG4gICAgICAgIC50aGVuKHdlYkdMUHJvZ3JhbSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9wcm9ncmFtID0gd2ViR0xQcm9ncmFtO1xyXG4gICAgICAgICAgdGhpcy5fY3JlYXRlVW5pZm9ybVNldHRlcnMoZ2wpO1xyXG4gICAgICAgICAgdGhpcy5fY3JlYXRlQXR0cmlidXRlRW5hYmxlcnNBbmRTZXR0ZXJzKGdsKTtcclxuICAgICAgICAgIGlmIChjb25maWcuaW5pdGlhbGl6ZSkgY29uZmlnLmluaXRpYWxpemUoZ2wpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5pbmZvKGBQcm9ncmFtIGxvYWRlZDogJHtjb25maWcuaWR9YCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvY2F0aW9uXHJcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgc3RhdGljIF9jcmVhdGVBdHRyaWJ1dGVFbmFibGVyKGdsLCBsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuICgpID0+IGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsb2NhdGlvblxyXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbi48QXR0cmlidXRlQ29uZmlnPn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHN0YXRpYyBfY3JlYXRlQXR0cmlidXRlU2V0dGVyKGdsLCBsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIGF0dHJpYnV0ZUNvbmZpZyA9PiB7XHJcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBhdHRyaWJ1dGVDb25maWcuYnVmZmVyKTtcclxuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgICAgIGxvY2F0aW9uLFxyXG4gICAgICAgICAgYXR0cmlidXRlQ29uZmlnLnNpemUsXHJcbiAgICAgICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLnR5cGUgIT09ICd1bmRlZmluZWQnID8gYXR0cmlidXRlQ29uZmlnLnR5cGUgOiBnbC5GTE9BVCxcclxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcubm9ybWFsaXplZCAhPT0gJ3VuZGVmaW5lZCcgPyBhdHRyaWJ1dGVDb25maWcubm9ybWFsaXplZCA6IGZhbHNlLFxyXG4gICAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5zdHJpZGUgIT09ICd1bmRlZmluZWQnID8gYXR0cmlidXRlQ29uZmlnLnN0cmlkZSA6IDAsXHJcbiAgICAgICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLm9mZnNldCAhPT0gJ3VuZGVmaW5lZCcgPyBhdHRyaWJ1dGVDb25maWcub2Zmc2V0IDogMCk7XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtQcm9ncmFtV3JhcHBlcn07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVdyYXBwZXJDb25maWdcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtpbml0aWFsaXplXSBBIG1ldGhvZCBmb3Igb25lLXRpbWUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIEdMIHN0YXRlIGZvciB0aGlzXHJcbiAqIHByb2dyYW0uXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFt3ZWJHTFN0YXRlU2V0dGVyXSBBIG1ldGhvZCBmb3Igc2V0dGluZyB1cCB0aGUgR0wgc3RhdGUgZm9yIHRoaXMgcHJvZ3JhbVxyXG4gKiB3cmFwcGVyIGluIHByZXBhcmF0aW9uIGZvciB0aGUgY3VycmVudCBkcmF3IGNhbGwuXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVuZGVyUHJpb3JpdHldIFByb2dyYW1zIHdpdGggbG93ZXIgcHJpb3JpdHkgd2lsbCByZW5kZXIgZmlyc3QuIFRoaXMgZG9lcyBub3RcclxuICogbmVlZCB0byBiZSBwcmVzZW50IGZvciBQcm9ncmFtV3JhcHBlcnMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgYSBHcm91cFByb2dyYW1XcmFwcGVyLlxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3ZlcnRleFNoYWRlclBhdGhdIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3MgZm9yIG5vbi1ncm91cFxyXG4gKiBQcm9ncmFtV3JhcHBlcnMuXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZnJhZ21lbnRTaGFkZXJQYXRoXSBUaGlzIHdpbGwgYmUgcHJlc2VudCBvbiBjb25maWdzIGZvciBub24tZ3JvdXBcclxuICogUHJvZ3JhbVdyYXBwZXJzLlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc0FQb3N0UHJvY2Vzc29yPWZhbHNlXSBBIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtIGlzIHVzZWQgZm9yIG1hbmlwdWxhdGluZ1xyXG4gKiB0aGUgZW50aXJlIGZyYW1lIGFmdGVyIGFsbCB0aGUgbW9kZWxzIGhhdmUgcmVuZGVyZWQuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NoaWxkcmVuUHJvZ3JhbUNvbmZpZ3NdIEEgZ3JvdXBpbmcgcHJvZ3JhbSBjb25zaXN0cyBvZiBtdWx0aXBsZSBjaGlsZFxyXG4gKiBwcm9ncmFtcyB0aGF0IGFyZSBhbGwgcmVuZGVyZWQgaW4gc2VxdWVuY2UgZm9yIGEgcmVsYXRlZCBwdXJwb3NlLlxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxDaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkcz59IFtjaGlsZHJlblByb2dyYW1zVG9EcmF3XSBUaGUgSURzIGZvciB0aGVcclxuICogc2VxdWVuY2Ugb2YgY2hpbGRyZW4gUHJvZ3JhbVdyYXBwZXJzIHRvIGRyYXcsIGFzIHdlbGwgYXMgdGhlIElEcyBmb3IgdGhlIGlucHV0IGFuZCBvdXRwdXRcclxuICogZnJhbWVidWZmZXJzL3RleHR1cmVzIHRvIHVzZS4gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBmb3IgR3JvdXBQcm9ncmFtV3JhcHBlcnMuXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IFtjaGlsZHJlbkZyYW1lYnVmZmVySWRzXSBUaGUgSURzIG9mIGFsbCB0aGUgZnJhbWVidWZmZXJzL3RleHR1cmVzIHRoYXRcclxuICogd2lsbCBuZWVkIHRvIGJlIGNyZWF0ZWQgZm9yIHRoaXMgcHJvZ3JhbS4gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBmb3JcclxuICogR3JvdXBQcm9ncmFtV3JhcHBlcnMuXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtnZXRQcm9ncmFtVmFyaWFibGVzQ29uZmlnXSBBIG1ldGhvZCBmb3IgZ2V0dGluZyB0aGUgdmFyaWFibGVzIG5lZWRlZCBmb3JcclxuICogZHJhd2luZyB0aGlzIHByb2dyYW0uIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3Mgb2YgcHJvZ3JhbXMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgYVxyXG4gKiBHcm91cFByb2dyYW1XcmFwcGVyLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkc1xyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcHJvZ3JhbUlkIFRoZSBJRCBvZiB0aGUgcHJvZ3JhbSB0byBkcmF3IHdpdGguXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IGlucHV0RnJhbWVidWZmZXJJZHMgVGhlIElEcyBvZiBmcmFtZWJ1ZmZlcnMgd2hvc2UgdGV4dHVyZXMgd2lsbCBiZVxyXG4gKiB1c2VkIGFzIGlucHV0cyBmb3IgdGhpcyBwcm9ncmFtJ3Mgc2hhZGVycy5cclxuICogQHByb3BlcnR5IHtzdHJpbmd9IG91dHB1dEZyYW1lYnVmZmVySWQgUHJvdmlkZSBudWxsIGluIG9yZGVyIHRvIHJlbmRlciB0byB0aGUgY2FudmFzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtVmFyaWFibGVzQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIEF0dHJpYnV0ZUNvbmZpZz59IGF0dHJpYnV0ZXMgQSBtYXBwaW5nIGZyb20gYXR0cmlidXRlIG5hbWVzIHRvXHJcbiAqIGF0dHJpYnV0ZSBpbmZvLlxyXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBVbmlmb3JtRGF0YT59IHVuaWZvcm1zIEEgbWFwcGluZyBmcm9tIHVuaWZvcm0gbmFtZXMgdG8gdW5pZm9ybSBpbmZvLlxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gbW9kZSBTcGVjaWZpZXMgdGhlIHR5cGUgb2YgcHJpbWl0aXZlcyB0byByZW5kZXI7IG9uZSBvZjpcclxuICogICAtIGdsLlBPSU5UUyxcclxuICogICAtIGdsLkxJTkVTLFxyXG4gKiAgIC0gZ2wuTElORV9TVFJJUCxcclxuICogICAtIGdsLkxJTkVfTE9PUCxcclxuICogICAtIGdsLlRSSUFOR0xFUyxcclxuICogICAtIGdsLlRSSUFOR0xFX1NUUklQLFxyXG4gKiAgIC0gZ2wuVFJJQU5HTEVfRkFOLlxyXG4gKiBAcHJvcGVydHkge1dlYkdMQnVmZmVyfSBbdmVydGV4SW5kaWNlc10gVGhlIGluZGljZXMgdG8gdXNlIGZvciByZXRyaWV2aW5nIHRoZSB2ZXJ0ZXggaW5mbyBmcm9tXHJcbiAqIGVhY2ggb2YgdGhlIG90aGVyIGF0dHJpYnV0ZSB2YXJpYWJsZSBidWZmZXJzLiBJZiB0aGlzIHByb3BlcnR5IGlzIHByZXNlbnQsIHRoZW4gdGhlIHJlbmRlcmluZ1xyXG4gKiBwaXBlbGluZSB3aWxsIGJlIHNldCB1cCB0byB1c2UgZ2wuZHJhd0VsZW1lbnRzICh3aXRoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKSBpbnN0ZWFkIG9mXHJcbiAqIGdsLmRyYXdBcnJheXMuXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbGVtZW50Q291bnQgVGhlIG51bWJlciBvZiBlbGVtZW50cy92ZXJ0aWNlcyB0byByZW5kZXIgZm9yIHRoaXMgdmFyaWFibGVzXHJcbiAqIGNvbmZpZ3VyYXRpb24uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEF0dHJpYnV0ZUNvbmZpZ1xyXG4gKiBAcHJvcGVydHkge1dlYkdMQnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciBjb250YWluaW5nIHRoaXMgYXR0cmlidXRlJ3MgZGF0YS5cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4IEluZGV4IG9mIHRhcmdldCBhdHRyaWJ1dGUgaW4gdGhlIGJ1ZmZlciBib3VuZCB0byBnbC5BUlJBWV9CVUZGRVIuXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplIFRoZSBudW1iZXIgb2YgY29tcG9uZW50cyBwZXIgYXR0cmlidXRlLiBNdXN0IGJlIDEsMiwzLG9yIDQuXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0eXBlIFNwZWNpZmllcyB0aGUgZGF0YSB0eXBlIG9mIGVhY2ggY29tcG9uZW50IGluIHRoZSBhcnJheS4gVXNlIGVpdGhlclxyXG4gKiBnbC5GTE9BVCBvciBnbC5GSVhFRC5cclxuICogQHByb3BlcnR5IHtib29sZWFufSBub3JtYWxpemVkIElmIHRydWUsIHRoZW4gdmFsdWVzIHdpbGwgYmUgbm9ybWFsaXplZCB0byBhIHJhbmdlIG9mIC0xIG9yIDAgdG9cclxuICogMS5cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cmlkZSBTcGVjaWZpZXMgdGhlIG9mZnNldCBpbiBieXRlcyBiZXR3ZWVuIHRoZSBiZWdpbm5pbmcgb2YgY29uc2VjdXRpdmVcclxuICogdmVydGV4IGF0dHJpYnV0ZXMuIERlZmF1bHQgdmFsdWUgaXMgMCwgbWF4aW11bSBpcyAyNTUuIE11c3QgYmUgYSBtdWx0aXBsZSBvZiB0eXBlLlxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gb2Zmc2V0IFNwZWNpZmllcyBhbiBvZmZzZXQgaW4gYnl0ZXMgb2YgdGhlIGZpcnN0IGNvbXBvbmVudCBvZiB0aGUgZmlyc3RcclxuICogdmVydGV4IGF0dHJpYnV0ZSBpbiB0aGUgYXJyYXkuIERlZmF1bHQgaXMgMCB3aGljaCBtZWFucyB0aGF0IHZlcnRleCBhdHRyaWJ1dGVzIGFyZSB0aWdodGx5XHJcbiAqIHBhY2tlZC4gTXVzdCBiZSBhIG11bHRpcGxlIG9mIHR5cGUuXHJcbiAqL1xyXG5cclxuLyoqIEB0eXBlZGVmIHsqfSBVbmlmb3JtRGF0YSAqL1xyXG4iLCJpbXBvcnQge2xvYWRJbWFnZVNyY30gZnJvbSAnLi4vLi4vdXRpbCc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBsb2Fkcywgc2V0cyB1cCwgYW5kIHN0b3JlcyBXZWJHTCB0ZXh0dXJlIG9iamVjdHMuXHJcbiAqXHJcbiAqIE5PVEU6IE9ubHkgdGV4dHVyZXMgd2hvc2Ugc2lkZSBsZW5ndGhzIGFyZSBwb3dlcnMgb2YgdHdvIGFyZSBzdXBwb3J0ZWQuXHJcbiAqL1xyXG5jbGFzcyBUZXh0dXJlU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy50ZXh0dXJlQ2FjaGUgPSB7fTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxyXG4gICAqIEByZXR1cm5zIHtXZWJHTFRleHR1cmV9XHJcbiAgICovXHJcbiAgZ2V0VGV4dHVyZSh0ZXh0dXJlUGF0aCkge1xyXG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZUNhY2hlW3RleHR1cmVQYXRoXS50ZXh0dXJlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9hZHMgdGhlIHRleHR1cmUgaW1hZ2UgYXQgdGhlIGdpdmVuIHBhdGgsIGNyZWF0ZXMgYSB0ZXh0dXJlIG9iamVjdCBmcm9tIGl0LCBjYWNoZXMgdGhlXHJcbiAgICogdGV4dHVyZSwgYW5kIHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgdGV4dHVyZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGEgZ2l2ZW4gdGV4dHVyZSB3aWxsIG9ubHkgYmUgbG9hZGVkIG9uY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dHVyZVBhdGhcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48V2ViR0xUZXh0dXJlLCBFcnJvcj59XHJcbiAgICovXHJcbiAgbG9hZFRleHR1cmUoZ2wsIHRleHR1cmVQYXRoKSB7XHJcbiAgICBsZXQgdGV4dHVyZUNhY2hlSW5mbyA9IHRoaXMudGV4dHVyZUNhY2hlW3RleHR1cmVQYXRoXTtcclxuXHJcbiAgICAvLyBMb2FkLCBjcmVhdGUsIGFuZCBjYWNoZSB0aGUgdGV4dHVyZSBpZiBpdCBoYXMgbm90IGJlZW4gcHJldmlvdXNseSByZWdpc3RlcmVkLlxyXG4gICAgaWYgKCF0ZXh0dXJlQ2FjaGVJbmZvKSB7XHJcbiAgICAgIHRleHR1cmVDYWNoZUluZm8gPSB7XHJcbiAgICAgICAgdGV4dHVyZVByb21pc2U6IG51bGwsXHJcbiAgICAgICAgdGV4dHVyZTogbnVsbCxcclxuICAgICAgICBpbWFnZTogbmV3IEltYWdlKClcclxuICAgICAgfTtcclxuICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVbdGV4dHVyZVBhdGhdID0gdGV4dHVyZUNhY2hlSW5mbztcclxuICAgICAgdGV4dHVyZUNhY2hlSW5mby50ZXh0dXJlUHJvbWlzZSA9IGxvYWRJbWFnZVNyYyh0ZXh0dXJlQ2FjaGVJbmZvLmltYWdlLCB0ZXh0dXJlUGF0aClcclxuICAgICAgICAgIC50aGVuKF8gPT4gdGhpcy5fY3JlYXRlVGV4dHVyZShnbCwgdGV4dHVyZUNhY2hlSW5mbykpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0ZXh0dXJlQ2FjaGVJbmZvLnRleHR1cmVQcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogTWFrZSB0aGlzIG1vcmUgZ2VuZXJhbC9jb25maWd1cmFibGUgYnkgY3JlYXRpbmcgYSBuZXcgVGV4dHVyZUNvbmZpZyB0eXBlZGVmIHdpdGggbW9zdCBvZlxyXG4gIC8vIHRoZSBnbC54eHggcGFyYW1zIGluY2x1ZGVkIGJlbG93IChsaWtlIHRoZSBBdHRyaWJ1dGVDb25maWcgdHlwZWRlZn0sIHBhc3NpbmcgYSB0ZXh0dXJlQ29uZmlnIGluXHJcbiAgLy8gdGhlIHJlZ2lzdGVyIG1ldGhvZCwgYW5kIHNhdmluZyBpdCBvbiB0aGUgdGV4dHVyZUNhY2hlSW5mbyBvYmplY3QuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtUZXh0dXJlQ2FjaGVJbmZvfSB0ZXh0dXJlQ2FjaGVJbmZvXHJcbiAgICogQHJldHVybnMge1dlYkdMVGV4dHVyZX1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVUZXh0dXJlKGdsLCB0ZXh0dXJlQ2FjaGVJbmZvKSB7XHJcbiAgICBjb25zb2xlLmluZm8oYFRleHR1cmUgbG9hZGVkOiAke3RleHR1cmVDYWNoZUluZm8uaW1hZ2Uuc3JjfWApO1xyXG5cclxuICAgIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZSk7XHJcbiAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVDYWNoZUluZm8uaW1hZ2UpO1xyXG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcclxuICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xyXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XHJcblxyXG4gICAgcmV0dXJuIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdBUk5JTkc6IFRoaXMgd2lsbCByZW1vdmUgdGhlIHRleHR1cmUgZnJvbSB0aGUgc3RvcmUgZXZlbiBpZiB0aGVyZSBhcmUgc3RpbGwgb3RoZXIgY29tcG9uZW50c1xyXG4gICAqIGRlcGVuZGluZyBvbiB0aGlzIHRleHR1cmUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dHVyZVBhdGhcclxuICAgKi9cclxuICBkZWxldGVUZXh0dXJlKHRleHR1cmVQYXRoKSB7XHJcbiAgICBkZWxldGUgdGhpcy50ZXh0dXJlQ2FjaGVbdGV4dHVyZVBhdGhdO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHRleHR1cmVTdG9yZSA9IG5ldyBUZXh0dXJlU3RvcmUoKTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0dXJlQ2FjaGVJbmZvXHJcbiAqIEBwcm9wZXJ0eSB7UHJvbWlzZS48V2ViR0xUZXh0dXJlLCBFcnJvcj59IHRleHR1cmVQcm9taXNlXHJcbiAqIEBwcm9wZXJ0eSB7V2ViR0xUZXh0dXJlfSBbdGV4dHVyZV1cclxuICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fSBbaW1hZ2VdXHJcbiAqL1xyXG4iLCIvKipcclxuICogVGhpcyBjbGFzcyBzdG9yZXMgYSBmdW5jdGlvbiBmb3Igc2V0dGluZyBhIHZhbHVlIHRvIGEgV2ViR0wgdW5pZm9ybSB2YXJpYWJsZS5cclxuICpcclxuICogVGhpcyBpcyBpbnRlbmRlZCBmb3IgdXNlIGFzIGEgaGVscGVyIGZvciB0aGUgUHJvZ3JhbVdyYXBwZXIgY2xhc3MuXHJcbiAqL1xyXG4vLyBUT0RPOiBXcml0ZSB0ZXN0cyBmb3IgdGhpcyBjbGFzcy5cclxuY2xhc3MgVW5pZm9ybVNldHRlciB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtXZWJHTFByb2dyYW19IHByb2dyYW1cclxuICAgKiBAcGFyYW0ge1dlYkdMQWN0aXZlSW5mb30gdW5pZm9ybUluZm9cclxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxyXG4gICAqIEB0aHJvd3MgSWYgdGhlIGdpdmVuIHVuaWZvcm1JbmZvIHNwZWNpZmllcyBhbiB1bmV4cGVjdGVkIHVuaWZvcm0tdmFsdWUgdHlwZS5cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihnbCwgcHJvZ3JhbSwgdW5pZm9ybUluZm8sIHByb2dyYW1XcmFwcGVyKSB7XHJcbiAgICB0aGlzLl9sb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB1bmlmb3JtSW5mby5uYW1lKTtcclxuICAgIHRoaXMuX3NldHRlciA9IHRoaXMuX2dldFNldHRlcihnbCwgdW5pZm9ybUluZm8sIHByb2dyYW1XcmFwcGVyKTtcclxuXHJcbiAgICAvLyBUT0RPOiBGcmVlemUgdGhpcyBvYmplY3QgYWZ0ZXIgaW5pdGlhbGl6aW5nXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1VuaWZvcm1EYXRhfSB1bmlmb3JtVmFsdWVcclxuICAgKi9cclxuICBzZXRVbmlmb3JtKHVuaWZvcm1WYWx1ZSkge1xyXG4gICAgdW5pZm9ybVZhbHVlID0gdW5pZm9ybVZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBuZXcgRmxvYXQzMkFycmF5KHVuaWZvcm1WYWx1ZSkgOiB1bmlmb3JtVmFsdWU7XHJcbiAgICB0aGlzLl9zZXR0ZXIodW5pZm9ybVZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7V2ViR0xVbmlmb3JtTG9jYXRpb259ICovXHJcbiAgZ2V0IGxvY2F0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICogQHBhcmFtIHtXZWJHTEFjdGl2ZUluZm99IHVuaWZvcm1JbmZvXHJcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb24uPCo+fVxyXG4gICAqIEB0aHJvd3MgSWYgdGhlIGdpdmVuIHVuaWZvcm1JbmZvIHNwZWNpZmllcyBhbiB1bmV4cGVjdGVkIHVuaWZvcm0tdmFsdWUgdHlwZS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9nZXRTZXR0ZXIoZ2wsIHVuaWZvcm1JbmZvLCBwcm9ncmFtV3JhcHBlcikge1xyXG4gICAgY29uc3QgaXNBcnJheSA9IHVuaWZvcm1JbmZvLnNpemUgPiAxICYmIHVuaWZvcm1JbmZvLm5hbWUuc3Vic3RyKC0zKSA9PT0gJ1swXSc7XHJcbiAgICBjb25zdCBzZXR0ZXJNYXAgPSBpc0FycmF5ID8ge1xyXG4gICAgICBbZ2wuRkxPQVRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWZ2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXHJcbiAgICAgIFtnbC5JTlRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWl2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXHJcbiAgICAgIFtnbC5TQU1QTEVSXzJEXTogdGhpcy5fZ2V0VW5pZm9ybVRleHR1cmVBcnJheVNldHRlcihnbCwgZ2wuVEVYVFVSRV8yRCwgdW5pZm9ybUluZm8uc2l6ZSxcclxuICAgICAgICAgIHByb2dyYW1XcmFwcGVyKSxcclxuICAgICAgW2dsLlNBTVBMRVJfQ1VCRV06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlQXJyYXlTZXR0ZXIoZ2wsIGdsLlRFWFRVUkVfQ1VCRV9NQVAsXHJcbiAgICAgICAgICB1bmlmb3JtSW5mby5zaXplLCBwcm9ncmFtV3JhcHBlciksXHJcbiAgICB9IDoge1xyXG4gICAgICBbZ2wuRkxPQVRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcclxuICAgICAgW2dsLkZMT0FUX1ZFQzJdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMmZ2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXHJcbiAgICAgIFtnbC5GTE9BVF9WRUMzXTogdmFsdWUgPT4gZ2wudW5pZm9ybTNmdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxyXG4gICAgICBbZ2wuRkxPQVRfVkVDNF06IHZhbHVlID0+IGdsLnVuaWZvcm00ZnYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcclxuICAgICAgW2dsLklOVF06IHZhbHVlID0+IGdsLnVuaWZvcm0xaSh0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxyXG4gICAgICBbZ2wuSU5UX1ZFQzJdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMml2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXHJcbiAgICAgIFtnbC5JTlRfVkVDM106IHZhbHVlID0+IGdsLnVuaWZvcm0zaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcclxuICAgICAgW2dsLklOVF9WRUM0XTogdmFsdWUgPT4gZ2wudW5pZm9ybTRpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxyXG4gICAgICBbZ2wuQk9PTF06IHZhbHVlID0+IGdsLnVuaWZvcm0xaSh0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxyXG4gICAgICBbZ2wuQk9PTF9WRUMyXTogdmFsdWUgPT4gZ2wudW5pZm9ybTJpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxyXG4gICAgICBbZ2wuQk9PTF9WRUMzXTogdmFsdWUgPT4gZ2wudW5pZm9ybTNpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxyXG4gICAgICBbZ2wuQk9PTF9WRUM0XTogdmFsdWUgPT4gZ2wudW5pZm9ybTRpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxyXG4gICAgICBbZ2wuRkxPQVRfTUFUMl06IHZhbHVlID0+IGdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5fbG9jYXRpb24sIGZhbHNlLCB2YWx1ZSksXHJcbiAgICAgIFtnbC5GTE9BVF9NQVQzXTogdmFsdWUgPT4gZ2wudW5pZm9ybU1hdHJpeDNmdih0aGlzLl9sb2NhdGlvbiwgZmFsc2UsIHZhbHVlKSxcclxuICAgICAgW2dsLkZMT0FUX01BVDRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMuX2xvY2F0aW9uLCBmYWxzZSwgdmFsdWUpLFxyXG4gICAgICBbZ2wuU0FNUExFUl8yRF06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlU2V0dGVyKGdsLCBnbC5URVhUVVJFXzJELFxyXG4gICAgICAgICAgcHJvZ3JhbVdyYXBwZXIuYmFzZVRleHR1cmVVbml0SW5kZXgrKyksXHJcbiAgICAgIFtnbC5TQU1QTEVSX0NVQkVdOiB0aGlzLl9nZXRVbmlmb3JtVGV4dHVyZVNldHRlcihnbCwgZ2wuVEVYVFVSRV9DVUJFX01BUCxcclxuICAgICAgICAgIHByb2dyYW1XcmFwcGVyLmJhc2VUZXh0dXJlVW5pdEluZGV4KyspLFxyXG4gICAgfTtcclxuICAgIHJldHVybiBzZXR0ZXJNYXBbdW5pZm9ybUluZm8udHlwZV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IEFuIGVudW0gZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGlzIGJ1ZmZlcjsgb25lIG9mOlxyXG4gICAqICAgLSBnbC5URVhUVVJFXzJELFxyXG4gICAqICAgLSBnbC5URVhUVVJFX0NVQkVfTUFQLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB1bmlmb3JtU2l6ZVxyXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJ9IHByb2dyYW1XcmFwcGVyXHJcbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjwqPn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9nZXRVbmlmb3JtVGV4dHVyZUFycmF5U2V0dGVyKGdsLCB0YXJnZXQsIHVuaWZvcm1TaXplLCBwcm9ncmFtV3JhcHBlcikge1xyXG4gICAgY29uc3QgdGV4dHVyZVVuaXRJbmRpY2VzID1cclxuICAgICAgICBBcnJheS5mcm9tKHtsZW5ndGg6IHVuaWZvcm1TaXplfSwgXyA9PiBwcm9ncmFtV3JhcHBlci5iYXNlVGV4dHVyZVVuaXRJbmRleCsrKTtcclxuXHJcbiAgICByZXR1cm4gdGV4dHVyZXMgPT4ge1xyXG4gICAgICB0ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0ZXh0dXJlVW5pdEluZGljZXNbaW5kZXhdKTtcclxuICAgICAgICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRleHR1cmUpO1xyXG4gICAgICB9KTtcclxuICAgICAgZ2wudW5pZm9ybTFpdih0aGlzLl9sb2NhdGlvbiwgdGV4dHVyZVVuaXRJbmRpY2VzKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IEFuIGVudW0gZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGlzIGJ1ZmZlcjsgb25lIG9mOlxyXG4gICAqICAgLSBnbC5URVhUVVJFXzJELFxyXG4gICAqICAgLSBnbC5URVhUVVJFX0NVQkVfTUFQLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0ZXh0dXJlVW5pdEluZGV4XHJcbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjwqPn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9nZXRVbmlmb3JtVGV4dHVyZVNldHRlcihnbCwgdGFyZ2V0LCB0ZXh0dXJlVW5pdEluZGV4KSB7XHJcbiAgICByZXR1cm4gdGV4dHVyZSA9PiB7XHJcbiAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0ZXh0dXJlVW5pdEluZGV4KTtcclxuICAgICAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCB0ZXh0dXJlKTtcclxuICAgICAgZ2wudW5pZm9ybTFpKHRoaXMuX2xvY2F0aW9uLCB0ZXh0dXJlVW5pdEluZGV4KTtcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1VuaWZvcm1TZXR0ZXJ9O1xyXG4iLCJpbXBvcnQge3JlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3JlbmRlcmFibGUtc2hhcGUtZmFjdG9yeSc7XHJcblxyXG5pbXBvcnQge2NhcHN1bGVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2NhcHN1bGUtcmVuZGVyYWJsZS1zaGFwZSc7XHJcbmltcG9ydCB7Y3ViZVJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvY3ViZS1yZW5kZXJhYmxlLXNoYXBlJztcclxuaW1wb3J0IHtpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc2FoZWRyb24tcmVuZGVyYWJsZS1zaGFwZSc7XHJcbmltcG9ydCB7aWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9pY29zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XHJcbmltcG9ydCB7bGF0TG9uZ1NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvbGF0LWxvbmctc3BoZXJlLXJlbmRlcmFibGUtc2hhcGUnO1xyXG5pbXBvcnQge3RldHJhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy90ZXRyYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlJztcclxuXHJcbltcclxuICBjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcclxuICBjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcclxuICBpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3RvcnksXHJcbiAgaWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcclxuICBsYXRMb25nU3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcclxuICB0ZXRyYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3RvcnlcclxuXS5mb3JFYWNoKHJlbmRlcmFibGVTaGFwZUZhY3RvcnkucmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KTtcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvY2Fwc3VsZS1yZW5kZXJhYmxlLXNoYXBlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jdWJlLXJlbmRlcmFibGUtc2hhcGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2ljb3NhaGVkcm9uLXJlbmRlcmFibGUtc2hhcGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2ljb3NwaGVyZS1yZW5kZXJhYmxlLXNoYXBlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9sYXQtbG9uZy1zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvdGV0cmFoZWRyb24tcmVuZGVyYWJsZS1zaGFwZSc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9yZW5kZXJhYmxlLXNoYXBlLWZhY3RvcnknO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcclxuIiwiaW1wb3J0IHtEZWZhdWx0TW9kZWx9IGZyb20gJy4uLy4uL21vZGVscyc7XHJcbmltcG9ydCB7cmVuZGVyYWJsZVNoYXBlU3RvcmV9IGZyb20gJy4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XHJcblxyXG4vKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGZhY3RvcnkgZm9yIERlZmF1bHRSaWdpZE1vZGFsIGluc3RhbmNlcyB0aGF0IGFyZSBiYXNlZCBvbiB0aGUgdmFyaW91c1xyXG4gKiBwcmUtZGVmaW5lZCByZW5kZXJhYmxlIHNoYXBlcyBpbiB0aGlzIGRpcmVjdG9yeS5cclxuICovXHJcblxyXG5jb25zdCByZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7RGVmYXVsdE1vZGVsfVxyXG4gICAqL1xyXG4gIGNyZWF0ZU1vZGVsOiAoZ2wsIHBhcmFtcykgPT4ge1xyXG4gICAgY29uc3Qgc2hhcGVDb25maWcgPSByZW5kZXJhYmxlU2hhcGVGYWN0b3J5LmdldFJlbmRlcmFibGVTaGFwZShwYXJhbXMpO1xyXG4gICAgcmV0dXJuIG5ldyBEZWZhdWx0TW9kZWwoZ2wsIHNoYXBlQ29uZmlnKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cclxuICAgKi9cclxuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XHJcbiAgICBwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMgPSBwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMgfHwgZmFsc2U7XHJcbiAgICBwYXJhbXMuZGl2aXNpb25zQ291bnQgPSB0eXBlb2YgcGFyYW1zLmRpdmlzaW9uc0NvdW50ID09PSAnbnVtYmVyJyA/IHBhcmFtcy5kaXZpc2lvbnNDb3VudCA6IDA7XHJcblxyXG4gICAgbGV0IHNoYXBlQ29uZmlnID0gcmVuZGVyYWJsZVNoYXBlU3RvcmUuZ2V0U2hhcGUocGFyYW1zKTtcclxuICAgIGlmICghc2hhcGVDb25maWcpIHtcclxuICAgICAgc2hhcGVDb25maWcgPSBfc2hhcGVJZHNUb1JlbmRlcmFibGVTaGFwZUZhY3Rvcmllc1twYXJhbXMuc2hhcGVJZF0uZ2V0UmVuZGVyYWJsZVNoYXBlKHBhcmFtcyk7XHJcbiAgICAgIF91cGRhdGVUZXh0dXJlQ29vcmRpbmF0ZXNTcGFuKHNoYXBlQ29uZmlnLCBwYXJhbXMudGV4dHVyZVNwYW4pO1xyXG4gICAgICByZW5kZXJhYmxlU2hhcGVTdG9yZS5yZWdpc3RlclNoYXBlKHNoYXBlQ29uZmlnLCBwYXJhbXMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNoYXBlQ29uZmlnO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gc2hhcGVDb25maWdGYWN0b3J5XHJcbiAgICovXHJcbiAgcmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5OiBzaGFwZUNvbmZpZ0ZhY3RvcnkgPT4ge1xyXG4gICAgX3NoYXBlSWRzVG9SZW5kZXJhYmxlU2hhcGVGYWN0b3JpZXNbc2hhcGVDb25maWdGYWN0b3J5LnNoYXBlSWRdID0gc2hhcGVDb25maWdGYWN0b3J5O1xyXG4gICAgcmVuZGVyYWJsZVNoYXBlU3RvcmUucmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KHNoYXBlQ29uZmlnRmFjdG9yeSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgX3NoYXBlSWRzVG9SZW5kZXJhYmxlU2hhcGVGYWN0b3JpZXMgPSB7fTtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZX0gc2hhcGVDb25maWdcclxuICogQHBhcmFtIHtUZXh0dXJlU3Bhbn0gdGV4dHVyZVNwYW5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF91cGRhdGVUZXh0dXJlQ29vcmRpbmF0ZXNTcGFuKHNoYXBlQ29uZmlnLCB0ZXh0dXJlU3Bhbikge1xyXG4gIGlmICghdGV4dHVyZVNwYW4pIHJldHVybjtcclxuXHJcbiAgY29uc3QgbWluWCA9IHRleHR1cmVTcGFuLm1pblg7XHJcbiAgY29uc3QgbWluWSA9IHRleHR1cmVTcGFuLm1pblk7XHJcbiAgY29uc3QgcmFuZ2VYID0gdGV4dHVyZVNwYW4ubWF4WCAtIHRleHR1cmVTcGFuLm1pblg7XHJcbiAgY29uc3QgcmFuZ2VZID0gdGV4dHVyZVNwYW4ubWF4WSAtIHRleHR1cmVTcGFuLm1pblk7XHJcblxyXG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IHNoYXBlQ29uZmlnLnRleHR1cmVDb29yZGluYXRlcy5zbGljZSgpO1xyXG4gIHNoYXBlQ29uZmlnLnRleHR1cmVDb29yZGluYXRlcyA9IHRleHR1cmVDb29yZGluYXRlcztcclxuXHJcbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcclxuICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSA9IG1pblggKyByYW5nZVggKiB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV07XHJcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDFdID0gbWluWSArIHJhbmdlWSAqIHRleHR1cmVDb29yZGluYXRlc1tpICsgMV07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge3JlbmRlcmFibGVTaGFwZUZhY3Rvcnl9O1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbmRlcmFibGVTaGFwZUZhY3RvcnlcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYXBlSWRcclxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48UmVuZGVyYWJsZVNoYXBlPn0gZ2V0UmVuZGVyYWJsZVNoYXBlXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPFN0cmluZz59IGdldENhY2hlSWRcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyYWJsZVNoYXBlXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9uc1xyXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhOb3JtYWxzXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IHRleHR1cmVDb29yZGluYXRlc1xyXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSBbdmVydGV4SW5kaWNlc11cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVsZW1lbnRDb3VudFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0dXJlU3BhblxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZW5kZXJhYmxlU2hhcGVDb25maWdcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYXBlSWQgVGhlIElEIG9mIHRoZSB0eXBlIG9mIHJlbmRlcmFibGUgc2hhcGUuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzVXNpbmdTcGhlcmljYWxOb3JtYWxzPWZhbHNlXSBXaGV0aGVyIGxpZ2h0IHJlZmxlY3Rpb25zIHNob3VsZCBzaG93IHNoYXJwXHJcbiAqIGVkZ2VzLlxyXG4gKiBAcHJvcGVydHkge1RleHR1cmVTcGFufSBbdGV4dHVyZVNwYW5dIEZvciBpbmRpY2F0aW5nIGhvdyBtdWNoIGEgdGV4dHVyZSBzaG91bGQgcmVwZWF0IGluIGJvdGggYXhlcy5cclxuICogQSByYW5nZSBvZiAwLTAuNSBzaG91bGQgc2hvdyBoYWxmIHRoZSB0ZXh0dXJlLiBBIHJhbmdlIG9mIDAtMiB3b3VsZCBzaG93IHRoZSB0ZXh0dXJlIHR3aWNlLiBUaGVcclxuICogZGVmYXVsdCBpcyAwLTEgaW4gYm90aCBkaXJlY3Rpb25zLlxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtzY2FsZV1cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gU3BoZXJpY2FsUmVuZGVyYWJsZVNoYXBlUGFyYW1zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXZpc2lvbnNDb3VudCBIb3cgbWFueSB0aW1lcyB0byBzdWItZGl2aWRlIHRoZSBzcGhlcmUuXHJcbiAqL1xyXG4iLCIvKipcclxuICogVGhpcyBjbGFzcyBjYWNoZXMgcmVuZGVyYWJsZSBzaGFwZSBkYXRhLlxyXG4gKi9cclxuY2xhc3MgUmVuZGVyYWJsZVNoYXBlU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5fc2hhcGVDYWNoZSA9IG5ldyBNYXAoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxyXG4gICAqL1xyXG4gIGdldFNoYXBlKHBhcmFtcykge1xyXG4gICAgY29uc3Qga2V5ID0gX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzW3BhcmFtcy5zaGFwZUlkXShwYXJhbXMpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3NoYXBlQ2FjaGUuZ2V0KGtleSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWNoZXMgdGhlIGdpdmVuIHNoYXBlIGluZm8uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZX0gc2hhcGVDb25maWdcclxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAgICovXHJcbiAgcmVnaXN0ZXJTaGFwZShzaGFwZUNvbmZpZywgcGFyYW1zKSB7XHJcbiAgICBjb25zdCBrZXkgPSBfc2hhcGVJZHNUb0NhY2hlS2V5Q2FsY3VsYXRvcnNbcGFyYW1zLnNoYXBlSWRdKHBhcmFtcyk7XHJcbiAgICB0aGlzLl9zaGFwZUNhY2hlLnNldChrZXksIHNoYXBlQ29uZmlnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gc2hhcGVDb25maWdGYWN0b3J5XHJcbiAgICovXHJcbiAgcmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KHNoYXBlQ29uZmlnRmFjdG9yeSkge1xyXG4gICAgX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzW3NoYXBlQ29uZmlnRmFjdG9yeS5zaGFwZUlkXSA9IHNoYXBlQ29uZmlnRmFjdG9yeS5nZXRDYWNoZUlkO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogQWRkIHN1cHBvcnQgZm9yIHVuLXJlZ2lzdGVyaW5nIHNoYXBlcy5cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGdldENhY2hlS2V5KHBhcmFtcykge1xyXG4gIGNvbnN0IHRleHR1cmVTcGFuU3RyID0gcGFyYW1zLnRleHR1cmVTcGFuXHJcbiAgICAgID8gYDoke3BhcmFtcy50ZXh0dXJlU3Bhbi5taW5YfSwke3BhcmFtcy50ZXh0dXJlU3Bhbi5taW5ZfSwke3BhcmFtcy50ZXh0dXJlU3Bhbi5tYXhYfSxgICtcclxuICBgJHtwYXJhbXMudGV4dHVyZVNwYW4ubWF4WX1gXHJcbiAgICAgIDogJyc7XHJcblxyXG4gIHJldHVybiBgJHtwYXJhbXMuc2hhcGVJZH06JHtwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHN9JHt0ZXh0dXJlU3BhblN0cn1gO1xyXG59XHJcblxyXG5jb25zdCBfc2hhcGVJZHNUb0NhY2hlS2V5Q2FsY3VsYXRvcnMgPSB7fTtcclxuXHJcbmNvbnN0IHJlbmRlcmFibGVTaGFwZVN0b3JlID0gbmV3IFJlbmRlcmFibGVTaGFwZVN0b3JlKCk7XHJcbmV4cG9ydCB7cmVuZGVyYWJsZVNoYXBlU3RvcmUsIGdldENhY2hlS2V5fTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb25maWd1cmF0aW9uIGZhY3RvcnkgZm9yIGEgY2Fwc3VsZSBzaGFwZS5cclxuICpcclxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luIHdpdGggdGhlIHBvbGVzIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcclxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcclxuICBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMsXHJcbiAgY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyxcclxuICBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24sXHJcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxUZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgVFdPX1BJLFxyXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge2dldENhY2hlS2V5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcclxuXHJcbi8vIFRPRE86IE9uY2UgSSBoYXZlIGEgYmV0dGVyIGNhbWVyYSBpbiBwbGFjZSwgdGVzdCB0aGF0IHRoZXNlIHRleHR1cmUgY29vcmRpbmF0ZSBjYWxjdWxhdGlvbnMgYXJlXHJcbi8vIGNvcnJlY3QuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtDYXBzdWxlUmVuZGVyYWJsZVNoYXBlUGFyYW1zfSBwYXJhbXNcclxuICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cclxuICovXHJcbmZ1bmN0aW9uIF9jYWxjdWxhdGVDYXBzdWxlVG9wU2hhcGUocGFyYW1zKSB7XHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXHJcbiAgLy8gVE9ETzogVGhpcyB1c2VzIGxhdC1sb25nIHNwaGVyZXMgZm9yIHRoZSBlbmRzIG9mIHRoZSBjYXBzdWxlLiBVc2UgaWNvc3BoZXJlcyBpbnN0ZWFkLlxyXG4gIGNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBjYWxjdWxhdGVTcGhlcmljYWxTZWN0aW9uKFxyXG4gICAgICAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQgLyAyLCBNYXRoLlBJIC8gcGFyYW1zLmRpdmlzaW9uc0NvdW50LFxyXG4gICAgICAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIFRXT19QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCk7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aGUgaW5kaWNlcyBhbmQgbm9ybWFscy5cclxuICBsZXQgdmVydGV4UG9zaXRpb25zO1xyXG4gIGxldCB2ZXJ0ZXhJbmRpY2VzO1xyXG4gIGxldCB2ZXJ0ZXhOb3JtYWxzO1xyXG4gIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XHJcbiAgICAvLyBJZiB3ZSB1c2Ugb3J0aG9nb25hbCBub3JtYWxzLCB0aGVuIHdlIGNhbm5vdCB1c2UgdmVydGV4SW5kaWNlcy5cclxuICAgIHZlcnRleFBvc2l0aW9ucyA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnM7XHJcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcclxuICAgIHZlcnRleE5vcm1hbHMgPSBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0ZXhQb3NpdGlvbnMpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAoe3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMoXHJcbiAgICAgICAgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucykpO1xyXG4gICAgdmVydGV4Tm9ybWFscyA9IHZlcnRleFBvc2l0aW9ucztcclxuICB9XHJcblxyXG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcclxuXHJcbiAgbGV0IHNjYWxlO1xyXG4gIGxldCB0cmFuc2xhdGlvbjtcclxuXHJcbiAgLy8gU2NhbGUgYW5kIHRyYW5zbGF0ZSB0aGUgcG9zaXRpb25zLlxyXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cztcclxuICB0cmFuc2xhdGlvbiA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAyO1xyXG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAzKSB7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaV0gKj0gc2NhbGU7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdICo9IHNjYWxlO1xyXG4gICAgdmVydGV4UG9zaXRpb25zW2kgKyAyXSA9IHZlcnRleFBvc2l0aW9uc1tpICsgMl0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xyXG4gIH1cclxuXHJcbiAgLy8gU2NhbGUgYW5kIHRyYW5zbGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcy5cclxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXMgLyAocGFyYW1zLnJhZGl1cyArIHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UpO1xyXG4gIHRyYW5zbGF0aW9uID0gMSAtIHNjYWxlO1xyXG4gIGZvciAobGV0IGkgPSAxLCBjb3VudCA9IHRleHR1cmVDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAyKSB7XHJcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcclxuICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXHJcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcclxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXHJcbiAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xyXG4gKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxyXG4gKi9cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVCb3R0b21TaGFwZShwYXJhbXMpIHtcclxuICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9ucy5cclxuICAvLyBUT0RPOiBUaGlzIHVzZXMgbGF0LWxvbmcgc3BoZXJlcyBmb3IgdGhlIGVuZHMgb2YgdGhlIGNhcHN1bGUuIFVzZSBpY29zcGhlcmVzIGluc3RlYWQuXHJcbiAgY29uc3QgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucyA9IGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oXHJcbiAgICAgIHBhcmFtcy5kaXZpc2lvbnNDb3VudCAvIDIsIHBhcmFtcy5kaXZpc2lvbnNDb3VudCwgTWF0aC5QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCxcclxuICAgICAgMCwgcGFyYW1zLmRpdmlzaW9uc0NvdW50LCBUV09fUEkgLyBwYXJhbXMuZGl2aXNpb25zQ291bnQpO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIGluZGljZXMgYW5kIG5vcm1hbHMuXHJcbiAgbGV0IHZlcnRleFBvc2l0aW9ucztcclxuICBsZXQgdmVydGV4SW5kaWNlcztcclxuICBsZXQgdmVydGV4Tm9ybWFscztcclxuICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xyXG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zO1xyXG4gICAgdmVydGV4SW5kaWNlcyA9IG51bGw7XHJcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgcG9zaXRpb25zQW5kSW5kaWNlcyA9IGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyhcclxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKTtcclxuICAgIHZlcnRleFBvc2l0aW9ucyA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zO1xyXG4gICAgdmVydGV4SW5kaWNlcyA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4SW5kaWNlcztcclxuICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucyk7XHJcblxyXG4gIGxldCBzY2FsZTtcclxuICBsZXQgdHJhbnNsYXRpb247XHJcblxyXG4gIC8vIFNjYWxlIGFuZCB0cmFuc2xhdGUgdGhlIHBvc2l0aW9ucy5cclxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXM7XHJcbiAgdHJhbnNsYXRpb24gPSAtcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSAvIDI7XHJcbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMpIHtcclxuICAgIHZlcnRleFBvc2l0aW9uc1tpXSAqPSBzY2FsZTtcclxuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMV0gKj0gc2NhbGU7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdID0gdmVydGV4UG9zaXRpb25zW2kgKyAyXSAqIHNjYWxlICsgdHJhbnNsYXRpb247XHJcbiAgfVxyXG5cclxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxyXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cyAvIChwYXJhbXMucmFkaXVzICsgcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSk7XHJcbiAgdHJhbnNsYXRpb24gPSAwO1xyXG4gIGZvciAobGV0IGkgPSAxLCBjb3VudCA9IHRleHR1cmVDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAyKSB7XHJcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcclxuICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXHJcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcclxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXHJcbiAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xyXG4gKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxyXG4gKi9cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVNaWRkbGVTaGFwZShwYXJhbXMpIHtcclxuICBsZXQgc2NhbGU7XHJcbiAgbGV0IHRyYW5zbGF0aW9uO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9ucy5cclxuICB0cmFuc2xhdGlvbiA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAyO1xyXG4gIGNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24oXHJcbiAgICAgIC10cmFuc2xhdGlvbiwgdHJhbnNsYXRpb24sIDAsIHBhcmFtcy5kaXZpc2lvbnNDb3VudCwgVFdPX1BJIC8gcGFyYW1zLmRpdmlzaW9uc0NvdW50KTtcclxuXHJcbiAgbGV0IHZlcnRleFBvc2l0aW9ucztcclxuICBsZXQgdmVydGV4SW5kaWNlcztcclxuICBsZXQgdmVydGV4Tm9ybWFscztcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSB2ZXJ0ZXggaW5kaWNlcyBhbmQgbm9ybWFscy5cclxuICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xyXG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zO1xyXG4gICAgdmVydGV4SW5kaWNlcyA9IG51bGw7XHJcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgcG9zaXRpb25zQW5kSW5kaWNlcyA9IGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyhcclxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKTtcclxuICAgIHZlcnRleFBvc2l0aW9ucyA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zO1xyXG4gICAgdmVydGV4SW5kaWNlcyA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4SW5kaWNlcztcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIHZlcnRleCBub3JtYWxzLlxyXG4gICAgdmVydGV4Tm9ybWFscyA9IHZlcnRleFBvc2l0aW9ucy5tYXAoKGNvb3JkLCBpbmRleCkgPT4gaW5kZXggJSAzID09PSAyID8gMCA6IGNvb3JkKTtcclxuICB9XHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcy5cclxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVDeWxpbmRyaWNhbFRleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xyXG5cclxuICAvLyBTY2FsZSB0aGUgeCBhbmQgeSBwb3NpdGlvbiBjb29yZGluYXRlcy5cclxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXM7XHJcbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMpIHtcclxuICAgIHZlcnRleFBvc2l0aW9uc1tpXSAqPSBzY2FsZTtcclxuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMV0gKj0gc2NhbGU7XHJcbiAgfVxyXG5cclxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxyXG4gIHNjYWxlID0gcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSAvIChwYXJhbXMucmFkaXVzICsgcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSk7XHJcbiAgdHJhbnNsYXRpb24gPSAoMSAtIHNjYWxlKSAvIDI7XHJcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcclxuICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSA9IHRleHR1cmVDb29yZGluYXRlc1tpXSAqIHNjYWxlICsgdHJhbnNsYXRpb247XHJcbiAgfVxyXG5cclxuICBjb25zdCBlbGVtZW50Q291bnQgPSB2ZXJ0ZXhJbmRpY2VzID8gdmVydGV4SW5kaWNlcy5sZW5ndGggOiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gMztcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxyXG4gICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcclxuICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxyXG4gICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcclxuICAgIGVsZW1lbnRDb3VudDogZWxlbWVudENvdW50XHJcbiAgfTtcclxufVxyXG5cclxuY29uc3QgY2Fwc3VsZVJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XHJcbiAgc2hhcGVJZDogJ0NBUFNVTEUnLFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xyXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XHJcbiAgICovXHJcbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiAocGFyYW1zKSA9PiB7XHJcbiAgICAvLyBFbnN1cmUgdGhlIGRpdmlzaW9ucyBjb3VudCBpcyBldmVuLlxyXG4gICAgaWYgKHBhcmFtcy5kaXZpc2lvbnNDb3VudCAlIDIgPT09IDEpIHtcclxuICAgICAgcGFyYW1zLmRpdmlzaW9uc0NvdW50Kys7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhlIGNhcHN1bGUncyBzdWItc2hhcGVzLlxyXG4gICAgY29uc3QgdG9wU2hhcGUgPSBfY2FsY3VsYXRlQ2Fwc3VsZVRvcFNoYXBlKHBhcmFtcyk7XHJcbiAgICBjb25zdCBib3R0b21TaGFwZSA9IF9jYWxjdWxhdGVDYXBzdWxlQm90dG9tU2hhcGUocGFyYW1zKTtcclxuICAgIGNvbnN0IG1pZGRsZVNoYXBlID0gX2NhbGN1bGF0ZUNhcHN1bGVNaWRkbGVTaGFwZShwYXJhbXMpO1xyXG5cclxuICAgIC8vIENvbmNhdGVuYXRlIHBvc2l0aW9ucywgbm9ybWFscywgdGV4dHVyZSBjb29yZGluYXRlcywgYW5kIGluZGljZXMuXHJcbiAgICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSB0b3BTaGFwZS52ZXJ0ZXhQb3NpdGlvbnMuY29uY2F0KG1pZGRsZVNoYXBlLnZlcnRleFBvc2l0aW9ucywgXHJcbiAgICAgICAgYm90dG9tU2hhcGUudmVydGV4UG9zaXRpb25zKTtcclxuICAgIGNvbnN0IHZlcnRleE5vcm1hbHMgPSB0b3BTaGFwZS52ZXJ0ZXhOb3JtYWxzLmNvbmNhdChtaWRkbGVTaGFwZS52ZXJ0ZXhOb3JtYWxzLFxyXG4gICAgICAgIGJvdHRvbVNoYXBlLnZlcnRleE5vcm1hbHMpO1xyXG4gICAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gdG9wU2hhcGUudGV4dHVyZUNvb3JkaW5hdGVzLmNvbmNhdChtaWRkbGVTaGFwZS50ZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgICAgICAgYm90dG9tU2hhcGUudGV4dHVyZUNvb3JkaW5hdGVzKTtcclxuICAgIGNvbnN0IHZlcnRleEluZGljZXMgPSB0b3BTaGFwZS52ZXJ0ZXhJbmRpY2VzXHJcbiAgICAgICAgPyB0b3BTaGFwZS52ZXJ0ZXhJbmRpY2VzLmNvbmNhdChtaWRkbGVTaGFwZS52ZXJ0ZXhJbmRpY2VzLCBib3R0b21TaGFwZS52ZXJ0ZXhJbmRpY2VzKVxyXG4gICAgICAgIDogbnVsbDtcclxuICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IHRvcFNoYXBlLmVsZW1lbnRDb3VudCArIG1pZGRsZVNoYXBlLmVsZW1lbnRDb3VudCArIGJvdHRvbVNoYXBlLmVsZW1lbnRDb3VudDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcclxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcclxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXHJcbiAgICAgIGVsZW1lbnRDb3VudDogZWxlbWVudENvdW50XHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7Q2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRDYWNoZUlkKHBhcmFtcykge1xyXG4gICAgcmV0dXJuIGAke2dldENhY2hlS2V5KHBhcmFtcyl9OiR7cGFyYW1zLmRpdmlzaW9uc0NvdW50fWA7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHtjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1NwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc30gQ2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGNlbnRlcnMgb2YgdGhlIHNwaGVyZXMgb25cclxuICogZWl0aGVyIGVuZCBvZiB0aGUgY2Fwc3VsZS5cclxuICovXHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZGVsIGRlZmluZXMgYSBzaGFwZSBjb25maWd1cmF0aW9uIGZhY3RvcnkgZm9yIGEgY3ViZS5cclxuICpcclxuICogVGhpcyBjdWJlIGlzIG9uZSB1bml0IGxvbmcgb24gZWFjaCBzaWRlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xyXG5cclxuY29uc3QgVkVSVEVYX0NPT1JESU5BVEUgPSAwLjU7XHJcblxyXG5jb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSBbXHJcbiAgLy8gRnJvbnQgZmFjZVxyXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcclxuICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxyXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcclxuICAvLyBCYWNrIGZhY2VcclxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLFxyXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcclxuICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLFxyXG4gIC8vIFRvcCBmYWNlXHJcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcclxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxyXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgLy8gQm90dG9tIGZhY2VcclxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLFxyXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxyXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcclxuICAvLyBSaWdodCBmYWNlXHJcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcclxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLFxyXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcclxuICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgLy8gTGVmdCBmYWNlXHJcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcclxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxyXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEVcclxuXTtcclxuXHJcbmNvbnN0IG9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzID0gW1xyXG4gIC8vIEZyb250IGZhY2VcclxuICAwLCAwLCAxLFxyXG4gIDAsIDAsIDEsXHJcbiAgMCwgMCwgMSxcclxuICAwLCAwLCAxLFxyXG4gIC8vIEJhY2sgZmFjZVxyXG4gIDAsIDAsIC0xLFxyXG4gIDAsIDAsIC0xLFxyXG4gIDAsIDAsIC0xLFxyXG4gIDAsIDAsIC0xLFxyXG4gIC8vIFRvcCBmYWNlXHJcbiAgMCwgMSwgMCxcclxuICAwLCAxLCAwLFxyXG4gIDAsIDEsIDAsXHJcbiAgMCwgMSwgMCxcclxuICAvLyBCb3R0b20gZmFjZVxyXG4gIDAsIC0xLCAwLFxyXG4gIDAsIC0xLCAwLFxyXG4gIDAsIC0xLCAwLFxyXG4gIDAsIC0xLCAwLFxyXG4gIC8vIFJpZ2h0IGZhY2VcclxuICAxLCAwLCAwLFxyXG4gIDEsIDAsIDAsXHJcbiAgMSwgMCwgMCxcclxuICAxLCAwLCAwLFxyXG4gIC8vIExlZnQgZmFjZVxyXG4gIC0xLCAwLCAwLFxyXG4gIC0xLCAwLCAwLFxyXG4gIC0xLCAwLCAwLFxyXG4gIC0xLCAwLCAwXHJcbl07XHJcblxyXG5jb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBbXHJcbiAgLy8gRnJvbnQgZmFjZVxyXG4gIDEsIDAsXHJcbiAgMCwgMCxcclxuICAwLCAxLFxyXG4gIDEsIDEsXHJcbiAgLy8gQmFjayBmYWNlXHJcbiAgMSwgMCxcclxuICAwLCAwLFxyXG4gIDAsIDEsXHJcbiAgMSwgMSxcclxuICAvLyBUb3AgZmFjZVxyXG4gIDEsIDAsXHJcbiAgMCwgMCxcclxuICAwLCAxLFxyXG4gIDEsIDEsXHJcbiAgLy8gQm90dG9tIGZhY2VcclxuICAxLCAwLFxyXG4gIDAsIDAsXHJcbiAgMCwgMSxcclxuICAxLCAxLFxyXG4gIC8vIFJpZ2h0IGZhY2VcclxuICAxLCAwLFxyXG4gIDAsIDAsXHJcbiAgMCwgMSxcclxuICAxLCAxLFxyXG4gIC8vIExlZnQgZmFjZVxyXG4gIDEsIDAsXHJcbiAgMCwgMCxcclxuICAwLCAxLFxyXG4gIDEsIDFcclxuXTtcclxuXHJcbi8vIFRoaXMgYXJyYXkgZGVmaW5lcyBlYWNoIGZhY2UgYXMgdHdvIHRyaWFuZ2xlcywgdXNpbmcgdGhlIGluZGljZXMgaW50byB0aGUgdmVydGV4IGFycmF5XHJcbi8vIHRvIHNwZWNpZnkgZWFjaCB0cmlhbmdsZSdzIHBvc2l0aW9uLlxyXG5jb25zdCB2ZXJ0ZXhJbmRpY2VzID0gW1xyXG4gIC8vIEZyb250IGZhY2VcclxuICAwLCAgMSwgIDIsXHJcbiAgMCwgIDIsICAzLFxyXG4gIC8vIEJhY2sgZmFjZVxyXG4gIDQsICA1LCAgNixcclxuICA0LCAgNiwgIDcsXHJcbiAgLy8gVG9wIGZhY2VcclxuICA4LCAgOSwgIDEwLFxyXG4gIDgsICAxMCwgMTEsXHJcbiAgLy8gQm90dG9tIGZhY2VcclxuICAxMiwgMTMsIDE0LFxyXG4gIDEyLCAxNCwgMTUsXHJcbiAgLy8gUmlnaHQgZmFjZVxyXG4gIDE2LCAxNywgMTgsXHJcbiAgMTYsIDE4LCAxOSxcclxuICAvLyBMZWZ0IGZhY2VcclxuICAyMCwgMjEsIDIyLFxyXG4gIDIwLCAyMiwgMjNcclxuXTtcclxuXHJcbmNvbnN0IGN1YmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xyXG4gIHNoYXBlSWQ6ICdDVUJFJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xyXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XHJcbiAgICovXHJcbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xyXG4gICAgY29uc3QgdmVydGV4Tm9ybWFscyA9IHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscyA/IHZlcnRleFBvc2l0aW9ucyA6IG9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxyXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxyXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcclxuICAgICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcclxuICAgICAgZWxlbWVudENvdW50OiB2ZXJ0ZXhJbmRpY2VzLmxlbmd0aFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRDYWNoZUlkKHBhcmFtcykge1xyXG4gICAgcmV0dXJuIGdldENhY2hlS2V5KHBhcmFtcyk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHtjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZGVsIGRlZmluZXMgYSBzaGFwZSBjb25maWd1cmF0aW9uIGZhY3RvcnkgZm9yIGEgcmVndWxhciBpY29zYWhlZHJvbi5cclxuICpcclxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyxcclxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcclxuICBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbSxcclxuICBleHBhbmRWZXJ0ZXhJbmRpY2VzVG9EdXBsaWNhdGVQb3NpdGlvbnMsXHJcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xyXG5cclxuLy8gVGhlIGNvcm5lcnMgb2YgYSB1bml0IGljb3NhaGVkcm9uIHdpdGggdmVydGljZXMgYWxpZ25lZCB3aXRoIHRoZSB5LWF4aXMuXHJcbmNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBbXHJcbiAgLTAuNTI1NzMxMDg2NzMwOTU3LCAtMC43MjM2MDY4MjQ4NzQ4Nzc5LCAwLjQ0NzIxMzU5MDE0NTExMTEsXHJcbiAgMC41MjU3MzEwODY3MzA5NTcsIC0wLjcyMzYwNjgyNDg3NDg3NzksIDAuNDQ3MjEzNTkwMTQ1MTExMSxcclxuICAtMC41MjU3MzEwODY3MzA5NTcsIDAuNzIzNjA2ODI0ODc0ODc3OSwgLTAuNDQ3MjEzNTkwMTQ1MTExMSxcclxuICAwLjUyNTczMTA4NjczMDk1NywgMC43MjM2MDY4MjQ4NzQ4Nzc5LCAtMC40NDcyMTM1OTAxNDUxMTExLFxyXG4gIDAsIDAsIDEsXHJcbiAgMCwgMC44OTQ0MjcxODAyOTAyMjIyLCAwLjQ0NzIxMzYxOTk0NzQzMzQ3LFxyXG4gIDAsIC0wLjg5NDQyNzE4MDI5MDIyMjIsIC0wLjQ0NzIxMzYxOTk0NzQzMzQ3LFxyXG4gIDAsIDAsIC0xLFxyXG4gIDAuODUwNjUwODQ2OTU4MTYwNCwgMC4yNzYzOTMyMDQ5Mjc0NDQ0NiwgMC40NDcyMTM1OTAxNDUxMTExLFxyXG4gIC0wLjg1MDY1MDg0Njk1ODE2MDQsIDAuMjc2MzkzMjA0OTI3NDQ0NDYsIDAuNDQ3MjEzNTkwMTQ1MTExMSxcclxuICAwLjg1MDY1MDg0Njk1ODE2MDQsIC0wLjI3NjM5MzIwNDkyNzQ0NDQ2LCAtMC40NDcyMTM1OTAxNDUxMTExLFxyXG4gIC0wLjg1MDY1MDg0Njk1ODE2MDQsIC0wLjI3NjM5MzIwNDkyNzQ0NDQ2LCAtMC40NDcyMTM1OTAxNDUxMTExXHJcbl07XHJcblxyXG5jb25zdCBpbmRpdmlkdWFsVmVydGV4SW5kaWNlcyA9IFtcclxuICAxLCAgNCwgIDAsXHJcbiAgNCwgIDksICAwLFxyXG4gIDQsICA1LCAgOSxcclxuICA4LCAgNSwgIDQsXHJcbiAgMSwgIDgsICA0LFxyXG4gIDEsICAxMCwgOCxcclxuICAxMCwgMywgIDgsXHJcbiAgOCwgIDMsICA1LFxyXG4gIDMsICAyLCAgNSxcclxuICAzLCAgNywgIDIsXHJcbiAgMywgIDEwLCA3LFxyXG4gIDEwLCA2LCAgNyxcclxuICA2LCAgMTEsIDcsXHJcbiAgNiwgIDAsICAxMSxcclxuICA2LCAgMSwgIDAsXHJcbiAgMTAsIDEsICA2LFxyXG4gIDExLCAwLCAgOSxcclxuICAyLCAgMTEsIDksXHJcbiAgNSwgIDIsICA5LFxyXG4gIDExLCAyLCAgN1xyXG5dO1xyXG5cclxubGV0IHZlcnRleFBvc2l0aW9uc0V4cGFuZGVkQXJvdW5kU2VhbSA9IG51bGw7XHJcbmxldCB2ZXJ0ZXhJbmRpY2VzRXhwYW5kZWRBcm91bmRTZWFtID0gbnVsbDtcclxubGV0IHRleHR1cmVDb29yZGluYXRlcyA9IG51bGw7XHJcblxyXG5jb25zdCBpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XHJcbiAgc2hhcGVJZDogJ0lDT1NBSEVEUk9OJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xyXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XHJcbiAgICovXHJcbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xyXG4gICAgbGV0IHZlcnRleFBvc2l0aW9ucztcclxuICAgIGxldCB2ZXJ0ZXhJbmRpY2VzO1xyXG5cclxuICAgIGlmICghdmVydGV4UG9zaXRpb25zRXhwYW5kZWRBcm91bmRTZWFtKSB7XHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbW9kaWZpZWQgcG9zaXRpb25zIGFuZCBpbmRpY2VzLlxyXG4gICAgICBjb25zdCBwb3NpdGlvbnNBbmRJbmRpY2VzID0gZXhwYW5kVmVydGV4SW5kaWNlc0Fyb3VuZExvbmdpdHVkZVNlYW0oXHJcbiAgICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zLCBpbmRpdmlkdWFsVmVydGV4SW5kaWNlcyk7XHJcbiAgICAgIHZlcnRleFBvc2l0aW9uc0V4cGFuZGVkQXJvdW5kU2VhbSA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zO1xyXG4gICAgICB2ZXJ0ZXhJbmRpY2VzRXhwYW5kZWRBcm91bmRTZWFtID0gcG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhJbmRpY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHZlcnRleFBvc2l0aW9ucyA9IHZlcnRleFBvc2l0aW9uc0V4cGFuZGVkQXJvdW5kU2VhbTtcclxuICAgIHZlcnRleEluZGljZXMgPSB2ZXJ0ZXhJbmRpY2VzRXhwYW5kZWRBcm91bmRTZWFtO1xyXG5cclxuICAgIGxldCB2ZXJ0ZXhOb3JtYWxzO1xyXG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXHJcbiAgICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBleHBhbmRWZXJ0ZXhJbmRpY2VzVG9EdXBsaWNhdGVQb3NpdGlvbnModmVydGV4UG9zaXRpb25zLFxyXG4gICAgICAgICAgdmVydGV4SW5kaWNlcyk7XHJcbiAgICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xyXG4gICAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzID0gdGV4dHVyZUNvb3JkaW5hdGVzXHJcbiAgICAgICAgPyB0ZXh0dXJlQ29vcmRpbmF0ZXNcclxuICAgICAgICA6IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50Q291bnQgPSB2ZXJ0ZXhJbmRpY2VzID8gdmVydGV4SW5kaWNlcy5sZW5ndGggOiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gMztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcclxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcclxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXHJcbiAgICAgIGVsZW1lbnRDb3VudDogZWxlbWVudENvdW50XHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldENhY2hlSWQocGFyYW1zKSB7XHJcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQge2ljb3NhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGxvZ2ljIHRoYXQgY3JlYXRlcyBhIHNwaGVyaWNhbCBzaGFwZSBjb25maWd1cmF0aW9uIGJ5IHRha2luZyBhIHNoYXBlLFxyXG4gKiBzdWItZGl2aWRpbmcgZWFjaCBvZiBpdHMgdHJpYW5nbGVzLCBhbmQgcHJvamVjdGluZyBlYWNoIG5ldyB2ZXJ0ZXggb250byB0aGUgZWRnZSBvZiBhIHNwaGVyZS5cclxuICpcclxuICogVGhpcyBpcyB0ZWNobmljYWxseSBvbmx5IGFuIFwiaWNvc3BoZXJlXCIgaWYgdGhlIHN0YXJ0aW5nIHNoYXBlIGlzIGFuIGljb3NhaGVkcm9uLlxyXG4gKlxyXG4gKiBUaGlzIHNoYXBlIGFsc28gaXMga25vd24gYXMgYSBcImdlb3NwaGVyZVwiLlxyXG4gKlxyXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBkZWVwQ29weSxcclxuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxyXG4gIGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzLFxyXG4gIGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtLFxyXG4gIGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyxcclxuICB0ZXNzZWxhdGVTcGhlcmUsXHJcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xyXG5pbXBvcnQge3JlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtZmFjdG9yeSc7XHJcblxyXG5jb25zdCBpY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xyXG4gIHNoYXBlSWQ6ICdJQ09TUEhFUkUnLFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXHJcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cclxuICAgKi9cclxuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XHJcbiAgICBwYXJhbXMuZGl2aXNpb25zQ291bnQgPSBNYXRoLm1heChwYXJhbXMuZGl2aXNpb25zQ291bnQsIDEpO1xyXG5cclxuICAgIGNvbnN0IGNvcHlQYXJhbXMgPSBkZWVwQ29weShwYXJhbXMpO1xyXG4gICAgY29weVBhcmFtcy5zaGFwZUlkID0gcGFyYW1zLmJhc2VTaGFwZUlkIHx8ICdJQ09TQUhFRFJPTic7XHJcbiAgICBjb25zdCBiYXNlUmVuZGVyYWJsZVNoYXBlID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5nZXRSZW5kZXJhYmxlU2hhcGUoY29weVBhcmFtcyk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMgYW5kIGluZGljZXMuXHJcbiAgICBsZXQge3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSB0ZXNzZWxhdGVTcGhlcmUocGFyYW1zLmRpdmlzaW9uc0NvdW50LFxyXG4gICAgICAgIGJhc2VSZW5kZXJhYmxlU2hhcGUudmVydGV4UG9zaXRpb25zLCBiYXNlUmVuZGVyYWJsZVNoYXBlLnZlcnRleEluZGljZXMpO1xyXG4gICAgKHt2ZXJ0ZXhQb3NpdGlvbnMsIHZlcnRleEluZGljZXN9ID0gZXhwYW5kVmVydGV4SW5kaWNlc0Fyb3VuZExvbmdpdHVkZVNlYW0oXHJcbiAgICAgICAgdmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzKSk7XHJcblxyXG4gICAgbGV0IHZlcnRleE5vcm1hbHM7XHJcbiAgICAvLyBJZiB3ZSB1c2Ugb3J0aG9nb25hbCBub3JtYWxzLCB0aGVuIHdlIGNhbm5vdCB1c2UgdmVydGV4SW5kaWNlcy5cclxuICAgIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XHJcbiAgICAgIHZlcnRleFBvc2l0aW9ucyA9IGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyh2ZXJ0ZXhQb3NpdGlvbnMsXHJcbiAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzKTtcclxuICAgICAgdmVydGV4SW5kaWNlcyA9IG51bGw7XHJcbiAgICAgIHZlcnRleE5vcm1hbHMgPSBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0ZXhQb3NpdGlvbnMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmVydGV4Tm9ybWFscyA9IHZlcnRleFBvc2l0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucyk7XHJcblxyXG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXHJcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXHJcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxyXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzLFxyXG4gICAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRDYWNoZUlkKHBhcmFtcykge1xyXG4gICAgcmV0dXJuIGAke2dldENhY2hlS2V5KHBhcmFtcyl9OiR7cGFyYW1zLmRpdmlzaW9uc0NvdW50fWA7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHtpY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7U3BoZXJpY2FsUmVuZGVyYWJsZVNoYXBlUGFyYW1zfSBJY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVQYXJhbXNcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJhc2VTaGFwZUlkIFRoZSBJRCBvZiB0aGUgYmFzZSByZW5kZXJhYmxlIHNoYXBlIHRoYXQgd2lsbCBiZSBzdWItZGl2aWRlZCB0b1xyXG4gKiBjcmVhdGUgdGhpcyBpY29zcGhlcmUgc2hhcGUuXHJcbiAqL1xyXG4iLCJpbXBvcnQge1xyXG4gIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHMsXHJcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcclxuICBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMsXHJcbiAgVFdPX1BJLFxyXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge2dldENhY2hlS2V5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29uZmlndXJhdGlvbiBmYWN0b3J5IGZvciBhIHNwaGVyaWNhbCBzaGFwZSB3aG9zZSB2ZXJ0aWNlcyBsaWUgYWxvbmdcclxuICogbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBsaW5lcy5cclxuICpcclxuICogVGhpcyBzaGFwZSBhbHNvIGlzIGtub3duIGFzIGEgXCJVViBzcGhlcmVcIi5cclxuICpcclxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luIHdpdGggdGhlIHBvbGVzIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGl2aXNpb25zQ291bnRcclxuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZUxhdExvbmdTcGhlcmVQb3NpdGlvbnMoZGl2aXNpb25zQ291bnQpIHtcclxuICBjb25zdCBkZWx0YVBpdGNoID0gTWF0aC5QSSAvIGRpdmlzaW9uc0NvdW50O1xyXG4gIGNvbnN0IGRlbHRhQXppbXV0aCA9IFRXT19QSSAvIGRpdmlzaW9uc0NvdW50O1xyXG5cclxuICByZXR1cm4gY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbihcclxuICAgICAgMCwgZGl2aXNpb25zQ291bnQsIGRlbHRhUGl0Y2gsXHJcbiAgICAgIDAsIGRpdmlzaW9uc0NvdW50LCBkZWx0YUF6aW11dGgpO1xyXG59XHJcblxyXG5jb25zdCBsYXRMb25nU3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSA9IHtcclxuICBzaGFwZUlkOiAnTEFUX0xPTkdfU1BIRVJFJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xyXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XHJcbiAgICovXHJcbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xyXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXHJcbiAgICBjb25zdCBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zID0gX2NhbGN1bGF0ZUxhdExvbmdTcGhlcmVQb3NpdGlvbnMocGFyYW1zLmRpdmlzaW9uc0NvdW50KTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGluZGljZXMgYW5kIG5vcm1hbHMuXHJcbiAgICBsZXQgdmVydGV4UG9zaXRpb25zO1xyXG4gICAgbGV0IHZlcnRleEluZGljZXM7XHJcbiAgICBsZXQgdmVydGV4Tm9ybWFscztcclxuICAgIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XHJcbiAgICAgIC8vIElmIHdlIHVzZSBvcnRob2dvbmFsIG5vcm1hbHMsIHRoZW4gd2UgY2Fubm90IHVzZSB2ZXJ0ZXhJbmRpY2VzLlxyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zO1xyXG4gICAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcclxuICAgICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAoe3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMoXHJcbiAgICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKSk7XHJcbiAgICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xyXG5cclxuICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IHZlcnRleEluZGljZXMgPyB2ZXJ0ZXhJbmRpY2VzLmxlbmd0aCA6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxyXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxyXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcclxuICAgICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcclxuICAgICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcclxuICAgIHJldHVybiBgJHtnZXRDYWNoZUtleShwYXJhbXMpfToke3BhcmFtcy5kaXZpc2lvbnNDb3VudH1gO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7bGF0TG9uZ1NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9O1xyXG4iLCJpbXBvcnQge2NhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzfSBmcm9tICcuLi8uLi8uLi91dGlsJztcclxuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XHJcblxyXG4vKipcclxuICogVGhpcyBtb2RlbCBkZWZpbmVzIGEgc2hhcGUgY29uZmlndXJhdGlvbiBmYWN0b3J5IGZvciBhIHJlZ3VsYXIgdGV0cmFoZWRyb24uXHJcbiAqXHJcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbi5cclxuICovXHJcblxyXG4vLyB8fChWRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFKXx8ID0gMVxyXG5jb25zdCBWRVJURVhfQ09PUkRJTkFURSA9IDAuNTc3MzUwMjU4ODI3MjA5NTtcclxuXHJcbmNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtcclxuICAvLyBMZWZ0LXRvcC1uZWFyIGZhY2VcclxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxyXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXHJcblxyXG4gIC8vIFJpZ2h0LXRvcC1mYXIgZmFjZVxyXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcclxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLFxyXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXHJcblxyXG4gIC8vIFJpZ2h0LWJvdHRvbS1uZWFyIGZhY2VcclxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXHJcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcclxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXHJcblxyXG4gIC8vIExlZnQtYm90dG9tLWZhciBmYWNlXHJcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxyXG4gIFZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcclxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEVcclxuXTtcclxuXHJcbi8vIDEgLSBNYXRoLnNxcnQoMykgLyAyXHJcbmNvbnN0IFRFWFRVUkVfQkFTRV9DT09SRElOQVRFID0gMC4xMzM5NzQ1OTYyMTtcclxuXHJcbmNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IFtcclxuICAvLyBMZWZ0LXRvcC1uZWFyIGZhY2VcclxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcclxuICAwLjUsIDEsXHJcbiAgMSwgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEUsXHJcblxyXG4gIC8vIFJpZ2h0LXRvcC1mYXIgZmFjZVxyXG4gIDAsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFLFxyXG4gIDAuNSwgMSxcclxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcclxuXHJcbiAgLy8gUmlnaHQtYm90dG9tLW5lYXIgZmFjZVxyXG4gIDAsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFLFxyXG4gIDAuNSwgMSxcclxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcclxuXHJcbiAgLy8gTGVmdC1ib3R0b20tZmFyIGZhY2VcclxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcclxuICAwLjUsIDEsXHJcbiAgMSwgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEVcclxuXTtcclxuXHJcbmNvbnN0IHRldHJhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSA9IHtcclxuICBzaGFwZUlkOiAnVEVUUkFIRURST04nLFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cclxuICAgKi9cclxuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XHJcbiAgICBjb25zdCB2ZXJ0ZXhOb3JtYWxzID0gcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzXHJcbiAgICAgICAgPyB2ZXJ0ZXhQb3NpdGlvbnNcclxuICAgICAgICA6IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXHJcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXHJcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxyXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiBudWxsLFxyXG4gICAgICBlbGVtZW50Q291bnQ6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzXHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldENhY2hlSWQocGFyYW1zKSB7XHJcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQge3RldHJhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XHJcbiIsImltcG9ydCB7XHJcbiAgYW5pbWF0b3IsXHJcbiAgUGVyc2lzdGVudEFuaW1hdGlvbkpvYlxyXG59XHJcbmZyb20gJ2xzbC1hbmltYXRleCc7XHJcbmltcG9ydCB7IFBoeXNpY3NFbmdpbmUgfSBmcm9tICdsc2wtcGh5c3gnO1xyXG5pbXBvcnQge1xyXG4gIFByb2dyYW1XcmFwcGVyLFxyXG4gIHByb2dyYW1XcmFwcGVyU3RvcmUsXHJcbiAgdGV4dHVyZVN0b3JlXHJcbn1cclxuZnJvbSAnLi4vcHJvZ3JhbS13cmFwcGVyJztcclxuaW1wb3J0IHtcclxuICBiaW5kRnJhbWVidWZmZXIsXHJcbiAgYmluZEdMQ29udGV4dFRvVmlld3BvcnREaW1lbnNpb25zLFxyXG4gIGdldFdlYkdMQ29udGV4dCxcclxuICBnZXRWaWV3cG9ydEhlaWdodCxcclxuICBnZXRWaWV3cG9ydFdpZHRoLFxyXG59XHJcbmZyb20gJy4uL3V0aWwnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgdG9wLWxldmVsIENvbnRyb2xsZXIgY2xhc3MgaW5pdGlhbGl6ZXMgYW5kIHJ1bnMgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cclxuICovXHJcbmNsYXNzIEdyYWZ4Q29udHJvbGxlciBleHRlbmRzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2Ige1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLl9jYW52YXMgPSBudWxsO1xyXG4gICAgdGhpcy5fZ2wgPSBudWxsO1xyXG4gICAgdGhpcy5fc2NlbmUgPSBudWxsO1xyXG4gICAgdGhpcy5fY3VycmVudFByb2dyYW1XcmFwcGVyID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIHRoZSBhcHAuIEFmdGVyIHRoaXMgY29tcGxldGVzIHN1Y2Nlc3NmdWxseSwgY2FsbCBydW4gdG8gYWN0dWFsbHkgc3RhcnQgdGhlIGFwcC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb2dyYW1XcmFwcGVyQ29uZmlnPn0gcHJvZ3JhbUNvbmZpZ3MgQ29uZmlndXJhdGlvbnMgZm9yIHByb2dyYW0gd3JhcHBlcnMgdGhhdFxyXG4gICAqIHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZSBzdGFydGluZyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHRleHR1cmVQYXRocyBUZXh0dXJlIGltYWdlcyB0aGF0IHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZVxyXG4gICAqIHN0YXJ0aW5nIHRoZSByZXN0IG9mIHRoZSBhcHAuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbi48U2NlbmU+fSBzY2VuZUZhY3RvcnlcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuICBpbml0aWFsaXplKGNhbnZhcywgcHJvZ3JhbUNvbmZpZ3MsIHRleHR1cmVQYXRocywgc2NlbmVGYWN0b3J5KSB7XHJcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuX3NldFVwV2ViR0xDb250ZXh0KCkpXHJcbiAgICAgIC50aGVuKCgpID0+IFByb21pc2UuYWxsKFtcclxuICAgICAgICB0aGlzLl9wcmVDYWNoZVByb2dyYW1zKHByb2dyYW1Db25maWdzKSxcclxuICAgICAgICB0aGlzLl9wcmVDYWNoZVRleHR1cmVzKHRleHR1cmVQYXRocylcclxuICAgICAgXSkpXHJcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuX3NldFVwU2NlbmUoc2NlbmVGYWN0b3J5KSk7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge31cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICAvLyBGSVhNRTogV2lsbCBpdCBiZSBlYXNpZXIgdG8gcmVwbGFjZSB0aGlzIHdpdGggaW5pdGlhbGl6ZT9cclxuICAgIHRoaXMuX3NjZW5lLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSdW5zIHRoZSBhcHAuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBpbml0aWFsaXplLlxyXG4gICAqXHJcbiAgICogQSBmZXcgdGhpbmdzIGhhcHBlbiBpZiB0aGlzIGlzIHJ1biBpbiBkZXYgbW9kZTpcclxuICAgKiAtIFRoZSBkcmF3IGFuZCB1cGRhdGUgc3RlcHMgb2YgZWFjaCBmcmFtZSBhcmUgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaCBibG9jay5cclxuICAgKiAtIFRoaXMgbWV0aG9kIHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVqZWN0cyBpZiBhbiBlcnJvciBpcyB0aHJvdyBkdXJpbmcgYW55IHVwZGF0ZSBvciBkcmF3XHJcbiAgICogICBzdGVwIGFuZCByZXNvbHZlcyB3aGVuIHRoaXMgY29udHJvbGxlciBoYXMgZmluaXNoZWQgKGN1cnJlbnRseSBuZXZlcilcclxuICAgKi9cclxuICBydW4oKSB7XHJcbiAgICB0aGlzLl9zdGFydEFuaW1hdG9yKCk7XHJcbiAgfVxyXG5cclxuICBfc3RhcnRBbmltYXRvcigpIHsgLy8gRklYTUU6IERlY291cGxlIHBoeXN4XHJcbiAgICBhbmltYXRvci5zdGFydEpvYihQaHlzaWNzRW5naW5lLmluc3RhbmNlKTtcclxuICAgIGFuaW1hdG9yLnN0YXJ0Sm9iKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgc2NlbmUuXHJcbiAgICpcclxuICAgKiBUaGlzIHVwZGF0ZXMgYWxsIG9mIHRoZSBjdXJyZW50IHBhcmFtZXRlcnMgZm9yIGVhY2ggY29tcG9uZW50IGluIHRoZSBzY2VuZSBmb3IgdGhlIGN1cnJlbnRcclxuICAgKiBmcmFtZS4gSG93ZXZlciwgdGhpcyBkb2VzIG5vdCByZW5kZXIgYW55dGhpbmcuIFJlbmRlcmluZyBpcyBkb25lIGJ5IGEgZm9sbG93aW5nIGNhbGwgdG8gdGhlXHJcbiAgICogZHJhdyBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICB0aGlzLl9zY2VuZS51cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyB0aGUgc2NlbmUuXHJcbiAgICpcclxuICAgKiBUaGlzIHJlbmRlcnMgdGhlIGN1cnJlbnQgZnJhbWUgZm9yIGFsbCBjb21wb25lbnRzIGluIHRoZSBzY2VuZS4gVGhpcyBhc3N1bWVzIHRoYXQgYWxsIHJlbGV2YW50XHJcbiAgICogcGFyYW1ldGVyIHVwZGF0ZXMgZm9yIHRoaXMgZnJhbWUgaGF2ZSBhbHJlYWR5IGJlZW4gY29tcHV0ZWQgYnkgYSBwcmV2aW91cyBjYWxsIHRvIF91cGRhdGVTY2VuZS5cclxuICAgKi9cclxuICBkcmF3KCkge1xyXG4gICAgLy8gQ2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgd2Ugc3RhcnQgZHJhd2luZyBvbiBpdC5cclxuICAgIHRoaXMuX2dsLmNsZWFyKHRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQgfCB0aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKTtcclxuXHJcbiAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSwgdGhlbiB3ZSBuZWVkIHRvIHJlbmRlciBtb2RlbHMgdG8gYSBmcmFtZWJ1ZmZlclxyXG4gICAgLy8gcmF0aGVyIHRoYW4gZGlyZWN0bHkgdG8gdGhlIGNhbnZhcy5cclxuICAgIGlmIChwcm9ncmFtV3JhcHBlclN0b3JlLmlzVXNpbmdQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zKSB7XHJcbiAgICAgIGJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbCwgcHJvZ3JhbVdyYXBwZXJTdG9yZS5tb2RlbHNGcmFtZWJ1ZmZlcik7XHJcbiAgICAgIHRoaXMuX2dsLmNsZWFyKHRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQgfCB0aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEcmF3IGVhY2ggcHJvZ3JhbSBzZXBhcmF0ZWx5LiBUaGlzIG1pbmltaXplcyBob3cgbWFueSB0aW1lcyB3ZSBuZWVkIHRvIHN3aXRjaCBwcm9ncmFtcyBieVxyXG4gICAgLy8gZ3JvdXBpbmcgYWxsIG9mIHRoZSBkcmF3IGNhbGxzIGZvciBtb2RlbHMgdGhhdCB1c2UgdGhlIHNhbWUgcHJvZ3JhbS9zaGFkZXJzLlxyXG4gICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5mb3JFYWNoTW9kZWxQcm9ncmFtKChwcm9ncmFtV3JhcHBlciwgZHJhd0ZyYW1lSGFuZGxlcnMpID0+XHJcbiAgICAgIHRoaXMuX2RyYXdNb2RlbFByb2dyYW0ocHJvZ3JhbVdyYXBwZXIsIGRyYXdGcmFtZUhhbmRsZXJzKSk7XHJcbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmZvckVhY2hQb3N0UHJvY2Vzc2luZ1Byb2dyYW0oXHJcbiAgICAgIChwcm9ncmFtV3JhcHBlcikgPT4gdGhpcy5fZHJhd1Bvc3RQcm9jZXNzaW5nUHJvZ3JhbShwcm9ncmFtV3JhcHBlcikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRm9yIHRoZSBnaXZlbiBwcm9ncmFtIGtleSwgdGhpcyBiaW5kcyB0aGUgcmVnaXN0ZXJlZCBzaGFkZXIgcHJvZ3JhbSB0byB0aGUgR0wgcmVuZGVyaW5nIGNvbnRleHRcclxuICAgKiBhbmQgY2FsbHMgZWFjaCBvZiB0aGUgcmVnaXN0ZXJlZCBkcmF3LWZyYW1lIGhhbmRsZXJzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcnxHcm91cFByb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxyXG4gICAqIEBwYXJhbSB7U2V0LjxGdW5jdGlvbj59IFtkcmF3RnJhbWVIYW5kbGVyc11cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9kcmF3TW9kZWxQcm9ncmFtKHByb2dyYW1XcmFwcGVyLCBkcmF3RnJhbWVIYW5kbGVycykge1xyXG4gICAgLy8gQ2hlY2sgd2hldGhlciB3ZSBuZWVkIHRvIHN3aXRjaCBwcm9ncmFtcyAoYWx3YXlzIHRydWUgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBwcm9ncmFtXHJcbiAgICAvLyByZWdpc3RlcmVkKS5cclxuICAgIGlmICh0aGlzLl9jdXJyZW50UHJvZ3JhbVdyYXBwZXIgIT09IHByb2dyYW1XcmFwcGVyKSB7XHJcbiAgICAgIHByb2dyYW1XcmFwcGVyLnNldFByb2dyYW0odGhpcy5fZ2wpO1xyXG4gICAgICB0aGlzLl9jdXJyZW50UHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIGVhY2ggb2YgdGhlIGRyYXctZnJhbWUgaGFuZGxlcnMgdGhhdCB1c2UgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIHByb2dyYW0uXHJcbiAgICBkcmF3RnJhbWVIYW5kbGVycy5mb3JFYWNoKGRyYXdGcmFtZUhhbmRsZXIgPT4gZHJhd0ZyYW1lSGFuZGxlcigpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvciB0aGUgZ2l2ZW4gcHJvZ3JhbSBrZXksIHRoaXMgYmluZHMgdGhlIHJlZ2lzdGVyZWQgc2hhZGVyIHByb2dyYW0gdG8gdGhlIEdMIHJlbmRlcmluZyBjb250ZXh0XHJcbiAgICogYW5kIGNhbGxzIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgZHJhdy1mcmFtZSBoYW5kbGVycy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJ8R3JvdXBQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9kcmF3UG9zdFByb2Nlc3NpbmdQcm9ncmFtKHByb2dyYW1XcmFwcGVyKSB7XHJcbiAgICB0aGlzLl9jdXJyZW50UHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcjtcclxuICAgIHByb2dyYW1XcmFwcGVyLmRyYXcodGhpcy5fZ2wpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgdGhlIFdlYkdMIHJlbmRlcmluZyBjb250ZXh0LlxyXG4gICAqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfc2V0VXBXZWJHTENvbnRleHQoKSB7XHJcbiAgICAvLyBHZXQgdGhlIFdlYkdMIHJlbmRlcmluZyBjb250ZXh0LlxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5fZ2wgPSBnZXRXZWJHTENvbnRleHQodGhpcy5fY2FudmFzKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgIGFsZXJ0KCdXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlciEgOignKTtcclxuICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYXZlIHRoZSBjYW52YXMgY29udGV4dCBtYXRjaCB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgd2luZG93J3Mgdmlld3BvcnQuXHJcbiAgICBiaW5kR0xDb250ZXh0VG9WaWV3cG9ydERpbWVuc2lvbnModGhpcy5fY2FudmFzLCB0aGlzLl9nbCwgKCkgPT4gdGhpcy5fdXBkYXRlQXNwZWN0UmF0aW8oKSk7XHJcblxyXG4gICAgLy8gQ2xlYXIgZXZlcnl0aGluZyB0byBibGFjay5cclxuICAgIHRoaXMuX2dsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMSk7XHJcbiAgICB0aGlzLl9nbC5jbGVhckRlcHRoKDEpO1xyXG5cclxuICAgIC8vIEVuYWJsZSBkZXB0aCB0ZXN0aW5nLlxyXG4gICAgdGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkRFUFRIX1RFU1QpO1xyXG4gICAgdGhpcy5fZ2wuZGVwdGhGdW5jKHRoaXMuX2dsLkxFUVVBTCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkcywgY29tcGlsZXMsIGNhY2hlcywgYW5kIGluaXRpYWxpemVzIHNvbWUgcmVuZGVyaW5nIHByb2dyYW1zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheS48UHJvZ3JhbVdyYXBwZXJDb25maWc+fSBwcm9ncmFtQ29uZmlnc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3ByZUNhY2hlUHJvZ3JhbXMocHJvZ3JhbUNvbmZpZ3MpIHtcclxuICAgIGNvbnN0IHByb21pc2VzID1cclxuICAgICAgcHJvZ3JhbUNvbmZpZ3MubWFwKGNvbmZpZyA9PiBwcm9ncmFtV3JhcHBlclN0b3JlLmxvYWRQcm9ncmFtV3JhcHBlcih0aGlzLl9nbCwgY29uZmlnKSk7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9hZHMsIGNvbXBpbGVzLCBhbmQgY2FjaGVzIHNvbWUgdGV4dHVyZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSB0ZXh0dXJlUGF0aHNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9wcmVDYWNoZVRleHR1cmVzKHRleHR1cmVQYXRocykge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHRleHR1cmVQYXRoc1xyXG4gICAgICAubWFwKHRleHR1cmVQYXRoID0+IHRleHR1cmVTdG9yZS5sb2FkVGV4dHVyZSh0aGlzLl9nbCwgdGV4dHVyZVBhdGgpKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyB0aGUgc2NlbmUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjxTY2VuZT59IHNjZW5lRmFjdG9yeVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqIEBhYnN0cmFjdFxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfc2V0VXBTY2VuZShzY2VuZUZhY3RvcnkpIHtcclxuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICovXHJcbiAgX3VwZGF0ZUFzcGVjdFJhdGlvKCkge1xyXG4gICAgdGhpcy5fc2NlbmUuY2FtZXJhLmFzcGVjdFJhdGlvID0gZ2V0Vmlld3BvcnRXaWR0aCgpIC8gZ2V0Vmlld3BvcnRIZWlnaHQoKTtcclxuICAgIF9yZXNpemVGcmFtZWJ1ZmZlcnNUb01hdGNoVmlld3BvcnRTaXplKHRoaXMuX2dsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHttYXQ0fVxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfZ2V0Vmlld01hdHJpeCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9zY2VuZS5jYW1lcmEudmlld01hdHJpeDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHttYXQ0fVxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfZ2V0UHJvamVjdGlvbk1hdHJpeCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9zY2VuZS5jYW1lcmEucHJvamVjdGlvbk1hdHJpeDtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9yZXNpemVGcmFtZWJ1ZmZlcnNUb01hdGNoVmlld3BvcnRTaXplKGdsKSB7XHJcbiAgaWYgKHByb2dyYW1XcmFwcGVyU3RvcmUuaXNVc2luZ1Bvc3RQcm9jZXNzaW5nUHJvZ3JhbXMpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gZ2V0Vmlld3BvcnRXaWR0aCgpO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gZ2V0Vmlld3BvcnRIZWlnaHQoKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHBlci1tb2RlbCBmcmFtZWJ1ZmZlciB0ZXh0dXJlLlxyXG4gICAgY29uc3QgdGV4dHVyZSA9IHByb2dyYW1XcmFwcGVyU3RvcmUubW9kZWxzVGV4dHVyZTtcclxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHBlci1tb2RlbCBmcmFtZWJ1ZmZlciBkZXB0aCByZW5kZXIgYnVmZmVyLlxyXG4gICAgY29uc3QgcmVuZGVyQnVmZmVyID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5tb2RlbHNSZW5kZXJCdWZmZXI7XHJcbiAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgcmVuZGVyQnVmZmVyKTtcclxuICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBwb3N0LXByb2Nlc3NpbmcgZnJhbWVidWZmZXIgdGV4dHVyZXMuXHJcbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmZvckVhY2hQb3N0UHJvY2Vzc2luZ1Byb2dyYW0ocHJvZ3JhbVdyYXBwZXIgPT4ge1xyXG4gICAgICBwcm9ncmFtV3JhcHBlci5jb25maWcuY2hpbGRyZW5GcmFtZWJ1ZmZlcklkcy5mb3JFYWNoKGlkID0+IHtcclxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5nZXRUZXh0dXJlKGlkKTtcclxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgR3JhZnhDb250cm9sbGVyIH07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBsaWdodCBzb3VyY2UuXHJcbiAqL1xyXG5jbGFzcyBMaWdodCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvLyBUT0RPXHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcy5cclxufVxyXG5cclxuZXhwb3J0IHtMaWdodH07XHJcbiIsImltcG9ydCB7IE1vZGVsR3JvdXBDb250cm9sbGVyIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgdGhlIG92ZXJhbGwgc2NlbmUuXHJcbiAqL1xyXG5jbGFzcyBTY2VuZSBleHRlbmRzIE1vZGVsR3JvdXBDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJQYXJhbXNcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJQYXJhbXMpIHtcclxuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcyk7XHJcblxyXG4gICAgLy8gU2NlbmUgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxyXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFNjZW5lKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgU2NlbmUgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZ2V0V29ybGRUcmFuc2Zvcm0gPSAoKSA9PiB0aGlzLndvcmxkVHJhbnNmb3JtO1xyXG4gICAgdGhpcy5fbGlnaHRzID0gW107XHJcbiAgICB0aGlzLl9jYW1lcmEgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICBzdXBlci5yZXNldCgpO1xyXG4gICAgdGhpcy5fbGlnaHRzLmZvckVhY2gobGlnaHQgPT4gbGlnaHQucmVzZXQoKSk7XHJcbiAgICB0aGlzLl9jYW1lcmEucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcclxuICAgIHN1cGVyLnVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xyXG4gICAgdGhpcy5fY2FtZXJhLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7Q2FtZXJhfSAqL1xyXG4gIGdldCBjYW1lcmEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FtZXJhO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgU2NlbmUgfTtcclxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvZ2VvbWV0cnknO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9nbC11dGlsJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvaGFzaC1tYXAnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy91dGlsJztcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW9tZXRyeSB1dGlsaXR5IGZ1bmN0aW9ucy5cclxuICovXHJcblxyXG5pbXBvcnQge3JhbmRvbUZsb2F0SW5SYW5nZX0gZnJvbSAnLi91dGlsJztcclxuXHJcbmNvbnN0IEVQU0lMT04gPSAwLjAwMDAwMDE7XHJcbmNvbnN0IERFR19UT19SQURfUkFUSU8gPSBNYXRoLlBJIC8gMTgwO1xyXG5jb25zdCBSQURfVE9fREVHX1JBVElPID0gMTgwIC8gTWF0aC5QSTtcclxuY29uc3QgSEFMRl9QSSA9IE1hdGguUEkgLyAyO1xyXG5jb25zdCBUV09fUEkgPSBNYXRoLlBJICogMjtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGVnXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWdUb1JhZChkZWcpIHtcclxuICByZXR1cm4gZGVnICogREVHX1RPX1JBRF9SQVRJTztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIHJhZFRvRGVnKHJhZCkge1xyXG4gIHJldHVybiByYWQgKiBSQURfVE9fREVHX1JBVElPO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBjaGVja3Mgd2hldGhlciB0d28gZmxvYXRpbmctcG9pbnQgbnVtYmVycyBhcmUgY2xvc2UgZW5vdWdoIHRoYXQgdGhleSBjb3VsZCBiZSBlcXVhbCBpZiBub3RcclxuICogZm9yIHJvdW5kLW9mZiBlcnJvcnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gYXJlQ2xvc2UoYSwgYikge1xyXG4gIGNvbnN0IGRpZmYgPSBhIC0gYjtcclxuICByZXR1cm4gKGRpZmYgPiAwID8gZGlmZiA6IC1kaWZmKSA8IEVQU0lMT047XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGFcclxuICogQHBhcmFtIHt2ZWMzfSBiXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gYXJlVmVjM3NFcXVhbChhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiZcclxuICAgICAgYVsxXSA9PT0gYlsxXSAmJlxyXG4gICAgICBhWzJdID09PSBiWzJdO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSB2XHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiB2ZWMzVG9TdHJpbmcodikge1xyXG4gIHJldHVybiBgKCR7dlswXX0sJHt2WzFdfSwke3ZbMl19KWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZT0xXVxyXG4gKiBAcmV0dXJucyB7dmVjM31cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJhbmRvbVZlYzMoc2NhbGUgPSAxKSB7XHJcbiAgY29uc3QgdiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgcmV0dXJuIHNldFJhbmRvbVZlYzModiwgc2NhbGUpO1xyXG59XHJcblxyXG4vKipcclxuICogVE9ETzogVGhpcyBmaW5kcyBhIHJhbmRvbSBwb2ludCB3aXRoIHVuaWZvcm0gcHJvYmFiaWxpdHkgd2l0aGluIGEgY3ViaWMgYXJlYSwgd2hpY2ggYmlhc2VzIHRoZSByZXN1bHRpbmcgdmVjdG9yIHRvd2FyZCB0aGUgY29ybmVycyBvZiB0aGlzIGN1YmljIGFyZWEuIFJlLXdyaXRlIHRoaXMgdG8gcHJvZHVjZSBhbiB1bmJpYXNlZCB2ZWN0b3IuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gdlxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlPTFdXHJcbiAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0UmFuZG9tVmVjMyh2LCBzY2FsZSA9IDEpIHtcclxuICB2ZWMzLnNldCh2LCBNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41KTtcclxuICB2ZWMzLm5vcm1hbGl6ZSh2LCB2KTtcclxuICB2ZWMzLnNjYWxlKHYsIHYsIHNjYWxlKTtcclxuICByZXR1cm4gdjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYSB2ZWN0b3IgdGhhdCBpcyBvcnRob2dvbmFsIHRvIHRoZSBnaXZlbiB2ZWN0b3IuXHJcbiAqXHJcbiAqIFRPRE86IFRoaXMgZmluZHMgYSByYW5kb20gcG9pbnQgd2l0aCB1bmlmb3JtIHByb2JhYmlsaXR5IHdpdGhpbiBhIGN1YmljIGFyZWEsIHdoaWNoIGJpYXNlcyB0aGUgcmVzdWx0aW5nIHZlY3RvciB0b3dhcmQgdGhlIGNvcm5lcnMgb2YgdGhpcyBjdWJpYyBhcmVhLiBSZS13cml0ZSB0aGlzIHRvIHByb2R1Y2UgYW4gdW5iaWFzZWQgdmVjdG9yLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGJhc2lzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGU9MV1cclxuICogQHJldHVybnMge3ZlYzN9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVSYW5kb21PcnRob2dvbmFsVmVjMyhiYXNpcywgc2NhbGUgPSAxKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gdmVjMy5jcmVhdGUoKTtcclxuICByZXR1cm4gc2V0UmFuZG9tT3J0aG9nb25hbFZlYzMocmVzdWx0LCBiYXNpcywgc2NhbGUpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBhIHZlY3RvciB0aGF0IGlzIG9ydGhvZ29uYWwgdG8gdGhlIGdpdmVuIHZlY3Rvci5cclxuICpcclxuICogVE9ETzogVGhpcyBmaW5kcyBhIHJhbmRvbSBwb2ludCB3aXRoIHVuaWZvcm0gcHJvYmFiaWxpdHkgd2l0aGluIGEgY3ViaWMgYXJlYSwgd2hpY2ggYmlhc2VzIHRoZSByZXN1bHRpbmcgdmVjdG9yIHRvd2FyZCB0aGUgY29ybmVycyBvZiB0aGlzIGN1YmljIGFyZWEuIFJlLXdyaXRlIHRoaXMgdG8gcHJvZHVjZSBhbiB1bmJpYXNlZCB2ZWN0b3IuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gcmVzdWx0XHJcbiAqIEBwYXJhbSB7dmVjM30gYmFzaXNcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZT0xXVxyXG4gKiBAcmV0dXJucyB7dmVjM31cclxuICovXHJcbmZ1bmN0aW9uIHNldFJhbmRvbU9ydGhvZ29uYWxWZWMzKHJlc3VsdCwgYmFzaXMsIHNjYWxlID0gMSkge1xyXG4gIHNldFJhbmRvbVZlYzMocmVzdWx0KTtcclxuICAvLyBUaGlzIGlzIGJhc2VkIG9uIHRoZSBkb3QgYW5kIGNyb3NzIHByb2R1Y3RzIGFuZCB0aGUgZmFjdCB0aGF0IHRoZSBkb3QgcHJvZHVjdCBmb3IgdHdvXHJcbiAgLy8gb3J0aG9nb25hbCB2ZWN0b3JzIGlzIHplcm8uXHJcbiAgcmVzdWx0WzJdID0gLShiYXNpc1swXSAqIHJlc3VsdFswXSArIGJhc2lzWzFdICogcmVzdWx0WzFdKSAvIGJhc2lzWzJdO1xyXG4gIHZlYzMubm9ybWFsaXplKHJlc3VsdCwgcmVzdWx0KTtcclxuICB2ZWMzLnNjYWxlKHJlc3VsdCwgcmVzdWx0LCBzY2FsZSk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gYXZnXHJcbiAqIEBwYXJhbSB7dmVjM30gcmFuZ2VcclxuICogQHJldHVybnMge3ZlYzN9XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByYW5kb21WZWMzSW5SYW5nZShhdmcsIHJhbmdlKSB7XHJcbiAgY29uc3QgcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICBjb25zdCBtaW4gPSBhdmdbaV0gLSByYW5nZVtpXSAvIDI7XHJcbiAgICBjb25zdCBtYXggPSBhdmdbaV0gKyByYW5nZVtpXSAvIDI7XHJcbiAgICBwb3NpdGlvbltpXSA9IHJhbmRvbUZsb2F0SW5SYW5nZShtaW4sIG1heCk7XHJcbiAgfVxyXG4gIHJldHVybiBwb3NpdGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIHZlY3RvciBhcm91bmQgYSByYW5kb20gb3J0aG9nb25hbCBheGlzIGJ5IGEgcmFuZG9tIGFuZ2xlIHdpdGhpbiB0aGUgZ2l2ZW4gYW5nbGVcclxuICogYm91bmRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IHZcclxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJvdGF0aW9uQW5nbGVcclxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJvdGF0aW9uQW5nbGVcclxuICovXHJcbmZ1bmN0aW9uIGFkZFJhbmRvbVJvdGF0aW9uVG9WZWN0b3IodiwgbWluUm90YXRpb25BbmdsZSwgbWF4Um90YXRpb25BbmdsZSkge1xyXG4gIC8vIENyZWF0ZSBhIHJhbmRvbSBvcnRob2dvbmFsIGF4aXMuXHJcbiAgY29uc3Qgcm90YXRpb25BeGlzID0gY3JlYXRlUmFuZG9tVmVjMygpO1xyXG4gIHZlYzMuY3Jvc3Mocm90YXRpb25BeGlzLCByb3RhdGlvbkF4aXMsIHYpO1xyXG4gIHZlYzMubm9ybWFsaXplKHJvdGF0aW9uQXhpcywgcm90YXRpb25BeGlzKTtcclxuXHJcbiAgLy8gQ3JlYXRlIGEgcmFuZG9tIGFuZ2xlLlxyXG4gIGNvbnN0IHJvdGF0aW9uQW5nbGUgPSByYW5kb21GbG9hdEluUmFuZ2UobWluUm90YXRpb25BbmdsZSwgbWF4Um90YXRpb25BbmdsZSk7XHJcblxyXG4gIC8vIENyZWF0ZSBhIHJvdGF0aW9uIHF1YXRlcm5pb24uXHJcbiAgY29uc3Qgcm90YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xyXG4gIHF1YXQuc2V0QXhpc0FuZ2xlKHJvdGF0aW9uLCByb3RhdGlvbkF4aXMsIHJvdGF0aW9uQW5nbGUpO1xyXG5cclxuICAvLyBBcHBseSB0aGUgcm90YXRpb24gdG8gdGhlIHZlY3Rvci5cclxuICB2ZWMzLnRyYW5zZm9ybVF1YXQodiwgdiwgcm90YXRpb24pO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtxdWF0fSBvdXRcclxuICogQHBhcmFtIHtxdWF0fSBhXHJcbiAqIEBwYXJhbSB7cXVhdH0gYlxyXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGVcclxuICogQHJldHVybnMge3F1YXR9XHJcbiAqL1xyXG5mdW5jdGlvbiBzY2FsZUFuZEFkZFF1YXQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIHJldHVybiBxdWF0LnNldChvdXQsXHJcbiAgICAgIGFbMF0gKyBiWzBdICogc2NhbGUsXHJcbiAgICAgIGFbMV0gKyBiWzFdICogc2NhbGUsXHJcbiAgICAgIGFbMl0gKyBiWzJdICogc2NhbGUsXHJcbiAgICAgIGFbM10gKyBiWzNdICogc2NhbGUpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSB2XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNYXhWZWMzRGltZW5zaW9uKHYpIHtcclxuICBsZXQgbWF4ID0gdlswXSA+IHZbMV0gPyB2WzBdIDogdlsxXTtcclxuICBtYXggPSBtYXggPiB2WzJdID8gbWF4IDogdlsyXTtcclxuICByZXR1cm4gbWF4O1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIEVQU0lMT04sXHJcbiAgSEFMRl9QSSxcclxuICBUV09fUEksXHJcbiAgZGVnVG9SYWQsXHJcbiAgcmFkVG9EZWcsXHJcbiAgYXJlQ2xvc2UsXHJcbiAgYXJlVmVjM3NFcXVhbCxcclxuICB2ZWMzVG9TdHJpbmcsXHJcbiAgY3JlYXRlUmFuZG9tVmVjMyxcclxuICBzZXRSYW5kb21WZWMzLFxyXG4gIGNyZWF0ZVJhbmRvbU9ydGhvZ29uYWxWZWMzLFxyXG4gIHNldFJhbmRvbU9ydGhvZ29uYWxWZWMzLFxyXG4gIHJhbmRvbVZlYzNJblJhbmdlLFxyXG4gIGFkZFJhbmRvbVJvdGF0aW9uVG9WZWN0b3IsXHJcbiAgc2NhbGVBbmRBZGRRdWF0LFxyXG4gIGdldE1heFZlYzNEaW1lbnNpb24sXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgZ2VuZXJhbCB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgV2ViR0wuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtIYXNoTWFwfSBmcm9tICcuL2hhc2gtbWFwJztcclxuaW1wb3J0IHtIQUxGX1BJLCBUV09fUEl9IGZyb20gJy4vZ2VvbWV0cnknO1xyXG5pbXBvcnQge2RlYm91bmNlLCBpc0luRGV2TW9kZSwgbG9hZFRleHR9IGZyb20gJy4vdXRpbCc7XHJcbmltcG9ydCB7cHJvZ3JhbVdyYXBwZXJTdG9yZX0gZnJvbSAnLi4vLi4vcHJvZ3JhbS13cmFwcGVyL3NyYy9wcm9ncmFtLXdyYXBwZXItc3RvcmUnO1xyXG5cclxubGV0IHZpZXdwb3J0V2lkdGggPSAxMDtcclxubGV0IHZpZXdwb3J0SGVpZ2h0ID0gMTA7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXHJcbiAqIEByZXR1cm5zIHs/V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxyXG4gKiBAdGhyb3dzIElmIHVuYWJsZSB0byBnZXQgYSBXZWJHTCBjb250ZXh0LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0V2ViR0xDb250ZXh0KGNhbnZhcykge1xyXG4gIGNvbnN0IHBhcmFtcyA9IHthbHBoYTogZmFsc2V9O1xyXG4gIC8vIFRyeSB0byBncmFiIHRoZSBzdGFuZGFyZCBjb250ZXh0LiBJZiBpdCBmYWlscywgZmFsbGJhY2sgdG8gdGhlIGV4cGVyaW1lbnRhbCBjb250ZXh0LlxyXG4gIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBwYXJhbXMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBwYXJhbXMpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEByZXR1cm5zIHs/V2ViR0xCdWZmZXJ9XHJcbiAqIEB0aHJvd3MgSWYgdW5hYmxlIHRvIGNyZWF0ZSBhIGJ1ZmZlciBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIoZ2wpIHtcclxuICBjb25zdCBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICBpZiAoIWJ1ZmZlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjcmVhdGluZyB0aGUgYnVmZmVyIG9iamVjdCcpO1xyXG4gIH1cclxuICByZXR1cm4gYnVmZmVyO1xyXG59XHJcbi8vIFRPRE86IHVzZSBhbGwgdGhpcyBoZWxwZXIgc3R1ZmYgaW4gdGhlIHByb2dyYW1XcmFwcGVyIGxvZ2ljP1xyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBwcm9ncmFtXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbk5hbWVcclxuICogQHJldHVybnMge251bWJlcn1cclxuICogQHRocm93cyBJZiB1bmFibGUgdG8gZ2V0IGFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBmb3IgdGhlIGdpdmVuIG5hbWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBdHRyaWJMb2NhdGlvbihnbCwgcHJvZ3JhbSwgbG9jYXRpb25OYW1lKSB7XHJcbiAgY29uc3QgYXR0cmliTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBsb2NhdGlvbk5hbWUpO1xyXG4gIGlmIChhdHRyaWJMb2NhdGlvbiA8IDApIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQgZ2V0dGluZyB0aGUgYXR0cmlidXRlIGxvY2F0aW9uOiAke2xvY2F0aW9uTmFtZX1gKTtcclxuICB9XHJcbiAgcmV0dXJuIGF0dHJpYkxvY2F0aW9uO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7V2ViR0xTaGFkZXJ9IHZlcnRleFNoYWRlclxyXG4gKiBAcGFyYW0ge1dlYkdMU2hhZGVyfSBmcmFnbWVudFNoYWRlclxyXG4gKiBAcmV0dXJucyB7V2ViR0xQcm9ncmFtfVxyXG4gKiBAdGhyb3dzIElmIHVuYWJsZSB0byBsaW5rIHRoZSBwcm9ncmFtLlxyXG4gKi9cclxuZnVuY3Rpb24gYnVpbGRQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XHJcbiAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XHJcbiAgICBjb25zdCBpbmZvTG9nID0gZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSk7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBsaW5raW5nIHRoZSBzaGFkZXIgcHJvZ3JhbScsIGluZm9Mb2cpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBsaW5raW5nIHRoZSBzaGFkZXIgcHJvZ3JhbScpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHByb2dyYW07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICogQHBhcmFtIHtzdHJpbmd9IHNoYWRlclNvdXJjZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzRnJhZ21lbnRTaGFkZXJcclxuICogQHJldHVybnMge1dlYkdMU2hhZGVyfVxyXG4gKiBAdGhyb3dzIElmIHVuYWJsZSB0byBjb21waWxlIHRoZSBzaGFkZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZFNoYWRlcihnbCwgc2hhZGVyU291cmNlLCBpc0ZyYWdtZW50U2hhZGVyKSB7XHJcbiAgY29uc3Qgc2hhZGVyVHlwZSA9IGlzRnJhZ21lbnRTaGFkZXIgPyBnbC5GUkFHTUVOVF9TSEFERVIgOiBnbC5WRVJURVhfU0hBREVSO1xyXG4gIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcclxuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xyXG4gIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcclxuICAgIGNvbnN0IGluZm9Mb2cgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHNoYWRlcicsIGluZm9Mb2cpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHNoYWRlcicpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHNoYWRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWRzIGEgc2hhZGVyIHByb2dyYW0gYnkgc2NvdXJpbmcgdGhlIGN1cnJlbnQgZG9jdW1lbnQsIGxvb2tpbmcgZm9yIGEgc2NyaXB0IHdpdGggdGhlIHNwZWNpZmllZFxyXG4gKiBJRC5cclxuICpcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcclxuICogQHJldHVybnMge1Byb21pc2UuPFdlYkdMU2hhZGVyLCBFcnJvcj59XHJcbiAqL1xyXG5mdW5jdGlvbiBsb2FkU2hhZGVyKGdsLCB1cmwpIHtcclxuICByZXR1cm4gbG9hZFRleHQodXJsKVxyXG4gICAgICAudGhlbihzaGFkZXJTb3VyY2UgPT4gYnVpbGRTaGFkZXIoZ2wsIHNoYWRlclNvdXJjZSwgdXJsLmVuZHNXaXRoKCcuZnJhZycpKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkcyB0aGUgc2hhZGVyIHNvdXJjZSBjb2RlIGZyb20gdGhlIGdpdmVuIFVSTHMsIGNvbXBpbGVzIHRoZSBzaGFkZXIgc291cmNlIGNvZGUsIGFuZCBjcmVhdGVzXHJcbiAqIGEgcHJvZ3JhbSBmcm9tIHRoZSByZXN1bHRpbmcgc2hhZGVycy5cclxuICpcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJ0ZXhTaGFkZXJVcmxcclxuICogQHBhcmFtIHtzdHJpbmd9IGZyYWdtZW50U2hhZGVyVXJsXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxXZWJHTFByb2dyYW0sIEVycm9yPn1cclxuICogQHRocm93cyBJZiBhbnkgZXJyb3Igb2NjdXJzIHdoaWxlIGxvYWRpbmcgYW5kIGJ1aWxkaW5nIHRoZSBzaGFkZXJzIGFuZCBwcm9ncmFtLlxyXG4gKi9cclxuZnVuY3Rpb24gbG9hZFByb2dyYW0oZ2wsIHZlcnRleFNoYWRlclVybCwgZnJhZ21lbnRTaGFkZXJVcmwpIHtcclxuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIHZlcnRleFNoYWRlclVybCxcclxuICAgICAgICBmcmFnbWVudFNoYWRlclVybFxyXG4gICAgICBdLm1hcCh1cmwgPT4gbG9hZFNoYWRlcihnbCwgdXJsKSkpXHJcbiAgICAgIC50aGVuKHNoYWRlcnMgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IHNoYWRlcnNbMF07XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXJzWzFdO1xyXG5cclxuICAgICAgICByZXR1cm4gYnVpbGRQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxuICAgICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUsIGJpbmQsIGFuZCBtb3ZlIHRoZSBnaXZlbiByYXcgZGF0YSBpbnRvIGEgV2ViR0wgYnVmZmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gcmF3RGF0YSBBIHBsYWluLCBmbGF0IGFycmF5IGNvbnRhaW5pbmcgdGhlIGRhdGEgdG8gYmluZCB0byBhIGJ1ZmZlci5cclxuICogQHBhcmFtIHtudW1iZXJ9IFt0YXJnZXQ9Z2wuQVJSQVlfQlVGRkVSXSBBbiBlbnVtIGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgdGhpcyBidWZmZXI7IG9uZSBvZjpcclxuICogICAtIGdsLkFSUkFZX0JVRkZFUixcclxuICogICAtIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3VzYWdlPWdsLlNUQVRJQ19EUkFXXSBBbiBlbnVtIGRlc2NyaWJpbmcgaG93IHRoaXMgYnVmZmVyIGlzIGdvaW5nIHRvIGJlIHVzZWQ7XHJcbiAqIG9uZSBvZjpcclxuICogICAtIGdsLlNUQVRJQ19EUkFXLFxyXG4gKiAgIC0gZ2wuRFlOQU1JQ19EUkFXLFxyXG4gKiAgIC0gZ2wuU1RSRUFNX0RSQVcuXHJcbiAqIEByZXR1cm5zIHtXZWJHTEJ1ZmZlcn1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlckZyb21EYXRhKGdsLCByYXdEYXRhLCB0YXJnZXQsIHVzYWdlKSB7XHJcbiAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGdsLkFSUkFZX0JVRkZFUjtcclxuICB1c2FnZSA9IHVzYWdlIHx8IGdsLlNUQVRJQ19EUkFXO1xyXG4gIGNvbnN0IHR5cGVkQXJyYXkgPSB0YXJnZXQgPT09IGdsLkFSUkFZX0JVRkZFUiA/IG5ldyBGbG9hdDMyQXJyYXkocmF3RGF0YSkgOiBuZXcgVWludDE2QXJyYXkocmF3RGF0YSk7XHJcblxyXG4gIGNvbnN0IGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gIGdsLmJpbmRCdWZmZXIodGFyZ2V0LCBidWZmZXIpO1xyXG4gIGdsLmJ1ZmZlckRhdGEodGFyZ2V0LCB0eXBlZEFycmF5LCB1c2FnZSk7XHJcblxyXG4gIC8vIE1ha2luZyB0aGUgb3JpZ2luYWwgZGF0YSB2aXNpYmxlIG9uIHRoZSBidWZmZXIgb2JqZWN0IGlzIGhlbHBmdWwgZm9yIGRlYnVnZ2luZy5cclxuICBpZiAoaXNJbkRldk1vZGUpIHtcclxuICAgIGJ1ZmZlci5yYXdEYXRhID0gdHlwZWRBcnJheTtcclxuICB9XHJcblxyXG4gIHJldHVybiBidWZmZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGp1c3RzIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBnaXZlbiBlbGVtZW50IHRvIG1hdGNoIHRob3NlIG9mIHRoZSB2aWV3cG9ydC4gQWxzbywgd2hlbiB0aGVcclxuICogdmlld3BvcnQgaXMgcmVzaXplZCwgdGhlIGdpdmVuIGVsZW1lbnQgd2lsbCBhbHNvIGJlIHJlc2l6ZWQgdG8gbWF0Y2guXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25HTFJlc2l6ZWRcclxuICogQHBhcmFtIHs/TnVtYmVyfSBbdXBkYXRlSW50ZXJ2YWw9MTUwXVxyXG4gKi9cclxuZnVuY3Rpb24gYmluZEdMQ29udGV4dFRvVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wsIG9uR0xSZXNpemVkLCB1cGRhdGVJbnRlcnZhbCA9IDE1MCkge1xyXG4gIF9yZXNpemVHTENvbnRleHRUb01hdGNoVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wpO1xyXG4gIGNvbnN0IGRlYm91bmNlZFJlc2l6ZSA9XHJcbiAgICAgIGRlYm91bmNlKF8gPT4ge1xyXG4gICAgICAgIF9yZXNpemVHTENvbnRleHRUb01hdGNoVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wpO1xyXG4gICAgICAgIG9uR0xSZXNpemVkKCk7XHJcbiAgICAgIH0sIHVwZGF0ZUludGVydmFsKTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2VkUmVzaXplKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlc2l6ZXMgdGhlIGdpdmVuIGVsZW1lbnQgdG8gbWF0Y2ggdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpZXdwb3J0IGNvbXBvbmVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9yZXNpemVHTENvbnRleHRUb01hdGNoVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wpIHtcclxuICAvLyBBY2NvdW50IGZvciBoaWdoLWRlZmluaXRpb24gRFBJIGRpc3BsYXlzLlxyXG4gIGNvbnN0IGRldmljZVBpeGVsVG9Dc3NQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcclxuICB2aWV3cG9ydFdpZHRoID0gTWF0aC5mbG9vcihjYW52YXMuY2xpZW50V2lkdGggKiBkZXZpY2VQaXhlbFRvQ3NzUGl4ZWxSYXRpbyk7XHJcbiAgdmlld3BvcnRIZWlnaHQgPSBNYXRoLmZsb29yKGNhbnZhcy5jbGllbnRIZWlnaHQgKiBkZXZpY2VQaXhlbFRvQ3NzUGl4ZWxSYXRpbyk7XHJcbiAgY2FudmFzLndpZHRoID0gdmlld3BvcnRXaWR0aDtcclxuICBjYW52YXMuaGVpZ2h0ID0gdmlld3BvcnRIZWlnaHQ7XHJcbiAgZ2wudmlld3BvcnQoMCwgMCwgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQpO1xyXG59XHJcblxyXG4vKipcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIGdldFZpZXdwb3J0V2lkdGgoKSB7XHJcbiAgcmV0dXJuIHZpZXdwb3J0V2lkdGg7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Vmlld3BvcnRIZWlnaHQoKSB7XHJcbiAgcmV0dXJuIHZpZXdwb3J0SGVpZ2h0O1xyXG59XHJcblxyXG4vKipcclxuICogQmluZHMgYSBmcmFtZWJ1ZmZlciB0byB0aGUgR0wgY29udGV4dC5cclxuICpcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7V2ViR0xGcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcclxuICovXHJcbmZ1bmN0aW9uIGJpbmRGcmFtZWJ1ZmZlcihnbCwgZnJhbWVidWZmZXIsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAvLyBGSVhNRTogUmVtb3ZlIG9yIGFkZCBiYWNrIGluP1xyXG4gIC8vIHdpZHRoID0gd2lkdGggfHwgZ2V0Vmlld3BvcnRXaWR0aCgpO1xyXG4gIC8vIGhlaWdodCA9IGhlaWdodCB8fCBnZXRWaWV3cG9ydEhlaWdodCgpO1xyXG5cclxuICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcclxuICAvLyBGSVhNRTogUmVtb3ZlIG9yIGFkZCBiYWNrIGluP1xyXG4gIC8vIGdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIGZyYW1lYnVmZmVyIGFuZCBhdHRhY2hlcyBhIHRleHR1cmUgdG8gdGhlIGZyYW1lYnVmZmVyLlxyXG4gKlxyXG4gKiBUaGlzIG1lYW5zIHRoYXQgd2hlbiB3ZSBiaW5kIHRvIHRoZSBmcmFtZWJ1ZmZlciwgZHJhdyBjYWxscyB3aWxsIHJlbmRlciB0byB0aGUgZ2l2ZW4gdGV4dHVyZS5cclxuICpcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSB0ZXh0dXJlXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJCdWZmZXJ9IFtyZW5kZXJCdWZmZXJdXHJcbiAqIEByZXR1cm5zIHtXZWJHTEZyYW1lYnVmZmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRnJhbWVidWZmZXIoZ2wsIHRleHR1cmUsIHJlbmRlckJ1ZmZlcikge1xyXG4gIGNvbnN0IGZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcclxuXHJcbiAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XHJcbiAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlLCAwKTtcclxuXHJcbiAgaWYgKHJlbmRlckJ1ZmZlcikge1xyXG4gICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgcmVuZGVyQnVmZmVyKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmcmFtZWJ1ZmZlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSB0ZXh0dXJlIGZvciByZW5kZXJpbmcgdG8uXHJcbiAqXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgd2lkdGggc3RvcmVkIGluIGdsLXV0aWwuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgaGVpZ2h0IHN0b3JlZCBpbiBnbC11dGlsLlxyXG4gKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZUZvclJlbmRlcmluZyhnbCwgd2lkdGgsIGhlaWdodCkge1xyXG4gIHdpZHRoID0gd2lkdGggfHwgZ2V0Vmlld3BvcnRXaWR0aCgpO1xyXG4gIGhlaWdodCA9IGhlaWdodCB8fCBnZXRWaWV3cG9ydEhlaWdodCgpO1xyXG5cclxuICAvLyBUT0RPOiBEb3VibGUtY2hlY2sgdGhlc2UgcGFyYW1zXHJcbiAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcclxuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcclxuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XHJcbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xyXG4gIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XHJcblxyXG4gIHJldHVybiB0ZXh0dXJlO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHJlbmRlciBidWZmZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgd2lkdGggc3RvcmVkIGluIGdsLXV0aWwuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgaGVpZ2h0IHN0b3JlZCBpbiBnbC11dGlsLlxyXG4gKiBAcmV0dXJucyB7V2ViR0xSZW5kZXJCdWZmZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJCdWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpIHtcclxuICB3aWR0aCA9IHdpZHRoIHx8IGdldFZpZXdwb3J0V2lkdGgoKTtcclxuICBoZWlnaHQgPSBoZWlnaHQgfHwgZ2V0Vmlld3BvcnRIZWlnaHQoKTtcclxuXHJcbiAgY29uc3QgcmVuZGVyQnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XHJcbiAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHJlbmRlckJ1ZmZlcik7XHJcbiAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgcmV0dXJuIHJlbmRlckJ1ZmZlcjtcclxufVxyXG5cclxuY29uc3QgX1NRVUFSRV9DT09SRElOQVRFU18yRCA9IFtcclxuICAwLCAwLFxyXG4gIDEsIDAsXHJcbiAgMCwgMSxcclxuXHJcbiAgMSwgMCxcclxuICAxLCAxLFxyXG4gIDAsIDEsXHJcbl07XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEByZXR1cm5zIHtBdHRyaWJ1dGVDb25maWd9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGUyRFNxdWFyZVBvc2l0aW9uc0NvbmZpZyhnbCkge1xyXG4gIGNvbnN0IHBvc2l0aW9uc0J1ZmZlciA9IGNyZWF0ZUJ1ZmZlckZyb21EYXRhKGdsLCBfU1FVQVJFX0NPT1JESU5BVEVTXzJEKTtcclxuICByZXR1cm4ge1xyXG4gICAgYnVmZmVyOiBwb3NpdGlvbnNCdWZmZXIsXHJcbiAgICBzaXplOiAyLFxyXG4gICAgdHlwZTogZ2wuRkxPQVQsXHJcbiAgICBub3JtYWxpemVkOiBmYWxzZSxcclxuICAgIHN0cmlkZTogMCxcclxuICAgIG9mZnNldDogMFxyXG4gIH07XHJcbn1cclxuXHJcbi8vXHJcbi8vIEdlb21ldHJpY2FsIGNhbGN1bGF0aW9ucy5cclxuLy9cclxuXHJcbi8qKlxyXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBpbmRpdmlkdWFsIHZlcnRleCBwb3NpdGlvbnMgYW5kIGFuIGFycmF5IG9mIHZlcnRleCBpbmRpY2VzLCBjcmVhdGVzIGFuIGV4cGFuZGVkXHJcbiAqIGFycmF5IG9mIHRoZSBwb3NpdGlvbnMgZ3JvdXBlZCBieSB0aGUgdHJpYW5nbGVzIHRoZXkgZm9ybS5cclxuICpcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1xyXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhJbmRpY2VzXHJcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cclxuICovXHJcbmZ1bmN0aW9uIGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyhpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzKSB7XHJcbiAgY29uc3QgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDAsIGogPSAwLCBrID0gMCwgY291bnQgPSB2ZXJ0ZXhJbmRpY2VzLmxlbmd0aDsgaSA8IGNvdW50OyBpKyssIGsgKz0gMykge1xyXG4gICAgaiA9IHZlcnRleEluZGljZXNbaV0gKiAzO1xyXG5cclxuICAgIGV4cGFuZGVkVmVydGV4UG9zaXRpb25zW2tdID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1tqXTtcclxuICAgIGV4cGFuZGVkVmVydGV4UG9zaXRpb25zW2sgKyAxXSA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnNbaiArIDFdO1xyXG4gICAgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnNbayArIDJdID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1tqICsgMl07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21wdXRlcyBub3JtYWwgdmVjdG9ycyB0aGF0IGFyZSBlYWNoIG9ydGhvZ29uYWwgdG8gdGhlIHRyaWFuZ2xlcyB0aGV5IGFyZSBhIHBhcnQgb2YuXHJcbiAqXHJcbiAqIFRoZSBnaXZlbiB2ZXJ0aWNlcyBzaG91bGQgcmVwcmVzZW50IGluZGl2aWR1YWwgdHJpYW5nbGVzIHdob3NlIHZlcnRpY2VzIGFyZSBkZWZpbmVkIGluIGNsb2Nrd2lzZVxyXG4gKiBvcmRlciAoYXMgc2VlbiB3aGVuIGxvb2tpbmcgYXQgdGhlIGV4dGVyaW9yIHNpZGUpLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0aWNlc1xyXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0aWNlcykge1xyXG4gIGNvbnN0IHZlcnRleDEgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IHZlcnRleDIgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IHZlcnRleDMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IHZlY3RvckEgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IHZlY3RvckIgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IG5vcm1hbDEgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IG5vcm1hbDIgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IG5vcm1hbDMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxuICBjb25zdCBub3JtYWxzID0gW107XHJcblxyXG4gIC8vIExvb3Agb3ZlciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBmbGF0dGVuZWQgdmVydGV4IGFycmF5LlxyXG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHZlcnRpY2VzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDkpIHtcclxuICAgIC8vIEdldCB0aGUgdmVydGljZXMgb2YgdGhlIGN1cnJlbnQgdHJpYW5nbGUgZnJvbSB0aGUgZmxhdHRlbmVkIGFycmF5LlxyXG4gICAgdmVjMy5zZXQodmVydGV4MSwgdmVydGljZXNbaSArIDBdLCB2ZXJ0aWNlc1tpICsgMV0sIHZlcnRpY2VzW2kgKyAyXSk7XHJcbiAgICB2ZWMzLnNldCh2ZXJ0ZXgyLCB2ZXJ0aWNlc1tpICsgM10sIHZlcnRpY2VzW2kgKyA0XSwgdmVydGljZXNbaSArIDVdKTtcclxuICAgIHZlYzMuc2V0KHZlcnRleDMsIHZlcnRpY2VzW2kgKyA2XSwgdmVydGljZXNbaSArIDddLCB2ZXJ0aWNlc1tpICsgOF0pO1xyXG5cclxuICAgIC8vIENvbXB1dGUgdGhlIG5vcm1hbHMuXHJcbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckEsIHZlcnRleDMsIHZlcnRleDEpO1xyXG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JCLCB2ZXJ0ZXgyLCB2ZXJ0ZXgxKTtcclxuICAgIHZlYzMuY3Jvc3Mobm9ybWFsMSwgdmVjdG9yQSwgdmVjdG9yQik7XHJcbiAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwxLCBub3JtYWwxKTtcclxuXHJcbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckEsIHZlcnRleDEsIHZlcnRleDIpO1xyXG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JCLCB2ZXJ0ZXgzLCB2ZXJ0ZXgyKTtcclxuICAgIHZlYzMuY3Jvc3Mobm9ybWFsMiwgdmVjdG9yQSwgdmVjdG9yQik7XHJcbiAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwyLCBub3JtYWwyKTtcclxuXHJcbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckEsIHZlcnRleDIsIHZlcnRleDMpO1xyXG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JCLCB2ZXJ0ZXgxLCB2ZXJ0ZXgzKTtcclxuICAgIHZlYzMuY3Jvc3Mobm9ybWFsMywgdmVjdG9yQSwgdmVjdG9yQik7XHJcbiAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwzLCBub3JtYWwzKTtcclxuXHJcbiAgICAvLyBTYXZlIHRoZSBub3JtYWwgdmVjdG9ycyBpbiBhIGZsYXR0ZW5lZCBhcnJheS5cclxuICAgIG5vcm1hbHNbaSArIDBdID0gbm9ybWFsMVswXTtcclxuICAgIG5vcm1hbHNbaSArIDFdID0gbm9ybWFsMVsxXTtcclxuICAgIG5vcm1hbHNbaSArIDJdID0gbm9ybWFsMVsyXTtcclxuICAgIG5vcm1hbHNbaSArIDNdID0gbm9ybWFsMlswXTtcclxuICAgIG5vcm1hbHNbaSArIDRdID0gbm9ybWFsMlsxXTtcclxuICAgIG5vcm1hbHNbaSArIDVdID0gbm9ybWFsMlsyXTtcclxuICAgIG5vcm1hbHNbaSArIDZdID0gbm9ybWFsM1swXTtcclxuICAgIG5vcm1hbHNbaSArIDddID0gbm9ybWFsM1sxXTtcclxuICAgIG5vcm1hbHNbaSArIDhdID0gbm9ybWFsM1syXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBub3JtYWxzO1xyXG59XHJcblxyXG5jb25zdCBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEgPSAwLjU7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBsYXQtbG9uZyB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciB0aGUgZ2l2ZW4gdmVydGV4IHBvc2l0aW9ucy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gdmVydGV4UG9zaXRpb25zXHJcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKSB7XHJcbiAgY29uc3QgY3VycmVudFZlcnRleFBvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCBjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzID0gdmVjMi5jcmVhdGUoKTtcclxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBbXTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIG9mIGVhY2ggdmVydGV4LlxyXG4gIGZvciAobGV0IGkgPSAwLCBqID0gMCwgY291bnQgPSB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMywgaiArPSAyKSB7XHJcbiAgICB2ZWMzLnNldChjdXJyZW50VmVydGV4UG9zaXRpb24sXHJcbiAgICAgICAgdmVydGV4UG9zaXRpb25zW2ldLCB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdLCB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdKTtcclxuICAgIF9nZXRUZXh0dXJlQ29vcmRpbmF0ZXNPZkxhdExvbmdQb3NpdGlvbihjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzLCBjdXJyZW50VmVydGV4UG9zaXRpb24pO1xyXG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2pdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1swXTtcclxuICAgIHRleHR1cmVDb29yZGluYXRlc1tqICsgMV0gPSBjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzWzFdO1xyXG4gIH1cclxuXHJcbiAgX2NvcnJlY3RUZXh0dXJlRm9yVHJpYW5nbGVzQXJvdW5kU2VhbSh0ZXh0dXJlQ29vcmRpbmF0ZXMpO1xyXG5cclxuICByZXR1cm4gdGV4dHVyZUNvb3JkaW5hdGVzO1xyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBjeWxpbmRyaWNhbCB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciB0aGUgZ2l2ZW4gdmVydGV4IHBvc2l0aW9ucy5cclxuICpcclxuICogVGhpcyBhc3N1bWVzIHRoZSBjeWxpbmRlciBpcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcyBhbmQgY2VudGVyZWQgYXQgdGhlIG9yaWdpbi5cclxuICpcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gdmVydGV4UG9zaXRpb25zXHJcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUN5bGluZHJpY2FsVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucykge1xyXG4gIGNvbnN0IGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgY29uc3QgY3VycmVudFRleHR1cmVDb29yZGluYXRlcyA9IHZlYzIuY3JlYXRlKCk7XHJcbiAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gW107XHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBvZiBlYWNoIHZlcnRleC5cclxuICBmb3IgKGxldCBpID0gMCwgaiA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMsIGogKz0gMikge1xyXG4gICAgdmVjMy5zZXQoY3VycmVudFZlcnRleFBvc2l0aW9uLFxyXG4gICAgICAgIHZlcnRleFBvc2l0aW9uc1tpXSwgdmVydGV4UG9zaXRpb25zW2kgKyAxXSwgdmVydGV4UG9zaXRpb25zW2kgKyAyXSk7XHJcbiAgICBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZDeWxpbmRyaWNhbFBvc2l0aW9uKGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXMsIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbik7XHJcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbal0gPSBjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzWzBdO1xyXG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2ogKyAxXSA9IGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXNbMV07XHJcbiAgfVxyXG5cclxuICBfY29ycmVjdFRleHR1cmVGb3JUcmlhbmdsZXNBcm91bmRTZWFtKHRleHR1cmVDb29yZGluYXRlcyk7XHJcblxyXG4gIHJldHVybiB0ZXh0dXJlQ29vcmRpbmF0ZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB0ZXh0dXJlQ29vcmRpbmF0ZXNcclxuICovXHJcbmZ1bmN0aW9uIF9jb3JyZWN0VGV4dHVyZUZvclRyaWFuZ2xlc0Fyb3VuZFNlYW0odGV4dHVyZUNvb3JkaW5hdGVzKSB7XHJcbiAgbGV0IHYxO1xyXG4gIGxldCB2MjtcclxuICBsZXQgdjM7XHJcblxyXG4gIC8vIERldGVybWluZSB3aGljaCB0cmlhbmdsZXMgc3BhbiB0aGUgc2VhbSBhY3Jvc3MgMC8yUEksIGFuZCBjb3JyZWN0IHRoZWlyIHRleHR1cmVzLlxyXG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRleHR1cmVDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSA2KSB7XHJcbiAgICB2MSA9IHRleHR1cmVDb29yZGluYXRlc1tpXTtcclxuICAgIHYyID0gdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyAyXTtcclxuICAgIHYzID0gdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyA0XTtcclxuXHJcbiAgICBpZiAodjMgLSB2MSA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSB8fCB2MiAtIHYxID4gTUFYX1RFWFRVUkVfVl9DT09SRElOQVRFX0RFTFRBKSB7XHJcbiAgICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSsrO1xyXG4gICAgfVxyXG4gICAgaWYgKHYzIC0gdjIgPiBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEgfHwgdjEgLSB2MiA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSkge1xyXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDJdKys7XHJcbiAgICB9XHJcbiAgICBpZiAodjIgLSB2MyA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSB8fCB2MSAtIHYzID4gTUFYX1RFWFRVUkVfVl9DT09SRElOQVRFX0RFTFRBKSB7XHJcbiAgICAgIHRleHR1cmVDb29yZGluYXRlc1tpICsgNF0rKztcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMgZm9yIGEgbm9ybWFsaXplZCBwb2ludCBvbiBhIGdsb2JlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzJ9IHRleHR1cmVDb29yZGluYXRlcyBPdXRwdXQgcGFyYW1ldGVyLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IHZlcnRleFBvc2l0aW9uIElucHV0IHBhcmFtZXRlci5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9nZXRUZXh0dXJlQ29vcmRpbmF0ZXNPZkxhdExvbmdQb3NpdGlvbih0ZXh0dXJlQ29vcmRpbmF0ZXMsIHZlcnRleFBvc2l0aW9uKSB7XHJcbiAgY29uc3QgeCA9IHZlcnRleFBvc2l0aW9uWzBdO1xyXG4gIGNvbnN0IHkgPSB2ZXJ0ZXhQb3NpdGlvblsxXTtcclxuICBjb25zdCB6ID0gdmVydGV4UG9zaXRpb25bMl07XHJcblxyXG4gIGxldCBsb25naXR1ZGU7XHJcbiAgaWYgKHkgIT09IDApIHtcclxuICAgIGxvbmdpdHVkZSA9IE1hdGguYXRhbjIoeCwgeSk7XHJcbiAgfSBlbHNlIGlmICh4ID4gMCkge1xyXG4gICAgbG9uZ2l0dWRlID0gSEFMRl9QSTtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9uZ2l0dWRlID0gLUhBTEZfUEk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB1ID0gKGxvbmdpdHVkZSArIE1hdGguUEkpIC8gVFdPX1BJO1xyXG5cclxuICAvLyBUT0RPOiBTaG91bGQgSSBpbnN0ZWFkIGJlIGNhbGN1bGF0aW5nIHRoZSB2IHZhbHVlIGZyb20gd3JhcHBpbmcgdGhlIHRleHR1cmUgYXJvdW5kIHRoZSBnbG9iZVxyXG4gIC8vIGN1cnZhdHVyZSByYXRoZXIgdGhhbiBzaW1wbHkgcHJvamVjdGluZyBpdCBkaXJlY3RseT9cclxuXHJcbiAgLy8gVGhpcyBhc3N1bWVzIHRoYXQgdGhlIHRleHR1cmUgaGFzIGJlZW4gdmVydGljYWxseSBkaXN0b3J0ZWQgc28gdGhhdCBpdCBjYW4gYmUgZGlyZWN0bHlcclxuICAvLyBwcm9qZWN0ZWQgb250byB0aGUgY3VydmF0dXJlIG9mIHRoZSBnbG9iZS5cclxuICBjb25zdCB2ID0gKHogKyAxKSAqIDAuNTtcclxuXHJcbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzBdID0gdTtcclxuICB0ZXh0dXJlQ29vcmRpbmF0ZXNbMV0gPSB2O1xyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciBhIG5vcm1hbGl6ZWQgcG9pbnQgb24gYSBjeWxpbmRlci5cclxuICpcclxuICogVGhpcyBhc3N1bWVzIHRoZSBjeWxpbmRlciBpcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcyBhbmQgY2VudGVyZWQgYXQgdGhlIG9yaWdpbi5cclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSB0ZXh0dXJlQ29vcmRpbmF0ZXMgT3V0cHV0IHBhcmFtZXRlci5cclxuICogQHBhcmFtIHt2ZWMzfSB2ZXJ0ZXhQb3NpdGlvbiBJbnB1dCBwYXJhbWV0ZXIuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZDeWxpbmRyaWNhbFBvc2l0aW9uKHRleHR1cmVDb29yZGluYXRlcywgdmVydGV4UG9zaXRpb24pIHtcclxuICBjb25zdCB4ID0gdmVydGV4UG9zaXRpb25bMF07XHJcbiAgY29uc3QgeSA9IHZlcnRleFBvc2l0aW9uWzFdO1xyXG4gIGNvbnN0IHogPSB2ZXJ0ZXhQb3NpdGlvblsyXTtcclxuXHJcbiAgbGV0IGxvbmdpdHVkZTtcclxuICBpZiAoeSAhPT0gMCkge1xyXG4gICAgbG9uZ2l0dWRlID0gTWF0aC5hdGFuMih4LCB5KTtcclxuICB9IGVsc2UgaWYgKHggPiAwKSB7XHJcbiAgICBsb25naXR1ZGUgPSBIQUxGX1BJO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsb25naXR1ZGUgPSAtSEFMRl9QSTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHUgPSAobG9uZ2l0dWRlICsgTWF0aC5QSSkgLyBUV09fUEk7XHJcblxyXG4gIGNvbnN0IHYgPSB6ID4gMCA/IDEgOiAwO1xyXG5cclxuICB0ZXh0dXJlQ29vcmRpbmF0ZXNbMF0gPSB1O1xyXG4gIHRleHR1cmVDb29yZGluYXRlc1sxXSA9IHY7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeHBhbmRzIHRoZSBnaXZlbiB2ZXJ0aWNlcyBhcm91bmQgdGhlIHNlYW0gd2hlcmUgbG9uZ2l0dWRlIHN3aXRjaGVzIGZyb20gMCB0byAyUEkuXHJcbiAqXHJcbiAqIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UsIHdoZW4gYXBwbHlpbmcgYSBzcGhlcmljYWwgdGV4dHVyZSB1c2luZyBsYXQtbG9uZyBjb29yZGluYXRlcywgYW55XHJcbiAqIHRyaWFuZ2xlIHRoYXQgc3BhbnMgdGhlIHNlYW0gKGZyb20gbG9uZ2l0dWRlIDJQSSB0byAwKSB3b3VsZCBvdGhlcndpc2Ugc2hvdyB0aGUgd3JvbmcgcmVzdWx0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRWZXJ0ZXhQb3NpdGlvbnNcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb2xkVmVydGV4SW5kaWNlc1xyXG4gKiBAcmV0dXJucyB7e3ZlcnRleFBvc2l0aW9uczogQXJyYXkuPE51bWJlcj4sIHZlcnRleEluZGljZXM6IEFycmF5LjxOdW1iZXI+fX1cclxuICovXHJcbmZ1bmN0aW9uIGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtKG9sZFZlcnRleFBvc2l0aW9ucywgb2xkVmVydGV4SW5kaWNlcykge1xyXG4gIC8vIGNvbnN0IG5ld1ZlcnRleFBvc2l0aW9ucyA9IFtdO1xyXG4gIC8vIGNvbnN0IG5ld1ZlcnRleEluZGljZXMgPSBbXTtcclxuICAvL1xyXG4gIC8vICoqKipcclxuICAvLyAvLyBUT0RPOiBsb29wIG92ZXIgdHJpYW5nbGVzLCB1c2UgX2dldFRleHR1cmVDb29yZGluYXRlc09mTGF0TG9uZ1Bvc2l0aW9uIG9uIGVhY2ggdmVydGV4LFxyXG4gIC8vIC8vIGNoZWNrIGlmIHR3byB2ZXJ0aWNlcyBpbiBhIHRyaWFuZ2xlIHNwYW4gdGhlIHNlYW07IHRvIGNoZWNrIHRoZSBzcGFuLCBqdXN0IGNoZWNrIGlmIGJvdGggYXJlXHJcbiAgLy8gLy8gd2l0aGluIGEgZGlzdGFuY2UgZnJvbSB0aGUgc2VhbSwgYnV0IG9uIG9wcG9zaXRlIGVuZHM7XHJcbiAgLy9cclxuICAvLyByZXR1cm4ge1xyXG4gIC8vICAgdmVydGV4UG9zaXRpb25zOiBuZXdWZXJ0ZXhQb3NpdGlvbnMsXHJcbiAgLy8gICB2ZXJ0ZXhJbmRpY2VzOiBuZXdWZXJ0ZXhJbmRpY2VzXHJcbiAgLy8gfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHZlcnRleFBvc2l0aW9uczogb2xkVmVydGV4UG9zaXRpb25zLFxyXG4gICAgdmVydGV4SW5kaWNlczogb2xkVmVydGV4SW5kaWNlc1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdWJkaXZpZGVzIHRoZSB0cmlhbmdsZXMgb2YgYSBzaGFwZSBhbmQgcHJvamVjdHMgYWxsIHJlc3VsdGluZyB2ZXJ0aWNlcyB0byBhIHJhZGl1cyBvZiBvbmUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpc2lvbkZhY3RvclxyXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRQb3NpdGlvbnNcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gW29sZEluZGljZXNdXHJcbiAqIEByZXR1cm5zIHt7dmVydGV4UG9zaXRpb25zOiBBcnJheS48TnVtYmVyPiwgdmVydGV4SW5kaWNlczogQXJyYXkuPE51bWJlcj59fVxyXG4gKi9cclxuZnVuY3Rpb24gdGVzc2VsYXRlU3BoZXJlKGRpdmlzaW9uRmFjdG9yLCBvbGRQb3NpdGlvbnMsIG9sZEluZGljZXMpIHtcclxuICBjb25zdCBuZXdQb3NpdGlvbnMgPSBfZXhwYW5kQW5kVGVzc2VsYXRlVHJpYW5nbGVzKGRpdmlzaW9uRmFjdG9yLCBvbGRQb3NpdGlvbnMsIG9sZEluZGljZXMpO1xyXG5cclxuICAvLyBDb252ZXJ0IHRoZSBleHBhbmRlZCBwb3NpdGlvbnMgYXJyYXkgaW50byBhIHVuaXF1ZSBwb3NpdGlvbnMgYXJyYXkgd2l0aCBhIGNvcnJlc3BvbmRpbmcgaW5kaWNlc1xyXG4gIC8vIGFycmF5LlxyXG4gIGNvbnN0IHBvc2l0aW9uc0FuZEluZGljZXMgPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMobmV3UG9zaXRpb25zKTtcclxuXHJcbiAgLy8gUHJvamVjdCB0aGUgZ2l2ZW4gcG9zaXRpb25zIHRvIGEgZGlzdGFuY2Ugb2Ygb25lLlxyXG4gIF9ub3JtYWxpemVQb3NpdGlvbnMocG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhQb3NpdGlvbnMsIHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zKTtcclxuXHJcbiAgcmV0dXJuIHBvc2l0aW9uc0FuZEluZGljZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdWJkaXZpZGVzIHRyaWFuZ2xlcy5cclxuICpcclxuICogVGhpcyBoYXMgdGhlIHNpZGUtZWZmZWN0IG9mIGZsYXR0ZW5pbmcgdGhlIGdpdmVuIHZlcnRpY2VzIGludG8gYW4gZXhwYW5kZWQgbGlzdCB0aGF0IGNhbiBjb250YWluXHJcbiAqIGR1cGxpY2F0ZSBwb3NpdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpc2lvbkZhY3RvclxyXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRQb3NpdGlvbnNcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gW29sZEluZGljZXNdXHJcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9leHBhbmRBbmRUZXNzZWxhdGVUcmlhbmdsZXMoZGl2aXNpb25GYWN0b3IsIG9sZFBvc2l0aW9ucywgb2xkSW5kaWNlcykge1xyXG4gIGNvbnN0IGV4cGFuZGVkT2xkUG9zaXRpb25zID0gb2xkSW5kaWNlc1xyXG4gICAgICA/IGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyhvbGRQb3NpdGlvbnMsIG9sZEluZGljZXMpXHJcbiAgICAgIDogb2xkUG9zaXRpb25zO1xyXG5cclxuICBjb25zdCBuZXdQb3NpdGlvbnMgPSBbXTtcclxuICBjb25zdCBhID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCBiID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCBjID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCBhVG9CID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCBhVG9DID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCBiVG9DID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCByb3dEZWx0YSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgY29uc3QgY29sdW1uRGVsdGEgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IGJhY2t3YXJkc0RlbHRhID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCByb3dTdGFydFBvaW50ID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCByb3dDb2x1bW5TdGFydFBvaW50ID0gdmVjMy5jcmVhdGUoKTtcclxuICBjb25zdCB0ZW1wVmVjID0gdmVjMy5jcmVhdGUoKTtcclxuXHJcbiAgbGV0IG9sZEluZGV4O1xyXG4gIGxldCBjb3VudDtcclxuICBsZXQgbmV3SW5kZXg7XHJcbiAgbGV0IHJvd0luZGV4O1xyXG4gIGxldCBjb2x1bW5JbmRleDtcclxuXHJcbiAgLy9cclxuICAvLyBUaGUgYmFzaWMgdGVzc2VsYXRpb24gYWxnb3JpdGhtOlxyXG4gIC8vIC0gSXRlcmF0ZSBhY3Jvc3MgdGhlIG9yaWdpbmFsIHRyaWFuZ2xlcyB0aGF0IHdlIGFyZSBzdWItZGl2aWRpbmcuXHJcbiAgLy8gLSBBLCBCLCBhbmQgQyBhcmUgdGhlIHZlcnRpY2VzIG9mIHRoZSBjdXJyZW50LCBvcmlnaW5hbCB0cmlhbmdsZS5cclxuICAvLyAtIENvbnNpZGVyIFwicm93c1wiIHRvIGl0ZXJhdGUgYWNyb3NzIHRoZSBhLXRvLWIgZGlyZWN0aW9uIGFuZCBcImNvbHVtbnNcIiB0byBpdGVyYXRlIGFjcm9zcyB0aGVcclxuICAvLyAgIGEtdG8tYyBkaXJlY3Rpb24uXHJcbiAgLy8gLSBGaXJzdCBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW4gb25lIHJvdyBhbmQgb25lIGNvbHVtbi5cclxuICAvLyAtIFRoZW4gbG9vcCBvdmVyIHRoZSByb3dzIGFuZCBjb2x1bW5zIGFuZCBjcmVhdGUgYSB0aGUgbmV3IHRyaWFuZ2xlIGZvciBlYWNoIFwiY2VsbFwiLlxyXG4gIC8vXHJcbiAgLy8gICAgICAgICAgICAgICAgICAgL1xcXHJcbiAgLy8gICAgICAgICAgICAgICAgIEIgICBcXC0tLSBBIFwiY29sdW1uXCJcclxuICAvLyAgICAgICAgICAgICAgICAgbyAgICBcXFxyXG4gIC8vICAgICAgICAgICAgICAgIC8gXFwgICAvXHJcbiAgLy8gICAgICAgICAgICAgICAvICAgXFwgICAgICAgICAgICAgcm93RGVsdGE6ICAgICAgY29sdW1uRGVsdGE6ICAgICBiYWNrd2FyZHNEZWx0YTpcclxuICAvLyAgICAgICAgICAgICAgby0tLS0tbyAgICAgICAgICAgICAgICAgbyAgICAgICAgICAgICBvXHJcbiAgLy8gICAgICAgICAgICAgLyBcXCAgIC8gXFwgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgXFwgICAgICAgICAgICAgIG8tLS0tLW9cclxuICAvLyAgICAgICAgICAgIC8gICBcXCAvICAgXFwgICAgICAgICAgICAgLyAgICAgICAgICAgICAgICAgXFxcclxuICAvLyAgICAgICAgICAgby0tLS0tby0tLS0tbyAgICAgICAgICAgbyAgICAgICAgICAgICAgICAgICBvXHJcbiAgLy8gICAgICAgICAgLyBcXCAgIC8gXFwgICAvIFxcXHJcbiAgLy8gICAgICAgICAvICAgXFwgLyAgIFxcIC8gICBcXFxyXG4gIC8vICAgICAgICBvLS0tLS1vLS0tLS1vLS0tLS1vXHJcbiAgLy8gICAgICAgLyBcXCAgIC8gXFwgICAvIFxcICAgLyBcXFxyXG4gIC8vICAgICAgLyAgIFxcIC8gICBcXCAvICAgXFwgLyAgIFxcXHJcbiAgLy8gIEEgIG8tLS0tLW8tLS0tLW8tLS0tLW8tLS0tLW8gIENcclxuICAvL1xyXG4gIC8vICAgICAgIFxcX19fX19cXFxyXG4gIC8vICAgICAgICAgICBcXFxyXG4gIC8vICAgICAgICAgQSBcInJvd1wiXHJcbiAgLy9cclxuXHJcbiAgLy8gTG9vcCBvdmVyIHRoZSBvbGQgdHJpYW5nbGVzLlxyXG4gIGZvciAob2xkSW5kZXggPSAwLCBuZXdJbmRleCA9IDAsIGNvdW50ID0gZXhwYW5kZWRPbGRQb3NpdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgb2xkSW5kZXggPCBjb3VudDtcclxuICAgICAgIG9sZEluZGV4ICs9IDkpIHtcclxuICAgIC8vIFB1bGwgb3V0IHRoZSB0aHJlZSB2ZXJ0aWNlcyBvZiB0aGUgY3VycmVudCB0cmlhbmdsZS5cclxuICAgIHZlYzMuc2V0KGEsXHJcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXhdLFxyXG4gICAgICAgIGV4cGFuZGVkT2xkUG9zaXRpb25zW29sZEluZGV4ICsgMV0sXHJcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyAyXSk7XHJcbiAgICB2ZWMzLnNldChiLFxyXG4gICAgICAgIGV4cGFuZGVkT2xkUG9zaXRpb25zW29sZEluZGV4ICsgM10sXHJcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyA0XSxcclxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDVdKTtcclxuICAgIHZlYzMuc2V0KGMsXHJcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyA2XSxcclxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDddLFxyXG4gICAgICAgIGV4cGFuZGVkT2xkUG9zaXRpb25zW29sZEluZGV4ICsgOF0pO1xyXG5cclxuICAgIHZlYzMuc3VidHJhY3QoYVRvQiwgYiwgYSk7XHJcbiAgICB2ZWMzLnN1YnRyYWN0KGJUb0MsIGMsIGIpO1xyXG4gICAgdmVjMy5zdWJ0cmFjdChhVG9DLCBjLCBhKTtcclxuXHJcbiAgICB2ZWMzLnNjYWxlKHJvd0RlbHRhLCBhVG9CLCAxIC8gZGl2aXNpb25GYWN0b3IpO1xyXG4gICAgdmVjMy5zY2FsZShjb2x1bW5EZWx0YSwgYlRvQywgMSAvIGRpdmlzaW9uRmFjdG9yKTtcclxuICAgIHZlYzMuc2NhbGUoYmFja3dhcmRzRGVsdGEsIGFUb0MsIDEgLyBkaXZpc2lvbkZhY3Rvcik7XHJcblxyXG4gICAgLy8gTG9vcCBvdmVyIGVhY2ggbmV3IGRpdmlzaW9uIChyb3cpIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZS5cclxuICAgIGZvciAocm93SW5kZXggPSAwOyByb3dJbmRleCA8IGRpdmlzaW9uRmFjdG9yOyByb3dJbmRleCsrKSB7XHJcbiAgICAgIHZlYzMuc2NhbGVBbmRBZGQocm93U3RhcnRQb2ludCwgYSwgcm93RGVsdGEsIHJvd0luZGV4KTtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSB0aGUgZmlyc3QgdHJpYW5nbGUgaW4gdGhlIHJvdyAoYWRkcmVzcyB0aGUgZmVuY2UtcG9zdCBwcm9ibGVtKS5cclxuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93U3RhcnRQb2ludFswXTtcclxuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93U3RhcnRQb2ludFsxXTtcclxuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93U3RhcnRQb2ludFsyXTtcclxuICAgICAgdmVjMy5hZGQodGVtcFZlYywgcm93U3RhcnRQb2ludCwgcm93RGVsdGEpO1xyXG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzBdO1xyXG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xyXG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzJdO1xyXG4gICAgICB2ZWMzLmFkZCh0ZW1wVmVjLCByb3dTdGFydFBvaW50LCBiYWNrd2FyZHNEZWx0YSk7XHJcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XHJcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMV07XHJcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMl07XHJcblxyXG4gICAgICAvLyBMb29wIG92ZXIgdGhlIG5ldyB0cmlhbmdsZXMgaW4gdGhlIGN1cnJlbnQgZGl2aXNpb24uXHJcbiAgICAgIGZvciAoY29sdW1uSW5kZXggPSAxOyBjb2x1bW5JbmRleCA8PSByb3dJbmRleDsgY29sdW1uSW5kZXgrKykge1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQocm93Q29sdW1uU3RhcnRQb2ludCwgcm93U3RhcnRQb2ludCwgY29sdW1uRGVsdGEsIGNvbHVtbkluZGV4KTtcclxuXHJcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93Q29sdW1uU3RhcnRQb2ludFswXTtcclxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzFdO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMl07XHJcbiAgICAgICAgdmVjMy5zdWJ0cmFjdCh0ZW1wVmVjLCByb3dDb2x1bW5TdGFydFBvaW50LCBjb2x1bW5EZWx0YSk7XHJcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcclxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMl07XHJcbiAgICAgICAgdmVjMy5hZGQodGVtcFZlYywgcm93Q29sdW1uU3RhcnRQb2ludCwgcm93RGVsdGEpO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XHJcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcclxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzJdO1xyXG5cclxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzBdO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMV07XHJcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93Q29sdW1uU3RhcnRQb2ludFsyXTtcclxuICAgICAgICB2ZWMzLmFkZCh0ZW1wVmVjLCByb3dDb2x1bW5TdGFydFBvaW50LCByb3dEZWx0YSk7XHJcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcclxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMl07XHJcbiAgICAgICAgdmVjMy5hZGQodGVtcFZlYywgcm93Q29sdW1uU3RhcnRQb2ludCwgYmFja3dhcmRzRGVsdGEpO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XHJcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcclxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzJdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3UG9zaXRpb25zO1xyXG59XHJcblxyXG4vKipcclxuICogUHJvamVjdHMgdGhlIGdpdmVuIHBvc2l0aW9ucyB0byBhIGRpc3RhbmNlIG9mIG9uZS5cclxuICpcclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb3V0XHJcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHBvc2l0aW9uc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX25vcm1hbGl6ZVBvc2l0aW9ucyhvdXQsIHBvc2l0aW9ucykge1xyXG4gIGNvbnN0IHRlbXBWZWMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSBwb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMykge1xyXG4gICAgdmVjMy5zZXQodGVtcFZlYywgcG9zaXRpb25zW2ldLCBwb3NpdGlvbnNbaSArIDFdLCBwb3NpdGlvbnNbaSArIDJdKTtcclxuXHJcbiAgICB2ZWMzLm5vcm1hbGl6ZSh0ZW1wVmVjLCB0ZW1wVmVjKTtcclxuXHJcbiAgICBvdXRbaV0gPSB0ZW1wVmVjWzBdO1xyXG4gICAgb3V0W2kgKyAxXSA9IHRlbXBWZWNbMV07XHJcbiAgICBvdXRbaSArIDJdID0gdGVtcFZlY1syXTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHaXZlbiBhIGNvbGxlY3Rpb24gb2YgdmVydGljZXMgdGhhdCBwb3NzaWJseSBjb250YWlucyBkdXBsaWNhdGVzLCBjcmVhdGVzIGFuIGFycmF5IG9mIHRoZSB1bmlxdWVcclxuICogdmVydGV4IHBvc2l0aW9ucyBhbmQgYW4gYXJyYXkgb2YgdGhlIGluZGljZXMgb2YgdGhlIG9yaWdpbmFsLCBkdXBsaWNhdGVkIHZlcnRpY2VzIGluIHRoZSB1bmlxdWVcclxuICogYXJyYXkuXHJcbiAqXHJcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciByZW5kZXJpbmcgdXNpbmcgZ2wuZHJhd0VsZW1lbnRzICh3aXRoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKSBpbnN0ZWFkIG9mXHJcbiAqIGdsLmRyYXdBcnJheXMuXHJcbiAqXHJcbiAqIE5PVEU6IEFsdGhvdWdoIHRoaXMgZnVuY3Rpb24gZG9lcyBwYXJ0aWFsbHkgYWRkcmVzcyBmbG9hdGluZy1wb2ludCByb3VuZC1vZmYgZXJyb3JzIHdpdGhpbiB0aGVcclxuICogZ2l2ZW4gcG9zaXRpb25zLCBpdCBkb2VzIG5vdCBndWFyYW50ZWUgY29ycmVjdG5lc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IG9sZFZlcnRleFBvc2l0aW9uc1xyXG4gKiBAcmV0dXJucyB7e3ZlcnRleFBvc2l0aW9uczogQXJyYXkuPE51bWJlcj4sIHZlcnRleEluZGljZXM6IEFycmF5LjxOdW1iZXI+fX1cclxuICovXHJcbmZ1bmN0aW9uIGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyhvbGRWZXJ0ZXhQb3NpdGlvbnMpIHtcclxuICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcclxuICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gW107XHJcblxyXG4gIGNvbnN0IHZlcnRleFRvSW5kZXhNYXAgPSBuZXcgSGFzaE1hcChfdmVydGV4SGFzaEZ1bmN0aW9uKTtcclxuICBjb25zdCB2ZXJ0ZXggPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGxldCBvbGRDb29yZGluYXRlSW5kZXg7XHJcbiAgbGV0IG9sZENvb3JkaW5hdGVDb3VudDtcclxuICBsZXQgbmV3VmVydGV4SW5kZXg7XHJcblxyXG4gIC8vIExvb3Agb3ZlciB0aGUgb3JpZ2luYWwsIGR1cGxpY2F0ZWQgdmVydGV4IHBvc2l0aW9ucy5cclxuICBmb3IgKG9sZENvb3JkaW5hdGVJbmRleCA9IDAsIG9sZENvb3JkaW5hdGVDb3VudCA9IG9sZFZlcnRleFBvc2l0aW9ucy5sZW5ndGg7XHJcbiAgICAgICBvbGRDb29yZGluYXRlSW5kZXggPCBvbGRDb29yZGluYXRlQ291bnQ7XHJcbiAgICAgICBvbGRDb29yZGluYXRlSW5kZXggKz0gMykge1xyXG4gICAgdmVjMy5zZXQodmVydGV4LFxyXG4gICAgICAgIG9sZFZlcnRleFBvc2l0aW9uc1tvbGRDb29yZGluYXRlSW5kZXhdLFxyXG4gICAgICAgIG9sZFZlcnRleFBvc2l0aW9uc1tvbGRDb29yZGluYXRlSW5kZXggKyAxXSxcclxuICAgICAgICBvbGRWZXJ0ZXhQb3NpdGlvbnNbb2xkQ29vcmRpbmF0ZUluZGV4ICsgMl0pO1xyXG5cclxuICAgIC8vIEhhcyB0aGlzIHBvc2l0aW9uIGFscmVhZHkgYmVlbiByZWNvcmRlZD9cclxuICAgIGlmICghdmVydGV4VG9JbmRleE1hcC5oYXModmVydGV4KSkge1xyXG4gICAgICAvLyBSZWNvcmQgdGhlIGluZGV4IG9mIHRoZSB1bmlxdWUgdmVydGV4IHBvc2l0aW9uLlxyXG4gICAgICBuZXdWZXJ0ZXhJbmRleCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzO1xyXG4gICAgICB2ZXJ0ZXhUb0luZGV4TWFwLnNldCh2ZXJ0ZXgsIG5ld1ZlcnRleEluZGV4KTtcclxuXHJcbiAgICAgIC8vIFJlY29yZCB0aGUgdW5pcXVlIHZlcnRleCBwb3NpdGlvbi5cclxuICAgICAgdmVydGV4UG9zaXRpb25zLnB1c2godmVydGV4WzBdKTtcclxuICAgICAgdmVydGV4UG9zaXRpb25zLnB1c2godmVydGV4WzFdKTtcclxuICAgICAgdmVydGV4UG9zaXRpb25zLnB1c2godmVydGV4WzJdKTtcclxuICAgIH1cclxuXHJcbiAgICBuZXdWZXJ0ZXhJbmRleCA9IHZlcnRleFRvSW5kZXhNYXAuZ2V0KHZlcnRleCk7XHJcblxyXG4gICAgLy8gUmVjb3JkIHRoZSBpbmRleCBvZiB0aGUgdW5pcXVlIHBvc2l0aW9uLlxyXG4gICAgdmVydGV4SW5kaWNlcy5wdXNoKG5ld1ZlcnRleEluZGV4KTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcclxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXNcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBfVkVSVEVYX0NPT1JESU5BVEVfQlVDS0VUX1NJWkVfRElHSVRTID0gNDtcclxuXHJcbi8vIFRoaXMgb2Zmc2V0IGlzIGltcG9ydGFudCBmb3IgcHJldmVudGluZyBidWNrZXQtYWxpZ25lZCBudW1iZXJzIGZyb20gYmVpbmcgcGxhY2VkIGluIGluY29uc2lzdGVudFxyXG4vLyBidWNrZXRzLiBGb3IgZXhhbXBsZSwgd2hvbGUgaW50ZWdlciB2YWx1ZXMgY291bGQgZWFzaWx5IGJlIHBsYWNlZCBpbiBsb3dlciBvciBoaWdoZXIgYnVja2V0c1xyXG4vLyBkZXBlbmRpbmcgb24gcm91bmQtb2ZmIGVycm9yLlxyXG5jb25zdCBfT0ZGU0VUID0gTWF0aC5yYW5kb20oKTtcclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgaGFzaCBjb2RlIGZvciB0aGUgZ2l2ZW4gdmVydGV4LlxyXG4gKlxyXG4gKiBOT1RFOiBUaGlzIGRvZXMgbm90IGd1YXJhbnRlZSBjb3JyZWN0IHJlc3VsdHMuIER1ZSB0byByb3VuZC1vZmYgZXJyb3IsIFwiZXF1YWxcIiBjb29yZGluYXRlcyBjb3VsZFxyXG4gKiBiZSBjYWxjdWxhdGVkIGlzIGJlaW5nIGluIGRpZmZlcmVudCBidWNrZXRzLiBMYXJnZXIgYnVja2V0IHNpemVzIG1pZ2h0IHJlZHVjZSB0aGUgcmF0ZSBvZiBmYWxzZVxyXG4gKiBuZWdhdGl2ZXMsIGJ1dCB3aXRoIHRoZSB0cmFkZS1vZmYgb2YgcG90ZW50aWFsbHkgaW50cm9kdWNpbmcgZmFsc2UgcG9zaXRpdmVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IHZlcnRleFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX3ZlcnRleEhhc2hGdW5jdGlvbih2ZXJ0ZXgpIHtcclxuICByZXR1cm4gYCR7KHZlcnRleFswXSArIF9PRkZTRVQpLnRvRml4ZWQoX1ZFUlRFWF9DT09SRElOQVRFX0JVQ0tFVF9TSVpFX0RJR0lUUyl9LGAgK1xyXG4gICAgICBgJHsodmVydGV4WzFdICsgX09GRlNFVCkudG9GaXhlZChfVkVSVEVYX0NPT1JESU5BVEVfQlVDS0VUX1NJWkVfRElHSVRTKX0sYCArXHJcbiAgICAgIGAkeyh2ZXJ0ZXhbMl0gKyBfT0ZGU0VUKS50b0ZpeGVkKF9WRVJURVhfQ09PUkRJTkFURV9CVUNLRVRfU0laRV9ESUdJVFMpfWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIHZlcnRleCBwb3NpdGlvbnMgZm9yIGEgc2VjdGlvbiBvZiBhIHNwaGVyZS5cclxuICpcclxuICogLSBUaGVzZSBwb2ludHMgd2lsbCBsaWUgYWxvbmcgbGF0aXR1ZGUtbG9uZ2l0dWRlIGxpbmVzLlxyXG4gKiAtIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbiB3aXRoIHRoZSBwb2xlcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cclxuICogLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGUgd2lsbCBiZSBvbmUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFBpdGNoSW5kZXhcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFBpdGNoSW5kZXhcclxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhUGl0Y2hcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QXppbXV0aEluZGV4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBemltdXRoSW5kZXhcclxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhQXppbXV0aFxyXG4gKiBAcmV0dXJuIHtBcnJheS48TnVtYmVyPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oc3RhcnRQaXRjaEluZGV4LCBlbmRQaXRjaEluZGV4LCBkZWx0YVBpdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QXppbXV0aEluZGV4LCBlbmRBemltdXRoSW5kZXgsIGRlbHRhQXppbXV0aCkge1xyXG4gIGNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtdO1xyXG4gIGxldCB2ZXJ0ZXhQb3NpdGlvbnNJbmRleCA9IDA7XHJcblxyXG4gIGxldCBwaXRjaEluZGV4O1xyXG4gIGxldCBhemltdXRoSW5kZXg7XHJcbiAgbGV0IGxvd2VyUGl0Y2g7XHJcbiAgbGV0IHVwcGVyUGl0Y2g7XHJcbiAgbGV0IGxvd2VyQXppbXV0aDtcclxuICBsZXQgdXBwZXJBemltdXRoO1xyXG4gIGxldCB4MTtcclxuICBsZXQgeTE7XHJcbiAgbGV0IHoxO1xyXG4gIGxldCB4MjtcclxuICBsZXQgeTI7XHJcbiAgbGV0IHoyO1xyXG4gIGxldCB4MztcclxuICBsZXQgeTM7XHJcbiAgbGV0IHozO1xyXG4gIGxldCB4NDtcclxuICBsZXQgeTQ7XHJcbiAgbGV0IHo0O1xyXG5cclxuICAvLyBUT0RPOiBUaGlzIGltcGxlbWVudGF0aW9uIGNhbGN1bGF0ZXMgYWxsIGNvb3JkaW5hdGVzIG11bHRpcGxlIHRpbWVzLiBSZWZhY3RvciBpdCB0byBiZSBtb3JlXHJcbiAgLy8gZWZmaWNpZW50LlxyXG5cclxuICAvLyBMb29wIG92ZXIgZWFjaCBsYXRpdHVkaW5hbCBzdHJpcC5cclxuICBmb3IgKHBpdGNoSW5kZXggPSBzdGFydFBpdGNoSW5kZXg7IHBpdGNoSW5kZXggPCBlbmRQaXRjaEluZGV4OyBwaXRjaEluZGV4KyspIHtcclxuICAgIGxvd2VyUGl0Y2ggPSBkZWx0YVBpdGNoICogcGl0Y2hJbmRleDtcclxuICAgIHVwcGVyUGl0Y2ggPSBkZWx0YVBpdGNoICsgbG93ZXJQaXRjaDtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIHRyaWFuZ2xlcyBmb3IgdGhlIHN0cmlwIGF0IHRoZSBjdXJyZW50IHBpdGNoLlxyXG4gICAgZm9yIChhemltdXRoSW5kZXggPSBzdGFydEF6aW11dGhJbmRleDsgYXppbXV0aEluZGV4IDwgZW5kQXppbXV0aEluZGV4OyBhemltdXRoSW5kZXgrKykge1xyXG4gICAgICBsb3dlckF6aW11dGggPSBkZWx0YUF6aW11dGggKiBhemltdXRoSW5kZXg7XHJcbiAgICAgIHVwcGVyQXppbXV0aCA9IGRlbHRhQXppbXV0aCArIGxvd2VyQXppbXV0aDtcclxuXHJcbiAgICAgIC8vIFRoZSBjb3JuZXJzIG9mIHRoZSBjdXJyZW50IHNxdWFyZS5cclxuXHJcbiAgICAgIHgxID0gTWF0aC5zaW4obG93ZXJQaXRjaCkgKiBNYXRoLmNvcyhsb3dlckF6aW11dGgpO1xyXG4gICAgICB5MSA9IE1hdGguc2luKGxvd2VyUGl0Y2gpICogTWF0aC5zaW4obG93ZXJBemltdXRoKTtcclxuICAgICAgejEgPSBNYXRoLmNvcyhsb3dlclBpdGNoKTtcclxuXHJcbiAgICAgIHgyID0gTWF0aC5zaW4odXBwZXJQaXRjaCkgKiBNYXRoLmNvcyhsb3dlckF6aW11dGgpO1xyXG4gICAgICB5MiA9IE1hdGguc2luKHVwcGVyUGl0Y2gpICogTWF0aC5zaW4obG93ZXJBemltdXRoKTtcclxuICAgICAgejIgPSBNYXRoLmNvcyh1cHBlclBpdGNoKTtcclxuXHJcbiAgICAgIHgzID0gTWF0aC5zaW4obG93ZXJQaXRjaCkgKiBNYXRoLmNvcyh1cHBlckF6aW11dGgpO1xyXG4gICAgICB5MyA9IE1hdGguc2luKGxvd2VyUGl0Y2gpICogTWF0aC5zaW4odXBwZXJBemltdXRoKTtcclxuICAgICAgejMgPSBNYXRoLmNvcyhsb3dlclBpdGNoKTtcclxuXHJcbiAgICAgIHg0ID0gTWF0aC5zaW4odXBwZXJQaXRjaCkgKiBNYXRoLmNvcyh1cHBlckF6aW11dGgpO1xyXG4gICAgICB5NCA9IE1hdGguc2luKHVwcGVyUGl0Y2gpICogTWF0aC5zaW4odXBwZXJBemltdXRoKTtcclxuICAgICAgejQgPSBNYXRoLmNvcyh1cHBlclBpdGNoKTtcclxuXHJcbiAgICAgIC8vIFRoZSBmaXJzdCB0cmlhbmdsZS5cclxuXHJcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleF0gPSB4MTtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMV0gPSB5MTtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMl0gPSB6MTtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgM10gPSB4MjtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNF0gPSB5MjtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNV0gPSB6MjtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNl0gPSB4MztcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgN10gPSB5MztcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgOF0gPSB6MztcclxuXHJcbiAgICAgIC8vIFRoZSBzZWNvbmQgdHJpYW5nbGUuXHJcblxyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA5XSA9IHg0O1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMF0gPSB5NDtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTFdID0gejQ7XHJcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDEyXSA9IHgzO1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxM10gPSB5MztcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTRdID0gejM7XHJcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDE1XSA9IHgyO1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNl0gPSB5MjtcclxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTddID0gejI7XHJcblxyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArPSAxODtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB2ZXJ0ZXhQb3NpdGlvbnM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIHZlcnRleCBwb3NpdGlvbnMgZm9yIGEgc2VjdGlvbiBvZiBhIGN5bGluZGVyLlxyXG4gKlxyXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4gd2l0aCB0aGUgcG9sZXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeWxpbmRlckJvdHRvbVxyXG4gKiBAcGFyYW0ge251bWJlcn0gY3lsaW5kZXJUb3BcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXhcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZEluZGV4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVxyXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24oY3lsaW5kZXJCb3R0b20sIGN5bGluZGVyVG9wLCBzdGFydEluZGV4LCBlbmRJbmRleCwgZGVsdGEpIHtcclxuICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcclxuICBsZXQgdmVydGV4UG9zaXRpb25zSW5kZXggPSAwO1xyXG5cclxuICBsZXQgaW5kZXg7XHJcbiAgbGV0IGxvd2VyQXppbXV0aDtcclxuICBsZXQgdXBwZXJBemltdXRoO1xyXG4gIGxldCB4MTtcclxuICBsZXQgeTE7XHJcbiAgbGV0IHoxO1xyXG4gIGxldCB4MjtcclxuICBsZXQgeTI7XHJcbiAgbGV0IHoyO1xyXG4gIGxldCB4MztcclxuICBsZXQgeTM7XHJcbiAgbGV0IHozO1xyXG4gIGxldCB4NDtcclxuICBsZXQgeTQ7XHJcbiAgbGV0IHo0O1xyXG5cclxuICAvLyBDcmVhdGUgdGhlIHRyaWFuZ2xlcyBmb3IgdGhlIGN5bGluZHJpY2FsIHN0cmlwLlxyXG4gIGZvciAoaW5kZXggPSBzdGFydEluZGV4OyBpbmRleCA8IGVuZEluZGV4OyBpbmRleCsrKSB7XHJcbiAgICBsb3dlckF6aW11dGggPSBkZWx0YSAqIGluZGV4O1xyXG4gICAgdXBwZXJBemltdXRoID0gZGVsdGEgKyBsb3dlckF6aW11dGg7XHJcblxyXG4gICAgLy8gVGhlIGNvcm5lcnMgb2YgdGhlIGN1cnJlbnQgc3F1YXJlLlxyXG5cclxuICAgIHgxID0gTWF0aC5jb3MobG93ZXJBemltdXRoKTtcclxuICAgIHkxID0gTWF0aC5zaW4obG93ZXJBemltdXRoKTtcclxuICAgIHoxID0gY3lsaW5kZXJCb3R0b207XHJcblxyXG4gICAgeDIgPSBNYXRoLmNvcyhsb3dlckF6aW11dGgpO1xyXG4gICAgeTIgPSBNYXRoLnNpbihsb3dlckF6aW11dGgpO1xyXG4gICAgejIgPSBjeWxpbmRlclRvcDtcclxuXHJcbiAgICB4MyA9IE1hdGguY29zKHVwcGVyQXppbXV0aCk7XHJcbiAgICB5MyA9IE1hdGguc2luKHVwcGVyQXppbXV0aCk7XHJcbiAgICB6MyA9IGN5bGluZGVyQm90dG9tO1xyXG5cclxuICAgIHg0ID0gTWF0aC5jb3ModXBwZXJBemltdXRoKTtcclxuICAgIHk0ID0gTWF0aC5zaW4odXBwZXJBemltdXRoKTtcclxuICAgIHo0ID0gY3lsaW5kZXJUb3A7XHJcblxyXG4gICAgLy8gVGhlIGZpcnN0IHRyaWFuZ2xlLlxyXG5cclxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleF0gPSB4MTtcclxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDFdID0geTE7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAyXSA9IHoxO1xyXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgM10gPSB4MjtcclxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDRdID0geTI7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA1XSA9IHoyO1xyXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNl0gPSB4MztcclxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDddID0geTM7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA4XSA9IHozO1xyXG5cclxuICAgIC8vIFRoZSBzZWNvbmQgdHJpYW5nbGUuXHJcblxyXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgOV0gPSB4NDtcclxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDEwXSA9IHk0O1xyXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTFdID0gejQ7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMl0gPSB4MztcclxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDEzXSA9IHkzO1xyXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTRdID0gejM7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNV0gPSB4MjtcclxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDE2XSA9IHkyO1xyXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTddID0gejI7XHJcblxyXG4gICAgdmVydGV4UG9zaXRpb25zSW5kZXggKz0gMTg7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdmVydGV4UG9zaXRpb25zO1xyXG59XHJcblxyXG4vKipcclxuICogU2NhbGUgYW5kIHRoZW4gdHJhbnNsYXRlIHRoZSAzLWRpbWVuc2lvbmFsIHBvc2l0aW9ucyBpbiB0aGUgZ2l2ZW4gZmxhdHRlbmVkIGFycmF5LlxyXG4gKlxyXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4gd2l0aCB0aGUgcG9sZXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9ucyBPdXRwdXQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleFxyXG4gKiBAcGFyYW0ge3ZlYzN9IHNjYWxlXHJcbiAqIEBwYXJhbSB7dmVjM30gdHJhbnNsYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBzY2FsZVRoZW5UcmFuc2xhdGVQb3NpdGlvbnModmVydGV4UG9zaXRpb25zLCBzdGFydEluZGV4LCBlbmRJbmRleCwgc2NhbGUsIHRyYW5zbGF0ZSkge1xyXG4gIGNvbnN0IHNjYWxlWCA9IHNjYWxlWzBdO1xyXG4gIGNvbnN0IHNjYWxlWSA9IHNjYWxlWzFdO1xyXG4gIGNvbnN0IHNjYWxlWiA9IHNjYWxlWzJdO1xyXG4gIGNvbnN0IHRyYW5zbGF0ZVggPSB0cmFuc2xhdGVbMF07XHJcbiAgY29uc3QgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZVsxXTtcclxuICBjb25zdCB0cmFuc2xhdGVaID0gdHJhbnNsYXRlWzJdO1xyXG5cclxuICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpICs9IDMpIHtcclxuICAgIHZlcnRleFBvc2l0aW9uc1tpXSA9IHZlcnRleFBvc2l0aW9uc1tpXSAqIHNjYWxlWCArIHRyYW5zbGF0ZVg7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdID0gdmVydGV4UG9zaXRpb25zW2kgKyAxXSAqIHNjYWxlWSArIHRyYW5zbGF0ZVk7XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdID0gdmVydGV4UG9zaXRpb25zW2kgKyAyXSAqIHNjYWxlWiArIHRyYW5zbGF0ZVo7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgdGhpcyBtb2R1bGUncyBsb2dpY1xyXG5cclxuZXhwb3J0IHtcclxuICBnZXRWaWV3cG9ydFdpZHRoLFxyXG4gIGdldFZpZXdwb3J0SGVpZ2h0LFxyXG4gIGdldFdlYkdMQ29udGV4dCxcclxuICBjcmVhdGVCdWZmZXIsXHJcbiAgZ2V0QXR0cmliTG9jYXRpb24sXHJcbiAgYnVpbGRQcm9ncmFtLFxyXG4gIGJ1aWxkU2hhZGVyLFxyXG4gIGxvYWRTaGFkZXIsXHJcbiAgbG9hZFByb2dyYW0sXHJcbiAgY3JlYXRlQnVmZmVyRnJvbURhdGEsXHJcbiAgYmluZEdMQ29udGV4dFRvVmlld3BvcnREaW1lbnNpb25zLFxyXG4gIGJpbmRGcmFtZWJ1ZmZlcixcclxuICBjcmVhdGVGcmFtZWJ1ZmZlcixcclxuICBjcmVhdGVUZXh0dXJlRm9yUmVuZGVyaW5nLFxyXG4gIGNyZWF0ZVJlbmRlckJ1ZmZlcixcclxuICBjcmVhdGUyRFNxdWFyZVBvc2l0aW9uc0NvbmZpZyxcclxuXHJcbiAgZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zLFxyXG4gIGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzLFxyXG4gIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxUZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgZXhwYW5kVmVydGV4SW5kaWNlc0Fyb3VuZExvbmdpdHVkZVNlYW0sXHJcbiAgdGVzc2VsYXRlU3BoZXJlLFxyXG4gIGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyxcclxuICBjYWxjdWxhdGVTcGhlcmljYWxTZWN0aW9uLFxyXG4gIGNhbGN1bGF0ZUN5bGluZHJpY2FsU2VjdGlvbixcclxuICBzY2FsZVRoZW5UcmFuc2xhdGVQb3NpdGlvbnMsXHJcbn07XHJcblxyXG4vLyBTb21lIHR5cGUgZGVmcyB0byBtYWtlIG15IGVkaXRvcidzIGF1dG8tY29tcGxldGUgaGFwcHkuXHJcblxyXG4vKiogQHR5cGVkZWYge09iamVjdH0gV2ViR0xQcm9ncmFtICovXHJcbi8qKiBAdHlwZWRlZiB7T2JqZWN0fSBXZWJHTFNoYWRlciAqL1xyXG4vKiogQHR5cGVkZWYge09iamVjdH0gV2ViR0xCdWZmZXIgKi9cclxuLyoqIEB0eXBlZGVmIHtPYmplY3R9IFdlYkdMVGV4dHVyZSAqL1xyXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gbWF0MyAqL1xyXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gbWF0NCAqL1xyXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gcXVhdCAqL1xyXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gdmVjMiAqL1xyXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gdmVjMyAqL1xyXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gdmVjNCAqL1xyXG4iLCIvKipcclxuICogQSBoYXNoIG1hcCB0aGF0IHVzZXMgYSBjdXN0b20gaGFzaCBmdW5jdGlvbi5cclxuICovXHJcbmNsYXNzIEhhc2hNYXAge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc2hGdW5jdGlvblxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGhhc2hGdW5jdGlvbikge1xyXG4gICAgdGhpcy5faGFzaEZ1bmN0aW9uID0gaGFzaEZ1bmN0aW9uO1xyXG4gICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGtleVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gICAqL1xyXG4gIHNldChrZXksIHZhbHVlKSB7XHJcbiAgICBjb25zdCBoYXNoQ29kZSA9IHRoaXMuX2hhc2hGdW5jdGlvbihrZXkpO1xyXG4gICAgdGhpcy5fbWFwLnNldChoYXNoQ29kZSwgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGtleVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0KGtleSkge1xyXG4gICAgY29uc3QgaGFzaENvZGUgPSB0aGlzLl9oYXNoRnVuY3Rpb24oa2V5KTtcclxuICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KGhhc2hDb2RlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgKi9cclxuICBoYXMoa2V5KSB7XHJcbiAgICBjb25zdCBoYXNoQ29kZSA9IHRoaXMuX2hhc2hGdW5jdGlvbihrZXkpO1xyXG4gICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoaGFzaENvZGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgKi9cclxuICByZW1vdmUoaXRlbSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21hcC5kZWxldGUoaXRlbSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAqL1xyXG4gIGZvckVhY2goY2FsbGJhY2spIHtcclxuICAgIHRoaXMuX21hcC5mb3JFYWNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fbWFwLmNsZWFyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAqL1xyXG4gIGdldCBzaXplKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21hcC5zaXplO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtIYXNoTWFwfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW5lcmFsIHV0aWxpdHkgZnVuY3Rpb25zLlxyXG4gKi9cclxuXHJcbi8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlIChwcm9iYWJseSBhcyBhIHBhcmFtIHRvIGNvbnRyb2xsZXIgbGlrZSBiZWZvcmU7IGJ1dCB0aGVuIEkgbmVlZCB0byBtYWtlIHRoaXMgdXBkYXRhYmxlKVxyXG5jb25zdCBpc0luRGV2TW9kZSA9IHRydWU7XHJcblxyXG4vKipcclxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgZWFjaCBvZiB0aGUgZ2l2ZW4gZXZlbnRzIHRvIGVhY2ggb2YgdGhlIGdpdmVuIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5LjxIVE1MRWxlbWVudD59IGVsZW1lbnRzIFRoZSBlbGVtZW50cyB0byBhZGQgZXZlbnQgbGlzdGVuZXJzIHRvLlxyXG4gKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBldmVudHMgVGhlIGV2ZW50IGxpc3RlbmVycyB0byBhZGQgdG8gdGhlIGVsZW1lbnRzLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgc2luZ2xlIGNhbGxiYWNrIGZvciBoYW5kbGluZyB0aGUgZXZlbnRzLlxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuVG9NdWx0aXBsZUZvck11bHRpcGxlKGVsZW1lbnRzLCBldmVudHMsIGNhbGxiYWNrKSB7XHJcbiAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcclxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgRE9NIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gdGFnIG5hbWUsIGFwcGVuZHMgaXQgdG8gdGhlIGdpdmVuIHBhcmVudCBlbGVtZW50LCBhbmRcclxuICogZ2l2ZXMgaXQgdGhlIGdpdmVuIGlkIGFuZCBjbGFzc2VzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBUaGUgdGFnIG5hbWUgdG8gZ2l2ZSB0aGUgbmV3IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtwYXJlbnRdIFRoZSBwYXJlbnQgZWxlbWVudCB0byBhcHBlbmQgdGhlIG5ldyBlbGVtZW50IHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2lkXSBUaGUgaWQgdG8gZ2l2ZSB0aGUgbmV3IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtjbGFzc2VzXSBUaGUgY2xhc3NlcyB0byBnaXZlIHRoZSBuZXcgZWxlbWVudC5cclxuICogQHJldHVybnMge0hUTUxFbGVtZW50fSBUaGUgbmV3IGVsZW1lbnQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHBhcmVudCwgaWQsIGNsYXNzZXMpIHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuICBpZiAocGFyZW50KSB7XHJcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgfVxyXG4gIGlmIChpZCkge1xyXG4gICAgZWxlbWVudC5pZCA9IGlkO1xyXG4gIH1cclxuICBpZiAoY2xhc3Nlcykge1xyXG4gICAgY2xhc3Nlcy5mb3JFYWNoKGNsYXNzTmFtZSA9PiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpKTtcclxuICB9XHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIGVsZW1lbnQgY29udGFpbnMgdGhlIGdpdmVuIGNsYXNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGNoZWNrLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byBjaGVjayBmb3IuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbGVtZW50IGRvZXMgY29udGFpbiB0aGUgY2xhc3MuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb250YWluc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gIGxldCBzdGFydEluZGV4O1xyXG4gIGxldCBpbmRleEFmdGVyRW5kO1xyXG4gIHN0YXJ0SW5kZXggPSBlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzTmFtZSk7XHJcbiAgaWYgKHN0YXJ0SW5kZXggPj0gMCkge1xyXG4gICAgaWYgKHN0YXJ0SW5kZXggPT09IDAgfHwgZWxlbWVudC5jbGFzc05hbWVbc3RhcnRJbmRleCAtIDFdID09PSAnICcpIHtcclxuICAgICAgaW5kZXhBZnRlckVuZCA9IHN0YXJ0SW5kZXggKyBjbGFzc05hbWUubGVuZ3RoO1xyXG4gICAgICBpZiAoaW5kZXhBZnRlckVuZCA9PT0gZWxlbWVudC5jbGFzc05hbWUubGVuZ3RoIHx8XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWVbaW5kZXhBZnRlckVuZF0gPT09ICcgJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRvZ2dsZXMgd2hldGhlciB0aGUgZ2l2ZW4gZWxlbWVudCBoYXMgdGhlIGdpdmVuIGNsYXNzLiBJZiB0aGUgZW5hYmxlZCBhcmd1bWVudCBpcyBnaXZlbiwgdGhlblxyXG4gKiB0aGUgaW5jbHVzaW9uIG9mIHRoZSBjbGFzcyB3aWxsIGJlIGZvcmNlZC4gVGhhdCBpcywgaWYgZW5hYmxlZD10cnVlLCB0aGVuIHRoaXMgd2lsbCBlbnN1cmUgdGhlXHJcbiAqIGVsZW1lbnQgaGFzIHRoZSBjbGFzczsgaWYgZW5hYmxlZD1mYWxzZSwgdGhlbiB0aGlzIHdpbGwgZW5zdXJlIHRoZSBlbGVtZW50IGRvZXMgTk9UIGhhdmUgdGhlXHJcbiAqIGNsYXNzOyBpZiBlbmFibGVkPXVuZGVmaW5lZCwgdGhlbiB0aGlzIHdpbGwgc2ltcGx5IHRvZ2dsZSB3aGV0aGVyIHRoZSBlbGVtZW50IGhhcyB0aGUgY2xhc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYWRkIHRoZSBjbGFzcyB0byBvciByZW1vdmUgdGhlIGNsYXNzIGZyb20uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIGNsYXNzIHRvIGFkZCBvciByZW1vdmUuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuYWJsZWRdIElmIGdpdmVuLCB0aGVuIHRoZSBpbmNsdXNpb24gb2YgdGhlIGNsYXNzIHdpbGwgYmUgZm9yY2VkLlxyXG4gKi9cclxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBlbmFibGVkKSB7XHJcbiAgaWYgKHR5cGVvZiBlbmFibGVkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgaWYgKGNvbnRhaW5zQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSkge1xyXG4gICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaWYgKGVuYWJsZWQpIHtcclxuICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBwYWdlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGdldCB0aGUgY29vcmRpbmF0ZXMgb2YuXHJcbiAqIEByZXR1cm5zIHt7eDogTnVtYmVyLCB5OiBOdW1iZXJ9fSBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIHRvcC1sZWZ0XHJcbiAqIGNvcm5lciBvZiB0aGUgcGFnZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldFBhZ2VPZmZzZXQoZWxlbWVudCkge1xyXG4gIGxldCB4ID0gMDtcclxuICBsZXQgeSA9IDA7XHJcbiAgd2hpbGUgKGVsZW1lbnQpIHtcclxuICAgIHggKz0gZWxlbWVudC5vZmZzZXRMZWZ0O1xyXG4gICAgeSArPSBlbGVtZW50Lm9mZnNldFRvcDtcclxuICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcclxuICB9XHJcbiAgeCAtPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICB5IC09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xyXG59XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdmlld3BvcnQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt7dzogTnVtYmVyLCBoOiBOdW1iZXJ9fSBUaGUgZGltZW5zaW9ucyBvZiB0aGUgdmlld3BvcnQuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFNpemUoKSB7XHJcbiAgbGV0IHc7XHJcbiAgbGV0IGg7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cuaW5uZXJXaWR0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIC8vIEdvb2QgYnJvd3NlcnNcclxuICAgIHcgPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICB0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICE9PSAwKSB7XHJcbiAgICAvLyBJRTYgaW4gc3RhbmRhcmRzIGNvbXBsaWFudCBtb2RlXHJcbiAgICB3ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgaCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgLy8gT2xkZXIgdmVyc2lvbnMgb2YgSUVcclxuICAgIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmNsaWVudFdpZHRoO1xyXG4gICAgaCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uY2xpZW50SGVpZ2h0O1xyXG4gIH1cclxuICByZXR1cm4geyB3OiB3LCBoOiBoIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmVzIHRoZSBnaXZlbiBjaGlsZCBlbGVtZW50IGZyb20gdGhlIGdpdmVuIHBhcmVudCBlbGVtZW50IGlmIHRoZSBjaGlsZCBkb2VzIGluZGVlZCBiZWxvbmdcclxuICogdG8gdGhlIHBhcmVudC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IFRoZSBwYXJlbnQgdG8gcmVtb3ZlIHRoZSBjaGlsZCBmcm9tLlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjaGlsZCBUaGUgY2hpbGQgdG8gcmVtb3ZlLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgY2hpbGQgZGlkIGluZGVlZCBiZWxvbmcgdG8gdGhlIHBhcmVudC5cclxuICovXHJcbmZ1bmN0aW9uIHJlbW92ZUNoaWxkSWZQcmVzZW50KHBhcmVudCwgY2hpbGQpIHtcclxuICBpZiAoY2hpbGQgJiYgY2hpbGQucGFyZW50Tm9kZSA9PT0gcGFyZW50KSB7XHJcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZHMgdGhlIGdpdmVuIGNsYXNzIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFkZCB0aGUgY2xhc3MgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIGNsYXNzIHRvIGFkZC5cclxuICovXHJcbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnICsgY2xhc3NOYW1lKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZXMgdGhlIGdpdmVuIGNsYXNzIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gcmVtb3ZlIHRoZSBjbGFzcyBmcm9tLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byByZW1vdmUuXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLFxyXG4gICAgZWxlbWVudC5jbGFzc05hbWVcclxuICAgIC5zcGxpdCgnICcpXHJcbiAgICAuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSBjbGFzc05hbWUpXHJcbiAgICAuam9pbignICcpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZXMgYWxsIGNsYXNzZXMgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byByZW1vdmUgYWxsIGNsYXNzZXMgZnJvbS5cclxuICovXHJcbmZ1bmN0aW9uIGNsZWFyQ2xhc3NlcyhlbGVtZW50KSB7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSAnJztcclxufVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHdpZHRoIHRoYXQgdGhlIERPTSB3b3VsZCBnaXZlIHRvIGEgZGl2IHdpdGggdGhlIGdpdmVuIHRleHQuIFRoZSBnaXZlbiB0YWdcclxuICogbmFtZSwgcGFyZW50LCBpZCwgYW5kIGNsYXNzZXMgYWxsb3cgdGhlIHdpZHRoIHRvIGJlIGFmZmVjdGVkIGJ5IHZhcmlvdXMgQ1NTIHJ1bGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBkZXRlcm1pbmUgdGhlIHdpZHRoIG9mLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBUaGUgdGFnIG5hbWUgdGhpcyB0ZXh0IHdvdWxkIHN1cHBvc2VkbHkgaGF2ZS5cclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudF0gVGhlIHBhcmVudCB0aGlzIHRleHQgd291bGQgc3VwcG9zZWRseSBiZSBhIGNoaWxkIG9mOyBkZWZhdWx0c1xyXG4gKiB0byB0aGUgZG9jdW1lbnQgYm9keS5cclxuICogQHBhcmFtIHtzdHJpbmd9IFtpZF0gVGhlIGlkIHRoaXMgdGV4dCB3b3VsZCBzdXBwb3NlZGx5IGhhdmUuXHJcbiAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtjbGFzc2VzXSBUaGUgY2xhc3NlcyB0aGlzIHRleHQgd291bGQgc3VwcG9zZWRseSBoYXZlLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgd2lkdGggb2YgdGhlIHRleHQgdW5kZXIgdGhlc2UgY29uZGl0aW9ucy5cclxuICovXHJcbmZ1bmN0aW9uIGdldFRleHRXaWR0aCh0ZXh0LCB0YWdOYW1lLCBwYXJlbnQsIGlkLCBjbGFzc2VzKSB7XHJcbiAgbGV0IHRtcEVsZW1lbnQ7XHJcbiAgbGV0IHdpZHRoO1xyXG4gIHBhcmVudCA9IHBhcmVudCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xyXG4gIHRtcEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIG51bGwsIGlkLCBjbGFzc2VzKTtcclxuICB0bXBFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICB0bXBFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICB0bXBFbGVtZW50LnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcclxuICBwYXJlbnQuYXBwZW5kQ2hpbGQodG1wRWxlbWVudCk7XHJcbiAgdG1wRWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gIHdpZHRoID0gdG1wRWxlbWVudC5jbGllbnRXaWR0aDtcclxuICBwYXJlbnQucmVtb3ZlQ2hpbGQodG1wRWxlbWVudCk7XHJcbiAgcmV0dXJuIHdpZHRoO1xyXG59XHJcblxyXG4vKipcclxuICogRW5jb2RlcyBhbmQgY29uY2F0ZW5hdGVzIHRoZSBnaXZlbiBVUkwgcGFyYW1ldGVycyBpbnRvIGEgc2luZ2xlIHF1ZXJ5IHN0cmluZy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHJhd1BhcmFtcyBBbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyByZXByZXNlbnQgdGhlIFVSTCBxdWVyeSBzdHJpbmdcclxuICogcGFyYW1ldGVycy5cclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHF1ZXJ5IHN0cmluZy5cclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5U3RyaW5nKHJhd1BhcmFtcykge1xyXG4gIGxldCBwYXJhbWV0ZXI7XHJcbiAgbGV0IGVuY29kZWRQYXJhbXM7XHJcbiAgZW5jb2RlZFBhcmFtcyA9IFtdO1xyXG4gIGZvciAocGFyYW1ldGVyIGluIHJhd1BhcmFtcykge1xyXG4gICAgaWYgKHJhd1BhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XHJcbiAgICAgIGVuY29kZWRQYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQocGFyYW1ldGVyKSArICc9JyArXHJcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHJhd1BhcmFtc1twYXJhbWV0ZXJdKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiAnPycgKyBlbmNvZGVkUGFyYW1zLmpvaW4oJyYnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gbmFtZSBmcm9tIHRoZSBnaXZlbiBxdWVyeSBzdHJpbmcuXHJcbiAqXHJcbiAqIChib3Jyb3dlZCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTAxMTE1L2hvdy1jYW4taS1nZXQtcXVlcnktc3RyaW5nLXZhbHVlcy1pbi1qYXZhc2NyaXB0KVxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmcgVGhlIHF1ZXJ5IHN0cmluZyBjb250YWluaW5nIHRoZSBwYXJhbWV0ZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSAobm9uLWVuY29kZWQpIG5hbWUgb2YgdGhlIHBhcmFtZXRlciB2YWx1ZSB0byByZXRyaWV2ZS5cclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIgdmFsdWUsIG9yIG51bGwgaWYgdGhlIHBhcmFtZXRlciB3YXMgbm90IGZvdW5kLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXJWYWx1ZShxdWVyeVN0cmluZywgbmFtZSkge1xyXG4gIGxldCByZWdleDtcclxuICBsZXQgcmVzdWx0cztcclxuICBuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpO1xyXG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKTtcclxuICByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJywgJ2knKTtcclxuICByZXN1bHRzID0gcmVnZXguZXhlYyhxdWVyeVN0cmluZyk7XHJcbiAgcmV0dXJuIHJlc3VsdHMgPT09IG51bGwgPyBudWxsIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0cyB0aGUgQ1NTIHRyYW5zaXRpb24gc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdHJhbnNpdGlvbiBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XHJcbiAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdmFsdWU7XHJcbiAgZWxlbWVudC5zdHlsZS5XZWJraXRUcmFuc2l0aW9uID0gdmFsdWU7XHJcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2l0aW9uID0gdmFsdWU7XHJcbiAgZWxlbWVudC5zdHlsZS5tc1RyYW5zaXRpb24gPSB2YWx1ZTtcclxuICBlbGVtZW50LnN0eWxlLk9UcmFuc2l0aW9uID0gdmFsdWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBDU1MgdHJhbnNpdGlvbiBkdXJhdGlvbiBzdHlsZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBkdXJhdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25EdXJhdGlvblNlY29uZHMoZWxlbWVudCwgdmFsdWUpIHtcclxuICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHZhbHVlICsgJ3MnO1xyXG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XHJcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2l0aW9uRHVyYXRpb24gPSB2YWx1ZSArICdzJztcclxuICBlbGVtZW50LnN0eWxlLm1zVHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XHJcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBDU1MgdHJhbnNpdGlvbiBkZWxheSBzdHlsZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBkZWxheS5cclxuICovXHJcbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25EZWxheVNlY29uZHMoZWxlbWVudCwgdmFsdWUpIHtcclxuICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IHZhbHVlICsgJ3MnO1xyXG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvbkRlbGF5ID0gdmFsdWUgKyAncyc7XHJcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcclxuICBlbGVtZW50LnN0eWxlLm1zVHJhbnNpdGlvbkRlbGF5ID0gdmFsdWUgKyAncyc7XHJcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvbkRlbGF5ID0gdmFsdWUgKyAncyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSB1c2VyU2VsZWN0IHN0eWxlIG9mIHRoZSBnaXZlbiBlbGVtZW50IHRvICdub25lJy5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VXNlclNlbGVjdE5vbmUoZWxlbWVudCkge1xyXG4gIGVsZW1lbnQuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcclxuICBlbGVtZW50LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7XHJcbiAgZWxlbWVudC5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gJ25vbmUnO1xyXG4gIGVsZW1lbnQuc3R5bGUubXNVc2VyU2VsZWN0ID0gJ25vbmUnO1xyXG59XHJcblxyXG4vKipcclxuICogUmVtb3ZlcyBhbnkgY2hpbGRyZW4gZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gcGFyZW50IHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gY2xhc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudCBUaGUgcGFyZW50IHRvIHJlbW92ZSBjaGlsZHJlbiBmcm9tLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byBtYXRjaC5cclxuICovXHJcbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuV2l0aENsYXNzKHBhcmVudCwgY2xhc3NOYW1lKSB7XHJcbiAgbGV0IG1hdGNoaW5nQ2hpbGRyZW4gPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWUpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSBtYXRjaGluZ0NoaWxkcmVuLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgIHBhcmVudC5yZW1vdmVDaGlsZChtYXRjaGluZ0NoaWxkcmVuW2ldKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBDU1MgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24gc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY3ViaWMtXHJcbiAqIGJlemllciBwb2ludHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7e3AxeDogTnVtYmVyLCBwMXk6IE51bWJlciwgcDJ4OiBOdW1iZXIsIHAyeTogTnVtYmVyfX0gYmV6aWVyUHRzIFRoZSBjdWJpYy1iZXppZXJcclxuICogcG9pbnRzIHRvIHVzZSBmb3IgdGhpcyB0aW1pbmcgZnVuY3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uQ3ViaWNCZXppZXJUaW1pbmdGdW5jdGlvbihlbGVtZW50LCBiZXppZXJQdHMpIHtcclxuICBjb25zdCB2YWx1ZSA9ICdjdWJpYy1iZXppZXIoJyArIGJlemllclB0cy5wMXggKyAnLCcgKyBiZXppZXJQdHMucDF5ICsgJywnICsgYmV6aWVyUHRzLnAyeCArICcsJyArXHJcbiAgICBiZXppZXJQdHMucDJ5ICsgJyknO1xyXG4gIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XHJcbiAgZWxlbWVudC5zdHlsZS5XZWJraXRUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSB2YWx1ZTtcclxuICBlbGVtZW50LnN0eWxlLk1velRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHZhbHVlO1xyXG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSB2YWx1ZTtcclxuICBlbGVtZW50LnN0eWxlLk9UcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSB2YWx1ZTtcclxufVxyXG5cclxuLy8gQSBjb2xsZWN0aW9uIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBlYXNpbmcgZnVuY3Rpb25zLlxyXG5jb25zdCBlYXNpbmdGdW5jdGlvbnMgPSB7XHJcbiAgbGluZWFyOiB0ID0+IHQsXHJcbiAgZWFzZUluUXVhZDogdCA9PiB0ICogdCxcclxuICBlYXNlT3V0UXVhZDogdCA9PiB0ICogKDIgLSB0KSxcclxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdCxcclxuICBlYXNlSW5DdWJpYzogdCA9PiB0ICogdCAqIHQsXHJcbiAgZWFzZU91dEN1YmljOiB0ID0+IDEgKyAtLXQgKiB0ICogdCxcclxuICBlYXNlSW5PdXRDdWJpYzogdCA9PiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSxcclxuICBlYXNlSW5RdWFydDogdCA9PiB0ICogdCAqIHQgKiB0LFxyXG4gIGVhc2VPdXRRdWFydDogdCA9PiAxIC0gLS10ICogdCAqIHQgKiB0LFxyXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+IHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0LFxyXG4gIGVhc2VJblF1aW50OiB0ID0+IHQgKiB0ICogdCAqIHQgKiB0LFxyXG4gIGVhc2VPdXRRdWludDogdCA9PiAxICsgLS10ICogdCAqIHQgKiB0ICogdCxcclxuICBlYXNlSW5PdXRRdWludDogdCA9PiB0IDwgMC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqIC0tdCAqIHQgKiB0ICogdCAqIHRcclxufTtcclxuXHJcbi8vIEEgY29sbGVjdGlvbiBvZiB0aGUgaW52ZXJzZXMgb2YgZGlmZmVyZW50IHR5cGVzIG9mIGVhc2luZyBmdW5jdGlvbnMuXHJcbmNvbnN0IGludmVyc2VFYXNpbmdGdW5jdGlvbnMgPSB7XHJcbiAgbGluZWFyOiB0ID0+IHQsXHJcbiAgZWFzZUluUXVhZDogdCA9PiBNYXRoLnNxcnQodCksXHJcbiAgZWFzZU91dFF1YWQ6IHQgPT4gMSAtIE1hdGguc3FydCgxIC0gdCksXHJcbiAgZWFzZUluT3V0UXVhZDogdCA9PiB0IDwgMC41ID8gTWF0aC5zcXJ0KHQgKiAwLjUpIDogMSAtIDAuNzA3MTA2NzggKiBNYXRoLnNxcnQoMSAtIHQpXHJcbn07XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gQmV6aWVyIGN1cnZlIGF0IHRoZSBnaXZlblxyXG4gKiBwZXJjZW50YWdlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudCBFeHByZXNzZWQgYXMgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxyXG4gKiBAcGFyYW0ge0FycmF5Ljx7eDpOdW1iZXIseTpOdW1iZXJ9Pn0gY29udHJvbFBvaW50c1xyXG4gKiBAcmV0dXJucyB7e3g6TnVtYmVyLHk6TnVtYmVyfX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFhZRnJvbVBlcmNlbnRXaXRoQmV6aWVyKHBlcmNlbnQsIGNvbnRyb2xQb2ludHMpIHtcclxuICBsZXQgeDtcclxuICBsZXQgeTtcclxuICBsZXQgb25lTWludXNQZXJjZW50O1xyXG4gIGxldCB0bXAxO1xyXG4gIGxldCB0bXAyO1xyXG4gIGxldCB0bXAzO1xyXG4gIGxldCB0bXA0O1xyXG5cclxuICBvbmVNaW51c1BlcmNlbnQgPSAxIC0gcGVyY2VudDtcclxuICB0bXAxID0gb25lTWludXNQZXJjZW50ICogb25lTWludXNQZXJjZW50ICogb25lTWludXNQZXJjZW50O1xyXG4gIHRtcDIgPSAzICogcGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudDtcclxuICB0bXAzID0gMyAqIHBlcmNlbnQgKiBwZXJjZW50ICogb25lTWludXNQZXJjZW50O1xyXG4gIHRtcDQgPSBwZXJjZW50ICogcGVyY2VudCAqIHBlcmNlbnQ7XHJcblxyXG4gIHggPSBjb250cm9sUG9pbnRzWzBdLnggKiB0bXAxICtcclxuICAgIGNvbnRyb2xQb2ludHNbMV0ueCAqIHRtcDIgK1xyXG4gICAgY29udHJvbFBvaW50c1syXS54ICogdG1wMyArXHJcbiAgICBjb250cm9sUG9pbnRzWzNdLnggKiB0bXA0O1xyXG4gIHkgPSBjb250cm9sUG9pbnRzWzBdLnkgKiB0bXAxICtcclxuICAgIGNvbnRyb2xQb2ludHNbMV0ueSAqIHRtcDIgK1xyXG4gICAgY29udHJvbFBvaW50c1syXS55ICogdG1wMyArXHJcbiAgICBjb250cm9sUG9pbnRzWzNdLnkgKiB0bXA0O1xyXG5cclxuICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiB0cmFuc2Zvcm0gdG8gdGhlIGdpdmVuIGVsZW1lbnQgYXMgYSBDU1Mgc3R5bGUgaW4gYSBjcm9zcy1icm93c2VyIGNvbXBhdGlibGVcclxuICogbWFubmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm1cclxuICovXHJcbmZ1bmN0aW9uIHNldFRyYW5zZm9ybShlbGVtZW50LCB0cmFuc2Zvcm0pIHtcclxuICBlbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcclxuICBlbGVtZW50LnN0eWxlLk1velRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcclxuICBlbGVtZW50LnN0eWxlLm1zVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xyXG4gIGVsZW1lbnQuc3R5bGUuT1RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcclxuICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSBnaXZlbiBhcnJheSB3aXRoIGl0cyBjb250ZW50cyByZS1hcnJhbmdlZCBpbiBhIHJhbmRvbSBvcmRlci5cclxuICpcclxuICogVGhlIG9yaWdpbmFsIGFycmF5IGlzIGxlZnQgaW4gaXRzIG9yaWdpbmFsIG9yZGVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxyXG4gKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAqL1xyXG5mdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgbGV0IGk7XHJcbiAgbGV0IGo7XHJcbiAgbGV0IGNvdW50O1xyXG4gIGxldCB0ZW1wO1xyXG5cclxuICBmb3IgKGkgPSAwLCBjb3VudCA9IGFycmF5Lmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgIGogPSBwYXJzZUludChNYXRoLnJhbmRvbSgpICogY291bnQpO1xyXG4gICAgdGVtcCA9IGFycmF5W2pdO1xyXG4gICAgYXJyYXlbal0gPSBhcnJheVtpXTtcclxuICAgIGFycmF5W2ldID0gdGVtcDtcclxuICB9XHJcblxyXG4gIHJldHVybiBhcnJheTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBnaXZlbiBvYmplY3QuXHJcbiAqXHJcbiAqIFRoaXMgb25seSBjb3BpZXMgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93Q29weShvYmplY3QpIHtcclxuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcclxuICAgIGNvbnN0IGNsb25lT2JqZWN0ID0ge307XHJcblxyXG4gICAgT2JqZWN0LmtleXMob2JqZWN0KVxyXG4gICAgICAuZm9yRWFjaChrZXkgPT4gY2xvbmVPYmplY3Rba2V5XSA9IG9iamVjdFtrZXldKTtcclxuXHJcbiAgICByZXR1cm4gY2xvbmVPYmplY3Q7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgcmV0dXJuIG9iamVjdDtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29weSBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxyXG4gKlxyXG4gKiBUaGlzIG9ubHkgY29waWVzIGVudW1lcmFibGUgcHJvcGVydGllcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcENvcHkob2JqZWN0KSB7XHJcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XHJcbiAgICAvLyBIYWNrOiBOb3QgYSByb2J1c3QgY29weSBwb2xpY3lcclxuICAgIGxldCBjbG9uZU9iamVjdDtcclxuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICBjbG9uZU9iamVjdCA9IFtdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNsb25lT2JqZWN0ID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgT2JqZWN0LmtleXMob2JqZWN0KVxyXG4gICAgICAuZm9yRWFjaChrZXkgPT4gY2xvbmVPYmplY3Rba2V5XSA9IGRlZXBDb3B5KG9iamVjdFtrZXldKSk7XHJcblxyXG4gICAgcmV0dXJuIGNsb25lT2JqZWN0O1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHJldHVybiBvYmplY3Q7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIGdpdmVuIEhTTCBjb2xvciB2YWx1ZXMgdG8gSFNWIGNvbG9yIHZhbHVlcy5cclxuICpcclxuICogR2l2ZW4gYW5kIHJldHVybmVkIHZhbHVlcyB3aWxsIGJlIGluIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAqXHJcbiAqIEBwYXJhbSB7SHNsQ29sb3J9IGhzbFxyXG4gKiBAcmV0dXJucyB7e2g6TnVtYmVyLHM6TnVtYmVyLHY6TnVtYmVyfX1cclxuICovXHJcbmZ1bmN0aW9uIGhzbFRvSHN2KGhzbCkge1xyXG4gIGNvbnN0IHRlbXAgPSBoc2wucyAqIChoc2wubCA8IDAuNSA/IGhzbC5sIDogMSAtIGhzbC5sKTtcclxuICByZXR1cm4ge1xyXG4gICAgaDogaHNsLmgsXHJcbiAgICBzOiAyICogdGVtcCAvIChoc2wubCArIHRlbXApLFxyXG4gICAgdjogaHNsLmwgKyB0ZW1wXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiBIU1YgY29sb3IgdmFsdWVzIHRvIEhTTCBjb2xvciB2YWx1ZXMuXHJcbiAqXHJcbiAqIEdpdmVuIGFuZCByZXR1cm5lZCB2YWx1ZXMgd2lsbCBiZSBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3toOk51bWJlcixzOk51bWJlcix2Ok51bWJlcn19IGhzdlxyXG4gKiBAcmV0dXJucyB7SHNsQ29sb3J9XHJcbiAqL1xyXG5mdW5jdGlvbiBoc3ZUb0hzbChoc3YpIHtcclxuICBjb25zdCB0ZW1wID0gKDIgLSBoc3YucykgKiBoc3YudjtcclxuICByZXR1cm4ge1xyXG4gICAgaDogaHN2LmgsXHJcbiAgICBzOiBoc3YucyAqIGhzdi52IC8gKHRlbXAgPCAxID8gdGVtcCA6IDIuMDAwMDAwMDEgLSB0ZW1wKSxcclxuICAgIGw6IHRlbXAgKiAwLjVcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIGdpdmVuIEhTTCBjb2xvciB2YWx1ZXMgdG8gUkdCIGNvbG9yIHZhbHVlcy5cclxuICpcclxuICogR2l2ZW4gYW5kIHJldHVybmVkIHZhbHVlcyB3aWxsIGJlIGluIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAqXHJcbiAqIE9yaWdpbmFsbHkgYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hzbENvbG9yfSBoc2xcclxuICogQHJldHVybnMge1JnYkNvbG9yfSByZ2JcclxuICovXHJcbmZ1bmN0aW9uIGhzbFRvUmdiKGhzbCkge1xyXG4gIGxldCByO1xyXG4gIGxldCBnO1xyXG4gIGxldCBiO1xyXG5cclxuICBpZiAoaHNsLnMgPT09IDApIHtcclxuICAgIC8vIEFjaHJvbWF0aWMuXHJcbiAgICByID0gaHNsLmw7XHJcbiAgICBnID0gaHNsLmw7XHJcbiAgICBiID0gaHNsLmw7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgY29uc3QgcSA9IGhzbC5sIDwgMC41ID9cclxuICAgICAgaHNsLmwgKiAoMSArIGhzbC5zKSA6XHJcbiAgICAgIGhzbC5sICsgaHNsLnMgLSBoc2wubCAqIGhzbC5zO1xyXG4gICAgY29uc3QgcCA9IDIgKiBoc2wubCAtIHE7XHJcblxyXG4gICAgciA9IF9odWUyUmdiKHAsIHEsIGhzbC5oICsgMSAvIDMpO1xyXG4gICAgZyA9IF9odWUyUmdiKHAsIHEsIGhzbC5oKTtcclxuICAgIGIgPSBfaHVlMlJnYihwLCBxLCBoc2wuaCAtIDEgLyAzKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByOiByLFxyXG4gICAgZzogZyxcclxuICAgIGI6IGJcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfaHVlMlJnYihwLCBxLCB0KSB7XHJcbiAgaWYgKHQgPCAwKSB7XHJcbiAgICB0Kys7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHQgPiAxKSB7XHJcbiAgICB0LS07XHJcbiAgfVxyXG5cclxuICBpZiAodCA8IDEgLyA2KSB7XHJcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcclxuICB9XHJcbiAgZWxzZSBpZiAodCA8IDEgLyAyKSB7XHJcbiAgICByZXR1cm4gcTtcclxuICB9XHJcbiAgZWxzZSBpZiAodCA8IDIgLyAzKSB7XHJcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgcmV0dXJuIHA7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIGdpdmVuIFJHQiBjb2xvciB2YWx1ZXMgdG8gSFNMIGNvbG9yIHZhbHVlcy5cclxuICpcclxuICogR2l2ZW4gYW5kIHJldHVybmVkIHZhbHVlcyB3aWxsIGJlIGluIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAqXHJcbiAqIE9yaWdpbmFsbHkgYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3tyOk51bWJlcixnOk51bWJlcixiOk51bWJlcn19IHJnYlxyXG4gKiBAcmV0dXJucyB7SHNsQ29sb3J9IGhzbFxyXG4gKi9cclxuZnVuY3Rpb24gcmdiVG9Ic2wocmdiKSB7XHJcbiAgY29uc3QgbWF4ID0gTWF0aC5tYXgocmdiLnIsIHJnYi5nLCByZ2IuYik7XHJcbiAgY29uc3QgbWluID0gTWF0aC5taW4ocmdiLnIsIHJnYi5nLCByZ2IuYik7XHJcbiAgbGV0IGg7XHJcbiAgbGV0IHM7XHJcbiAgY29uc3QgbCA9IChtYXggKyBtaW4pIC8gMjtcclxuXHJcbiAgaWYgKG1heCA9PT0gbWluKSB7XHJcbiAgICAvLyBBY2hyb21hdGljLlxyXG4gICAgaCA9IDA7XHJcbiAgICBzID0gMDtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBjb25zdCBkID0gbWF4IC0gbWluO1xyXG4gICAgcyA9IGwgPiAwLjUgP1xyXG4gICAgICBkIC8gKDIgLSBtYXggLSBtaW4pIDpcclxuICAgICAgZCAvIChtYXggKyBtaW4pO1xyXG5cclxuICAgIHN3aXRjaCAobWF4KSB7XHJcbiAgICAgIGNhc2UgcmdiLnI6XHJcbiAgICAgICAgaCA9IChyZ2IuZyAtIHJnYi5iKSAvIGQgKyAocmdiLmcgPCByZ2IuYiA/IDYgOiAwKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSByZ2IuZzpcclxuICAgICAgICBoID0gKHJnYi5iIC0gcmdiLnIpIC8gZCArIDI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgcmdiLmI6XHJcbiAgICAgICAgaCA9IChyZ2IuciAtIHJnYi5nKSAvIGQgKyA0O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGggLz0gNjtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBoOiBoLFxyXG4gICAgczogcyxcclxuICAgIGw6IGxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHZhbGlkIGNvbG9yIHN0cmluZyB0byBhc3NpZ24gdG8gYSBDU1MgcHJvcGVydHkgZnJvbSB0aGUgZ2l2ZW4gaC9zL2wgY29sb3IgdmFsdWVzLlxyXG4gKlxyXG4gKiBHaXZlbiB2YWx1ZXMgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiBbMCwxXS5cclxuICpcclxuICogQHBhcmFtIHtIc2xDb2xvcn0gaHNsXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVIc2xDb2xvclN0cmluZyhoc2wpIHtcclxuICByZXR1cm4gdHlwZW9mIGhzbC5hICE9PSAndW5kZWZpbmVkJyA/XHJcbiAgICBgaHNsYSgke2hzbC5oICogMzYwfSwke2hzbC5zICogMTAwfSUsJHtoc2wubCAqIDEwMH0lLCR7aHNsLmF9KWAgOlxyXG4gICAgYGhzbCgke2hzbC5oICogMzYwfSwke2hzbC5zICogMTAwfSUsJHtoc2wubCAqIDEwMH0lKWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGFsbCBvZiBpdHMgYW5jZXN0b3JzLCBhbmQgcmV0dXJucyB0aGUgZmlyc3QgdGhhdCBjb250YWlucyB0aGVcclxuICogZ2l2ZW4gY2xhc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7P0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcclxuICogQHJldHVybnMgez9IVE1MRWxlbWVudH1cclxuICovXHJcbmZ1bmN0aW9uIGZpbmRDbGFzc0luU2VsZk9yQW5jZXN0b3JzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gIHdoaWxlIChlbGVtZW50KSB7XHJcbiAgICBpZiAoY29udGFpbnNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmxldCB1dGlsU3R5bGVTaGVldDtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHRoZSBnaXZlbiBzdHlsZSBydWxlIHRvIGEgc3R5bGUgc2hlZXQgZm9yIHRoZSBjdXJyZW50IGRvY3VtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVSdWxlXHJcbiAqL1xyXG5mdW5jdGlvbiBhZGRSdWxlVG9TdHlsZVNoZWV0KHN0eWxlUnVsZSkge1xyXG4gIC8vIENyZWF0ZSB0aGUgY3VzdG9tIHN0eWxlIHNoZWV0IGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdFxyXG4gIGlmICghdXRpbFN0eWxlU2hlZXQpIHtcclxuICAgIHV0aWxTdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQodXRpbFN0eWxlU2hlZXQpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHRoZSBnaXZlbiBydWxlIHRvIHRoZSBjdXN0b20gc3R5bGUgc2hlZXRcclxuICBpZiAodXRpbFN0eWxlU2hlZXQuc3R5bGVTaGVldCkge1xyXG4gICAgdXRpbFN0eWxlU2hlZXQuc3R5bGVTaGVldC5jc3NUZXh0ID0gc3R5bGVSdWxlO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHV0aWxTdHlsZVNoZWV0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlUnVsZSkpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tGb3JTYWZhcmkoKSB7XHJcbiAgcmV0dXJuIC9TYWZhcmkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL0Nocm9tZS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0ZvcklvcygpIHtcclxuICByZXR1cm4gL2lQaG9uZXxpUG9kfGlQYWQvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEV2ZW4gaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiBpcyBpbnZva2VkIG1hbnkgdGltZXMsIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBpbnZva2VkXHJcbiAqIGFmdGVyIHRoZSBnaXZlbiBkZWxheSBoYXMgZWxsYXBzZWQgc2luY2UgdGhlIGxhc3QgaW52b2NhdGlvbi5cclxuICpcclxuICogSWYgaXNJbnZva2VkSW1tZWRpYXRlbHkgaXMgdHJ1ZSwgdGhlbiB0aGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBhdCB0aGUgc3RhcnQgb2YgdGhlXHJcbiAqIGludm9jYXRpb24gZ3JvdXAgcmF0aGVyIHRoYW4gYXQgdGhlIGVuZC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlZEZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBJbiBtaWxsaXNlY29uZHMuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzSW52b2tlZEltbWVkaWF0ZWx5PWZhbHNlXVxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWJvdW5jZSh3cmFwcGVkRnVuY3Rpb24sIGRlbGF5LCBpc0ludm9rZWRJbW1lZGlhdGVseSA9IGZhbHNlKSB7XHJcbiAgbGV0IHRpbWVvdXRJZDtcclxuXHJcbiAgcmV0dXJuICgpID0+IHtcclxuICAgIC8vIFNhdmUgdGhlIGNvbnRleHQgYW5kIGFyZ3VtZW50cyBwYXNzZWQgZnJvbSB0aGUgY2xpZW50ICh0aGlzIHdpbGwgdXNlIHRoZSB2YWx1ZXMgZnJvbSB0aGVcclxuICAgIC8vIGZpcnN0IGludm9jYXRpb24gb2YgdGhlIGludm9jYXRpb24gZ3JvdXAuXHJcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcclxuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgLy8gSW52b2tlIGltbWVkaWF0ZWx5IG9ubHkgaWYgdGhpcyBpcyB0aGUgZmlyc3QgaW52b2NhdGlvbiBvZiBhIGdyb3VwLlxyXG4gICAgaWYgKGlzSW52b2tlZEltbWVkaWF0ZWx5ICYmICF0aW1lb3V0SWQpIHtcclxuICAgICAgd3JhcHBlZEZ1bmN0aW9uLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc2V0IHRoZSBkZWxheS5cclxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIC8vIFRoZSBpbnZvY2F0aW9uIGdyb3VwIGhhcyBlbmRlZC5cclxuICAgICAgdGltZW91dElkID0gbnVsbDtcclxuICAgICAgaWYgKCFpc0ludm9rZWRJbW1lZGlhdGVseSkge1xyXG4gICAgICAgIHdyYXBwZWRGdW5jdGlvbi5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgfVxyXG4gICAgfSwgZGVsYXkpO1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgdGhyb3R0bGVkIHZlcnNpb24gb2YgdGhlIGdpdmVuIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBFdmVuIGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gaXMgaW52b2tlZCBtYW55IHRpbWVzLCB0aGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgaW52b2tlZFxyXG4gKiBhdCBlYWNoIGludGVydmFsIG9mIHRoZSBnaXZlbiBkZWxheS4gQWZ0ZXIgdGhlIHRocm90dGxlZCBmdW5jdGlvbiBzdG9wcyBiZWluZyBpbnZva2VkLCB0aGVuXHJcbiAqIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBhbHNvIHN0b3AgYmVpbmcgaW52b2tlZC5cclxuICpcclxuICogSWYgaXNJbnZva2VkSW1tZWRpYXRlbHkgaXMgdHJ1ZSwgdGhlbiB0aGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBhdCB0aGUgc3RhcnQgb2YgdGhlXHJcbiAqIGludm9jYXRpb24gZGVsYXkgcmF0aGVyIHRoYW4gYXQgdGhlIGVuZC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlZEZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBJbiBtaWxsaXNlY29uZHMuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzSW52b2tlZEltbWVkaWF0ZWx5PWZhbHNlXVxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAqL1xyXG5mdW5jdGlvbiB0aHJvdHRsZSh3cmFwcGVkRnVuY3Rpb24sIGRlbGF5LCBpc0ludm9rZWRJbW1lZGlhdGVseSA9IGZhbHNlKSB7XHJcbiAgbGV0IHRpbWVvdXRJZDtcclxuXHJcbiAgcmV0dXJuICgpID0+IHtcclxuICAgIC8vIFNhdmUgdGhlIGNvbnRleHQgYW5kIGFyZ3VtZW50cyBwYXNzZWQgZnJvbSB0aGUgY2xpZW50ICh0aGlzIHdpbGwgdXNlIHRoZSB2YWx1ZXMgZnJvbSB0aGVcclxuICAgIC8vIGZpcnN0IGludm9jYXRpb24gb2YgdGhlIGludm9jYXRpb24gZ3JvdXAuXHJcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcclxuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgLy8gT25seSB0cmlnZ2VyIGEgbmV3IGludm9jYXRpb24gZ3JvdXAgaWYgd2UgYXJlIG5vdCBhbHJlYWR5L3N0aWxsIHdhaXRpbmcgb24gdGhlIGRlbGF5IGZyb20gYVxyXG4gICAgLy8gcHJldmlvdXMgaW52b2NhdGlvbi5cclxuICAgIGlmICghdGltZW91dElkKSB7XHJcbiAgICAgIGlmIChpc0ludm9rZWRJbW1lZGlhdGVseSkge1xyXG4gICAgICAgIHdyYXBwZWRGdW5jdGlvbi5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3RhcnQgdGhlIGRlbGF5LlxyXG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBUaGUgaW52b2NhdGlvbiBncm91cCBoYXMgZW5kZWQuXHJcbiAgICAgICAgdGltZW91dElkID0gbnVsbDtcclxuICAgICAgICBpZiAoIWlzSW52b2tlZEltbWVkaWF0ZWx5KSB7XHJcbiAgICAgICAgICB3cmFwcGVkRnVuY3Rpb24uYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBkZWxheSk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fFN0cmluZ30gYXJyYXlcclxuICogQHBhcmFtIHsqfSBkZWxpbWl0ZXJcclxuICogQHJldHVybnMge0FycmF5LjwqPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9pbnRlcmxlYXZlKGFycmF5LCBkZWxpbWl0ZXIpIHtcclxuICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoICogMiAtIDEpO1xyXG4gIGlmIChhcnJheS5sZW5ndGgpIHtcclxuICAgIHJlc3VsdC5wdXNoKGFycmF5WzBdKTtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gYXJyYXkubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgcmVzdWx0LnB1c2goZGVsaW1pdGVyKTtcclxuICAgIHJlc3VsdC5wdXNoKGFycmF5W2ldKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWRzIHRoZSBnaXZlbiBzcmMgZm9yIHRoZSBnaXZlbiBpbWFnZS5cclxuICpcclxuICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBpbWFnZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxIVE1MSW1hZ2VFbGVtZW50LCBFcnJvcj59XHJcbiAqL1xyXG5mdW5jdGlvbiBsb2FkSW1hZ2VTcmMoaW1hZ2UsIHNyYykge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zb2xlLmRlYnVnKGBMb2FkaW5nIGltYWdlOiAke3NyY31gKTtcclxuXHJcbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgXyA9PiByZXNvbHZlKGltYWdlKSk7XHJcbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHJlamVjdCk7XHJcbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHJlamVjdCk7XHJcblxyXG4gICAgaW1hZ2Uuc3JjID0gc3JjO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogTG9hZHMgdGV4dCBmcm9tIHRoZSBnaXZlbiBVUkwuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcclxuICogQHJldHVybnMge1Byb21pc2UuPFN0cmluZywgRXJyb3I+fVxyXG4gKi9cclxuZnVuY3Rpb24gbG9hZFRleHQodXJsKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgXyA9PiByZXNvbHZlKHhoci5yZXNwb25zZSkpO1xyXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgcmVqZWN0KTtcclxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHJlamVjdCk7XHJcblxyXG4gICAgY29uc29sZS5kZWJ1ZyhgTG9hZGluZyB0ZXh0OiAke3VybH1gKTtcclxuXHJcbiAgICB4aHIub3BlbignR0VUJywgdXJsKTtcclxuICAgIHhoci5zZW5kKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkcyBhIEpTT04gb2JqZWN0IGZyb20gdGhlIGdpdmVuIFVSTC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48T2JqZWN0LCBFcnJvcj59XHJcbiAqL1xyXG5mdW5jdGlvbiBsb2FkSnNvbih1cmwpIHtcclxuICByZXR1cm4gbG9hZFRleHQodXJsKS50aGVuKGpzb25UZXh0ID0+IEpTT04ucGFyc2UoanNvblRleHQpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGN1cnJlbnQgc3RhY2sgdHJhY2UuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRTdGFja1RyYWNlKCkge1xyXG4gIHJldHVybiBuZXcgRXJyb3IoKS5zdGFjaztcclxufVxyXG5cclxuLyoqXHJcbiAqIEZyZWV6ZXMgdGhlIGdpdmVuIG9iamVjdCBhbmQgcmVjdXJzaXZlbHkgZnJlZXplcyBhbGwgb2YgaXRzIHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGcmVlemUob2JqZWN0KSB7XHJcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XHJcbiAgICBPYmplY3QuZnJlZXplKG9iamVjdCk7XHJcbiAgICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goa2V5ID0+IGRlZXBGcmVlemUob2JqZWN0W2tleV0pKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgR1VJRC5cclxuICpcclxuICogR1VJRCBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxyXG4gKlxyXG4gKiBMb2dpYyBhZG9wdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy80ODk1NjguXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVHdWlkKCkge1xyXG4gIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xyXG4gICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDA7XHJcbiAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIC0xMSAlIDMgPT09IC0yXHJcbiAqIG1vZCgtMTEsIDMpID09PSAxXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBtb2QobiwgbSkge1xyXG4gIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5cclxuICogQHBhcmFtIHtudW1iZXJ9IG1heFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gcmFuZG9tRmxvYXRJblJhbmdlKG1pbiwgbWF4KSB7XHJcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gSW5jbHVzaXZlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggRXhjbHVzaXZlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiByYW5kb21JbnRJblJhbmdlKG1pbiwgbWF4KSB7XHJcbiAgcmV0dXJuIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBsaXN0XHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZnVuY3Rpb24gcGlja1JhbmRvbShsaXN0KSB7XHJcbiAgcmV0dXJuIGxpc3RbcmFuZG9tSW50SW5SYW5nZSgwLCBsaXN0Lmxlbmd0aCldO1xyXG59XHJcblxyXG4vKipcclxuICogVHJpZ2dlcnMgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gZWl0aGVyIHRoZSBjdXJyZW50IHRhYiBvciB0aGUgYnJvd3NlciB3aW5kb3cgbG9zZXMvZ2FpbnMgZm9jdXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZvY3VzQ2hhbmdlSGFuZGxlclxyXG4gKi9cclxuZnVuY3Rpb24gaGFuZGxlUGFnZUZvY3VzQ2hhbmdlKGZvY3VzQ2hhbmdlSGFuZGxlcikge1xyXG4gIC8vIFBhdXNlL3VucGF1c2UgdGhlIGFwcCB3aGVuIHRoZSB0YWIgbG9zZXMvZ2FpbnMgZm9jdXMuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IGZvY3VzQ2hhbmdlSGFuZGxlcighZG9jdW1lbnQuaGlkZGVuKSk7XHJcbiAgLy8gUGF1c2UvdW5wYXVzZSB0aGUgYXBwIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93IGxvc2VzL2dhaW5zIGZvY3VzLlxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4gZm9jdXNDaGFuZ2VIYW5kbGVyKGZhbHNlKSk7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4gZm9jdXNDaGFuZ2VIYW5kbGVyKHRydWUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgdGhlIGNvbnNlY3V0aXZlIG51bWJlcnMgZnJvbSBzdGFydCAoaW5jbHVzaXZlKSB0byBlbmQgKGV4Y2x1c2l2ZSkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kXHJcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cclxuICovXHJcbmZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQpIHtcclxuICBjb25zdCByID0gW107XHJcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBzdGFydDsgaiA8IGVuZDsgaSsrLCBqKyspIHtcclxuICAgIHJbaV0gPSBqO1xyXG4gIH1cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0ludCh2YWx1ZSkge1xyXG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmXHJcbiAgICBpc0Zpbml0ZSh2YWx1ZSkgJiZcclxuICAgIHBhcnNlSW50KHZhbHVlKSA9PT0gdmFsdWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kIHRoZSBmaXJzdCB2YWx1ZSBpbiBhIGxpc3QgdGhhdCBzYXRpc2ZpZXMgYSBwcmVkaWNhdGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZChsaXN0LCBwcmVkaWNhdGUpIHtcclxuICBmb3IgKHZhciBpID0gMCwgY291bnQgPSBsaXN0Lmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgIGNvbnN0IHZhbHVlID0gbGlzdFtpXTtcclxuICAgIGlmIChwcmVkaWNhdGUuY2FsbChudWxsLCB2YWx1ZSwgaSwgbGlzdCkpIHtcclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuY29uc3Qga2V5Q29kZXMgPSB7XHJcbiAgJ2EnOiA2NSxcclxuICAnYic6IDY2LFxyXG4gICdjJzogNjcsXHJcbiAgJ2QnOiA2OCxcclxuICAnZSc6IDY5LFxyXG4gICdmJzogNzAsXHJcbiAgJ2cnOiA3MSxcclxuICAnaCc6IDcyLFxyXG4gICdpJzogNzMsXHJcbiAgJ2onOiA3NCxcclxuICAnayc6IDc1LFxyXG4gICdsJzogNzYsXHJcbiAgJ20nOiA3NyxcclxuICAnbic6IDc4LFxyXG4gICdvJzogNzksXHJcbiAgJ3AnOiA4MCxcclxuICAncSc6IDgxLFxyXG4gICdyJzogODIsXHJcbiAgJ3MnOiA4MyxcclxuICAndCc6IDg0LFxyXG4gICd1JzogODUsXHJcbiAgJ3YnOiA4NixcclxuICAndyc6IDg3LFxyXG4gICd4JzogODgsXHJcbiAgJ3knOiA4OSxcclxuICAneic6IDkwLFxyXG4gICcwJzogNDgsXHJcbiAgJzEnOiA0OSxcclxuICAnMic6IDUwLFxyXG4gICczJzogNTEsXHJcbiAgJzQnOiA1MixcclxuICAnNSc6IDUzLFxyXG4gICc2JzogNTQsXHJcbiAgJzcnOiA1NSxcclxuICAnOCc6IDU2LFxyXG4gICc5JzogNTcsXHJcbiAgJ1NQQUNFJzogMzIsXHJcbiAgJ0VOVEVSJzogMTMsXHJcbiAgJ0VTQ0FQRSc6IDI3LFxyXG4gICdMRUZUJzogMzcsXHJcbiAgJ1VQJzogMzgsXHJcbiAgJ1JJR0hUJzogMzksXHJcbiAgJ0RPV04nOiA0MFxyXG59O1xyXG5cclxuY29uc3Qgc3ZnTmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuY29uc3QgeGxpbmtOYW1lc3BhY2UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcblxyXG5leHBvcnQge1xyXG4gIGlzSW5EZXZNb2RlLFxyXG4gIGxpc3RlblRvTXVsdGlwbGVGb3JNdWx0aXBsZSxcclxuICBjcmVhdGVFbGVtZW50LFxyXG4gIGNvbnRhaW5zQ2xhc3MsXHJcbiAgdG9nZ2xlQ2xhc3MsXHJcbiAgZ2V0UGFnZU9mZnNldCxcclxuICBnZXRWaWV3cG9ydFNpemUsXHJcbiAgcmVtb3ZlQ2hpbGRJZlByZXNlbnQsXHJcbiAgYWRkQ2xhc3MsXHJcbiAgcmVtb3ZlQ2xhc3MsXHJcbiAgY2xlYXJDbGFzc2VzLFxyXG4gIGdldFRleHRXaWR0aCxcclxuICBlbmNvZGVRdWVyeVN0cmluZyxcclxuICBnZXRRdWVyeVN0cmluZ1BhcmFtZXRlclZhbHVlLFxyXG4gIHNldFRyYW5zaXRpb24sXHJcbiAgc2V0VHJhbnNpdGlvbkR1cmF0aW9uU2Vjb25kcyxcclxuICBzZXRUcmFuc2l0aW9uRGVsYXlTZWNvbmRzLFxyXG4gIHNldFVzZXJTZWxlY3ROb25lLFxyXG4gIHJlbW92ZUNoaWxkcmVuV2l0aENsYXNzLFxyXG4gIHNldFRyYW5zaXRpb25DdWJpY0JlemllclRpbWluZ0Z1bmN0aW9uLFxyXG4gIGVhc2luZ0Z1bmN0aW9ucyxcclxuICBpbnZlcnNlRWFzaW5nRnVuY3Rpb25zLFxyXG4gIGdldFhZRnJvbVBlcmNlbnRXaXRoQmV6aWVyLFxyXG4gIHNldFRyYW5zZm9ybSxcclxuICBzaHVmZmxlLFxyXG4gIHNoYWxsb3dDb3B5LFxyXG4gIGRlZXBDb3B5LFxyXG4gIGhzdlRvSHNsLFxyXG4gIGhzbFRvSHN2LFxyXG4gIGhzbFRvUmdiLFxyXG4gIHJnYlRvSHNsLFxyXG4gIGNyZWF0ZUhzbENvbG9yU3RyaW5nLFxyXG4gIGZpbmRDbGFzc0luU2VsZk9yQW5jZXN0b3JzLFxyXG4gIGFkZFJ1bGVUb1N0eWxlU2hlZXQsXHJcbiAgY2hlY2tGb3JTYWZhcmksXHJcbiAgY2hlY2tGb3JJb3MsXHJcbiAgZGVib3VuY2UsXHJcbiAgdGhyb3R0bGUsXHJcbiAgbG9hZEltYWdlU3JjLFxyXG4gIGxvYWRUZXh0LFxyXG4gIGxvYWRKc29uLFxyXG4gIGdldFN0YWNrVHJhY2UsXHJcbiAgZGVlcEZyZWV6ZSxcclxuICBjcmVhdGVHdWlkLFxyXG4gIG1vZCxcclxuICByYW5kb21GbG9hdEluUmFuZ2UsXHJcbiAgcmFuZG9tSW50SW5SYW5nZSxcclxuICBwaWNrUmFuZG9tLFxyXG4gIGhhbmRsZVBhZ2VGb2N1c0NoYW5nZSxcclxuICByYW5nZSxcclxuICBpc0ludCxcclxuICBmaW5kLFxyXG4gIGtleUNvZGVzLFxyXG4gIHN2Z05hbWVzcGFjZSxcclxuICB4bGlua05hbWVzcGFjZSxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBIc2xDb2xvclxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gaCBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gcyBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gbCBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gW2FdIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJnYkNvbG9yXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBnIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBiIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbYV0gSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cclxuICovXHJcbiJdfQ=="}