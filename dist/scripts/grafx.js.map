{"version":3,"sources":["node_modules/browser-pack/_prelude.js","../animatex/index.js","../animatex/src/animation-job.js","../animatex/src/animator.js","../animatex/src/frame-latency-profiler.js","../animatex/src/index.js","../animatex/src/persistent-animation-job.js","../animatex/src/transient-animation-job.js","../animatex/src/util.js","node_modules/lsl-animatex/index.js","node_modules/lsl-animatex/src/animation-job.js","node_modules/lsl-animatex/src/animator.js","node_modules/lsl-animatex/src/frame-latency-profiler.js","node_modules/lsl-animatex/src/persistent-animation-job.js","node_modules/lsl-animatex/src/transient-animation-job.js","node_modules/lsl-animatex/src/util.js","node_modules/lsl-physx/index.js","src/cameras/index.js","src/cameras/src/camera.js","src/cameras/src/first-person-camera.js","src/cameras/src/fixed-camera.js","src/cameras/src/fixed-follow-camera.js","src/cameras/src/follow-camera.js","src/cameras/src/overhead-camera.js","src/cameras/src/third-person-camera.js","src/index.js","src/models/index.js","src/models/src/default-model.js","src/models/src/invisible-model-controller.js","src/models/src/model-controller.js","src/models/src/model-group-controller.js","src/models/src/model.js","src/models/src/standard-model-controller.js","src/program-wrapper/index.js","src/program-wrapper/src/group-program-wrapper.js","src/program-wrapper/src/program-wrapper-store.js","src/program-wrapper/src/program-wrapper.js","src/program-wrapper/src/texture-store.js","src/program-wrapper/src/uniform-setter.js","src/renderable-shapes/index.js","src/renderable-shapes/src/renderable-shape-factory.js","src/renderable-shapes/src/renderable-shape-store.js","src/renderable-shapes/src/shape-configs/capsule-renderable-shape.js","src/renderable-shapes/src/shape-configs/cube-renderable-shape.js","src/renderable-shapes/src/shape-configs/icosahedron-renderable-shape.js","src/renderable-shapes/src/shape-configs/icosphere-renderable-shape.js","src/renderable-shapes/src/shape-configs/lat-long-sphere-renderable-shape.js","src/renderable-shapes/src/shape-configs/tetrahedron-renderable-shape.js","src/src/grafx-controller.js","src/src/light.js","src/src/scene.js","src/util/index.js","src/util/src/geometry.js","src/util/src/gl-util.js","src/util/src/hash-map.js","src/util/src/util.js"],"names":[],"mappings":"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","file":"grafx.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export * from './src';\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","export * from './animation-job';\nexport * from './animator';\nexport * from './frame-latency-profiler';\nexport * from './persistent-animation-job';\nexport * from './transient-animation-job';\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","export * from './src/animation-job';\nexport * from './src/animator';\nexport * from './src/frame-latency-profiler';\nexport * from './src/persistent-animation-job';\nexport * from './src/transient-animation-job';\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","module.exports = {}; // FIXME: Point this to dist\n","export * from './src/camera';\nexport * from './src/first-person-camera';\nexport * from './src/fixed-camera';\nexport * from './src/fixed-follow-camera';\nexport * from './src/follow-camera';\nexport * from './src/third-person-camera';\nexport * from './src/overhead-camera';\n","import { PersistentAnimationJob } from 'lsl-animatex';\n\n// TODO: Make the rotation quaternion based with 6DoF.\n\n// TODO: Add support for scripting the camera to follow a curve:\n// (https://msdn.microsoft.com/en-us/library/bb203908(v=xnagamestudio.31).aspx)\n\n/**\n * This class defines common camera logic.\n *\n * @abstract\n */\nclass Camera extends PersistentAnimationJob {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraParams, oldCamera) {\n    super();\n\n    // Camera is an abstract class. It should not be instantiated directly.\n    if (new.target === Camera) {\n      throw new TypeError('Cannot construct Camera instances directly');\n    }\n\n    this._cameraParams = cameraParams;\n    this._fovY = null;\n    this._aspectRatio = null;\n    this._zNear = null;\n    this._zFar = null;\n    this._position = vec3.create();\n    this._orientation = quat.create(); // TODO: Use this.\n    this._viewMatrix = mat4.create();\n    this._projectionMatrix = mat4.create();\n    this._viewProjectionMatrix = mat4.create();\n\n    this._matchOldCamera(oldCamera);\n  }\n\n  reset() {\n    this._setPerspective(this._cameraParams.fovY, this._cameraParams.defaultAspectRatio,\n      this._cameraParams.zNear, this._cameraParams.zFar);\n  }\n\n  // TODO: Call this after adding support for dynamically switching cameras.\n  destroy() {}\n\n  /**\n   * Set this camera's orientation and position.\n   *\n   * @param {vec3} eye The camera position.\n   * @param {vec3} target The focal point.\n   * @param {vec3} up The local up direction.\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\n   * @protected\n   */\n  _setPositionAndLookAt(eye, target, up, viewDirection) {\n    vec3.copy(this._position, eye);\n    this._setLookAtFromCurrentPosition(target, up, viewDirection);\n  }\n\n  /**\n   * Set this camera's orientation, but do not change its position.\n   *\n   * @param {vec3} target The focal point.\n   * @param {vec3} up The local up direction.\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\n   * @protected\n   */\n  _setLookAtFromCurrentPosition(target, up, viewDirection) {\n    mat4.lookAt(this._viewMatrix, this._position, target, up);\n    quat.rotationTo(this._orientation, this._cameraParams._defaultLookAtDirection, viewDirection); // TODO: Check this; might need to swap arguments.\n    this._updateViewProjectionMatrix();\n  }\n\n  /**\n   * Translate this camera by the given amount from its current position.\n   *\n   * @param {vec3} translation\n   * @protected\n   */\n  _translate(translation) {\n    vec3.add(this._position, this._position, translation);\n  }\n\n  /**\n   * Rotate this camera by the given amount from its current orientation.\n   *\n   * @param {quat} rotation\n   * @protected\n   */\n  _rotate(rotation) {\n    // TODO\n  }\n\n  /**\n   * @param {number} fovY In radians.\n   * @param {number} aspectRatio Width / height.\n   * @param {number} zNear\n   * @param {number} zFar\n   * @protected\n   */\n  _setPerspective(fovY, aspectRatio, zNear, zFar) {\n    this._fovY = fovY;\n    this._aspectRatio = aspectRatio;\n    this._zNear = zNear;\n    this._zFar = zFar;\n    this._updateProjectionMatrix();\n  }\n\n  /**\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\n   * projection matrices is updated.\n   *\n   * @protected\n   */\n  _updateProjectionMatrix() {\n    mat4.perspective(\n      this._projectionMatrix, this._fovY, this._aspectRatio, this._zNear, this._zFar);\n    this._updateViewProjectionMatrix();\n  }\n\n  /**\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\n   * projection matrices is updated.\n   *\n   * @protected\n   */\n  _updateViewProjectionMatrix() {\n    mat4.multiply(this._viewProjectionMatrix, this._projectionMatrix, this._viewMatrix);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  draw() {}\n\n  /**\n   * @param {number} fovY The vertical field of view, in radians.\n   * @protected\n   */\n  set fov(fovY) {\n    this._fovY = fovY;\n    this._updateProjectionMatrix();\n  }\n\n  /**\n   * @param {number} aspectRatio Width / height.\n   */\n  set aspectRatio(aspectRatio) {\n    this._setPerspective(this._cameraParams.fovY, aspectRatio, this._cameraParams.zNear,\n      this._cameraParams.zFar);\n  }\n\n  /** @returns {vec3} */\n  get position() {\n    return this._position;\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this._orientation;\n  }\n  /** @returns {mat4} */\n  get viewMatrix() {\n    return this._viewMatrix;\n  }\n  /** @returns {mat4} */\n  get projectionMatrix() {\n    return this._projectionMatrix;\n  }\n  /** @returns {mat4} */\n  get viewProjectionMatrix() { // TODO: Stop using the above two getters and use this instead?\n    return this._viewProjectionMatrix;\n  }\n\n  /**\n   * Update this camera's state to match the given old camera.\n   *\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    if (!oldCamera) {\n      return;\n    }\n    this._fovY = oldCamera._fovY;\n    this._aspectRatio = oldCamera._aspectRatio;\n    this._zNear = oldCamera._zNear;\n    this._zFar = oldCamera._zFar;\n    vec3.copy(this._position, oldCamera._position);\n    vec3.copy(this._orientation, oldCamera._orientation);\n    mat4.copy(this._viewMatrix, oldCamera._viewMatrix);\n    mat4.copy(this._projectionMatrix, oldCamera._projectionMatrix);\n    mat4.copy(this._viewProjectionMatrix, oldCamera._viewProjectionMatrix);\n  }\n}\n\nexport { Camera };\n\n/**\n * @typedef {Function} CameraConfig\n * @property {number} fovY\n * @property {number} zNear\n * @property {number} zFar\n * @property {number} defaultAspectRatio\n * @property {vec3} _defaultLookAtDirection\n */\n\n/**\n * @typedef {Object} FollowCameraConfig\n * @property {number} springCoefficient\n * @property {number} dampingCoefficient\n * @property {number} intendedDistanceFromTarget\n * @property {number} intendedRotationAngleFromTarget\n * @property {vec3} intendedRotationAxisFromTarget\n * @property {vec3} _intendedTranslationFromTarget\n */\n\n/**\n * @typedef {Object} FirstPersonCameraConfig\n * @property {vec3} intendedDisplacementFromTarget\n * @property {vec3} viewDirection\n * @property {number} targetDistance\n */\n\n/**\n * @typedef {Object} FixedCameraConfig\n * @property {vec3} position\n * @property {vec3} viewDirection\n * @property {vec3} _up\n */\n","import { Camera } from './camera';\n\n/**\n * This class defines a first-person camera.\n *\n * A first-person camera is positioned at a character and moves and rotates with the character.\n */\nclass FirstPersonCamera extends Camera {\n  /**\n   * @param {CameraTarget} cameraTarget\n   * @param {FirstPersonCameraConfig} firstPersonCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, firstPersonCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n    this._cameraTarget = cameraTarget;\n    this._firstPersonCameraParams = firstPersonCameraParams;\n    this._cameraTarget = cameraTarget;\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updatePosition();\n    this._updateOrientation();\n  }\n\n  /**\n   * @private\n   */\n  _updatePosition() {\n    const intendedPosition = this._getIntendedPosition();\n    vec3.copy(this._position, intendedPosition);\n  }\n\n  /**\n   * Update the camera's orientation using the \"look at\" method according to its position and the\n   * position of its target.\n   *\n   * @protected\n   */\n  _updateOrientation() {\n    // Get the view direction, and transform it to align with the target's orientation.\n    const viewDirection = vec3.create();\n    vec3.copy(viewDirection, this._firstPersonCameraParams.viewDirection);\n    vec3.transformQuat(viewDirection, viewDirection, this._cameraTarget.orientation);\n\n    const target = vec3.create();\n    vec3.scaleAndAdd(target, this._position, viewDirection,\n      this._firstPersonCameraParams.targetDistance);\n\n    // Initialize \"up\" as the world z-axis.\n    const up = vec3.fromValues(0, 1, 0);\n\n    // Transform \"up\" to align with the camera target's local z-axis.\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\n\n    const right = vec3.create();\n    vec3.cross(right, viewDirection, up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    vec3.cross(up, right, viewDirection);\n\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\n  }\n\n  /**\n   * The intended position for this camera to be in according to the position and orientation of the\n   * camera target.\n   *\n   * @returns {vec3}\n   * @protected\n   * @abstract\n   */\n  _getIntendedPosition() {\n    const intendedPosition = vec3.create();\n    vec3.transformMat4(\n      intendedPosition,\n      this._firstPersonCameraParams.intendedDisplacementFromTarget,\n      this._cameraTarget.worldTransform);\n    return intendedPosition;\n  }\n}\n\nexport { FirstPersonCamera };\n","import {Camera} from './camera';\n\n/**\n * This class defines a fixed camera.\n *\n * A fixed camera's position and orientation are updated manually and remain fixed until a later\n * update.\n */\nclass FixedCamera extends Camera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {FixedCameraConfig} fixedCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(fixedCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n\n    this._position = fixedCameraParams.position;\n    this._viewDirection = fixedCameraParams.viewDirection;\n    this._up = fixedCameraParams._up;\n    this.__target = vec3.create();\n  }\n\n  reset() {\n    super.reset();\n    this._update();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {}\n\n  _update() {\n    vec3.normalize(this._viewDirection, this._viewDirection);\n    vec3.normalize(this._up, this._up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    const right = vec3.create();\n    vec3.cross(right, this._viewDirection, this._up);\n    vec3.cross(this._up, right, this._viewDirection);\n\n    this._setPositionAndLookAt(this._position, this._target, this._up, this._viewDirection);\n  }\n\n  /** @param {vec3} newDirection */\n  set viewDirection(newDirection) {\n    vec3.copy(this._viewDirection, newDirection);\n    this._update();\n  }\n\n  /** @param {vec3} newUp */\n  set up(newUp) {\n    vec3.copy(this._up, newUp);\n    this._update();\n  }\n\n  /** @param {vec3} newPosition */\n  set position(newPosition) {\n    vec3.copy(this._position, newPosition);\n    this._update();\n  }\n\n  /** @returns {vec3} */\n  // TODO: Look into whatever bug prevents the parent-class getter from working.\n  get position() {\n    return this._position;\n  }\n\n  /** @returns {vec3} */\n  get viewDirection() {\n    return this._viewDirection;\n  }\n  /** @returns {vec3} */\n  get up() {\n    return this._up;\n  }\n  /**\n   * @returns {vec3}\n   * @private\n   */\n  get _target() {\n    return vec3.add(this.__target, this._position, this._viewDirection);\n  }\n\n  /**\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    super._matchOldCamera(oldCamera);\n    if (oldCamera instanceof FixedCamera) {\n      vec3.copy(this._viewDirection, oldCamera._viewDirection);\n      vec3.copy(this._up, oldCamera._up);\n    }\n  }\n}\n\nexport {FixedCamera};\n","import {FollowCamera} from './follow-camera';\n\n/**\n * This class defines a fixed-offset follow camera.\n *\n * This camera is positioned at a relative, fixed distance and rotation from the observed target\n * and follows the target's position and orientation at this fixed distance.\n *\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\n */\nclass FixedFollowCamera extends FollowCamera {\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updatePosition();\n    this._updateOrientation();\n  }\n\n  /**\n   * @private\n   */\n  _updatePosition() {\n    const intendedPosition = this._getIntendedPosition();\n    vec3.copy(this._position, intendedPosition);\n  }\n}\n\nexport {FixedFollowCamera};\n","import {ThirdPersonCamera} from './third-person-camera';\n\n/**\n * This class defines an abstract follow camera.\n *\n * This is a third-person type of camera whose roll always matches that of the target.\n */\nclass FollowCamera extends ThirdPersonCamera {\n  /**\n   * Update the camera's orientation using the \"look at\" method according to its position and the\n   * position of its target.\n   *\n   * @protected\n   */\n  _updateOrientation() {\n    const target = this._cameraTarget.position;\n\n    const viewDirection = vec3.create();\n    vec3.subtract(viewDirection, target, this._position);\n    vec3.normalize(viewDirection, viewDirection);\n\n    // Initialize \"up\" as the world z-axis.\n    const up = vec3.fromValues(0, 1, 0);\n\n    // Transform \"up\" to align with the camera target's local z-axis.\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\n\n    const right = vec3.create();\n    vec3.cross(right, viewDirection, up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    vec3.cross(up, right, viewDirection);\n\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\n  }\n}\n\nexport {FollowCamera};\n","import {ThirdPersonCamera} from './third-person-camera';\n\n/**\n * This class defines an overhead camera.\n *\n * An overhead camera sits above the observed character and moves relative to the character without\n * rotating.\n *\n * An overhead camera's rotation with the character includes only yaw; it has a fixed pitch and\n * roll.\n */\nclass OverheadCamera extends ThirdPersonCamera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\n\n    this.reset();\n  }\n\n  reset() {\n    super.reset();\n  }\n\n  // TODO: Implement this!\n}\n\nexport {OverheadCamera};\n","import {Camera} from './camera';\n\n/**\n * This class defines an abstract third-person camera.\n *\n * A third-person camera follows a target from a distance.\n *\n * @abstract\n */\nclass ThirdPersonCamera extends Camera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n\n    // ThirdPersonCamera is an abstract class. It should not be instantiated directly.\n    if (new.target === ThirdPersonCamera) {\n      throw new TypeError('Cannot construct ThirdPersonCamera instances directly');\n    }\n\n    this._followCameraParams = followCameraParams;\n    this._cameraTarget = cameraTarget;\n  }\n\n  /**\n   * The intended position for this camera to be in according to the position and orientation of the\n   * camera target.\n   *\n   * @returns {vec3}\n   * @protected\n   * @abstract\n   */\n  _getIntendedPosition() {\n    const intendedPosition = vec3.create();\n    vec3.transformMat4(\n        intendedPosition,\n        this._followCameraParams._intendedTranslationFromTarget,\n        this._cameraTarget.worldTransform);\n    return intendedPosition;\n  }\n\n  /** @param {CameraTarget} cameraTarget */\n  set cameraTarget(cameraTarget) {\n    this._cameraTarget = cameraTarget;\n  }\n}\n\nexport {ThirdPersonCamera};\n\n/**\n * @typedef {Object} CameraTarget\n * @property {vec3} position In world coordinates.\n * @property {quat} orientation Relative to the world axes.\n * @property {mat4} worldTransform The model transform matrix, in world coordinates.\n */\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from './cameras';\nexport * from './models';\nexport * from './program-wrapper';\nexport * from './renderable-shapes';\nexport * from './util';\n\nexport * from './src/grafx-controller';\nexport * from './src/light';\nexport * from './src/scene';\n","export * from './src/default-model';\nexport * from './src/invisible-model-controller';\nexport * from './src/model';\nexport * from './src/model-controller';\nexport * from './src/model-group-controller';\nexport * from './src/standard-model-controller';\n","import {createBufferFromData} from '../../util';\nimport {Model} from './model';\n\n/**\n * This class defines a default implementation of the rigid model.\n *\n * This implementation accepts a RenderableShape and applies standard OpenGL binding logic on top\n * of it.\n */\nclass DefaultModel extends Model {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {RenderableShape} shapeConfig\n   */\n  constructor(gl, shapeConfig) {\n    super(gl);\n    this._shapeConfig = shapeConfig;\n    this._initializeBuffers();\n    this._initializeConfigs();\n  }\n\n  _initializeBuffers() {\n    // Create, bind, and move data into buffers for the vertex positions, normals, texture\n    // coordinates, and element array.\n    this._vertexPositionsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexPositions);\n    this._vertexNormalsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexNormals);\n    this._textureCoordinatesBuffer =\n        createBufferFromData(this._gl, this._shapeConfig.textureCoordinates);\n    if (this._shapeConfig.vertexIndices) {\n      this._vertexIndicesBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexIndices,\n          this._gl.ELEMENT_ARRAY_BUFFER);\n    }\n  }\n\n  _initializeConfigs() {\n    this._vertexPositionsConfig = {\n      buffer: this._vertexPositionsBuffer,\n      size: 3,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n    this._textureCoordinatesConfig = {\n      buffer: this._textureCoordinatesBuffer,\n      size: 2,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n    this._vertexNormalsConfig = {\n      buffer: this._vertexNormalsBuffer,\n      size: 3,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n  }\n\n  /** @returns {number} */\n  get elementCount() {\n    return this._shapeConfig.elementCount;\n  }\n\n  /** @returns {number} */\n  get mode() {\n    return this._gl.TRIANGLES;\n    //return this._gl.LINE_STRIP;// TODO: REMOVE ME\n  }\n}\n\nexport {DefaultModel};\n","import {ModelController} from './model-controller';\n\n/**\n * This class defines an extension of the model-controller class that will maintain state but will\n * never render anything.\n */\nclass InvisibleModelController extends ModelController {\n  /**\n   * @param {ModelControllerConfig} params\n   */\n  constructor(params) {\n    super(params);\n  }\n\n  destroy() {}\n\n  update(currentTime, deltaTime) {}\n\n  draw() {}\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   */\n  _setUpProgramVariablesConfig() {\n    this._programVariablesConfig = {};\n  }\n\n  /**\n   * Overrides the default method to instead do nothing.\n   *\n   * @param {string} id\n   * @returns {Promise}\n   */\n  _setUpProgramWrapper(id) {\n    this._programWrapperId = id;\n    this._programWrapperPromise = Promise.resolve(null);\n    return this._programWrapperPromise;\n  }\n}\n\nexport {InvisibleModelController};\n","import {PersistentAnimationJob} from 'lsl-animatex';\nimport {\n  programWrapperStore,\n  textureStore,\n} from '../../program-wrapper';\n\n/**\n * This class defines a model-controller class.\n *\n * This should be extended by all components that handle models--i.e., anything that will be\n * rendering shapes.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass ModelController extends PersistentAnimationJob {\n  /**\n   * PRECONDITION: The ProgramWrapper referenced by the given params must have already been\n   * registered.\n   *\n   * @param {ModelControllerConfig} params\n   */\n  constructor(params) {\n    super();\n\n    // ModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === ModelController) {\n      throw new TypeError('Cannot construct ModelController instances directly');\n    }\n\n    this._gl = params.gl;\n    this._getViewMatrix = params.getViewMatrix;\n    this._getProjectionMatrix = params.getProjectionMatrix;\n    this._getParentWorldTransform = params.getParentWorldTransform;\n    this._localTransform = mat4.create();\n    this._worldTransform = mat4.create();\n    this._texture = null;\n    this._programWrapper = null;\n    this._programWrapperId = null;\n    this._drawFrameHandler = () => this.draw();\n    this._programVariablesConfig = null;\n\n    this.position = vec3.create();\n    this.scale = vec3.fromValues(1, 1, 1);\n\n    this._setUpTexture(params.texturePath);\n    this._setUpProgramWrapper(params.programWrapperId);\n\n    this._isReadyPromise = Promise.all([\n      this._texturePromise,\n      this._programWrapperPromise,\n    ]);\n  }\n\n  reset() {}\n\n  /**\n   * Called when this is done being used, and is being destroyed from memory.\n   */\n  destroy() {\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\n  }\n\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.update(currentTime, deltaTime);\n    this.updateTransforms();\n    this.updateChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Updates relevant state for the sub-class.\n   *\n   * - This does not recursively update descendant model controllers; that's handled by\n   *   updateChildren.\n   * - This does not update the local or world-coordinate transforms; that's handled by\n   *   updateTransforms.\n   * - This is called before updateLocalTransform and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Updates the world-coordinate and local-coordinate model matrices.\n   *\n   * This is called after update and before updateChildren.\n   *\n   * NOTE: All overrides of this method should update [this._localTransform].\n   */\n  updateTransforms() {\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\n  }\n\n  /**\n   * Updates relevant state for any children model controllers.\n   *\n   * This is called after update and updateLocalTransform.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {}\n\n  /**\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this._localTransform;\n  }\n\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this._worldTransform;\n  }\n\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return this._isReadyPromise;\n  }\n\n  /** @param {string} id */\n  set programWrapperId(id) {\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\n    this._setUpProgramWrapper(id);\n  }\n\n  /** @param {string} value */\n  set texturePath(value) {\n    this._setUpTexture(value);\n  }\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   * @abstract\n   */\n  _setUpProgramVariablesConfig() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {string} [texturePath]\n   * @returns {Promise}\n   * @private\n   */\n  _setUpTexture(texturePath) {\n    this._texturePromise = texturePath\n        ? textureStore.loadTexture(this._gl, texturePath)\n        : Promise.resolve(null);\n\n    // Assign the actual texture.\n    this._texturePromise = this._texturePromise\n        .then(texture => this._texture = texture)\n        .then(() => this._setUpProgramVariablesConfig());\n\n    return this._texturePromise;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {Promise}\n   * @private\n   */\n  _setUpProgramWrapper(id) {\n    this._programWrapperId = id;\n    this._programWrapperPromise = programWrapperStore.getProgramWrapperPromise(id)\n        .then(programWrapper => this._programWrapper = programWrapper);\n    Promise.all([this._programWrapperPromise, this._texturePromise])\n        .then(() => programWrapperStore.registerDrawFrameHandler(id, this._drawFrameHandler));\n    return this._programWrapperPromise;\n  }\n}\n\nexport {ModelController};\n\n/**\n * @typedef {Object} ModelControllerInterface\n * @property {Function.<Promise>} getIsReady\n * @property {Function} reset\n * @property {Function} destroy\n * @property {mat4} localTransform\n * @property {mat4} worldTransform\n * @property {vec3} position\n */\n\n/**\n * @typedef {Object} ModelControllerConfig\n * @property {WebGLRenderingContext} gl\n * @property {Function.<mat4>} getViewMatrix\n * @property {Function.<mat4>} getProjectionMatrix\n * @property {Function.<mat4>} getParentWorldTransform\n * @property {string} programWrapperId\n * @property {string} [texturePath]\n */\n\n/**\n * @typedef {Object} ModelGroupControllerConfig\n * @property {WebGLRenderingContext} gl\n * @property {Function.<mat4>} getViewMatrix\n * @property {Function.<mat4>} getProjectionMatrix\n * @property {Function.<mat4>} getParentWorldTransform\n */\n","import { PersistentAnimationJob } from 'lsl-animatex';\n\n/**\n * This class controls groups of models.\n *\n * This is useful for higher-level controllers that control other models and also transform them.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass ModelGroupController extends PersistentAnimationJob {\n  /**\n   * If either of the shader paths are omitted, then this model controller will not create a\n   * rendering program configuration.\n   *\n   * @param {ModelGroupControllerConfig} params\n   */\n  constructor(params) {\n    super();\n\n    // ModelGroupController is an abstract class. It should not be instantiated directly.\n    if (new.target === ModelGroupController) {\n      throw new TypeError('Cannot construct ModelGroupController instances directly');\n    }\n\n    this._gl = params.gl;\n    this._getViewMatrix = params.getViewMatrix;\n    this._getProjectionMatrix = params.getProjectionMatrix;\n    this._getParentWorldTransform = params.getParentWorldTransform || (() => mat4.create());\n    this._localTransform = mat4.create();\n    this._worldTransform = mat4.create();\n    this._modelCtrls = [];\n  }\n\n  destroy() {\n    this.clearModelControllers();\n  }\n\n  reset() {\n    this._triggerOnAllModelControllers('reset');\n  }\n\n  clearModelControllers() {\n    this._triggerOnAllModelControllers('destroy');\n    this._modelCtrls = [];\n  }\n\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.update(currentTime, deltaTime);\n    this.updateTransforms();\n    this.updateChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Updates relevant state for the sub-class.\n   *\n   * - This does not recursively update descendant model controllers; that's handled by\n   *   updateChildren.\n   * - This does not update the local or world-coordinate transforms; that's handled by\n   *   updateTransforms.\n   * - This is called before updateLocalTransform and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {}\n\n  /**\n   * Updates the world-coordinate and local-coordinate model matrices.\n   *\n   * This is called after update and before updateChildren.\n   *\n   * NOTE: All implementations of this method should update [this._localTransform].\n   */\n  updateTransforms() {\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\n  }\n\n  /**\n   * Updates relevant state for any children model controllers.\n   *\n   * This is called after update and updateLocalTransform.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {\n    this._triggerOnAllModelControllers('updateSelfAndChildren', [currentTime, deltaTime]);\n  }\n\n  draw() {\n    // We don't call draw on the children model controllers, because they register themselves to be\n    // drawn with their given shader program.\n  }\n\n  /**\n   * @param {ModelControllerInterface} modelCtrl\n   * @returns {Promise.<ModelControllerInterface>}\n   * @protected\n   */\n  _startModelController(modelCtrl) {\n    return modelCtrl.getIsReady().then(() => {\n      modelCtrl.reset();\n      this._modelCtrls.push(modelCtrl);\n      return modelCtrl;\n    });\n  }\n\n  /**\n   * @param {ModelControllerInterface} modelCtrl\n   * @protected\n   */\n  _onModelControllerDestroyed(modelCtrl) {\n    const index = this._modelCtrls.indexOf(modelCtrl);\n    this._modelCtrls.splice(index, 1);\n    modelCtrl.destroy();\n  }\n\n  /**\n   * @param {vec3} targetPosition\n   * @param {number} maxSquaredDistance\n   * @protected\n   */\n  _removeDistantModelControllers(targetPosition, maxSquaredDistance) {\n    this._modelCtrls\n      // Get the ModelControllers that are too far away.\n      .filter(modelCtrl =>\n        vec3.squaredDistance(modelCtrl.position, targetPosition) > maxSquaredDistance)\n      // Remove the far-away ModelControllers.\n      .forEach(modelCtrl => this._onModelControllerDestroyed(modelCtrl));\n  }\n\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this._localTransform;\n  }\n\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this._worldTransform;\n  }\n\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return Promise.all(this._modelCtrls.map(controller => controller.getIsReady()));\n  }\n\n  /**\n   * @param {string} methodName\n   * @param {Array.<*>} [args]\n   * @protected\n   */\n  _triggerOnAllModelControllers(methodName, args = []) {\n    //this._demoObject[methodName](...args);\n    this._modelCtrls.forEach(object => object[methodName](...args));\n  }\n}\n\nexport { ModelGroupController };\n","/**\n * This class defines a top-level model.\n *\n * @abstract\n */\nclass Model {\n  /**\n   * @param {WebGLRenderingContext} gl\n   */\n  constructor(gl) {\n    // Model is an abstract class. It should not be instantiated directly.\n    if (new.target === Model) {\n      throw new TypeError('Cannot construct Model instances directly');\n    }\n\n    this._gl = gl;\n    this.bounds = null;\n\n    this._vertexPositionsBuffer = null;\n    this._vertexNormalsBuffer = null;\n    this._textureCoordinatesBuffer = null;\n\n    this._vertexPositionsConfig = null;\n    this._textureCoordinatesConfig = null;\n    this._vertexNormalsConfig = null;\n\n    // If this is kept null, then gl.drawArrays will be used (with gl.ARRAY_BUFFER) instead of\n    // gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER).\n    this._vertexIndicesBuffer = null;\n  }\n\n  /**\n   * Updates the normals on this shape to either be spherical (point outwards from the center) or\n   * orthogonal to the faces of their triangles.\n   *\n   * @param {boolean} isUsingSphericalNormals\n   * @protected\n   * @abstract\n   */\n  _setNormals(isUsingSphericalNormals) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /** @returns {?AttributeConfig} */\n  get vertexPositionsConfig() {\n    return this._vertexPositionsConfig;\n  }\n\n  /** @returns {?AttributeConfig} */\n  get textureCoordinatesConfig() {\n    return this._textureCoordinatesConfig;\n  }\n\n  /** @returns {?AttributeConfig} */\n  get vertexNormalsConfig() {\n    return this._vertexNormalsConfig;\n  }\n\n  /** @returns {?WebGLBuffer} */\n  get vertexIndicesBuffer() {\n    return this._vertexIndicesBuffer;\n  }\n\n  /**\n   * @returns {number}\n   * @abstract\n   */\n  get elementCount() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {number}\n   * @abstract\n   */\n  get mode() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {Model};\n","import {renderableShapeFactory} from '../../renderable-shapes';\n\nimport {ModelController} from './model-controller';\n\n/**\n * This class defines an extension of the model-controller class that uses a common set of program\n * variables and transformation matrices.\n */\nclass StandardModelController extends ModelController {\n  /**\n   * @param {ModelControllerConfig} params\n   * @param {RenderableShapeConfig} shapeParams\n   */\n  constructor(params, shapeParams) {\n    super(params);\n\n    this.scale = shapeParams.scale || vec3.fromValues(1, 1, 1);\n    this._mvMatrix = mat4.create();\n    this._normalMatrix = mat4.create();\n    this._model = renderableShapeFactory.createModel(this._gl, shapeParams);\n  }\n\n  update(currentTime, deltaTime) {}\n\n  draw() {\n    // Update the model-view matrix.\n    mat4.multiply(this._mvMatrix, this._getViewMatrix(), this._worldTransform);\n\n    // Update the normal matrix.\n    mat4.invert(this._normalMatrix, this._mvMatrix);\n    mat4.transpose(this._normalMatrix, this._normalMatrix);\n\n    // Update the uniform variables.\n    this._programVariablesConfig.uniforms['uPMatrix'] = this._getProjectionMatrix();\n    this._programVariablesConfig.uniforms['uMVMatrix'] = this._mvMatrix;\n    this._programVariablesConfig.uniforms['uNormalMatrix'] = this._normalMatrix;\n\n    // Draw shapes using the current variables configuration.\n    this._programWrapper.draw(this._gl, this._programVariablesConfig, 0, this._model.elementCount);\n  }\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   */\n  _setUpProgramVariablesConfig() {\n    this._programVariablesConfig = {\n      attributes: {\n        aVertexPosition: this._model.vertexPositionsConfig,\n        aTextureCoord: this._model.textureCoordinatesConfig,\n        aVertexNormal: this._model.vertexNormalsConfig,\n      },\n      uniforms: {\n        uPMatrix: this._getProjectionMatrix(),\n        uMVMatrix: this._mvMatrix,\n        uNormalMatrix: this._normalMatrix,\n        uSampler: this._texture,\n      },\n      mode: this._model.mode,\n      vertexIndices: this._model.vertexIndicesBuffer,\n      elementCount: this._model.elementCount,\n    };\n  }\n}\n\nexport {StandardModelController};\n","export * from './src/program-wrapper';\nexport * from './src/program-wrapper-store';\nexport * from './src/texture-store';\nexport * from './src/uniform-setter';\n","import {bindFramebuffer} from '../../util';\n\nimport {programWrapperStore} from './program-wrapper-store';\n\n/**\n * This class wraps a collection of ProgramWrappers and supports drawing them as a group.\n */\nclass GroupProgramWrapper {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   */\n  constructor(gl, config) {\n    this.config = config;\n    this._childrenProgramWrappers = [];\n    this._isReady = null;\n\n    this._loadChildren(gl, config).then(() => {\n      if (config.initialize) config.initialize(gl);\n      if (config.isAPostProcessor) {\n        _createChildrenFramebuffersAndTextures(gl, config);\n      }\n    });\n  }\n\n  /** @returns {string} */\n  get programId() {\n    return this.config.id;\n  }\n\n  /** @returns {Promise} */\n  getIsReady() {\n    return this._isReady;\n  }\n\n  /**\n   * Renders shapes using this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   */\n  draw(gl) {\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\n    this.config.childrenFramebufferIds.forEach(_clearFramebuffer.bind(this, gl));\n    this.config.childrenProgramsToDraw.forEach(_drawChildProgramWrapper.bind(this, gl));\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   * @private\n   */\n  _loadChildren(gl, config) {\n    this._isReady = Promise.all(\n        config.childrenProgramConfigs.map(config =>\n            programWrapperStore.loadProgramWrapper(gl, config)\n                .then(programWrapper => this._childrenProgramWrappers.push(programWrapper))));\n    return this._isReady;\n  }\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {string} id\n * @private\n */\nfunction _clearFramebuffer(gl, id) {\n  const framebuffer = programWrapperStore.getFramebuffer(id);\n  bindFramebuffer(gl, framebuffer);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {ProgramWrapperConfig} config\n * @private\n */\nfunction _createChildrenFramebuffersAndTextures(gl, config) {\n  config.childrenFramebufferIds.forEach(id =>\n      programWrapperStore.createNewFramebufferAndTexture(gl, id, false));\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {ChildProgramAndFramebufferIds} childProgramAndFramebufferIds\n * @private\n */\nfunction _drawChildProgramWrapper(gl, childProgramAndFramebufferIds) {\n  const {programId, inputFramebufferIds, outputFramebufferId} = childProgramAndFramebufferIds;\n\n  const framebuffer = outputFramebufferId ?\n      programWrapperStore.getFramebuffer(outputFramebufferId) : null;\n  const programWrapper = programWrapperStore.getProgramWrapper(programId);\n  const programVariablesConfig =\n      programWrapper.config.getProgramVariablesConfig(gl, inputFramebufferIds);\n\n  bindFramebuffer(gl, framebuffer);\n  programWrapper.setProgram(gl);\n  programWrapper.draw(gl, programVariablesConfig);\n}\n\nexport {GroupProgramWrapper};\n","import {createFramebuffer, createRenderBuffer, createTextureForRendering} from '../../util';\n\nimport {GroupProgramWrapper} from './group-program-wrapper';\nimport {ProgramWrapper} from './program-wrapper';\n\n/**\n * This class loads, compiles, and stores WebGL rendering programs.\n *\n * Also, this stores draw-frame handlers for a given program. This makes it easy for a top-level\n * controller to group together draw calls for a given program and therefore minimize program\n * switches.\n *\n * Also, this distinguishes between rendering programs that are used for rendering individual models\n * and post-processing programs that are used for manipulating the entire frame after all the models\n * have rendered.\n *\n * This also allows for grouping programs, which consist of multiple child programs that are all\n * rendered in sequence for a related purpose.\n */\nclass ProgramWrapperStore {\n  constructor() {\n    this._modelProgramCache = {};\n    this._sortedModelPrograms = [];\n    this._postProcessingProgramCache = {};\n    this._sortedPostProcessingPrograms = [];\n    this._frambuffers = {};\n    this._textures = {};\n    this._renderBuffers = {};\n  }\n\n  /**\n   * Loads and caches a program wrapper using the given configuration.\n   *\n   * This method is idempotent; a given program will only be cached once.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} params\n   * @returns {Promise.<ProgramWrapper|GroupProgramWrapper, Error>}\n   * @private\n   */\n  loadProgramWrapper(gl, params) {\n    let cache;\n    let sortedList;\n    if (params.isAPostProcessor) {\n      cache = this._postProcessingProgramCache;\n      sortedList = this._sortedPostProcessingPrograms;\n    } else {\n      cache = this._modelProgramCache;\n      sortedList = this._sortedModelPrograms;\n    }\n    let cacheInfo = cache[params.id];\n\n    // Cache the program if it has not been previously registered.\n    if (!cacheInfo) {\n      cacheInfo = {};\n\n      cacheInfo.params = params;\n      cacheInfo.renderPriority = params.renderPriority;\n\n      let programWrapper = params.childrenProgramConfigs ?\n          new GroupProgramWrapper(gl, params) : new ProgramWrapper(gl, params);\n\n      cacheInfo.programWrapper = programWrapper;\n      cacheInfo.promise = programWrapper.getIsReady().then(() => cacheInfo.programWrapper);\n\n      if (params.isAPostProcessor) {\n        // As soon as we know we'll use a post-processing program, make sure we create the default\n        // framebuffer/texture for rendering models into.\n        if (!this.modelsFramebuffer) {\n          this.createNewFramebufferAndTexture(gl, MODELS_FRAMEBUFFER_ID, true);\n        }\n      } else {\n        // Post-processing programs are not used for rendering individual models.\n        cacheInfo.drawFrameHandlers = new Set();\n      }\n\n      // Store the program cache info in both a map and a list that is sorted by render priority.\n      cache[params.id] = cacheInfo;\n      sortedList.push(cacheInfo);\n      sortedList.sort(_compareProgramCacheInfo);\n    }\n\n    return cacheInfo.promise;\n  }\n\n  /**\n   * Registers the given draw-frame event handler for the given program.\n   *\n   * This method is idempotent; draw-frame handlers are stored in a set, so duplicate additions will\n   * overwrite previous additions.\n   *\n   * @param {string} id\n   * @param {Function} drawFrameHandler\n   */\n  registerDrawFrameHandler(id, drawFrameHandler) {\n    const programCacheInfo = this._modelProgramCache[id];\n\n    if (!programCacheInfo) {\n      if (this._postProcessingProgramCache[id]) {\n        // The program is not set up for rendering individual models.\n        throw new Error(`Cannot register a draw-frame handler for a program that is not set up for \n                         rendering individual models registered: ${id}`);\n      } else {\n        // The program has not been registered.\n        throw new Error(`Cannot register a draw-frame handler for a program that has not yet been \n                         registered: ${id}`);\n      }\n    }\n\n    // Store the draw-frame handler.\n    programCacheInfo.drawFrameHandlers.add(drawFrameHandler);\n  }\n\n  /**\n   * WARNING: This will remove the program from the store even if there are still other components\n   * depending on this program or its draw-frame handlers.\n   *\n   * @param {string} id\n   */\n  deleteProgramWrapper(id) {\n    // Determine which collections we're removing the program from.\n    let sortedPrograms;\n    let programCache;\n    if (this._modelProgramCache[id]) {\n      sortedPrograms = this._sortedModelPrograms;\n      programCache = this._modelProgramCache;\n    } else {\n      sortedPrograms = this._sortedPostProcessingPrograms;\n      programCache = this._postProcessingProgramCache;\n    }\n    const programCacheInfo = programCache[id];\n\n    // Remove the program.\n    sortedPrograms.splice(sortedPrograms.indexOf(programCacheInfo), 1);\n    delete programCache[id];\n  }\n\n  // TODO: Don't forget to unregister draw-frame handlers when destroying models (asteroids, UFOs,\n  // etc.)\n  /**\n   * @param {string} id\n   * @param {Function} drawFrameHandler\n   */\n  unregisterDrawFrameHandler(id, drawFrameHandler) {\n    this._modelProgramCache[id].drawFrameHandlers.delete(drawFrameHandler);\n  }\n\n  /**\n   * @param {string} id\n   * @returns {Promise}\n   * @throws If there is no program registered with the given ID.\n   */\n  getProgramWrapperPromise(id) {\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\n    return cacheInfo.promise;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {ProgramWrapper}\n   * @throws If there is no program registered with the given ID.\n   */\n  getProgramWrapper(id) {\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\n    return cacheInfo.programWrapper;\n  }\n\n  /**\n   * Calls the given callback once for each registered per-model program wrapper.\n   *\n   * The callback is passed two arguments: the program wrapper and the registered draw-frame\n   * handlers.\n   *\n   * @param {Function} callback\n   */\n  forEachModelProgram(callback) {\n    this._sortedModelPrograms.forEach(programCacheInfo =>\n        callback(programCacheInfo.programWrapper, programCacheInfo.drawFrameHandlers));\n  }\n\n  /**\n   * Calls the given callback once for each registered post-processing program wrapper.\n   *\n   * @param {Function} callback\n   */\n  forEachPostProcessingProgram(callback) {\n    this._sortedPostProcessingPrograms.forEach(\n        programCacheInfo => callback(programCacheInfo.programWrapper));\n  }\n\n  /** @returns {boolean} */\n  get isUsingPostProcessingPrograms() {\n    return this._sortedPostProcessingPrograms.length > 0;\n  }\n\n  /**\n   * Creates and stores a framebuffer with a texture.\n   *\n   * Both the framebuffer and texture can be accessed later using the given ID.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {string} id\n   * @param {boolean} [shouldStoreDepthInfo=false]\n   */\n  createNewFramebufferAndTexture(gl, id, shouldStoreDepthInfo=false) {\n    let renderBuffer;\n    if (shouldStoreDepthInfo) {\n      renderBuffer = createRenderBuffer(gl);\n      this._renderBuffers[id] = renderBuffer;\n    }\n\n    const texture = createTextureForRendering(gl);\n    this._textures[id] = texture;\n\n    const framebuffer = createFramebuffer(gl, texture, renderBuffer);\n    this._frambuffers[id] = framebuffer;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {?WebGLFramebuffer}\n   */\n  getFramebuffer(id) {\n    return this._frambuffers[id];\n  }\n\n  /**\n   * @param {string} id\n   * @returns {?WebGLTexture}\n   */\n  getTexture(id) {\n    return this._textures[id];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default framebuffer for rendering\n   * models into.\n   *\n   * @returns {?WebGLFramebuffer}\n   */\n  get modelsFramebuffer() {\n    return this._frambuffers[MODELS_FRAMEBUFFER_ID];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default texture for rendering\n   * models into.\n   *\n   * @returns {?WebGLTexture}\n   */\n  get modelsTexture() {\n    return this._textures[MODELS_FRAMEBUFFER_ID];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default depth render buffer for\n   * rendering models.\n   *\n   * @returns {?WebGLRenderBuffer}\n   */\n  get modelsRenderBuffer() {\n    return this._renderBuffers[MODELS_FRAMEBUFFER_ID];\n  }\n}\n\nfunction _compareProgramCacheInfo(a, b) {\n  return a.renderPriority - b.renderPriority;\n}\n\nexport const MODELS_FRAMEBUFFER_ID = 'models';\n\nexport const programWrapperStore = new ProgramWrapperStore();\n\n/**\n * @typedef {Object} ProgramCacheInfo\n * @property {ProgramWrapperConfig} params\n * @property {ProgramWrapper|GroupProgramWrapper} [programWrapper]\n * @property {Set.<Function>} [drawFrameHandlers]\n * @property {Array.<ProgramWrapper>} [childrenProgramWrappers]\n */\n","import {\n  isInDevMode,\n  getViewportHeight,\n  getViewportWidth,\n  loadProgram,\n} from '../../util';\n\nimport {UniformSetter} from './uniform-setter';\n\n/**\n * This class wraps a native WebGLProgram object and provides convenience methods for:\n * - setting the wrapped program for use on the WebGL rendering context,\n * - enabling the attribute variables for the program,\n * - setting the attribute and uniform variables for the program,\n * - drawing shapes with the program and its current configuration.\n */\nclass ProgramWrapper {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   */\n  constructor(gl, config) {\n    this.config = config;\n    this._program = null;\n    this._uniformSetters = null;\n    this._attributeEnablers = null;\n    this._attributeSetters = null;\n\n    // This is used for assigning different textures to different texture units.\n    this.baseTextureUnitIndex = 0;\n\n    this._buildWebGLProgramPromise = this._buildWebGLProgram(gl, config);\n\n    // TODO: Freeze this object after initializing\n  }\n\n  /** @returns {string} */\n  get programId() {\n    return this.config.id;\n  }\n\n  /** @returns {Promise} */\n  getIsReady() {\n    return this._buildWebGLProgramPromise;\n  }\n\n  /**\n   * Sets this program to use for rendering on the given WebGL context.\n   *\n   * This also enables all relevant attribute variables for this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   */\n  setProgram(gl) {\n    gl.useProgram(this._program);\n    this._enableAttributes();\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\n  }\n\n  /**\n   * Renders shapes using this program with the given variables configuration.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} [programVariablesConfig]\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\n   */\n  draw(gl, programVariablesConfig, offset, count) {\n    programVariablesConfig = programVariablesConfig || this.config.getProgramVariablesConfig(gl);\n    this._setVariables(gl, programVariablesConfig);\n    this._draw(gl, programVariablesConfig, offset, count);\n  }\n\n  /**\n   * Sets up this WebGL rendering program to draw shapes with the given program variables\n   * configuration and the attribute/uniform setters that have been set up for this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @private\n   */\n  _setVariables(gl, programVariablesConfig) {\n    this._setAttributes(programVariablesConfig.attributes);\n    this._setUniforms(programVariablesConfig.uniforms);\n\n    // Check whether we are set up to draw using gl.drawElements rather than gl.drawArrays.\n    if (programVariablesConfig.vertexIndices) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, programVariablesConfig.vertexIndices);\n    }\n  }\n\n  /**\n   * Renders shapes according to this program's current configuration.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\n   * @private\n   */\n  _draw(gl, programVariablesConfig, offset, count) {\n    offset = typeof offset === 'number' ? offset : 0;\n    count = typeof count === 'number' ? count : programVariablesConfig.elementCount;\n\n    if (isInDevMode) {\n      this._checkThatGivenVariablesMatchProgram(programVariablesConfig);\n    }\n\n    // Check whether we are set up to draw using gl.drawElements or gl.drawArrays.\n    if (programVariablesConfig.vertexIndices) {\n      gl.drawElements(programVariablesConfig.mode, count, gl.UNSIGNED_SHORT, offset);\n    } else {\n      gl.drawArrays(programVariablesConfig.mode, offset, count);\n    }\n  }\n\n  /**\n   * Checks whether the attribute and uniform variables specified in the given config match those\n   * defined in this program.\n   *\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @private\n   */\n  _checkThatGivenVariablesMatchProgram(programVariablesConfig) {\n    if (Object.keys(programVariablesConfig.attributes).length !==\n            Object.keys(this._attributeSetters).length ||\n        Object.keys(programVariablesConfig.uniforms).length !==\n            Object.keys(this._uniformSetters).length) {\n      console.warn('The attribute/uniform variables in the ProgramVariablesConfig do not match ' +\n          'those specified in the shaders.', programVariablesConfig, this);\n    }\n  }\n\n  /**\n   * Sets the uniform values for this program.\n   *\n   * Specifically, this calls `gl.uniform<...>(location, value)` for each\n   * variable-name/variable-value key-value pair in the given map. As part of the setup process, the\n   * uniform variable locations are stored in a map from their corresponding variable names. So only\n   * the variable names are needed in order to call this function at render time.\n   *\n   * @param {Object.<String, UniformData>} uniformValues\n   */\n  _setUniforms(uniformValues) {\n    Object.keys(uniformValues).forEach(uniformName => {\n      const uniformSetter = this._uniformSetters[uniformName];\n      const uniformValue = uniformValues[uniformName];\n      uniformSetter.setUniform(uniformValue);\n    });\n  }\n\n  /**\n   * Sets the attribute buffers for this program.\n   *\n   * Specifically, this calls `gl.bindBuffer(...)` and `gl.vertexAttribPointer(...)` for each\n   * variable-name/variable-value pair in the given attribute-info map. As part of the setup\n   * process, the uniform variable locations are stored in a map from their corresponding variable\n   * names. So only the variable names are needed in order to call this function at render time.\n   *\n   * @param {Object.<String, AttributeConfig>} attributeConfigs\n   */\n  _setAttributes(attributeConfigs) {\n    Object.keys(attributeConfigs).forEach(attributeName => {\n      const attributeSetter = this._attributeSetters[attributeName];\n      const attributeConfig = attributeConfigs[attributeName];\n      attributeSetter(attributeConfig);\n    });\n  }\n\n  /**\n   * @private\n   */\n  _enableAttributes() {\n    this._attributeEnablers.forEach(attributeEnabler => attributeEnabler());\n  }\n\n  /**\n   * Creates uniform setters for this program and saves them in the _uniformSetters property.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @private\n   */\n  _createUniformSetters(gl) {\n    const uniformCount = gl.getProgramParameter(this._program, gl.ACTIVE_UNIFORMS);\n\n    this._uniformSetters = {};\n\n    for (let index = 0; index < uniformCount; index++) {\n      const uniformInfo = gl.getActiveUniform(this._program, index);\n      let uniformName = uniformInfo.name;\n\n      // Remove any array suffix.\n      // TODO: Is this removal redundant with the isArray check below??\n      if (uniformName.substr(-3) === '[0]') {\n        uniformName = uniformName.substr(0, uniformName.length - 3);\n      }\n\n      this._uniformSetters[uniformName] = new UniformSetter(gl, this._program, uniformInfo, this);\n    }\n  }\n\n  /**\n   * Creates attribute enablers and setters for this program and saves them in the\n   * _attributeEnablers and _attributeSetters properties, respectively.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @private\n   */\n  _createAttributeEnablersAndSetters(gl) {\n    this._attributeEnablers = [];\n    this._attributeSetters = {};\n\n    const attributeCount = gl.getProgramParameter(this._program, gl.ACTIVE_ATTRIBUTES);\n\n    for (let index = 0; index < attributeCount; index++) {\n      const attributeName = gl.getActiveAttrib(this._program, index).name;\n      const location = gl.getAttribLocation(this._program, attributeName);\n\n      this._attributeEnablers.push(ProgramWrapper._createAttributeEnabler(gl, location));\n      this._attributeSetters[attributeName] = ProgramWrapper._createAttributeSetter(gl, location);\n    }\n  }\n\n  /**\n   * Loads the shader source code from the given URLs, compiles the shader source code, and creates\n   * a program from the resulting shaders.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   * @returns {Promise}\n   * @private\n   */\n  _buildWebGLProgram(gl, config) {\n    return loadProgram(gl, config.vertexShaderPath, config.fragmentShaderPath)\n        .then(webGLProgram => {\n          this._program = webGLProgram;\n          this._createUniformSetters(gl);\n          this._createAttributeEnablersAndSetters(gl);\n          if (config.initialize) config.initialize(gl);\n        })\n        .then(() => console.info(`Program loaded: ${config.id}`));\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} location\n   * @returns {Function}\n   * @private\n   */\n  static _createAttributeEnabler(gl, location) {\n    return () => gl.enableVertexAttribArray(location);\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} location\n   * @returns {Function.<AttributeConfig>}\n   * @private\n   */\n  static _createAttributeSetter(gl, location) {\n    return attributeConfig => {\n      gl.bindBuffer(gl.ARRAY_BUFFER, attributeConfig.buffer);\n      gl.vertexAttribPointer(\n          location,\n          attributeConfig.size,\n          typeof attributeConfig.type !== 'undefined' ? attributeConfig.type : gl.FLOAT,\n          typeof attributeConfig.normalized !== 'undefined' ? attributeConfig.normalized : false,\n          typeof attributeConfig.stride !== 'undefined' ? attributeConfig.stride : 0,\n          typeof attributeConfig.offset !== 'undefined' ? attributeConfig.offset : 0);\n    };\n  }\n}\n\nexport {ProgramWrapper};\n\n/**\n * @typedef {Object} ProgramWrapperConfig\n * @property {string} id\n * @property {Function} [initialize] A method for one-time initialization of the GL state for this\n * program.\n * @property {Function} [webGLStateSetter] A method for setting up the GL state for this program\n * wrapper in preparation for the current draw call.\n * @property {number} [renderPriority] Programs with lower priority will render first. This does not\n * need to be present for ProgramWrappers that are children of a GroupProgramWrapper.\n * @property {string} [vertexShaderPath] This will be present on configs for non-group\n * ProgramWrappers.\n * @property {string} [fragmentShaderPath] This will be present on configs for non-group\n * ProgramWrappers.\n * @property {boolean} [isAPostProcessor=false] A post-processing program is used for manipulating\n * the entire frame after all the models have rendered.\n * @property {boolean} [childrenProgramConfigs] A grouping program consists of multiple child\n * programs that are all rendered in sequence for a related purpose.\n * @property {Array.<ChildProgramAndFramebufferIds>} [childrenProgramsToDraw] The IDs for the\n * sequence of children ProgramWrappers to draw, as well as the IDs for the input and output\n * framebuffers/textures to use. This will be present on configs for GroupProgramWrappers.\n * @property {Array.<string>} [childrenFramebufferIds] The IDs of all the framebuffers/textures that\n * will need to be created for this program. This will be present on configs for\n * GroupProgramWrappers.\n * @property {Function} [getProgramVariablesConfig] A method for getting the variables needed for\n * drawing this program. This will be present on configs of programs that are children of a\n * GroupProgramWrapper.\n */\n\n/**\n * @typedef {Object} ChildProgramAndFramebufferIds\n * @property {string} programId The ID of the program to draw with.\n * @property {Array.<string>} inputFramebufferIds The IDs of framebuffers whose textures will be\n * used as inputs for this program's shaders.\n * @property {string} outputFramebufferId Provide null in order to render to the canvas.\n */\n\n/**\n * @typedef {Object} ProgramVariablesConfig\n * @property {Object.<String, AttributeConfig>} attributes A mapping from attribute names to\n * attribute info.\n * @property {Object.<String, UniformData>} uniforms A mapping from uniform names to uniform info.\n * @property {number} mode Specifies the type of primitives to render; one of:\n *   - gl.POINTS,\n *   - gl.LINES,\n *   - gl.LINE_STRIP,\n *   - gl.LINE_LOOP,\n *   - gl.TRIANGLES,\n *   - gl.TRIANGLE_STRIP,\n *   - gl.TRIANGLE_FAN.\n * @property {WebGLBuffer} [vertexIndices] The indices to use for retrieving the vertex info from\n * each of the other attribute variable buffers. If this property is present, then the rendering\n * pipeline will be set up to use gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\n * gl.drawArrays.\n * @property {number} elementCount The number of elements/vertices to render for this variables\n * configuration.\n */\n\n/**\n * @typedef {Object} AttributeConfig\n * @property {WebGLBuffer} buffer The buffer containing this attribute's data.\n * @property {number} index Index of target attribute in the buffer bound to gl.ARRAY_BUFFER.\n * @property {number} size The number of components per attribute. Must be 1,2,3,or 4.\n * @property {number} type Specifies the data type of each component in the array. Use either\n * gl.FLOAT or gl.FIXED.\n * @property {boolean} normalized If true, then values will be normalized to a range of -1 or 0 to\n * 1.\n * @property {number} stride Specifies the offset in bytes between the beginning of consecutive\n * vertex attributes. Default value is 0, maximum is 255. Must be a multiple of type.\n * @property {number} offset Specifies an offset in bytes of the first component of the first\n * vertex attribute in the array. Default is 0 which means that vertex attributes are tightly\n * packed. Must be a multiple of type.\n */\n\n/** @typedef {*} UniformData */\n","import {loadImageSrc} from '../../util';\n\n/**\n * This class loads, sets up, and stores WebGL texture objects.\n *\n * NOTE: Only textures whose side lengths are powers of two are supported.\n */\nclass TextureStore {\n  constructor() {\n    this.textureCache = {};\n  }\n\n  /**\n   * @param {string} texturePath\n   * @returns {WebGLTexture}\n   */\n  getTexture(texturePath) {\n    return this.textureCache[texturePath].texture;\n  }\n\n  /**\n   * Loads the texture image at the given path, creates a texture object from it, caches the\n   * texture, and returns a promise for the texture.\n   *\n   * This method is idempotent; a given texture will only be loaded once.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {string} texturePath\n   * @returns {Promise.<WebGLTexture, Error>}\n   */\n  loadTexture(gl, texturePath) {\n    let textureCacheInfo = this.textureCache[texturePath];\n\n    // Load, create, and cache the texture if it has not been previously registered.\n    if (!textureCacheInfo) {\n      textureCacheInfo = {\n        texturePromise: null,\n        texture: null,\n        image: new Image()\n      };\n      this.textureCache[texturePath] = textureCacheInfo;\n      textureCacheInfo.texturePromise = loadImageSrc(textureCacheInfo.image, texturePath)\n          .then(_ => this._createTexture(gl, textureCacheInfo));\n    }\n\n    return textureCacheInfo.texturePromise;\n  }\n\n  // TODO: Make this more general/configurable by creating a new TextureConfig typedef with most of\n  // the gl.xxx params included below (like the AttributeConfig typedef}, passing a textureConfig in\n  // the register method, and saving it on the textureCacheInfo object.\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {TextureCacheInfo} textureCacheInfo\n   * @returns {WebGLTexture}\n   * @private\n   */\n  _createTexture(gl, textureCacheInfo) {\n    console.info(`Texture loaded: ${textureCacheInfo.image.src}`);\n\n    textureCacheInfo.texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, textureCacheInfo.texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCacheInfo.image);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\n    gl.generateMipmap(gl.TEXTURE_2D);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n\n    return textureCacheInfo.texture;\n  }\n\n  /**\n   * WARNING: This will remove the texture from the store even if there are still other components\n   * depending on this texture.\n   *\n   * @param {string} texturePath\n   */\n  deleteTexture(texturePath) {\n    delete this.textureCache[texturePath];\n  }\n}\n\nexport const textureStore = new TextureStore();\n\n/**\n * @typedef {Object} TextureCacheInfo\n * @property {Promise.<WebGLTexture, Error>} texturePromise\n * @property {WebGLTexture} [texture]\n * @property {HTMLImageElement} [image]\n */\n","/**\n * This class stores a function for setting a value to a WebGL uniform variable.\n *\n * This is intended for use as a helper for the ProgramWrapper class.\n */\n// TODO: Write tests for this class.\nclass UniformSetter {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {WebGLProgram} program\n   * @param {WebGLActiveInfo} uniformInfo\n   * @param {ProgramWrapper} programWrapper\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\n   */\n  constructor(gl, program, uniformInfo, programWrapper) {\n    this._location = gl.getUniformLocation(program, uniformInfo.name);\n    this._setter = this._getSetter(gl, uniformInfo, programWrapper);\n\n    // TODO: Freeze this object after initializing\n  }\n\n  /**\n   * @param {UniformData} uniformValue\n   */\n  setUniform(uniformValue) {\n    uniformValue = uniformValue instanceof Array ? new Float32Array(uniformValue) : uniformValue;\n    this._setter(uniformValue);\n  }\n\n  /** @returns {WebGLUniformLocation} */\n  get location() {\n    return this._location;\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {WebGLActiveInfo} uniformInfo\n   * @param {ProgramWrapper} programWrapper\n   * @returns {Function.<*>}\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\n   * @private\n   */\n  _getSetter(gl, uniformInfo, programWrapper) {\n    const isArray = uniformInfo.size > 1 && uniformInfo.name.substr(-3) === '[0]';\n    const setterMap = isArray ? {\n      [gl.FLOAT]: value => gl.uniform1fv(this._location, value),\n      [gl.INT]: value => gl.uniform1iv(this._location, value),\n      [gl.SAMPLER_2D]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_2D, uniformInfo.size,\n          programWrapper),\n      [gl.SAMPLER_CUBE]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_CUBE_MAP,\n          uniformInfo.size, programWrapper),\n    } : {\n      [gl.FLOAT]: value => gl.uniform1f(this._location, value),\n      [gl.FLOAT_VEC2]: value => gl.uniform2fv(this._location, value),\n      [gl.FLOAT_VEC3]: value => gl.uniform3fv(this._location, value),\n      [gl.FLOAT_VEC4]: value => gl.uniform4fv(this._location, value),\n      [gl.INT]: value => gl.uniform1i(this._location, value),\n      [gl.INT_VEC2]: value => gl.uniform2iv(this._location, value),\n      [gl.INT_VEC3]: value => gl.uniform3iv(this._location, value),\n      [gl.INT_VEC4]: value => gl.uniform4iv(this._location, value),\n      [gl.BOOL]: value => gl.uniform1i(this._location, value),\n      [gl.BOOL_VEC2]: value => gl.uniform2iv(this._location, value),\n      [gl.BOOL_VEC3]: value => gl.uniform3iv(this._location, value),\n      [gl.BOOL_VEC4]: value => gl.uniform4iv(this._location, value),\n      [gl.FLOAT_MAT2]: value => gl.uniformMatrix2fv(this._location, false, value),\n      [gl.FLOAT_MAT3]: value => gl.uniformMatrix3fv(this._location, false, value),\n      [gl.FLOAT_MAT4]: value => gl.uniformMatrix4fv(this._location, false, value),\n      [gl.SAMPLER_2D]: this._getUniformTextureSetter(gl, gl.TEXTURE_2D,\n          programWrapper.baseTextureUnitIndex++),\n      [gl.SAMPLER_CUBE]: this._getUniformTextureSetter(gl, gl.TEXTURE_CUBE_MAP,\n          programWrapper.baseTextureUnitIndex++),\n    };\n    return setterMap[uniformInfo.type];\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} target An enum describing the type of this buffer; one of:\n   *   - gl.TEXTURE_2D,\n   *   - gl.TEXTURE_CUBE_MAP.\n   * @param {number} uniformSize\n   * @param {ProgramWrapper} programWrapper\n   * @returns {Function.<*>}\n   * @private\n   */\n  _getUniformTextureArraySetter(gl, target, uniformSize, programWrapper) {\n    const textureUnitIndices =\n        Array.from({length: uniformSize}, _ => programWrapper.baseTextureUnitIndex++);\n\n    return textures => {\n      textures.forEach((texture, index) => {\n        gl.activeTexture(gl.TEXTURE0 + textureUnitIndices[index]);\n        gl.bindTexture(target, texture);\n      });\n      gl.uniform1iv(this._location, textureUnitIndices);\n    };\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} target An enum describing the type of this buffer; one of:\n   *   - gl.TEXTURE_2D,\n   *   - gl.TEXTURE_CUBE_MAP.\n   * @param {number} textureUnitIndex\n   * @returns {Function.<*>}\n   * @private\n   */\n  _getUniformTextureSetter(gl, target, textureUnitIndex) {\n    return texture => {\n      gl.activeTexture(gl.TEXTURE0 + textureUnitIndex);\n      gl.bindTexture(target, texture);\n      gl.uniform1i(this._location, textureUnitIndex);\n    };\n  }\n}\n\nexport {UniformSetter};\n","import {renderableShapeFactory} from './src/renderable-shape-factory';\n\nimport {capsuleRenderableShapeFactory} from './src/shape-configs/capsule-renderable-shape';\nimport {cubeRenderableShapeFactory} from './src/shape-configs/cube-renderable-shape';\nimport {icosahedronRenderableShapeFactory} from './src/shape-configs/icosahedron-renderable-shape';\nimport {icosphereRenderableShapeFactory} from './src/shape-configs/icosphere-renderable-shape';\nimport {latLongSphereRenderableShapeFactory} from './src/shape-configs/lat-long-sphere-renderable-shape';\nimport {tetrahedronRenderableShapeFactory} from './src/shape-configs/tetrahedron-renderable-shape';\n\n[\n  capsuleRenderableShapeFactory,\n  cubeRenderableShapeFactory,\n  icosahedronRenderableShapeFactory,\n  icosphereRenderableShapeFactory,\n  latLongSphereRenderableShapeFactory,\n  tetrahedronRenderableShapeFactory\n].forEach(renderableShapeFactory.registerRenderableShapeFactory);\n\nexport * from './src/shape-configs/capsule-renderable-shape';\nexport * from './src/shape-configs/cube-renderable-shape';\nexport * from './src/shape-configs/icosahedron-renderable-shape';\nexport * from './src/shape-configs/icosphere-renderable-shape';\nexport * from './src/shape-configs/lat-long-sphere-renderable-shape';\nexport * from './src/shape-configs/tetrahedron-renderable-shape';\n\nexport * from './src/renderable-shape-factory';\nexport * from './src/renderable-shape-store';\n","import {DefaultModel} from '../../models';\nimport {renderableShapeStore} from './renderable-shape-store';\n\n/**\n * This module defines a factory for DefaultRigidModal instances that are based on the various\n * pre-defined renderable shapes in this directory.\n */\n\nconst renderableShapeFactory = {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {RenderableShapeConfig} params\n   * @returns {DefaultModel}\n   */\n  createModel: (gl, params) => {\n    const shapeConfig = renderableShapeFactory.getRenderableShape(params);\n    return new DefaultModel(gl, shapeConfig);\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    params.isUsingSphericalNormals = params.isUsingSphericalNormals || false;\n    params.divisionsCount = typeof params.divisionsCount === 'number' ? params.divisionsCount : 0;\n\n    let shapeConfig = renderableShapeStore.getShape(params);\n    if (!shapeConfig) {\n      shapeConfig = _shapeIdsToRenderableShapeFactories[params.shapeId].getRenderableShape(params);\n      _updateTextureCoordinatesSpan(shapeConfig, params.textureSpan);\n      renderableShapeStore.registerShape(shapeConfig, params);\n    }\n    return shapeConfig;\n  },\n\n  /**\n   * @param {RenderableShapeFactory} shapeConfigFactory\n   */\n  registerRenderableShapeFactory: shapeConfigFactory => {\n    _shapeIdsToRenderableShapeFactories[shapeConfigFactory.shapeId] = shapeConfigFactory;\n    renderableShapeStore.registerRenderableShapeFactory(shapeConfigFactory);\n  }\n};\n\nconst _shapeIdsToRenderableShapeFactories = {};\n\n/**\n * @param {RenderableShape} shapeConfig\n * @param {TextureSpan} textureSpan\n * @private\n */\nfunction _updateTextureCoordinatesSpan(shapeConfig, textureSpan) {\n  if (!textureSpan) return;\n\n  const minX = textureSpan.minX;\n  const minY = textureSpan.minY;\n  const rangeX = textureSpan.maxX - textureSpan.minX;\n  const rangeY = textureSpan.maxY - textureSpan.minY;\n\n  const textureCoordinates = shapeConfig.textureCoordinates.slice();\n  shapeConfig.textureCoordinates = textureCoordinates;\n\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = minX + rangeX * textureCoordinates[i];\n    textureCoordinates[i + 1] = minY + rangeY * textureCoordinates[i + 1];\n  }\n}\n\nexport {renderableShapeFactory};\n\n/**\n * @typedef {Object} RenderableShapeFactory\n * @property {string} shapeId\n * @property {Function.<RenderableShape>} getRenderableShape\n * @property {Function.<String>} getCacheId\n */\n\n/**\n * @typedef {Object} RenderableShape\n * @property {Array.<Number>} vertexPositions\n * @property {Array.<Number>} vertexNormals\n * @property {Array.<Number>} textureCoordinates\n * @property {Array.<Number>} [vertexIndices]\n * @property {number} elementCount\n */\n\n/**\n * @typedef {Object} TextureSpan\n * @property {number} minX\n * @property {number} minY\n * @property {number} maxX\n * @property {number} maxY\n */\n\n/**\n * @typedef {Object} RenderableShapeConfig\n * @property {string} shapeId The ID of the type of renderable shape.\n * @property {boolean} [isUsingSphericalNormals=false] Whether light reflections should show sharp\n * edges.\n * @property {TextureSpan} [textureSpan] For indicating how much a texture should repeat in both axes.\n * A range of 0-0.5 should show half the texture. A range of 0-2 would show the texture twice. The\n * default is 0-1 in both directions.\n * @property {vec3} [scale]\n */\n\n/**\n * @typedef {RenderableShapeConfig} SphericalRenderableShapeParams\n * @property {number} divisionsCount How many times to sub-divide the sphere.\n */\n","/**\n * This class caches renderable shape data.\n */\nclass RenderableShapeStore {\n  constructor() {\n    this._shapeCache = new Map();\n  }\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getShape(params) {\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\n    return this._shapeCache.get(key);\n  }\n\n  /**\n   * Caches the given shape info.\n   *\n   * @param {RenderableShape} shapeConfig\n   * @param {RenderableShapeConfig} params\n   */\n  registerShape(shapeConfig, params) {\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\n    this._shapeCache.set(key, shapeConfig);\n  }\n\n  /**\n   * @param {RenderableShapeFactory} shapeConfigFactory\n   */\n  registerRenderableShapeFactory(shapeConfigFactory) {\n    _shapeIdsToCacheKeyCalculators[shapeConfigFactory.shapeId] = shapeConfigFactory.getCacheId;\n  }\n\n  // TODO: Add support for un-registering shapes.\n}\n\n/**\n * @param {RenderableShapeConfig} params\n * @returns {string}\n */\nfunction getCacheKey(params) {\n  const textureSpanStr = params.textureSpan\n      ? `:${params.textureSpan.minX},${params.textureSpan.minY},${params.textureSpan.maxX},` +\n  `${params.textureSpan.maxY}`\n      : '';\n\n  return `${params.shapeId}:${params.isUsingSphericalNormals}${textureSpanStr}`;\n}\n\nconst _shapeIdsToCacheKeyCalculators = {};\n\nconst renderableShapeStore = new RenderableShapeStore();\nexport {renderableShapeStore, getCacheKey};\n","/**\n * This module defines a configuration factory for a capsule shape.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n */\n\nimport {\n  calculateSphericalSection,\n  calculateOrthogonalVertexNormals,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  calculateLatLongTextureCoordinates,\n  calculateCylindricalSection,\n  calculateCylindricalTextureCoordinates,\n  TWO_PI,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n// TODO: Once I have a better camera in place, test that these texture coordinate calculations are\n// correct.\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleTopShape(params) {\n  // Calculate the positions.\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\n  const individualVertexPositions = calculateSphericalSection(\n      0, params.divisionsCount / 2, Math.PI / params.divisionsCount,\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  // Calculate the indices and normals.\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions));\n    vertexNormals = vertexPositions;\n  }\n\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n  let scale;\n  let translation;\n\n  // Scale and translate the positions.\n  scale = params.radius;\n  translation = params.capsuleEndPointsDistance / 2;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\n  translation = 1 - scale;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleBottomShape(params) {\n  // Calculate the positions.\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\n  const individualVertexPositions = calculateSphericalSection(\n      params.divisionsCount / 2, params.divisionsCount, Math.PI / params.divisionsCount,\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  // Calculate the indices and normals.\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions);\n    vertexPositions = positionsAndIndices.vertexPositions;\n    vertexIndices = positionsAndIndices.vertexIndices;\n    vertexNormals = vertexPositions;\n  }\n\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n  let scale;\n  let translation;\n\n  // Scale and translate the positions.\n  scale = params.radius;\n  translation = -params.capsuleEndPointsDistance / 2;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\n  translation = 0;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleMiddleShape(params) {\n  let scale;\n  let translation;\n\n  // Calculate the positions.\n  translation = params.capsuleEndPointsDistance / 2;\n  const individualVertexPositions = calculateCylindricalSection(\n      -translation, translation, 0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n\n  // Calculate the vertex indices and normals.\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions);\n    vertexPositions = positionsAndIndices.vertexPositions;\n    vertexIndices = positionsAndIndices.vertexIndices;\n\n    // Calculate the vertex normals.\n    vertexNormals = vertexPositions.map((coord, index) => index % 3 === 2 ? 0 : coord);\n  }\n\n  // Calculate the texture coordinates.\n  const textureCoordinates = calculateCylindricalTextureCoordinates(vertexPositions);\n\n  // Scale the x and y position coordinates.\n  scale = params.radius;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.capsuleEndPointsDistance / (params.radius + params.capsuleEndPointsDistance);\n  translation = (1 - scale) / 2;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\nconst capsuleRenderableShapeFactory = {\n  shapeId: 'CAPSULE',\n\n  /**\n   * @param {CapsuleRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: (params) => {\n    // Ensure the divisions count is even.\n    if (params.divisionsCount % 2 === 1) {\n      params.divisionsCount++;\n    }\n\n    // The capsule's sub-shapes.\n    const topShape = _calculateCapsuleTopShape(params);\n    const bottomShape = _calculateCapsuleBottomShape(params);\n    const middleShape = _calculateCapsuleMiddleShape(params);\n\n    // Concatenate positions, normals, texture coordinates, and indices.\n    const vertexPositions = topShape.vertexPositions.concat(middleShape.vertexPositions, \n        bottomShape.vertexPositions);\n    const vertexNormals = topShape.vertexNormals.concat(middleShape.vertexNormals,\n        bottomShape.vertexNormals);\n    const textureCoordinates = topShape.textureCoordinates.concat(middleShape.textureCoordinates,\n        bottomShape.textureCoordinates);\n    const vertexIndices = topShape.vertexIndices\n        ? topShape.vertexIndices.concat(middleShape.vertexIndices, bottomShape.vertexIndices)\n        : null;\n    const elementCount = topShape.elementCount + middleShape.elementCount + bottomShape.elementCount;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {CapsuleRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {capsuleRenderableShapeFactory};\n\n/**\n * @typedef {SphericalRenderableShapeParams} CapsuleRenderableShapeParams\n * @property {number} radius\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on\n * either end of the capsule.\n */\n","/**\n * This model defines a shape configuration factory for a cube.\n *\n * This cube is one unit long on each side.\n */\n\nimport {getCacheKey} from '../renderable-shape-store';\n\nconst VERTEX_COORDINATE = 0.5;\n\nconst vertexPositions = [\n  // Front face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  // Back face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  // Top face\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  // Bottom face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  // Right face\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  // Left face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE\n];\n\nconst orthogonalVertexNormals = [\n  // Front face\n  0, 0, 1,\n  0, 0, 1,\n  0, 0, 1,\n  0, 0, 1,\n  // Back face\n  0, 0, -1,\n  0, 0, -1,\n  0, 0, -1,\n  0, 0, -1,\n  // Top face\n  0, 1, 0,\n  0, 1, 0,\n  0, 1, 0,\n  0, 1, 0,\n  // Bottom face\n  0, -1, 0,\n  0, -1, 0,\n  0, -1, 0,\n  0, -1, 0,\n  // Right face\n  1, 0, 0,\n  1, 0, 0,\n  1, 0, 0,\n  1, 0, 0,\n  // Left face\n  -1, 0, 0,\n  -1, 0, 0,\n  -1, 0, 0,\n  -1, 0, 0\n];\n\nconst textureCoordinates = [\n  // Front face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Back face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Top face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Bottom face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Right face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Left face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1\n];\n\n// This array defines each face as two triangles, using the indices into the vertex array\n// to specify each triangle's position.\nconst vertexIndices = [\n  // Front face\n  0,  1,  2,\n  0,  2,  3,\n  // Back face\n  4,  5,  6,\n  4,  6,  7,\n  // Top face\n  8,  9,  10,\n  8,  10, 11,\n  // Bottom face\n  12, 13, 14,\n  12, 14, 15,\n  // Right face\n  16, 17, 18,\n  16, 18, 19,\n  // Left face\n  20, 21, 22,\n  20, 22, 23\n];\n\nconst cubeRenderableShapeFactory = {\n  shapeId: 'CUBE',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    const vertexNormals = params.isUsingSphericalNormals ? vertexPositions : orthogonalVertexNormals;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: vertexIndices.length\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {cubeRenderableShapeFactory};\n","/**\n * This model defines a shape configuration factory for a regular icosahedron.\n *\n * The shape is centered around the origin.\n */\n\nimport {\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  expandVertexIndicesAroundLongitudeSeam,\n  expandVertexIndicesToDuplicatePositions,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n// The corners of a unit icosahedron with vertices aligned with the y-axis.\nconst individualVertexPositions = [\n  -0.525731086730957, -0.7236068248748779, 0.4472135901451111,\n  0.525731086730957, -0.7236068248748779, 0.4472135901451111,\n  -0.525731086730957, 0.7236068248748779, -0.4472135901451111,\n  0.525731086730957, 0.7236068248748779, -0.4472135901451111,\n  0, 0, 1,\n  0, 0.8944271802902222, 0.44721361994743347,\n  0, -0.8944271802902222, -0.44721361994743347,\n  0, 0, -1,\n  0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\n  -0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\n  0.8506508469581604, -0.27639320492744446, -0.4472135901451111,\n  -0.8506508469581604, -0.27639320492744446, -0.4472135901451111\n];\n\nconst individualVertexIndices = [\n  1,  4,  0,\n  4,  9,  0,\n  4,  5,  9,\n  8,  5,  4,\n  1,  8,  4,\n  1,  10, 8,\n  10, 3,  8,\n  8,  3,  5,\n  3,  2,  5,\n  3,  7,  2,\n  3,  10, 7,\n  10, 6,  7,\n  6,  11, 7,\n  6,  0,  11,\n  6,  1,  0,\n  10, 1,  6,\n  11, 0,  9,\n  2,  11, 9,\n  5,  2,  9,\n  11, 2,  7\n];\n\nlet vertexPositionsExpandedAroundSeam = null;\nlet vertexIndicesExpandedAroundSeam = null;\nlet textureCoordinates = null;\n\nconst icosahedronRenderableShapeFactory = {\n  shapeId: 'ICOSAHEDRON',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    let vertexPositions;\n    let vertexIndices;\n\n    if (!vertexPositionsExpandedAroundSeam) {\n      // Calculate the modified positions and indices.\n      const positionsAndIndices = expandVertexIndicesAroundLongitudeSeam(\n          individualVertexPositions, individualVertexIndices);\n      vertexPositionsExpandedAroundSeam = positionsAndIndices.vertexPositions;\n      vertexIndicesExpandedAroundSeam = positionsAndIndices.vertexIndices;\n    }\n\n    vertexPositions = vertexPositionsExpandedAroundSeam;\n    vertexIndices = vertexIndicesExpandedAroundSeam;\n\n    let vertexNormals;\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    if (!params.isUsingSphericalNormals) {\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\n          vertexIndices);\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      vertexNormals = vertexPositions;\n    }\n\n    textureCoordinates = textureCoordinates\n        ? textureCoordinates\n        : calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {icosahedronRenderableShapeFactory};\n","/**\n * This module defines logic that creates a spherical shape configuration by taking a shape,\n * sub-dividing each of its triangles, and projecting each new vertex onto the edge of a sphere.\n *\n * This is technically only an \"icosphere\" if the starting shape is an icosahedron.\n *\n * This shape also is known as a \"geosphere\".\n *\n * The shape is centered around the origin.\n */\n\nimport {\n  deepCopy,\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  expandVertexIndicesAroundLongitudeSeam,\n  expandVertexIndicesToDuplicatePositions,\n  tesselateSphere,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\nimport {renderableShapeFactory} from '../renderable-shape-factory';\n\nconst icosphereRenderableShapeFactory = {\n  shapeId: 'ICOSPHERE',\n\n  /**\n   * @param {IcosphereRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    params.divisionsCount = Math.max(params.divisionsCount, 1);\n\n    const copyParams = deepCopy(params);\n    copyParams.shapeId = params.baseShapeId || 'ICOSAHEDRON';\n    const baseRenderableShape = renderableShapeFactory.getRenderableShape(copyParams);\n\n    // Calculate the positions and indices.\n    let {vertexPositions, vertexIndices} = tesselateSphere(params.divisionsCount,\n        baseRenderableShape.vertexPositions, baseRenderableShape.vertexIndices);\n    ({vertexPositions, vertexIndices} = expandVertexIndicesAroundLongitudeSeam(\n        vertexPositions, vertexIndices));\n\n    let vertexNormals;\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    if (!params.isUsingSphericalNormals) {\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\n          vertexIndices);\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      vertexNormals = vertexPositions;\n    }\n\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {IcosphereRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {icosphereRenderableShapeFactory};\n\n/**\n * @typedef {SphericalRenderableShapeParams} IcosphereRenderableShapeParams\n * @property {string} baseShapeId The ID of the base renderable shape that will be sub-divided to\n * create this icosphere shape.\n */\n","import {\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  calculateSphericalSection,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  TWO_PI,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n/**\n * This module defines a configuration factory for a spherical shape whose vertices lie along\n * latitude and longitude lines.\n *\n * This shape also is known as a \"UV sphere\".\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n */\n\n/**\n * @param {number} divisionsCount\n * @returns {Array.<Number>}\n * @private\n */\nfunction _calculateLatLongSpherePositions(divisionsCount) {\n  const deltaPitch = Math.PI / divisionsCount;\n  const deltaAzimuth = TWO_PI / divisionsCount;\n\n  return calculateSphericalSection(\n      0, divisionsCount, deltaPitch,\n      0, divisionsCount, deltaAzimuth);\n}\n\nconst latLongSphereRenderableShapeFactory = {\n  shapeId: 'LAT_LONG_SPHERE',\n\n  /**\n   * @param {SphericalRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    // Calculate the positions.\n    const individualVertexPositions = _calculateLatLongSpherePositions(params.divisionsCount);\n\n    // Calculate the indices and normals.\n    let vertexPositions;\n    let vertexIndices;\n    let vertexNormals;\n    if (!params.isUsingSphericalNormals) {\n      // If we use orthogonal normals, then we cannot use vertexIndices.\n      vertexPositions = individualVertexPositions;\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\n          individualVertexPositions));\n      vertexNormals = vertexPositions;\n    }\n\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {SphericalRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {latLongSphereRenderableShapeFactory};\n","import {calculateOrthogonalVertexNormals} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n/**\n * This model defines a shape configuration factory for a regular tetrahedron.\n *\n * The shape is centered around the origin.\n */\n\n// ||(VERTEX_COORDINATE, VERTEX_COORDINATE, VERTEX_COORDINATE)|| = 1\nconst VERTEX_COORDINATE = 0.5773502588272095;\n\nconst vertexPositions = [\n  // Left-top-near face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n\n  // Right-top-far face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n\n  // Right-bottom-near face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n\n  // Left-bottom-far face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE, -VERTEX_COORDINATE\n];\n\n// 1 - Math.sqrt(3) / 2\nconst TEXTURE_BASE_COORDINATE = 0.13397459621;\n\nconst textureCoordinates = [\n  // Left-top-near face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Right-top-far face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Right-bottom-near face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Left-bottom-far face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE\n];\n\nconst tetrahedronRenderableShapeFactory = {\n  shapeId: 'TETRAHEDRON',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    const vertexNormals = params.isUsingSphericalNormals\n        ? vertexPositions\n        : calculateOrthogonalVertexNormals(vertexPositions);\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: null,\n      elementCount: vertexPositions.length / 3\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {tetrahedronRenderableShapeFactory};\n","import {\n  animator,\n  PersistentAnimationJob\n}\nfrom '../../../animatex';\nimport { PhysicsEngine } from 'lsl-physx';\nimport {\n  ProgramWrapper,\n  programWrapperStore,\n  textureStore\n}\nfrom '../program-wrapper';\nimport {\n  bindFramebuffer,\n  bindGLContextToViewportDimensions,\n  getWebGLContext,\n  getViewportHeight,\n  getViewportWidth,\n}\nfrom '../util';\n\n/**\n * This top-level Controller class initializes and runs the rest of the app.\n */\nclass GrafxController extends PersistentAnimationJob {\n  constructor() {\n    super();\n\n    this._canvas = null;\n    this._gl = null;\n    this._scene = null;\n    this._currentProgramWrapper = null;\n  }\n\n  /**\n   * Initializes the app. After this completes successfully, call run to actually start the app.\n   *\n   * @param {HTMLCanvasElement} canvas\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\n   * should be pre-cached before starting the rest of the app.\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\n   * starting the rest of the app.\n   * @param {Function.<Scene>} sceneFactory\n   * @returns {Promise}\n   */\n  initialize(canvas, programConfigs, texturePaths, sceneFactory) {\n    this._canvas = canvas;\n\n    return Promise.resolve()\n      .then(() => this._setUpWebGLContext())\n      .then(() => Promise.all([\n        this._preCachePrograms(programConfigs),\n        this._preCacheTextures(texturePaths)\n      ]))\n      .then(() => this._setUpScene(sceneFactory));\n  }\n\n  destroy() {}\n\n  reset() {\n    // FIXME: Will it be easier to replace this with initialize?\n    this._scene.reset();\n  }\n\n  /**\n   * Runs the app. This should be called after initialize.\n   *\n   * A few things happen if this is run in dev mode:\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\n   *   step and resolves when this controller has finished (currently never)\n   */\n  run() {\n    this._startAnimator();\n  }\n\n  _startAnimator() { // FIXME: Decouple physx\n    animator.startJob(PhysicsEngine.instance);\n    animator.startJob(this);\n  }\n\n  /**\n   * Updates the scene.\n   *\n   * This updates all of the current parameters for each component in the scene for the current\n   * frame. However, this does not render anything. Rendering is done by a following call to the\n   * draw function.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._scene.updateSelfAndChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Draws the scene.\n   *\n   * This renders the current frame for all components in the scene. This assumes that all relevant\n   * parameter updates for this frame have already been computed by a previous call to _updateScene.\n   */\n  draw() {\n    // Clear the canvas before we start drawing on it.\n    this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\n\n    // If we are using a post-processing program, then we need to render models to a framebuffer\n    // rather than directly to the canvas.\n    if (programWrapperStore.isUsingPostProcessingPrograms) {\n      bindFramebuffer(this._gl, programWrapperStore.modelsFramebuffer);\n      this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\n    }\n\n    // Draw each program separately. This minimizes how many times we need to switch programs by\n    // grouping all of the draw calls for models that use the same program/shaders.\n    programWrapperStore.forEachModelProgram((programWrapper, drawFrameHandlers) =>\n      this._drawModelProgram(programWrapper, drawFrameHandlers));\n    programWrapperStore.forEachPostProcessingProgram(\n      (programWrapper) => this._drawPostProcessingProgram(programWrapper));\n  }\n\n  /**\n   * For the given program key, this binds the registered shader program to the GL rendering context\n   * and calls each of the registered draw-frame handlers.\n   *\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\n   * @param {Set.<Function>} [drawFrameHandlers]\n   * @private\n   */\n  _drawModelProgram(programWrapper, drawFrameHandlers) {\n    // Check whether we need to switch programs (always true if there is more than one program\n    // registered).\n    if (this._currentProgramWrapper !== programWrapper) {\n      programWrapper.setProgram(this._gl);\n      this._currentProgramWrapper = programWrapper;\n    }\n\n    // Call each of the draw-frame handlers that use the current rendering program.\n    drawFrameHandlers.forEach(drawFrameHandler => drawFrameHandler());\n  }\n\n  /**\n   * For the given program key, this binds the registered shader program to the GL rendering context\n   * and calls each of the registered draw-frame handlers.\n   *\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\n   * @private\n   */\n  _drawPostProcessingProgram(programWrapper) {\n    this._currentProgramWrapper = programWrapper;\n    programWrapper.draw(this._gl);\n  }\n\n  /**\n   * Initializes the WebGL rendering context.\n   *\n   * @private\n   */\n  _setUpWebGLContext() {\n    // Get the WebGL rendering context.\n    try {\n      this._gl = getWebGLContext(this._canvas);\n    }\n    catch (e) {\n      alert('WebGL is not supported by your browser! :(');\n      throw e;\n    }\n\n    // Have the canvas context match the resolution of the window's viewport.\n    bindGLContextToViewportDimensions(this._canvas, this._gl, () => this._updateAspectRatio());\n\n    // Clear everything to black.\n    this._gl.clearColor(0, 0, 0, 1);\n    this._gl.clearDepth(1);\n\n    // Enable depth testing.\n    this._gl.enable(this._gl.DEPTH_TEST);\n    this._gl.depthFunc(this._gl.LEQUAL);\n  }\n\n  /**\n   * Loads, compiles, caches, and initializes some rendering programs.\n   *\n   * @param {Array.<ProgramWrapperConfig>} programConfigs\n   * @returns {Promise}\n   * @private\n   */\n  _preCachePrograms(programConfigs) {\n    const promises =\n      programConfigs.map(config => programWrapperStore.loadProgramWrapper(this._gl, config));\n    return Promise.all(promises);\n  }\n\n  /**\n   * Loads, compiles, and caches some textures.\n   *\n   * @param {Array.<String>} texturePaths\n   * @returns {Promise}\n   * @private\n   */\n  _preCacheTextures(texturePaths) {\n    return Promise.all(texturePaths\n      .map(texturePath => textureStore.loadTexture(this._gl, texturePath)));\n  }\n\n  /**\n   * Initializes the scene.\n   *\n   * @param {Function.<Scene>} sceneFactory\n   * @returns {Promise}\n   * @abstract\n   * @protected\n   */\n  _setUpScene(sceneFactory) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @protected\n   */\n  _updateAspectRatio() {\n    this._scene.camera.aspectRatio = getViewportWidth() / getViewportHeight();\n    _resizeFramebuffersToMatchViewportSize(this._gl);\n  }\n\n  /**\n   * @returns {mat4}\n   * @protected\n   */\n  _getViewMatrix() {\n    return this._scene.camera.viewMatrix;\n  }\n\n  /**\n   * @returns {mat4}\n   * @protected\n   */\n  _getProjectionMatrix() {\n    return this._scene.camera.projectionMatrix;\n  }\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @private\n */\nfunction _resizeFramebuffersToMatchViewportSize(gl) {\n  if (programWrapperStore.isUsingPostProcessingPrograms) {\n    const width = getViewportWidth();\n    const height = getViewportHeight();\n\n    // Update the per-model framebuffer texture.\n    const texture = programWrapperStore.modelsTexture;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n    // Update the per-model framebuffer depth render buffer.\n    const renderBuffer = programWrapperStore.modelsRenderBuffer;\n    gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n\n    // Update the post-processing framebuffer textures.\n    programWrapperStore.forEachPostProcessingProgram(programWrapper => {\n      programWrapper.config.childrenFramebufferIds.forEach(id => {\n        const texture = programWrapperStore.getTexture(id);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      });\n    });\n  }\n}\n\nexport { GrafxController };\n","/**\n * This class defines a light source.\n */\nclass Light {\n  constructor() {\n    // TODO\n  }\n\n  // TODO: Implement this.\n}\n\nexport {Light};\n","import { ModelGroupController } from '../models';\n\n/**\n * This class handles the overall scene.\n */\nclass Scene extends ModelGroupController {\n  /**\n   * @param {ModelGroupControllerConfig} modelControllerParams\n   */\n  constructor(modelControllerParams) {\n    super(modelControllerParams);\n\n    // Scene is an abstract class. It should not be instantiated directly.\n    if (new.target === Scene) {\n      throw new TypeError('Cannot construct Scene instances directly');\n    }\n\n    this._getWorldTransform = () => this.worldTransform;\n    this._lights = [];\n    this._camera = null;\n  }\n\n  reset() {\n    super.reset();\n    this._lights.forEach(light => light.reset());\n    this._camera.reset();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {\n    super.updateChildren(currentTime, deltaTime);\n    this._camera.update(currentTime, deltaTime);\n  }\n\n  /** @returns {Camera} */\n  get camera() {\n    return this._camera;\n  }\n}\n\nexport { Scene };\n","export * from './src/geometry';\nexport * from './src/gl-util';\nexport * from './src/hash-map';\nexport * from './src/util';\n","/**\n * This module defines a collection of static geometry utility functions.\n */\n\nimport {randomFloatInRange} from './util';\n\nconst EPSILON = 0.0000001;\nconst DEG_TO_RAD_RATIO = Math.PI / 180;\nconst RAD_TO_DEG_RATIO = 180 / Math.PI;\nconst HALF_PI = Math.PI / 2;\nconst TWO_PI = Math.PI * 2;\n\n/**\n * @param {number} deg\n * @returns {number}\n */\nfunction degToRad(deg) {\n  return deg * DEG_TO_RAD_RATIO;\n}\n\n/**\n * @param {number} rad\n * @returns {number}\n */\nfunction radToDeg(rad) {\n  return rad * RAD_TO_DEG_RATIO;\n}\n\n/**\n * This checks whether two floating-point numbers are close enough that they could be equal if not\n * for round-off errors.\n *\n * @param {number} a\n * @param {number} b\n * @returns {boolean}\n */\nfunction areClose(a, b) {\n  const diff = a - b;\n  return (diff > 0 ? diff : -diff) < EPSILON;\n}\n\n/**\n * @param {vec3} a\n * @param {vec3} b\n * @returns {boolean}\n */\nfunction areVec3sEqual(a, b) {\n  return a[0] === b[0] &&\n      a[1] === b[1] &&\n      a[2] === b[2];\n}\n\n/**\n * @param {vec3} v\n * @returns {string}\n */\nfunction vec3ToString(v) {\n  return `(${v[0]},${v[1]},${v[2]})`;\n}\n\n/**\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction createRandomVec3(scale = 1) {\n  const v = vec3.create();\n  return setRandomVec3(v, scale);\n}\n\n/**\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} v\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction setRandomVec3(v, scale = 1) {\n  vec3.set(v, Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5);\n  vec3.normalize(v, v);\n  vec3.scale(v, v, scale);\n  return v;\n}\n\n/**\n * Calculates a vector that is orthogonal to the given vector.\n *\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} basis\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction createRandomOrthogonalVec3(basis, scale = 1) {\n  const result = vec3.create();\n  return setRandomOrthogonalVec3(result, basis, scale);\n}\n\n/**\n * Calculates a vector that is orthogonal to the given vector.\n *\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} result\n * @param {vec3} basis\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction setRandomOrthogonalVec3(result, basis, scale = 1) {\n  setRandomVec3(result);\n  // This is based on the dot and cross products and the fact that the dot product for two\n  // orthogonal vectors is zero.\n  result[2] = -(basis[0] * result[0] + basis[1] * result[1]) / basis[2];\n  vec3.normalize(result, result);\n  vec3.scale(result, result, scale);\n  return result;\n}\n\n/**\n * @param {vec3} avg\n * @param {vec3} range\n * @returns {vec3}\n * @private\n */\nfunction randomVec3InRange(avg, range) {\n  const position = vec3.create();\n  for (let i = 0; i < 3; i++) {\n    const min = avg[i] - range[i] / 2;\n    const max = avg[i] + range[i] / 2;\n    position[i] = randomFloatInRange(min, max);\n  }\n  return position;\n}\n\n/**\n * Rotates the given vector around a random orthogonal axis by a random angle within the given angle\n * bounds.\n *\n * @param {vec3} v\n * @param {number} minRotationAngle\n * @param {number} maxRotationAngle\n */\nfunction addRandomRotationToVector(v, minRotationAngle, maxRotationAngle) {\n  // Create a random orthogonal axis.\n  const rotationAxis = createRandomVec3();\n  vec3.cross(rotationAxis, rotationAxis, v);\n  vec3.normalize(rotationAxis, rotationAxis);\n\n  // Create a random angle.\n  const rotationAngle = randomFloatInRange(minRotationAngle, maxRotationAngle);\n\n  // Create a rotation quaternion.\n  const rotation = quat.create();\n  quat.setAxisAngle(rotation, rotationAxis, rotationAngle);\n\n  // Apply the rotation to the vector.\n  vec3.transformQuat(v, v, rotation);\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {number} scale\n * @returns {quat}\n */\nfunction scaleAndAddQuat(out, a, b, scale) {\n  return quat.set(out,\n      a[0] + b[0] * scale,\n      a[1] + b[1] * scale,\n      a[2] + b[2] * scale,\n      a[3] + b[3] * scale);\n}\n\n/**\n * @param {vec3} v\n * @returns {number}\n */\nfunction getMaxVec3Dimension(v) {\n  let max = v[0] > v[1] ? v[0] : v[1];\n  max = max > v[2] ? max : v[2];\n  return max;\n}\n\nexport {\n  EPSILON,\n  HALF_PI,\n  TWO_PI,\n  degToRad,\n  radToDeg,\n  areClose,\n  areVec3sEqual,\n  vec3ToString,\n  createRandomVec3,\n  setRandomVec3,\n  createRandomOrthogonalVec3,\n  setRandomOrthogonalVec3,\n  randomVec3InRange,\n  addRandomRotationToVector,\n  scaleAndAddQuat,\n  getMaxVec3Dimension,\n};\n","/**\n * This module defines a collection of static general utility functions for WebGL.\n */\n\nimport {HashMap} from './hash-map';\nimport {HALF_PI, TWO_PI} from './geometry';\nimport {debounce, isInDevMode, loadText} from './util';\nimport {programWrapperStore} from '../../program-wrapper/src/program-wrapper-store';\n\nlet viewportWidth = 10;\nlet viewportHeight = 10;\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @returns {?WebGLRenderingContext}\n * @throws If unable to get a WebGL context.\n */\nfunction getWebGLContext(canvas) {\n  const params = {alpha: false};\n  // Try to grab the standard context. If it fails, fallback to the experimental context.\n  return canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params);\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @returns {?WebGLBuffer}\n * @throws If unable to create a buffer object.\n */\nfunction createBuffer(gl) {\n  const buffer = gl.createBuffer();\n  if (!buffer) {\n    throw new Error('An error occurred creating the buffer object');\n  }\n  return buffer;\n}\n// TODO: use all this helper stuff in the programWrapper logic?\n/**\n * @param {WebGLRenderingContext} gl\n * @param {WebGLProgram} program\n * @param {string} locationName\n * @returns {number}\n * @throws If unable to get an attribute location for the given name.\n */\nfunction getAttribLocation(gl, program, locationName) {\n  const attribLocation = gl.getAttribLocation(program, locationName);\n  if (attribLocation < 0) {\n    throw new Error(`An error occurred getting the attribute location: ${locationName}`);\n  }\n  return attribLocation;\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {WebGLShader} vertexShader\n * @param {WebGLShader} fragmentShader\n * @returns {WebGLProgram}\n * @throws If unable to link the program.\n */\nfunction buildProgram(gl, vertexShader, fragmentShader) {\n  const program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n  gl.linkProgram(program);\n\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    const infoLog = gl.getProgramInfoLog(program);\n    console.error('An error occurred linking the shader program', infoLog);\n    throw new Error('An error occurred linking the shader program');\n  }\n\n  return program;\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {string} shaderSource\n * @param {boolean} isFragmentShader\n * @returns {WebGLShader}\n * @throws If unable to compile the shader.\n */\nfunction buildShader(gl, shaderSource, isFragmentShader) {\n  const shaderType = isFragmentShader ? gl.FRAGMENT_SHADER : gl.VERTEX_SHADER;\n  const shader = gl.createShader(shaderType);\n  gl.shaderSource(shader, shaderSource);\n  gl.compileShader(shader);\n\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    const infoLog = gl.getShaderInfoLog(shader);\n    console.error('An error occurred compiling the shader', infoLog);\n    throw new Error('An error occurred compiling the shader');\n  }\n\n  return shader;\n}\n\n/**\n * Loads a shader program by scouring the current document, looking for a script with the specified\n * ID.\n *\n * @param {WebGLRenderingContext} gl\n * @param {string} url\n * @returns {Promise.<WebGLShader, Error>}\n */\nfunction loadShader(gl, url) {\n  return loadText(url)\n      .then(shaderSource => buildShader(gl, shaderSource, url.endsWith('.frag')));\n}\n\n/**\n * Loads the shader source code from the given URLs, compiles the shader source code, and creates\n * a program from the resulting shaders.\n *\n * @param {WebGLRenderingContext} gl\n * @param {string} vertexShaderUrl\n * @param {string} fragmentShaderUrl\n * @returns {Promise.<WebGLProgram, Error>}\n * @throws If any error occurs while loading and building the shaders and program.\n */\nfunction loadProgram(gl, vertexShaderUrl, fragmentShaderUrl) {\n  return Promise.all([\n        vertexShaderUrl,\n        fragmentShaderUrl\n      ].map(url => loadShader(gl, url)))\n      .then(shaders => {\n        const vertexShader = shaders[0];\n        const fragmentShader = shaders[1];\n\n        return buildProgram(gl, vertexShader, fragmentShader);\n      });\n}\n\n/**\n * Create, bind, and move the given raw data into a WebGL buffer.\n *\n * @param {WebGLRenderingContext} gl\n * @param {Array.<Number>} rawData A plain, flat array containing the data to bind to a buffer.\n * @param {number} [target=gl.ARRAY_BUFFER] An enum describing the type of this buffer; one of:\n *   - gl.ARRAY_BUFFER,\n *   - gl.ELEMENT_ARRAY_BUFFER.\n * @param {number} [usage=gl.STATIC_DRAW] An enum describing how this buffer is going to be used;\n * one of:\n *   - gl.STATIC_DRAW,\n *   - gl.DYNAMIC_DRAW,\n *   - gl.STREAM_DRAW.\n * @returns {WebGLBuffer}\n */\nfunction createBufferFromData(gl, rawData, target, usage) {\n  target = target || gl.ARRAY_BUFFER;\n  usage = usage || gl.STATIC_DRAW;\n  const typedArray = target === gl.ARRAY_BUFFER ? new Float32Array(rawData) : new Uint16Array(rawData);\n\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(target, buffer);\n  gl.bufferData(target, typedArray, usage);\n\n  // Making the original data visible on the buffer object is helpful for debugging.\n  if (isInDevMode) {\n    buffer.rawData = typedArray;\n  }\n\n  return buffer;\n}\n\n/**\n * Adjusts the dimensions of the given element to match those of the viewport. Also, when the\n * viewport is resized, the given element will also be resized to match.\n *\n * @param {HTMLCanvasElement} canvas\n * @param {WebGLRenderingContext} gl\n * @param {Function} onGLResized\n * @param {?Number} [updateInterval=150]\n */\nfunction bindGLContextToViewportDimensions(canvas, gl, onGLResized, updateInterval = 150) {\n  _resizeGLContextToMatchViewportDimensions(canvas, gl);\n  const debouncedResize =\n      debounce(_ => {\n        _resizeGLContextToMatchViewportDimensions(canvas, gl);\n        onGLResized();\n      }, updateInterval);\n  window.addEventListener('resize', debouncedResize);\n}\n\n/**\n * Resizes the given element to match the dimensions of the viewport components.\n *\n * @param {HTMLCanvasElement} canvas\n * @param {WebGLRenderingContext} gl\n * @private\n */\nfunction _resizeGLContextToMatchViewportDimensions(canvas, gl) {\n  // Account for high-definition DPI displays.\n  const devicePixelToCssPixelRatio = window.devicePixelRatio || 1;\n  viewportWidth = Math.floor(canvas.clientWidth * devicePixelToCssPixelRatio);\n  viewportHeight = Math.floor(canvas.clientHeight * devicePixelToCssPixelRatio);\n  canvas.width = viewportWidth;\n  canvas.height = viewportHeight;\n  gl.viewport(0, 0, viewportWidth, viewportHeight);\n}\n\n/**\n * @returns {number}\n */\nfunction getViewportWidth() {\n  return viewportWidth;\n}\n\n/**\n * @returns {number}\n */\nfunction getViewportHeight() {\n  return viewportHeight;\n}\n\n/**\n * Binds a framebuffer to the GL context.\n *\n * @param {WebGLRenderingContext} gl\n * @param {WebGLFramebuffer} framebuffer\n */\nfunction bindFramebuffer(gl, framebuffer, width, height) {\n  // FIXME: Remove or add back in?\n  // width = width || getViewportWidth();\n  // height = height || getViewportHeight();\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  // FIXME: Remove or add back in?\n  // gl.viewport(0, 0, width, height);\n}\n\n/**\n * Creates a framebuffer and attaches a texture to the framebuffer.\n *\n * This means that when we bind to the framebuffer, draw calls will render to the given texture.\n *\n * @param {WebGLRenderingContext} gl\n * @param {WebGLTexture} texture\n * @param {WebGLRenderBuffer} [renderBuffer]\n * @returns {WebGLFramebuffer}\n */\nfunction createFramebuffer(gl, texture, renderBuffer) {\n  const framebuffer = gl.createFramebuffer();\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\n  if (renderBuffer) {\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderBuffer);\n  }\n\n  return framebuffer;\n}\n\n/**\n * Creates a texture for rendering to.\n *\n * @param {WebGLRenderingContext} gl\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\n * @returns {WebGLTexture}\n */\nfunction createTextureForRendering(gl, width, height) {\n  width = width || getViewportWidth();\n  height = height || getViewportHeight();\n\n  // TODO: Double-check these params\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n  return texture;\n}\n\n/**\n * Creates a render buffer.\n *\n * @param {WebGLRenderingContext} gl\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\n * @returns {WebGLRenderBuffer}\n */\nfunction createRenderBuffer(gl, width, height) {\n  width = width || getViewportWidth();\n  height = height || getViewportHeight();\n\n  const renderBuffer = gl.createRenderbuffer();\n  gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n\n  return renderBuffer;\n}\n\nconst _SQUARE_COORDINATES_2D = [\n  0, 0,\n  1, 0,\n  0, 1,\n\n  1, 0,\n  1, 1,\n  0, 1,\n];\n\n/**\n * @param {WebGLRenderingContext} gl\n * @returns {AttributeConfig}\n */\nfunction create2DSquarePositionsConfig(gl) {\n  const positionsBuffer = createBufferFromData(gl, _SQUARE_COORDINATES_2D);\n  return {\n    buffer: positionsBuffer,\n    size: 2,\n    type: gl.FLOAT,\n    normalized: false,\n    stride: 0,\n    offset: 0\n  };\n}\n\n//\n// Geometrical calculations.\n//\n\n/**\n * Given an array of individual vertex positions and an array of vertex indices, creates an expanded\n * array of the positions grouped by the triangles they form.\n *\n * @param {Array.<Number>} individualVertexPositions\n * @param {Array.<Number>} vertexIndices\n * @returns {Array.<Number>}\n */\nfunction expandVertexIndicesToDuplicatePositions(individualVertexPositions, vertexIndices) {\n  const expandedVertexPositions = [];\n\n  for (let i = 0, j = 0, k = 0, count = vertexIndices.length; i < count; i++, k += 3) {\n    j = vertexIndices[i] * 3;\n\n    expandedVertexPositions[k] = individualVertexPositions[j];\n    expandedVertexPositions[k + 1] = individualVertexPositions[j + 1];\n    expandedVertexPositions[k + 2] = individualVertexPositions[j + 2];\n  }\n\n  return expandedVertexPositions;\n}\n\n/**\n * Computes normal vectors that are each orthogonal to the triangles they are a part of.\n *\n * The given vertices should represent individual triangles whose vertices are defined in clockwise\n * order (as seen when looking at the exterior side).\n *\n * @param {Array.<Number>} vertices\n * @returns {Array.<Number>}\n */\nfunction calculateOrthogonalVertexNormals(vertices) {\n  const vertex1 = vec3.create();\n  const vertex2 = vec3.create();\n  const vertex3 = vec3.create();\n  const vectorA = vec3.create();\n  const vectorB = vec3.create();\n  const normal1 = vec3.create();\n  const normal2 = vec3.create();\n  const normal3 = vec3.create();\n\n  const normals = [];\n\n  // Loop over each triangle in the flattened vertex array.\n  for (let i = 0, count = vertices.length; i < count; i += 9) {\n    // Get the vertices of the current triangle from the flattened array.\n    vec3.set(vertex1, vertices[i + 0], vertices[i + 1], vertices[i + 2]);\n    vec3.set(vertex2, vertices[i + 3], vertices[i + 4], vertices[i + 5]);\n    vec3.set(vertex3, vertices[i + 6], vertices[i + 7], vertices[i + 8]);\n\n    // Compute the normals.\n    vec3.subtract(vectorA, vertex3, vertex1);\n    vec3.subtract(vectorB, vertex2, vertex1);\n    vec3.cross(normal1, vectorA, vectorB);\n    vec3.normalize(normal1, normal1);\n\n    vec3.subtract(vectorA, vertex1, vertex2);\n    vec3.subtract(vectorB, vertex3, vertex2);\n    vec3.cross(normal2, vectorA, vectorB);\n    vec3.normalize(normal2, normal2);\n\n    vec3.subtract(vectorA, vertex2, vertex3);\n    vec3.subtract(vectorB, vertex1, vertex3);\n    vec3.cross(normal3, vectorA, vectorB);\n    vec3.normalize(normal3, normal3);\n\n    // Save the normal vectors in a flattened array.\n    normals[i + 0] = normal1[0];\n    normals[i + 1] = normal1[1];\n    normals[i + 2] = normal1[2];\n    normals[i + 3] = normal2[0];\n    normals[i + 4] = normal2[1];\n    normals[i + 5] = normal2[2];\n    normals[i + 6] = normal3[0];\n    normals[i + 7] = normal3[1];\n    normals[i + 8] = normal3[2];\n  }\n\n  return normals;\n}\n\nconst MAX_TEXTURE_V_COORDINATE_DELTA = 0.5;\n\n/**\n * Calculates lat-long texture coordinates for the given vertex positions.\n *\n * @param {Array.<Number>} vertexPositions\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateLatLongTextureCoordinates(vertexPositions) {\n  const currentVertexPosition = vec3.create();\n  const currentTextureCoordinates = vec2.create();\n  const textureCoordinates = [];\n\n  // Calculate the texture coordinates of each vertex.\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\n    vec3.set(currentVertexPosition,\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\n    _getTextureCoordinatesOfLatLongPosition(currentTextureCoordinates, currentVertexPosition);\n    textureCoordinates[j] = currentTextureCoordinates[0];\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\n  }\n\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\n\n  return textureCoordinates;\n}\n\n/**\n * Calculates cylindrical texture coordinates for the given vertex positions.\n *\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\n *\n * @param {Array.<Number>} vertexPositions\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateCylindricalTextureCoordinates(vertexPositions) {\n  const currentVertexPosition = vec3.create();\n  const currentTextureCoordinates = vec2.create();\n  const textureCoordinates = [];\n\n  // Calculate the texture coordinates of each vertex.\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\n    vec3.set(currentVertexPosition,\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\n    _getTextureCoordinatesOfCylindricalPosition(currentTextureCoordinates, currentVertexPosition);\n    textureCoordinates[j] = currentTextureCoordinates[0];\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\n  }\n\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\n\n  return textureCoordinates;\n}\n\n/**\n * @param {Array.<Number>} textureCoordinates\n */\nfunction _correctTextureForTrianglesAroundSeam(textureCoordinates) {\n  let v1;\n  let v2;\n  let v3;\n\n  // Determine which triangles span the seam across 0/2PI, and correct their textures.\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 6) {\n    v1 = textureCoordinates[i];\n    v2 = textureCoordinates[i + 2];\n    v3 = textureCoordinates[i + 4];\n\n    if (v3 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA || v2 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i]++;\n    }\n    if (v3 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i + 2]++;\n    }\n    if (v2 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i + 4]++;\n    }\n  }\n}\n\n/**\n * Calculate the texture coordinates for a normalized point on a globe.\n *\n * @param {vec2} textureCoordinates Output parameter.\n * @param {vec3} vertexPosition Input parameter.\n * @private\n */\nfunction _getTextureCoordinatesOfLatLongPosition(textureCoordinates, vertexPosition) {\n  const x = vertexPosition[0];\n  const y = vertexPosition[1];\n  const z = vertexPosition[2];\n\n  let longitude;\n  if (y !== 0) {\n    longitude = Math.atan2(x, y);\n  } else if (x > 0) {\n    longitude = HALF_PI;\n  } else {\n    longitude = -HALF_PI;\n  }\n\n  const u = (longitude + Math.PI) / TWO_PI;\n\n  // TODO: Should I instead be calculating the v value from wrapping the texture around the globe\n  // curvature rather than simply projecting it directly?\n\n  // This assumes that the texture has been vertically distorted so that it can be directly\n  // projected onto the curvature of the globe.\n  const v = (z + 1) * 0.5;\n\n  textureCoordinates[0] = u;\n  textureCoordinates[1] = v;\n}\n\n/**\n * Calculate the texture coordinates for a normalized point on a cylinder.\n *\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\n *\n * @param {vec2} textureCoordinates Output parameter.\n * @param {vec3} vertexPosition Input parameter.\n * @private\n */\nfunction _getTextureCoordinatesOfCylindricalPosition(textureCoordinates, vertexPosition) {\n  const x = vertexPosition[0];\n  const y = vertexPosition[1];\n  const z = vertexPosition[2];\n\n  let longitude;\n  if (y !== 0) {\n    longitude = Math.atan2(x, y);\n  } else if (x > 0) {\n    longitude = HALF_PI;\n  } else {\n    longitude = -HALF_PI;\n  }\n\n  const u = (longitude + Math.PI) / TWO_PI;\n\n  const v = z > 0 ? 1 : 0;\n\n  textureCoordinates[0] = u;\n  textureCoordinates[1] = v;\n}\n\n/**\n * Expands the given vertices around the seam where longitude switches from 0 to 2PI.\n *\n * This is useful because, when applying a spherical texture using lat-long coordinates, any\n * triangle that spans the seam (from longitude 2PI to 0) would otherwise show the wrong result.\n *\n * @param {Array.<Number>} oldVertexPositions\n * @param {Array.<Number>} oldVertexIndices\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction expandVertexIndicesAroundLongitudeSeam(oldVertexPositions, oldVertexIndices) {\n  // const newVertexPositions = [];\n  // const newVertexIndices = [];\n  //\n  // ****\n  // // TODO: loop over triangles, use _getTextureCoordinatesOfLatLongPosition on each vertex,\n  // // check if two vertices in a triangle span the seam; to check the span, just check if both are\n  // // within a distance from the seam, but on opposite ends;\n  //\n  // return {\n  //   vertexPositions: newVertexPositions,\n  //   vertexIndices: newVertexIndices\n  // };\n\n  return {\n    vertexPositions: oldVertexPositions,\n    vertexIndices: oldVertexIndices\n  };\n}\n\n/**\n * Subdivides the triangles of a shape and projects all resulting vertices to a radius of one.\n *\n * @param {number} divisionFactor\n * @param {Array.<Number>} oldPositions\n * @param {Array.<Number>} [oldIndices]\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction tesselateSphere(divisionFactor, oldPositions, oldIndices) {\n  const newPositions = _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices);\n\n  // Convert the expanded positions array into a unique positions array with a corresponding indices\n  // array.\n  const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(newPositions);\n\n  // Project the given positions to a distance of one.\n  _normalizePositions(positionsAndIndices.vertexPositions, positionsAndIndices.vertexPositions);\n\n  return positionsAndIndices;\n}\n\n/**\n * Subdivides triangles.\n *\n * This has the side-effect of flattening the given vertices into an expanded list that can contain\n * duplicate positions.\n *\n * @param {number} divisionFactor\n * @param {Array.<Number>} oldPositions\n * @param {Array.<Number>} [oldIndices]\n * @returns {Array.<Number>}\n * @private\n */\nfunction _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices) {\n  const expandedOldPositions = oldIndices\n      ? expandVertexIndicesToDuplicatePositions(oldPositions, oldIndices)\n      : oldPositions;\n\n  const newPositions = [];\n  const a = vec3.create();\n  const b = vec3.create();\n  const c = vec3.create();\n  const aToB = vec3.create();\n  const aToC = vec3.create();\n  const bToC = vec3.create();\n  const rowDelta = vec3.create();\n  const columnDelta = vec3.create();\n  const backwardsDelta = vec3.create();\n  const rowStartPoint = vec3.create();\n  const rowColumnStartPoint = vec3.create();\n  const tempVec = vec3.create();\n\n  let oldIndex;\n  let count;\n  let newIndex;\n  let rowIndex;\n  let columnIndex;\n\n  //\n  // The basic tesselation algorithm:\n  // - Iterate across the original triangles that we are sub-dividing.\n  // - A, B, and C are the vertices of the current, original triangle.\n  // - Consider \"rows\" to iterate across the a-to-b direction and \"columns\" to iterate across the\n  //   a-to-c direction.\n  // - First calculate the distance between one row and one column.\n  // - Then loop over the rows and columns and create a the new triangle for each \"cell\".\n  //\n  //                   /\\\n  //                 B   \\--- A \"column\"\n  //                 o    \\\n  //                / \\   /\n  //               /   \\             rowDelta:      columnDelta:     backwardsDelta:\n  //              o-----o                 o             o\n  //             / \\   / \\               /               \\              o-----o\n  //            /   \\ /   \\             /                 \\\n  //           o-----o-----o           o                   o\n  //          / \\   / \\   / \\\n  //         /   \\ /   \\ /   \\\n  //        o-----o-----o-----o\n  //       / \\   / \\   / \\   / \\\n  //      /   \\ /   \\ /   \\ /   \\\n  //  A  o-----o-----o-----o-----o  C\n  //\n  //       \\_____\\\n  //           \\\n  //         A \"row\"\n  //\n\n  // Loop over the old triangles.\n  for (oldIndex = 0, newIndex = 0, count = expandedOldPositions.length;\n       oldIndex < count;\n       oldIndex += 9) {\n    // Pull out the three vertices of the current triangle.\n    vec3.set(a,\n        expandedOldPositions[oldIndex],\n        expandedOldPositions[oldIndex + 1],\n        expandedOldPositions[oldIndex + 2]);\n    vec3.set(b,\n        expandedOldPositions[oldIndex + 3],\n        expandedOldPositions[oldIndex + 4],\n        expandedOldPositions[oldIndex + 5]);\n    vec3.set(c,\n        expandedOldPositions[oldIndex + 6],\n        expandedOldPositions[oldIndex + 7],\n        expandedOldPositions[oldIndex + 8]);\n\n    vec3.subtract(aToB, b, a);\n    vec3.subtract(bToC, c, b);\n    vec3.subtract(aToC, c, a);\n\n    vec3.scale(rowDelta, aToB, 1 / divisionFactor);\n    vec3.scale(columnDelta, bToC, 1 / divisionFactor);\n    vec3.scale(backwardsDelta, aToC, 1 / divisionFactor);\n\n    // Loop over each new division (row) for the current triangle.\n    for (rowIndex = 0; rowIndex < divisionFactor; rowIndex++) {\n      vec3.scaleAndAdd(rowStartPoint, a, rowDelta, rowIndex);\n\n      // Create the first triangle in the row (address the fence-post problem).\n      newPositions[newIndex++] = rowStartPoint[0];\n      newPositions[newIndex++] = rowStartPoint[1];\n      newPositions[newIndex++] = rowStartPoint[2];\n      vec3.add(tempVec, rowStartPoint, rowDelta);\n      newPositions[newIndex++] = tempVec[0];\n      newPositions[newIndex++] = tempVec[1];\n      newPositions[newIndex++] = tempVec[2];\n      vec3.add(tempVec, rowStartPoint, backwardsDelta);\n      newPositions[newIndex++] = tempVec[0];\n      newPositions[newIndex++] = tempVec[1];\n      newPositions[newIndex++] = tempVec[2];\n\n      // Loop over the new triangles in the current division.\n      for (columnIndex = 1; columnIndex <= rowIndex; columnIndex++) {\n        vec3.scaleAndAdd(rowColumnStartPoint, rowStartPoint, columnDelta, columnIndex);\n\n        newPositions[newIndex++] = rowColumnStartPoint[0];\n        newPositions[newIndex++] = rowColumnStartPoint[1];\n        newPositions[newIndex++] = rowColumnStartPoint[2];\n        vec3.subtract(tempVec, rowColumnStartPoint, columnDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n\n        newPositions[newIndex++] = rowColumnStartPoint[0];\n        newPositions[newIndex++] = rowColumnStartPoint[1];\n        newPositions[newIndex++] = rowColumnStartPoint[2];\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n        vec3.add(tempVec, rowColumnStartPoint, backwardsDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n      }\n    }\n  }\n\n  return newPositions;\n}\n\n/**\n * Projects the given positions to a distance of one.\n *\n * @param {Array.<Number>} out\n * @param {Array.<Number>} positions\n * @private\n */\nfunction _normalizePositions(out, positions) {\n  const tempVec = vec3.create();\n\n  for (let i = 0, count = positions.length; i < count; i += 3) {\n    vec3.set(tempVec, positions[i], positions[i + 1], positions[i + 2]);\n\n    vec3.normalize(tempVec, tempVec);\n\n    out[i] = tempVec[0];\n    out[i + 1] = tempVec[1];\n    out[i + 2] = tempVec[2];\n  }\n}\n\n/**\n * Given a collection of vertices that possibly contains duplicates, creates an array of the unique\n * vertex positions and an array of the indices of the original, duplicated vertices in the unique\n * array.\n *\n * This is useful for rendering using gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\n * gl.drawArrays.\n *\n * NOTE: Although this function does partially address floating-point round-off errors within the\n * given positions, it does not guarantee correctness.\n *\n * @param {Array.<Number>} oldVertexPositions\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction dedupVertexArrayWithPositionsAndIndicesArrays(oldVertexPositions) {\n  const vertexPositions = [];\n  const vertexIndices = [];\n\n  const vertexToIndexMap = new HashMap(_vertexHashFunction);\n  const vertex = vec3.create();\n  let oldCoordinateIndex;\n  let oldCoordinateCount;\n  let newVertexIndex;\n\n  // Loop over the original, duplicated vertex positions.\n  for (oldCoordinateIndex = 0, oldCoordinateCount = oldVertexPositions.length;\n       oldCoordinateIndex < oldCoordinateCount;\n       oldCoordinateIndex += 3) {\n    vec3.set(vertex,\n        oldVertexPositions[oldCoordinateIndex],\n        oldVertexPositions[oldCoordinateIndex + 1],\n        oldVertexPositions[oldCoordinateIndex + 2]);\n\n    // Has this position already been recorded?\n    if (!vertexToIndexMap.has(vertex)) {\n      // Record the index of the unique vertex position.\n      newVertexIndex = vertexPositions.length / 3;\n      vertexToIndexMap.set(vertex, newVertexIndex);\n\n      // Record the unique vertex position.\n      vertexPositions.push(vertex[0]);\n      vertexPositions.push(vertex[1]);\n      vertexPositions.push(vertex[2]);\n    }\n\n    newVertexIndex = vertexToIndexMap.get(vertex);\n\n    // Record the index of the unique position.\n    vertexIndices.push(newVertexIndex);\n  }\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexIndices: vertexIndices\n  };\n}\n\nconst _VERTEX_COORDINATE_BUCKET_SIZE_DIGITS = 4;\n\n// This offset is important for preventing bucket-aligned numbers from being placed in inconsistent\n// buckets. For example, whole integer values could easily be placed in lower or higher buckets\n// depending on round-off error.\nconst _OFFSET = Math.random();\n\n/**\n * Calculates a hash code for the given vertex.\n *\n * NOTE: This does not guarantee correct results. Due to round-off error, \"equal\" coordinates could\n * be calculated is being in different buckets. Larger bucket sizes might reduce the rate of false\n * negatives, but with the trade-off of potentially introducing false positives.\n *\n * @param {vec3} vertex\n * @returns {string}\n * @private\n */\nfunction _vertexHashFunction(vertex) {\n  return `${(vertex[0] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\n      `${(vertex[1] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\n      `${(vertex[2] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)}`;\n}\n\n/**\n * Calculate the vertex positions for a section of a sphere.\n *\n * - These points will lie along latitude-longitude lines.\n * - The shape is centered around the origin with the poles aligned with the z-axis.\n * - The radius of the circle will be one.\n *\n * @param {number} startPitchIndex\n * @param {number} endPitchIndex\n * @param {number} deltaPitch\n * @param {number} startAzimuthIndex\n * @param {number} endAzimuthIndex\n * @param {number} deltaAzimuth\n * @return {Array.<Number>}\n * @private\n */\nfunction calculateSphericalSection(startPitchIndex, endPitchIndex, deltaPitch,\n                                   startAzimuthIndex, endAzimuthIndex, deltaAzimuth) {\n  const vertexPositions = [];\n  let vertexPositionsIndex = 0;\n\n  let pitchIndex;\n  let azimuthIndex;\n  let lowerPitch;\n  let upperPitch;\n  let lowerAzimuth;\n  let upperAzimuth;\n  let x1;\n  let y1;\n  let z1;\n  let x2;\n  let y2;\n  let z2;\n  let x3;\n  let y3;\n  let z3;\n  let x4;\n  let y4;\n  let z4;\n\n  // TODO: This implementation calculates all coordinates multiple times. Refactor it to be more\n  // efficient.\n\n  // Loop over each latitudinal strip.\n  for (pitchIndex = startPitchIndex; pitchIndex < endPitchIndex; pitchIndex++) {\n    lowerPitch = deltaPitch * pitchIndex;\n    upperPitch = deltaPitch + lowerPitch;\n\n    // Create the triangles for the strip at the current pitch.\n    for (azimuthIndex = startAzimuthIndex; azimuthIndex < endAzimuthIndex; azimuthIndex++) {\n      lowerAzimuth = deltaAzimuth * azimuthIndex;\n      upperAzimuth = deltaAzimuth + lowerAzimuth;\n\n      // The corners of the current square.\n\n      x1 = Math.sin(lowerPitch) * Math.cos(lowerAzimuth);\n      y1 = Math.sin(lowerPitch) * Math.sin(lowerAzimuth);\n      z1 = Math.cos(lowerPitch);\n\n      x2 = Math.sin(upperPitch) * Math.cos(lowerAzimuth);\n      y2 = Math.sin(upperPitch) * Math.sin(lowerAzimuth);\n      z2 = Math.cos(upperPitch);\n\n      x3 = Math.sin(lowerPitch) * Math.cos(upperAzimuth);\n      y3 = Math.sin(lowerPitch) * Math.sin(upperAzimuth);\n      z3 = Math.cos(lowerPitch);\n\n      x4 = Math.sin(upperPitch) * Math.cos(upperAzimuth);\n      y4 = Math.sin(upperPitch) * Math.sin(upperAzimuth);\n      z4 = Math.cos(upperPitch);\n\n      // The first triangle.\n\n      vertexPositions[vertexPositionsIndex] = x1;\n      vertexPositions[vertexPositionsIndex + 1] = y1;\n      vertexPositions[vertexPositionsIndex + 2] = z1;\n      vertexPositions[vertexPositionsIndex + 3] = x2;\n      vertexPositions[vertexPositionsIndex + 4] = y2;\n      vertexPositions[vertexPositionsIndex + 5] = z2;\n      vertexPositions[vertexPositionsIndex + 6] = x3;\n      vertexPositions[vertexPositionsIndex + 7] = y3;\n      vertexPositions[vertexPositionsIndex + 8] = z3;\n\n      // The second triangle.\n\n      vertexPositions[vertexPositionsIndex + 9] = x4;\n      vertexPositions[vertexPositionsIndex + 10] = y4;\n      vertexPositions[vertexPositionsIndex + 11] = z4;\n      vertexPositions[vertexPositionsIndex + 12] = x3;\n      vertexPositions[vertexPositionsIndex + 13] = y3;\n      vertexPositions[vertexPositionsIndex + 14] = z3;\n      vertexPositions[vertexPositionsIndex + 15] = x2;\n      vertexPositions[vertexPositionsIndex + 16] = y2;\n      vertexPositions[vertexPositionsIndex + 17] = z2;\n\n      vertexPositionsIndex += 18;\n    }\n  }\n\n  return vertexPositions;\n}\n\n/**\n * Calculate the vertex positions for a section of a cylinder.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n *\n * @param {number} cylinderBottom\n * @param {number} cylinderTop\n * @param {number} startIndex\n * @param {number} endIndex\n * @param {number} delta\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateCylindricalSection(cylinderBottom, cylinderTop, startIndex, endIndex, delta) {\n  const vertexPositions = [];\n  let vertexPositionsIndex = 0;\n\n  let index;\n  let lowerAzimuth;\n  let upperAzimuth;\n  let x1;\n  let y1;\n  let z1;\n  let x2;\n  let y2;\n  let z2;\n  let x3;\n  let y3;\n  let z3;\n  let x4;\n  let y4;\n  let z4;\n\n  // Create the triangles for the cylindrical strip.\n  for (index = startIndex; index < endIndex; index++) {\n    lowerAzimuth = delta * index;\n    upperAzimuth = delta + lowerAzimuth;\n\n    // The corners of the current square.\n\n    x1 = Math.cos(lowerAzimuth);\n    y1 = Math.sin(lowerAzimuth);\n    z1 = cylinderBottom;\n\n    x2 = Math.cos(lowerAzimuth);\n    y2 = Math.sin(lowerAzimuth);\n    z2 = cylinderTop;\n\n    x3 = Math.cos(upperAzimuth);\n    y3 = Math.sin(upperAzimuth);\n    z3 = cylinderBottom;\n\n    x4 = Math.cos(upperAzimuth);\n    y4 = Math.sin(upperAzimuth);\n    z4 = cylinderTop;\n\n    // The first triangle.\n\n    vertexPositions[vertexPositionsIndex] = x1;\n    vertexPositions[vertexPositionsIndex + 1] = y1;\n    vertexPositions[vertexPositionsIndex + 2] = z1;\n    vertexPositions[vertexPositionsIndex + 3] = x2;\n    vertexPositions[vertexPositionsIndex + 4] = y2;\n    vertexPositions[vertexPositionsIndex + 5] = z2;\n    vertexPositions[vertexPositionsIndex + 6] = x3;\n    vertexPositions[vertexPositionsIndex + 7] = y3;\n    vertexPositions[vertexPositionsIndex + 8] = z3;\n\n    // The second triangle.\n\n    vertexPositions[vertexPositionsIndex + 9] = x4;\n    vertexPositions[vertexPositionsIndex + 10] = y4;\n    vertexPositions[vertexPositionsIndex + 11] = z4;\n    vertexPositions[vertexPositionsIndex + 12] = x3;\n    vertexPositions[vertexPositionsIndex + 13] = y3;\n    vertexPositions[vertexPositionsIndex + 14] = z3;\n    vertexPositions[vertexPositionsIndex + 15] = x2;\n    vertexPositions[vertexPositionsIndex + 16] = y2;\n    vertexPositions[vertexPositionsIndex + 17] = z2;\n\n    vertexPositionsIndex += 18;\n  }\n\n  return vertexPositions;\n}\n\n/**\n * Scale and then translate the 3-dimensional positions in the given flattened array.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n *\n * @param {Array.<Number>} vertexPositions Output.\n * @param {number} startIndex\n * @param {number} endIndex\n * @param {vec3} scale\n * @param {vec3} translate\n * @private\n */\nfunction scaleThenTranslatePositions(vertexPositions, startIndex, endIndex, scale, translate) {\n  const scaleX = scale[0];\n  const scaleY = scale[1];\n  const scaleZ = scale[2];\n  const translateX = translate[0];\n  const translateY = translate[1];\n  const translateZ = translate[2];\n\n  for (let i = startIndex; i < endIndex; i += 3) {\n    vertexPositions[i] = vertexPositions[i] * scaleX + translateX;\n    vertexPositions[i + 1] = vertexPositions[i + 1] * scaleY + translateY;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scaleZ + translateZ;\n  }\n}\n\n// Export this module's logic\n\nexport {\n  getViewportWidth,\n  getViewportHeight,\n  getWebGLContext,\n  createBuffer,\n  getAttribLocation,\n  buildProgram,\n  buildShader,\n  loadShader,\n  loadProgram,\n  createBufferFromData,\n  bindGLContextToViewportDimensions,\n  bindFramebuffer,\n  createFramebuffer,\n  createTextureForRendering,\n  createRenderBuffer,\n  create2DSquarePositionsConfig,\n\n  expandVertexIndicesToDuplicatePositions,\n  calculateOrthogonalVertexNormals,\n  calculateLatLongTextureCoordinates,\n  calculateCylindricalTextureCoordinates,\n  expandVertexIndicesAroundLongitudeSeam,\n  tesselateSphere,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  calculateSphericalSection,\n  calculateCylindricalSection,\n  scaleThenTranslatePositions,\n};\n\n// Some type defs to make my editor's auto-complete happy.\n\n/** @typedef {Object} WebGLProgram */\n/** @typedef {Object} WebGLShader */\n/** @typedef {Object} WebGLBuffer */\n/** @typedef {Object} WebGLTexture */\n/** @typedef {Float32Array|Array.<Number>} mat3 */\n/** @typedef {Float32Array|Array.<Number>} mat4 */\n/** @typedef {Float32Array|Array.<Number>} quat */\n/** @typedef {Float32Array|Array.<Number>} vec2 */\n/** @typedef {Float32Array|Array.<Number>} vec3 */\n/** @typedef {Float32Array|Array.<Number>} vec4 */\n","/**\n * A hash map that uses a custom hash function.\n */\nclass HashMap {\n  /**\n   * @param {Function} hashFunction\n   */\n  constructor(hashFunction) {\n    this._hashFunction = hashFunction;\n    this._map = new Map();\n  }\n\n  /**\n   * @param {Object} key\n   * @param {Object} value\n   */\n  set(key, value) {\n    const hashCode = this._hashFunction(key);\n    this._map.set(hashCode, value);\n  }\n\n  /**\n   * @param {Object} key\n   * @returns {Object}\n   */\n  get(key) {\n    const hashCode = this._hashFunction(key);\n    return this._map.get(hashCode);\n  }\n\n  /**\n   * @param {Object} key\n   * @returns {boolean}\n   */\n  has(key) {\n    const hashCode = this._hashFunction(key);\n    return this._map.has(hashCode);\n  }\n\n  /**\n   * @param {Object} item\n   * @returns {boolean}\n   */\n  remove(item) {\n    return this._map.delete(item);\n  }\n\n  /**\n   * @param {Function} callback\n   */\n  forEach(callback) {\n    this._map.forEach(callback);\n  }\n\n  clear() {\n    this._map.clear();\n  }\n\n  /**\n   * @returns {number}\n   */\n  get size() {\n    return this._map.size;\n  }\n}\n\nexport {HashMap};\n","/**\n * This module defines a collection of static general utility functions.\n */\n\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\nconst isInDevMode = true;\n\n/**\n * Adds an event listener for each of the given events to each of the given elements.\n *\n * @param {Array.<HTMLElement>} elements The elements to add event listeners to.\n * @param {Array.<String>} events The event listeners to add to the elements.\n * @param {Function} callback The single callback for handling the events.\n */\nfunction listenToMultipleForMultiple(elements, events, callback) {\n  elements.forEach(element => {\n    events.forEach(event => {\n      element.addEventListener(event, callback, false);\n    });\n  });\n}\n\n/**\n * Creates a DOM element with the given tag name, appends it to the given parent element, and\n * gives it the given id and classes.\n *\n * @param {string} tagName The tag name to give the new element.\n * @param {HTMLElement} [parent] The parent element to append the new element to.\n * @param {string} [id] The id to give the new element.\n * @param {Array.<String>} [classes] The classes to give the new element.\n * @returns {HTMLElement} The new element.\n */\nfunction createElement(tagName, parent, id, classes) {\n  const element = document.createElement(tagName);\n  if (parent) {\n    parent.appendChild(element);\n  }\n  if (id) {\n    element.id = id;\n  }\n  if (classes) {\n    classes.forEach(className => addClass(element, className));\n  }\n  return element;\n}\n\n/**\n * Determines whether the given element contains the given class.\n *\n * @param {HTMLElement} element The element to check.\n * @param {string} className The class to check for.\n * @returns {boolean} True if the element does contain the class.\n */\nfunction containsClass(element, className) {\n  let startIndex;\n  let indexAfterEnd;\n  startIndex = element.className.indexOf(className);\n  if (startIndex >= 0) {\n    if (startIndex === 0 || element.className[startIndex - 1] === ' ') {\n      indexAfterEnd = startIndex + className.length;\n      if (indexAfterEnd === element.className.length ||\n        element.className[indexAfterEnd] === ' ') {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * Toggles whether the given element has the given class. If the enabled argument is given, then\n * the inclusion of the class will be forced. That is, if enabled=true, then this will ensure the\n * element has the class; if enabled=false, then this will ensure the element does NOT have the\n * class; if enabled=undefined, then this will simply toggle whether the element has the class.\n *\n * @param {HTMLElement} element The element to add the class to or remove the class from.\n * @param {string} className The class to add or remove.\n * @param {boolean} [enabled] If given, then the inclusion of the class will be forced.\n */\nfunction toggleClass(element, className, enabled) {\n  if (typeof enabled === 'undefined') {\n    if (containsClass(element, className)) {\n      removeClass(element, className);\n    }\n    else {\n      addClass(element, className);\n    }\n  }\n  else if (enabled) {\n    addClass(element, className);\n  }\n  else {\n    removeClass(element, className);\n  }\n}\n\n/**\n * Gets the coordinates of the element relative to the top-left corner of the page.\n *\n * @param {HTMLElement} element The element to get the coordinates of.\n * @returns {{x: Number, y: Number}} The coordinates of the element relative to the top-left\n * corner of the page.\n */\nfunction getPageOffset(element) {\n  let x = 0;\n  let y = 0;\n  while (element) {\n    x += element.offsetLeft;\n    y += element.offsetTop;\n    element = element.offsetParent;\n  }\n  x -= document.documentElement.scrollLeft;\n  y -= document.documentElement.scrollTop;\n  return { x: x, y: y };\n}\n\n/**\n * Gets the dimensions of the viewport.\n *\n * @returns {{w: Number, h: Number}} The dimensions of the viewport.\n */\nfunction getViewportSize() {\n  let w;\n  let h;\n  if (typeof window.innerWidth !== 'undefined') {\n    // Good browsers\n    w = window.innerWidth;\n    h = window.innerHeight;\n  }\n  else if (typeof document.documentElement !== 'undefined' &&\n    typeof document.documentElement.clientWidth !== 'undefined' &&\n    document.documentElement.clientWidth !== 0) {\n    // IE6 in standards compliant mode\n    w = document.documentElement.clientWidth;\n    h = document.documentElement.clientHeight;\n  }\n  else {\n    // Older versions of IE\n    w = document.getElementsByTagName('body')[0].clientWidth;\n    h = document.getElementsByTagName('body')[0].clientHeight;\n  }\n  return { w: w, h: h };\n}\n\n/**\n * Removes the given child element from the given parent element if the child does indeed belong\n * to the parent.\n *\n * @param {HTMLElement} parent The parent to remove the child from.\n * @param {HTMLElement} child The child to remove.\n * @returns {boolean} True if the child did indeed belong to the parent.\n */\nfunction removeChildIfPresent(parent, child) {\n  if (child && child.parentNode === parent) {\n    parent.removeChild(child);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Adds the given class to the given element.\n *\n * @param {HTMLElement} element The element to add the class to.\n * @param {string} className The class to add.\n */\nfunction addClass(element, className) {\n  element.setAttribute('class', element.className + ' ' + className);\n}\n\n/**\n * Removes the given class from the given element.\n *\n * @param {HTMLElement} element The element to remove the class from.\n * @param {string} className The class to remove.\n */\nfunction removeClass(element, className) {\n  element.setAttribute('class',\n    element.className\n    .split(' ')\n    .filter(value => value !== className)\n    .join(' '));\n}\n\n/**\n * Removes all classes from the given element.\n *\n * @param {HTMLElement} element The element to remove all classes from.\n */\nfunction clearClasses(element) {\n  element.className = '';\n}\n\n/**\n * Calculates the width that the DOM would give to a div with the given text. The given tag\n * name, parent, id, and classes allow the width to be affected by various CSS rules.\n *\n * @param {string} text The text to determine the width of.\n * @param {string} tagName The tag name this text would supposedly have.\n * @param {HTMLElement} [parent] The parent this text would supposedly be a child of; defaults\n * to the document body.\n * @param {string} [id] The id this text would supposedly have.\n * @param {Array.<String>} [classes] The classes this text would supposedly have.\n * @returns {number} The width of the text under these conditions.\n */\nfunction getTextWidth(text, tagName, parent, id, classes) {\n  let tmpElement;\n  let width;\n  parent = parent || document.getElementsByTagName('body')[0];\n  tmpElement = createElement(tagName, null, id, classes);\n  tmpElement.style.position = 'absolute';\n  tmpElement.style.visibility = 'hidden';\n  tmpElement.style.whiteSpace = 'nowrap';\n  parent.appendChild(tmpElement);\n  tmpElement.innerHTML = text;\n  width = tmpElement.clientWidth;\n  parent.removeChild(tmpElement);\n  return width;\n}\n\n/**\n * Encodes and concatenates the given URL parameters into a single query string.\n *\n * @param {Object} rawParams An object whose properties represent the URL query string\n * parameters.\n * @returns {string} The query string.\n */\nfunction encodeQueryString(rawParams) {\n  let parameter;\n  let encodedParams;\n  encodedParams = [];\n  for (parameter in rawParams) {\n    if (rawParams.hasOwnProperty(parameter)) {\n      encodedParams.push(encodeURIComponent(parameter) + '=' +\n        encodeURIComponent(rawParams[parameter]));\n    }\n  }\n  return '?' + encodedParams.join('&');\n}\n\n/**\n * Retrieves the value corresponding to the given name from the given query string.\n *\n * (borrowed from http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript)\n *\n * @param {string} queryString The query string containing the parameter.\n * @param {string} name The (non-encoded) name of the parameter value to retrieve.\n * @returns {string} The query string parameter value, or null if the parameter was not found.\n */\nfunction getQueryStringParameterValue(queryString, name) {\n  let regex;\n  let results;\n  name = encodeURIComponent(name);\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)', 'i');\n  results = regex.exec(queryString);\n  return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\n/**\n * Sets the CSS transition style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The transition string.\n */\nfunction setTransition(element, value) {\n  element.style.transition = value;\n  element.style.WebkitTransition = value;\n  element.style.MozTransition = value;\n  element.style.msTransition = value;\n  element.style.OTransition = value;\n}\n\n/**\n * Sets the CSS transition duration style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The duration.\n */\nfunction setTransitionDurationSeconds(element, value) {\n  element.style.transitionDuration = value + 's';\n  element.style.WebkitTransitionDuration = value + 's';\n  element.style.MozTransitionDuration = value + 's';\n  element.style.msTransitionDuration = value + 's';\n  element.style.OTransitionDuration = value + 's';\n}\n\n/**\n * Sets the CSS transition delay style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The delay.\n */\nfunction setTransitionDelaySeconds(element, value) {\n  element.style.transitionDelay = value + 's';\n  element.style.WebkitTransitionDelay = value + 's';\n  element.style.MozTransitionDelay = value + 's';\n  element.style.msTransitionDelay = value + 's';\n  element.style.OTransitionDelay = value + 's';\n}\n\n/**\n * Sets the userSelect style of the given element to 'none'.\n *\n * @param {HTMLElement} element\n */\nfunction setUserSelectNone(element) {\n  element.style.userSelect = 'none';\n  element.style.webkitUserSelect = 'none';\n  element.style.MozUserSelect = 'none';\n  element.style.msUserSelect = 'none';\n}\n\n/**\n * Removes any children elements from the given parent that have the given class.\n *\n * @param {HTMLElement} parent The parent to remove children from.\n * @param {string} className The class to match.\n */\nfunction removeChildrenWithClass(parent, className) {\n  let matchingChildren = parent.querySelectorAll('.' + className);\n\n  for (let i = 0, count = matchingChildren.length; i < count; i++) {\n    parent.removeChild(matchingChildren[i]);\n  }\n}\n\n/**\n * Sets the CSS transition-timing-function style of the given element with the given cubic-\n * bezier points.\n *\n * @param {HTMLElement} element The element.\n * @param {{p1x: Number, p1y: Number, p2x: Number, p2y: Number}} bezierPts The cubic-bezier\n * points to use for this timing function.\n */\nfunction setTransitionCubicBezierTimingFunction(element, bezierPts) {\n  const value = 'cubic-bezier(' + bezierPts.p1x + ',' + bezierPts.p1y + ',' + bezierPts.p2x + ',' +\n    bezierPts.p2y + ')';\n  element.style.transitionTimingFunction = value;\n  element.style.WebkitTransitionTimingFunction = value;\n  element.style.MozTransitionTimingFunction = value;\n  element.style.msTransitionTimingFunction = value;\n  element.style.OTransitionTimingFunction = value;\n}\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\n// A collection of the inverses of different types of easing functions.\nconst inverseEasingFunctions = {\n  linear: t => t,\n  easeInQuad: t => Math.sqrt(t),\n  easeOutQuad: t => 1 - Math.sqrt(1 - t),\n  easeInOutQuad: t => t < 0.5 ? Math.sqrt(t * 0.5) : 1 - 0.70710678 * Math.sqrt(1 - t)\n};\n\n/**\n * Calculates the x and y coordinates represented by the given Bezier curve at the given\n * percentage.\n *\n * @param {number} percent Expressed as a number between 0 and 1.\n * @param {Array.<{x:Number,y:Number}>} controlPoints\n * @returns {{x:Number,y:Number}}\n */\nfunction getXYFromPercentWithBezier(percent, controlPoints) {\n  let x;\n  let y;\n  let oneMinusPercent;\n  let tmp1;\n  let tmp2;\n  let tmp3;\n  let tmp4;\n\n  oneMinusPercent = 1 - percent;\n  tmp1 = oneMinusPercent * oneMinusPercent * oneMinusPercent;\n  tmp2 = 3 * percent * oneMinusPercent * oneMinusPercent;\n  tmp3 = 3 * percent * percent * oneMinusPercent;\n  tmp4 = percent * percent * percent;\n\n  x = controlPoints[0].x * tmp1 +\n    controlPoints[1].x * tmp2 +\n    controlPoints[2].x * tmp3 +\n    controlPoints[3].x * tmp4;\n  y = controlPoints[0].y * tmp1 +\n    controlPoints[1].y * tmp2 +\n    controlPoints[2].y * tmp3 +\n    controlPoints[3].y * tmp4;\n\n  return { x: x, y: y };\n}\n\n/**\n * Applies the given transform to the given element as a CSS style in a cross-browser compatible\n * manner.\n *\n * @param {HTMLElement} element\n * @param {string} transform\n */\nfunction setTransform(element, transform) {\n  element.style.webkitTransform = transform;\n  element.style.MozTransform = transform;\n  element.style.msTransform = transform;\n  element.style.OTransform = transform;\n  element.style.transform = transform;\n}\n\n/**\n * Returns a copy of the given array with its contents re-arranged in a random order.\n *\n * The original array is left in its original order.\n *\n * @param {Array} array\n * @returns {Array}\n */\nfunction shuffle(array) {\n  let i;\n  let j;\n  let count;\n  let temp;\n\n  for (i = 0, count = array.length; i < count; i++) {\n    j = parseInt(Math.random() * count);\n    temp = array[j];\n    array[j] = array[i];\n    array[i] = temp;\n  }\n\n  return array;\n}\n\n/**\n * Performs a shallow copy of the given object.\n *\n * This only copies enumerable properties.\n *\n * @param {Object} object\n * @returns {Object}\n */\nfunction shallowCopy(object) {\n  if (typeof object === 'object') {\n    const cloneObject = {};\n\n    Object.keys(object)\n      .forEach(key => cloneObject[key] = object[key]);\n\n    return cloneObject;\n  }\n  else {\n    return object;\n  }\n}\n\n/**\n * Performs a deep copy of the given object.\n *\n * This only copies enumerable properties.\n *\n * @param {Object} object\n * @returns {Object}\n */\nfunction deepCopy(object) {\n  if (typeof object === 'object') {\n    // Hack: Not a robust copy policy\n    let cloneObject;\n    if (object instanceof Array) {\n      cloneObject = [];\n    }\n    else {\n      cloneObject = {};\n    }\n\n    Object.keys(object)\n      .forEach(key => cloneObject[key] = deepCopy(object[key]));\n\n    return cloneObject;\n  }\n  else {\n    return object;\n  }\n}\n\n/**\n * Converts the given HSL color values to HSV color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * @param {HslColor} hsl\n * @returns {{h:Number,s:Number,v:Number}}\n */\nfunction hslToHsv(hsl) {\n  const temp = hsl.s * (hsl.l < 0.5 ? hsl.l : 1 - hsl.l);\n  return {\n    h: hsl.h,\n    s: 2 * temp / (hsl.l + temp),\n    v: hsl.l + temp\n  };\n}\n\n/**\n * Converts the given HSV color values to HSL color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * @param {{h:Number,s:Number,v:Number}} hsv\n * @returns {HslColor}\n */\nfunction hsvToHsl(hsv) {\n  const temp = (2 - hsv.s) * hsv.v;\n  return {\n    h: hsv.h,\n    s: hsv.s * hsv.v / (temp < 1 ? temp : 2.00000001 - temp),\n    l: temp * 0.5\n  };\n}\n\n/**\n * Converts the given HSL color values to RGB color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n *\n * @param {HslColor} hsl\n * @returns {RgbColor} rgb\n */\nfunction hslToRgb(hsl) {\n  let r;\n  let g;\n  let b;\n\n  if (hsl.s === 0) {\n    // Achromatic.\n    r = hsl.l;\n    g = hsl.l;\n    b = hsl.l;\n  }\n  else {\n    const q = hsl.l < 0.5 ?\n      hsl.l * (1 + hsl.s) :\n      hsl.l + hsl.s - hsl.l * hsl.s;\n    const p = 2 * hsl.l - q;\n\n    r = _hue2Rgb(p, q, hsl.h + 1 / 3);\n    g = _hue2Rgb(p, q, hsl.h);\n    b = _hue2Rgb(p, q, hsl.h - 1 / 3);\n  }\n\n  return {\n    r: r,\n    g: g,\n    b: b\n  };\n}\n\nfunction _hue2Rgb(p, q, t) {\n  if (t < 0) {\n    t++;\n  }\n  else if (t > 1) {\n    t--;\n  }\n\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  else if (t < 1 / 2) {\n    return q;\n  }\n  else if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  else {\n    return p;\n  }\n}\n\n/**\n * Converts the given RGB color values to HSL color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n *\n * @param {{r:Number,g:Number,b:Number}} rgb\n * @returns {HslColor} hsl\n */\nfunction rgbToHsl(rgb) {\n  const max = Math.max(rgb.r, rgb.g, rgb.b);\n  const min = Math.min(rgb.r, rgb.g, rgb.b);\n  let h;\n  let s;\n  const l = (max + min) / 2;\n\n  if (max === min) {\n    // Achromatic.\n    h = 0;\n    s = 0;\n  }\n  else {\n    const d = max - min;\n    s = l > 0.5 ?\n      d / (2 - max - min) :\n      d / (max + min);\n\n    switch (max) {\n      case rgb.r:\n        h = (rgb.g - rgb.b) / d + (rgb.g < rgb.b ? 6 : 0);\n        break;\n      case rgb.g:\n        h = (rgb.b - rgb.r) / d + 2;\n        break;\n      case rgb.b:\n        h = (rgb.r - rgb.g) / d + 4;\n        break;\n    }\n\n    h /= 6;\n  }\n\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n/**\n * Creates a valid color string to assign to a CSS property from the given h/s/l color values.\n *\n * Given values should be in the range of [0,1].\n *\n * @param {HslColor} hsl\n * @returns {string}\n */\nfunction createHslColorString(hsl) {\n  return typeof hsl.a !== 'undefined' ?\n    `hsla(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%,${hsl.a})` :\n    `hsl(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%)`;\n}\n\n/**\n * Checks the given element and all of its ancestors, and returns the first that contains the\n * given class.\n *\n * @param {?HTMLElement} element\n * @param {string} className\n * @returns {?HTMLElement}\n */\nfunction findClassInSelfOrAncestors(element, className) {\n  while (element) {\n    if (containsClass(element, className)) {\n      return element;\n    }\n  }\n\n  return null;\n}\n\nlet utilStyleSheet;\n\n/**\n * Adds the given style rule to a style sheet for the current document.\n *\n * @param {string} styleRule\n */\nfunction addRuleToStyleSheet(styleRule) {\n  // Create the custom style sheet if it doesn't already exist\n  if (!utilStyleSheet) {\n    utilStyleSheet = document.createElement('style');\n    document.getElementsByTagName('head')[0].appendChild(utilStyleSheet);\n  }\n\n  // Add the given rule to the custom style sheet\n  if (utilStyleSheet.styleSheet) {\n    utilStyleSheet.styleSheet.cssText = styleRule;\n  }\n  else {\n    utilStyleSheet.appendChild(document.createTextNode(styleRule));\n  }\n}\n\nfunction checkForSafari() {\n  return /Safari/i.test(window.navigator.userAgent) && !/Chrome/i.test(window.navigator.userAgent);\n}\n\nfunction checkForIos() {\n  return /iPhone|iPod|iPad/i.test(window.navigator.userAgent);\n}\n\n/**\n * Returns a debounced version of the given function.\n *\n * Even if the debounced function is invoked many times, the wrapped function will only be invoked\n * after the given delay has ellapsed since the last invocation.\n *\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\n * invocation group rather than at the end.\n *\n * @param {Function} wrappedFunction\n * @param {number} delay In milliseconds.\n * @param {boolean} [isInvokedImmediately=false]\n * @returns {Function}\n */\nfunction debounce(wrappedFunction, delay, isInvokedImmediately = false) {\n  let timeoutId;\n\n  return () => {\n    // Save the context and arguments passed from the client (this will use the values from the\n    // first invocation of the invocation group.\n    const context = this;\n    const args = arguments;\n\n    // Invoke immediately only if this is the first invocation of a group.\n    if (isInvokedImmediately && !timeoutId) {\n      wrappedFunction.apply(context, args);\n    }\n\n    // Reset the delay.\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      // The invocation group has ended.\n      timeoutId = null;\n      if (!isInvokedImmediately) {\n        wrappedFunction.apply(context, args);\n      }\n    }, delay);\n  };\n}\n\n/**\n * Returns a throttled version of the given function.\n *\n * Even if the throttled function is invoked many times, the wrapped function will only be invoked\n * at each interval of the given delay. After the throttled function stops being invoked, then\n * wrapped function will also stop being invoked.\n *\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\n * invocation delay rather than at the end.\n *\n * @param {Function} wrappedFunction\n * @param {number} delay In milliseconds.\n * @param {boolean} [isInvokedImmediately=false]\n * @returns {Function}\n */\nfunction throttle(wrappedFunction, delay, isInvokedImmediately = false) {\n  let timeoutId;\n\n  return () => {\n    // Save the context and arguments passed from the client (this will use the values from the\n    // first invocation of the invocation group.\n    const context = this;\n    const args = arguments;\n\n    // Only trigger a new invocation group if we are not already/still waiting on the delay from a\n    // previous invocation.\n    if (!timeoutId) {\n      if (isInvokedImmediately) {\n        wrappedFunction.apply(context, args);\n      }\n\n      // Start the delay.\n      timeoutId = setTimeout(() => {\n        // The invocation group has ended.\n        timeoutId = null;\n        if (!isInvokedImmediately) {\n          wrappedFunction.apply(context, args);\n        }\n      }, delay);\n    }\n  };\n}\n\n/**\n * @param {Array.<*>|String} array\n * @param {*} delimiter\n * @returns {Array.<*>}\n * @private\n */\nfunction _interleave(array, delimiter) {\n  const result = new Array(array.length * 2 - 1);\n  if (array.length) {\n    result.push(array[0]);\n  }\n  for (let i = 1, count = array.length; i < count; i++) {\n    result.push(delimiter);\n    result.push(array[i]);\n  }\n  return result;\n}\n\n/**\n * Loads the given src for the given image.\n *\n * @param {HTMLImageElement} image\n * @param {string} src\n * @returns {Promise.<HTMLImageElement, Error>}\n */\nfunction loadImageSrc(image, src) {\n  return new Promise((resolve, reject) => {\n    console.debug(`Loading image: ${src}`);\n\n    image.addEventListener('load', _ => resolve(image));\n    image.addEventListener('error', reject);\n    image.addEventListener('abort', reject);\n\n    image.src = src;\n  });\n}\n\n/**\n * Loads text from the given URL.\n *\n * @param {string} url\n * @returns {Promise.<String, Error>}\n */\nfunction loadText(url) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('load', _ => resolve(xhr.response));\n    xhr.addEventListener('error', reject);\n    xhr.addEventListener('abort', reject);\n\n    console.debug(`Loading text: ${url}`);\n\n    xhr.open('GET', url);\n    xhr.send();\n  });\n}\n\n/**\n * Loads a JSON object from the given URL.\n *\n * @param {string} url\n * @returns {Promise.<Object, Error>}\n */\nfunction loadJson(url) {\n  return loadText(url).then(jsonText => JSON.parse(jsonText));\n}\n\n/**\n * Gets the current stack trace.\n *\n * @returns {string}\n */\nfunction getStackTrace() {\n  return new Error().stack;\n}\n\n/**\n * Freezes the given object and recursively freezes all of its properties.\n *\n * @param {Object} object\n */\nfunction deepFreeze(object) {\n  if (typeof object === 'object') {\n    Object.freeze(object);\n    Object.keys(object).forEach(key => deepFreeze(object[key]));\n  }\n}\n\n/**\n * Creates a GUID.\n *\n * GUID specification: http://www.ietf.org/rfc/rfc4122.txt\n *\n * Logic adopted from http://stackoverflow.com/a/2117523/489568.\n *\n * @returns {string}\n */\nfunction createGuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = Math.random() * 16 | 0;\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\n/**\n * -11 % 3 === -2\n * mod(-11, 3) === 1\n *\n * @param {number} n\n * @param {number} m\n * @returns {number}\n */\nfunction mod(n, m) {\n  return ((n % m) + m) % m;\n}\n\n/**\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nfunction randomFloatInRange(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\n/**\n * @param {number} min Inclusive\n * @param {number} max Exclusive\n * @returns {number}\n */\nfunction randomIntInRange(min, max) {\n  return parseInt(Math.random() * (max - min) + min);\n}\n\n/**\n * @param {Array} list\n * @returns {*}\n */\nfunction pickRandom(list) {\n  return list[randomIntInRange(0, list.length)];\n}\n\n/**\n * Triggers the given callback when either the current tab or the browser window loses/gains focus.\n *\n * @param {Function} focusChangeHandler\n */\nfunction handlePageFocusChange(focusChangeHandler) {\n  // Pause/unpause the app when the tab loses/gains focus.\n  document.addEventListener('visibilitychange', () => focusChangeHandler(!document.hidden));\n  // Pause/unpause the app when the browser window loses/gains focus.\n  window.addEventListener('blur', () => focusChangeHandler(false));\n  window.addEventListener('focus', () => focusChangeHandler(true));\n}\n\n/**\n * Creates an array with all the consecutive numbers from start (inclusive) to end (exclusive).\n *\n * @param {number} start\n * @param {number} end\n * @returns {Array.<Number>}\n */\nfunction range(start, end) {\n  const r = [];\n  for (let i = 0, j = start; j < end; i++, j++) {\n    r[i] = j;\n  }\n  return r;\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt(value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    parseInt(value) === value;\n}\n\n/**\n * Find the first value in a list that satisfies a predicate.\n *\n * @param {Array} list\n * @param {Function} predicate\n * @returns {*}\n */\nfunction find(list, predicate) {\n  for (var i = 0, count = list.length; i < count; i++) {\n    const value = list[i];\n    if (predicate.call(null, value, i, list)) {\n      return value;\n    }\n  }\n  return null;\n}\n\nconst keyCodes = {\n  'a': 65,\n  'b': 66,\n  'c': 67,\n  'd': 68,\n  'e': 69,\n  'f': 70,\n  'g': 71,\n  'h': 72,\n  'i': 73,\n  'j': 74,\n  'k': 75,\n  'l': 76,\n  'm': 77,\n  'n': 78,\n  'o': 79,\n  'p': 80,\n  'q': 81,\n  'r': 82,\n  's': 83,\n  't': 84,\n  'u': 85,\n  'v': 86,\n  'w': 87,\n  'x': 88,\n  'y': 89,\n  'z': 90,\n  '0': 48,\n  '1': 49,\n  '2': 50,\n  '3': 51,\n  '4': 52,\n  '5': 53,\n  '6': 54,\n  '7': 55,\n  '8': 56,\n  '9': 57,\n  'SPACE': 32,\n  'ENTER': 13,\n  'ESCAPE': 27,\n  'LEFT': 37,\n  'UP': 38,\n  'RIGHT': 39,\n  'DOWN': 40\n};\n\nconst svgNamespace = 'http://www.w3.org/2000/svg';\nconst xlinkNamespace = 'http://www.w3.org/1999/xlink';\n\nexport {\n  isInDevMode,\n  listenToMultipleForMultiple,\n  createElement,\n  containsClass,\n  toggleClass,\n  getPageOffset,\n  getViewportSize,\n  removeChildIfPresent,\n  addClass,\n  removeClass,\n  clearClasses,\n  getTextWidth,\n  encodeQueryString,\n  getQueryStringParameterValue,\n  setTransition,\n  setTransitionDurationSeconds,\n  setTransitionDelaySeconds,\n  setUserSelectNone,\n  removeChildrenWithClass,\n  setTransitionCubicBezierTimingFunction,\n  easingFunctions,\n  inverseEasingFunctions,\n  getXYFromPercentWithBezier,\n  setTransform,\n  shuffle,\n  shallowCopy,\n  deepCopy,\n  hsvToHsl,\n  hslToHsv,\n  hslToRgb,\n  rgbToHsl,\n  createHslColorString,\n  findClassInSelfOrAncestors,\n  addRuleToStyleSheet,\n  checkForSafari,\n  checkForIos,\n  debounce,\n  throttle,\n  loadImageSrc,\n  loadText,\n  loadJson,\n  getStackTrace,\n  deepFreeze,\n  createGuid,\n  mod,\n  randomFloatInRange,\n  randomIntInRange,\n  pickRandom,\n  handlePageFocusChange,\n  range,\n  isInt,\n  find,\n  keyCodes,\n  svgNamespace,\n  xlinkNamespace,\n};\n\n/**\n * @typedef {Object} HslColor\n * @property {Number} h In the range of [0, 1].\n * @property {Number} s In the range of [0, 1].\n * @property {Number} l In the range of [0, 1].\n * @property {Number} [a] In the range of [0, 1].\n */\n\n/**\n * @typedef {Object} RgbColor\n * @property {Number} r In the range of [0, 1].\n * @property {Number} g In the range of [0, 1].\n * @property {Number} b In the range of [0, 1].\n * @property {Number} [a] In the range of [0, 1].\n */\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9hbmltYXRleC9pbmRleC5qcyIsIi4uL2FuaW1hdGV4L3NyYy9hbmltYXRpb24tam9iLmpzIiwiLi4vYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwiLi4vYW5pbWF0ZXgvc3JjL2ZyYW1lLWxhdGVuY3ktcHJvZmlsZXIuanMiLCIuLi9hbmltYXRleC9zcmMvaW5kZXguanMiLCIuLi9hbmltYXRleC9zcmMvcGVyc2lzdGVudC1hbmltYXRpb24tam9iLmpzIiwiLi4vYW5pbWF0ZXgvc3JjL3RyYW5zaWVudC1hbmltYXRpb24tam9iLmpzIiwiLi4vYW5pbWF0ZXgvc3JjL3V0aWwuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvZnJhbWUtbGF0ZW5jeS1wcm9maWxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL3BlcnNpc3RlbnQtYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL3RyYW5zaWVudC1hbmltYXRpb24tam9iLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvaW5kZXguanMiLCJzcmMvY2FtZXJhcy9pbmRleC5qcyIsInNyYy9jYW1lcmFzL3NyYy9jYW1lcmEuanMiLCJzcmMvY2FtZXJhcy9zcmMvZmlyc3QtcGVyc29uLWNhbWVyYS5qcyIsInNyYy9jYW1lcmFzL3NyYy9maXhlZC1jYW1lcmEuanMiLCJzcmMvY2FtZXJhcy9zcmMvZml4ZWQtZm9sbG93LWNhbWVyYS5qcyIsInNyYy9jYW1lcmFzL3NyYy9mb2xsb3ctY2FtZXJhLmpzIiwic3JjL2NhbWVyYXMvc3JjL292ZXJoZWFkLWNhbWVyYS5qcyIsInNyYy9jYW1lcmFzL3NyYy90aGlyZC1wZXJzb24tY2FtZXJhLmpzIiwic3JjL2luZGV4LmpzIiwic3JjL21vZGVscy9pbmRleC5qcyIsInNyYy9tb2RlbHMvc3JjL2RlZmF1bHQtbW9kZWwuanMiLCJzcmMvbW9kZWxzL3NyYy9pbnZpc2libGUtbW9kZWwtY29udHJvbGxlci5qcyIsInNyYy9tb2RlbHMvc3JjL21vZGVsLWNvbnRyb2xsZXIuanMiLCJzcmMvbW9kZWxzL3NyYy9tb2RlbC1ncm91cC1jb250cm9sbGVyLmpzIiwic3JjL21vZGVscy9zcmMvbW9kZWwuanMiLCJzcmMvbW9kZWxzL3NyYy9zdGFuZGFyZC1tb2RlbC1jb250cm9sbGVyLmpzIiwic3JjL3Byb2dyYW0td3JhcHBlci9pbmRleC5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL2dyb3VwLXByb2dyYW0td3JhcHBlci5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci1zdG9yZS5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci5qcyIsInNyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3RleHR1cmUtc3RvcmUuanMiLCJzcmMvcHJvZ3JhbS13cmFwcGVyL3NyYy91bmlmb3JtLXNldHRlci5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9pbmRleC5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvcmVuZGVyYWJsZS1zaGFwZS1mYWN0b3J5LmpzIiwic3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlLmpzIiwic3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9zaGFwZS1jb25maWdzL2NhcHN1bGUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9jdWJlLXJlbmRlcmFibGUtc2hhcGUuanMiLCJzcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc2FoZWRyb24tcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9pY29zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9sYXQtbG9uZy1zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsInNyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy90ZXRyYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlLmpzIiwic3JjL3NyYy9ncmFmeC1jb250cm9sbGVyLmpzIiwic3JjL3NyYy9saWdodC5qcyIsInNyYy9zcmMvc2NlbmUuanMiLCJzcmMvdXRpbC9pbmRleC5qcyIsInNyYy91dGlsL3NyYy9nZW9tZXRyeS5qcyIsInNyYy91dGlsL3NyYy9nbC11dGlsLmpzIiwic3JjL3V0aWwvc3JjL2hhc2gtbWFwLmpzIiwic3JjL3V0aWwvc3JjL3V0aWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQ0FBLE9BQUEsSUFBQSxDQUFBLElBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxLQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7SUFLTSxlO0FBQ0o7OztBQUdBLFdBQUEsWUFBQSxDQUFBLFVBQUEsRUFBd0I7QUFBQSxvQkFBQSxJQUFBLEVBQUEsWUFBQTs7QUFDdEI7QUFDQSxRQUFJLElBQUEsTUFBQSxLQUFKLFlBQUEsRUFBaUM7QUFDL0IsWUFBTSxJQUFBLFNBQUEsQ0FBTixrREFBTSxDQUFOO0FBQ0Q7O0FBRUQsU0FBQSxVQUFBLEdBQUEsQ0FBQTtBQUNBLFNBQUEsV0FBQSxHQUFBLElBQUE7QUFDQSxTQUFBLFdBQUEsR0FBQSxVQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztBQVNBOzs7OzswQkFLTSxTLEVBQVc7QUFDZixXQUFBLFVBQUEsR0FBQSxTQUFBO0FBQ0EsV0FBQSxXQUFBLEdBQUEsS0FBQTtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7MkJBU08sVyxFQUFhLFMsRUFBVztBQUM3QjtBQUNBLFlBQU0sSUFBQSxTQUFBLENBQU4sd0JBQU0sQ0FBTjtBQUNEOztBQUVEOzs7Ozs7Ozs7OzJCQU9PO0FBQ0w7QUFDQSxZQUFNLElBQUEsU0FBQSxDQUFOLHdCQUFNLENBQU47QUFDRDs7QUFFRDs7Ozs7Ozs7MkJBS08sVyxFQUFhO0FBQ2xCLGNBQUEsR0FBQSxDQUFlLEtBQUEsV0FBQSxDQUFmLElBQWUsR0FBZixHQUFlLElBQXlCLGNBQUEsV0FBQSxHQUF4QyxXQUFlLENBQWY7O0FBRUEsV0FBQSxXQUFBLEdBQUEsSUFBQTs7QUFFQSxVQUFJLEtBQUosV0FBQSxFQUFzQjtBQUNwQixhQUFBLFdBQUE7QUFDRDtBQUNGOzs7d0JBckRnQjtBQUNmLGFBQU8sS0FBUCxXQUFBO0FBQ0Q7Ozs7OztRQXNESyxZLEdBQUEsWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqRlIsSUFBQSx3QkFBQSxRQUFBLDBCQUFBLENBQUE7O0FBQ0EsSUFBQSwwQkFBQSxRQUFBLDRCQUFBLENBQUE7O0FBQ0EsSUFBQSx5QkFBQSxRQUFBLDJCQUFBLENBQUE7Ozs7Ozs7O0FBRUEsSUFBTSw4QkFBTixHQUFBO0FBQ0EsSUFBTSxvQ0FBb0MsT0FBMUMsRUFBQTtBQUNBLElBQU0sNEJBQU4sSUFBQTtBQUNBLElBQU0scUJBQU4sd0JBQUE7O0FBRUE7Ozs7Ozs7Ozs7SUFTTSxXO0FBQ0osV0FBQSxRQUFBLEdBQWM7QUFBQSxvQkFBQSxJQUFBLEVBQUEsUUFBQTs7QUFDWixTQUFBLEtBQUEsR0FBQSxFQUFBO0FBQ0EsU0FBQSxhQUFBLEdBQUEsSUFBQTtBQUNBLFNBQUEsU0FBQSxHQUFBLElBQUE7QUFDQSxTQUFBLHdCQUFBLEdBQUEsSUFBQTtBQUNBLFNBQUEscUJBQUEsR0FBQSxDQUFBO0FBQ0EsU0FBQSxnQkFBQSxHQUFBLElBQUE7QUFDQSxTQUFBLGdCQUFBLEdBQXdCLElBQUksc0JBQUosb0JBQUEsQ0FBQSx5QkFBQSxFQUFBLGlDQUFBLEVBQXhCLGtCQUF3QixDQUF4QjtBQUVEOztBQUVEOzs7Ozs7Ozs2QkFLUyxHLEVBQUs7QUFDWjtBQUNBLFVBQUksQ0FBQyxJQUFMLFVBQUEsRUFBcUI7QUFDbkIsZ0JBQUEsS0FBQSxDQUFBLDhCQUEwQyxJQUFBLFdBQUEsQ0FBMUMsSUFBQTs7QUFFQSxZQUFJLGVBQWUsd0JBQW5CLHNCQUFBLEVBQTJDO0FBQ3pDLGNBQUEsS0FBQTtBQURGLFNBQUEsTUFFTztBQUNMLGNBQUEsTUFBQSxDQUFBLElBQUE7QUFDQSxjQUFBLEtBQUEsQ0FBVSxPQUFBLFdBQUEsQ0FBVixHQUFVLEVBQVY7QUFDRDtBQVJILE9BQUEsTUFTTztBQUNMLGdCQUFBLEtBQUEsQ0FBQSw0QkFBd0MsSUFBQSxXQUFBLENBQXhDLElBQUE7O0FBRUEsWUFBQSxLQUFBLENBQVUsS0FBVixhQUFBO0FBQ0EsYUFBQSxLQUFBLENBQUEsSUFBQSxDQUFBLEdBQUE7QUFDRDs7QUFFRCxXQUFBLG1CQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzhCQUtVLEcsRUFBSztBQUNiLGNBQUEsS0FBQSxDQUFBLDhCQUEwQyxJQUFBLFdBQUEsQ0FBMUMsSUFBQTtBQUNBLFVBQUEsTUFBQSxDQUFBLElBQUE7QUFDRDs7QUFFRDs7Ozs7O2dDQUdZO0FBQ1YsYUFBTyxLQUFBLEtBQUEsQ0FBUCxNQUFBLEVBQTBCO0FBQ3hCLGFBQUEsU0FBQSxDQUFlLEtBQUEsS0FBQSxDQUFmLENBQWUsQ0FBZjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7NEJBVVE7QUFDTixXQUFBLGtCQUFBO0FBQ0EsY0FBQSxLQUFBLENBQUEsaUJBQUE7QUFDRDs7OzhCQUVTO0FBQ1IsV0FBQSxtQkFBQTtBQUNBLGNBQUEsS0FBQSxDQUFBLG1CQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzttQ0FNZSxXLEVBQWE7QUFBQSxVQUFBLFFBQUEsSUFBQTs7QUFDMUI7QUFDQTtBQUNBLFVBQUksY0FBYyxLQUFsQixhQUFBLEVBQXNDO0FBQ3BDLGFBQUEsYUFBQSxHQUFxQixjQUFyQixDQUFBO0FBQ0Q7O0FBRUQsVUFBSSxZQUFZLGNBQWMsS0FBOUIsYUFBQTtBQUNBLFdBQUEsYUFBQSxHQUFBLFdBQUE7O0FBRUEsV0FBQSxnQkFBQSxDQUFBLGtCQUFBLENBQUEsU0FBQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQVksWUFBQSwyQkFBQSxHQUFBLDJCQUFBLEdBQVosU0FBQTs7QUFHQSxVQUFJLENBQUMsS0FBTCxTQUFBLEVBQXFCO0FBQ25CLGFBQUEsd0JBQUEsR0FDSSxPQUFBLHFCQUFBLENBQTZCLFVBQUEsV0FBQSxFQUFBO0FBQUEsaUJBQWUsTUFBQSxjQUFBLENBQWYsV0FBZSxDQUFmO0FBRGpDLFNBQ0ksQ0FESjtBQUVBLGFBQUEsV0FBQSxDQUFBLFdBQUEsRUFBQSxTQUFBO0FBQ0EsYUFBQSxTQUFBO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7OztnQ0FPWSxXLEVBQWEsUyxFQUFXO0FBQ2xDLFdBQUssSUFBSSxJQUFKLENBQUEsRUFBVyxRQUFRLEtBQUEsS0FBQSxDQUF4QixNQUFBLEVBQTJDLElBQTNDLEtBQUEsRUFBQSxHQUFBLEVBQTJEO0FBQ3pELFlBQUksTUFBTSxLQUFBLEtBQUEsQ0FBVixDQUFVLENBQVY7O0FBRUE7QUFDQSxZQUFJLElBQUosVUFBQSxFQUFvQjtBQUNsQixlQUFBLFVBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQTtBQUNBO0FBQ0E7QUFDQTtBQUNEOztBQUVEO0FBQ0EsWUFBSSxlQUFlLHVCQUFmLHFCQUFBLElBQXdDLElBQUEsT0FBQSxHQUE1QyxXQUFBLEVBQXVFO0FBQ3JFLGNBQUEsTUFBQSxDQUFBLEtBQUE7QUFERixTQUFBLE1BRU87QUFDTCxjQUFBLE1BQUEsQ0FBQSxXQUFBLEVBQUEsU0FBQTtBQUNEO0FBQ0Y7QUFDRjs7QUFFRDs7Ozs7Ozs7OzsrQkFPVyxHLEVBQWlCO0FBQUEsVUFBWixRQUFZLFVBQUEsTUFBQSxHQUFBLENBQUEsSUFBQSxVQUFBLENBQUEsTUFBQSxTQUFBLEdBQUEsVUFBQSxDQUFBLENBQUEsR0FBSixDQUFDLENBQUc7O0FBQzFCLGNBQUEsS0FBQSxDQUFBLDRCQUF3QyxJQUFBLFdBQUEsQ0FBeEMsSUFBQTs7QUFFQSxVQUFJLFNBQUosQ0FBQSxFQUFnQjtBQUNkLGFBQUEsS0FBQSxDQUFBLE1BQUEsQ0FBQSxLQUFBLEVBQUEsQ0FBQTtBQURGLE9BQUEsTUFFTztBQUNMLFlBQU0sUUFBUSxLQUFBLEtBQUEsQ0FBZCxNQUFBO0FBQ0EsYUFBSyxRQUFMLENBQUEsRUFBZ0IsUUFBaEIsS0FBQSxFQUFBLE9BQUEsRUFBd0M7QUFDdEMsY0FBSSxLQUFBLEtBQUEsQ0FBQSxLQUFBLE1BQUosR0FBQSxFQUErQjtBQUM3QixpQkFBQSxLQUFBLENBQUEsTUFBQSxDQUFBLEtBQUEsRUFBQSxDQUFBO0FBQ0E7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQ7QUFDQSxVQUFJLEtBQUEsS0FBQSxDQUFBLE1BQUEsS0FBSixDQUFBLEVBQTZCO0FBQzNCLGFBQUEsa0JBQUE7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OztnQ0FLWTtBQUNWLFdBQUssSUFBSSxJQUFKLENBQUEsRUFBVyxRQUFRLEtBQUEsS0FBQSxDQUF4QixNQUFBLEVBQTJDLElBQTNDLEtBQUEsRUFBQSxHQUFBLEVBQTJEO0FBQ3pELGFBQUEsS0FBQSxDQUFBLENBQUEsRUFBQSxJQUFBO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7OzswQ0FPc0I7QUFBQSxVQUFBLFNBQUEsSUFBQTs7QUFDcEIsVUFBSSxLQUFKLFNBQUEsRUFBb0I7QUFDbEIsYUFBQSxnQkFBQSxHQUF3QixPQUFBLFdBQUEsQ0FBeEIsR0FBd0IsRUFBeEI7QUFDRDtBQUNELFdBQUEsU0FBQSxHQUFBLEtBQUE7O0FBRUE7QUFDQSxVQUFJLENBQUMsS0FBRCx3QkFBQSxJQUFrQyxDQUFDLFNBQXZDLE1BQUEsRUFBd0Q7QUFDdEQsYUFBQSxnQkFBQSxDQUFBLEtBQUE7QUFDQSxhQUFBLGFBQUEsR0FBcUIsT0FBQSxXQUFBLENBQXJCLEdBQXFCLEVBQXJCO0FBQ0EsYUFBQSx3QkFBQSxHQUNJLE9BQUEscUJBQUEsQ0FBNkIsVUFBQSxJQUFBLEVBQUE7QUFBQSxpQkFBUSxPQUFBLGNBQUEsQ0FBUixJQUFRLENBQVI7QUFEakMsU0FDSSxDQURKO0FBRUQ7QUFDRjs7QUFFRDs7Ozs7Ozs7eUNBS3FCO0FBQ25CLFVBQUksQ0FBQyxLQUFMLFNBQUEsRUFBcUI7QUFDbkIsYUFBQSxxQkFBQSxJQUE4QixLQUE5QixvQkFBQTtBQUNEO0FBQ0QsV0FBQSxTQUFBLEdBQUEsSUFBQTtBQUNBLGFBQUEsb0JBQUEsQ0FBNEIsS0FBNUIsd0JBQUE7QUFDQSxXQUFBLHdCQUFBLEdBQUEsSUFBQTtBQUNBLFdBQUEsZ0JBQUEsQ0FBQSxJQUFBO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O3lDQUtxQjtBQUNuQixhQUFPLElBQUEsT0FBQSxDQUFZLE9BQW5CLHFCQUFPLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7d0JBbktrQjtBQUNoQixhQUFPLEtBQVAsYUFBQTtBQUNEOztBQUVEOzs7O3dCQUNlO0FBQ2IsYUFBTyxLQUFQLFNBQUE7QUFDRDs7O3dCQWlLa0I7QUFDakIsYUFBTyxLQUFBLFNBQUEsR0FDRCxLQURDLHFCQUFBLEdBRUQsS0FBQSxxQkFBQSxHQUE2QixLQUZuQyxvQkFBQTtBQUdEOztBQUVEOzs7Ozs7d0JBRzJCO0FBQ3pCLGFBQU8sT0FBQSxXQUFBLENBQUEsR0FBQSxLQUEyQixLQUFsQyxnQkFBQTtBQUNEOzs7Ozs7QUFHSCxJQUFNLFdBQVcsSUFBakIsUUFBaUIsRUFBakI7O1FBRVEsUSxHQUFBLFE7O0FBRVI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0UUE7Ozs7SUFJTSx1QjtBQUNKOzs7Ozs7QUFNQSxXQUFBLG9CQUFBLENBQUEsU0FBQSxFQUFBLHVCQUFBLEVBQUEsUUFBQSxFQUEwRDtBQUFBLG9CQUFBLElBQUEsRUFBQSxvQkFBQTs7QUFDeEQsU0FBQSxVQUFBLEdBQUEsU0FBQTtBQUNBLFNBQUEsd0JBQUEsR0FBQSx1QkFBQTtBQUNBLFNBQUEsU0FBQSxHQUFBLFFBQUE7O0FBRUEsU0FBQSxXQUFBLEdBQUEsSUFBQTtBQUNBLFNBQUEsZ0JBQUEsR0FBQSxJQUFBO0FBQ0EsU0FBQSxnQkFBQSxHQUFBLElBQUE7QUFDQSxTQUFBLGdCQUFBLEdBQUEsSUFBQTs7QUFFQSxTQUFBLFdBQUEsR0FBQSxJQUFBO0FBQ0Q7Ozs7NEJBRU87QUFBQSxVQUFBLFFBQUEsSUFBQTs7QUFDTixXQUFBLElBQUE7QUFDQSxXQUFBLEtBQUE7O0FBRUEsV0FBQSxXQUFBLEdBQW1CLFlBQVksWUFBTTtBQUNuQyxjQUFBLGVBQUE7QUFDQSxjQUFBLEtBQUE7QUFGaUIsT0FBQSxFQUdoQixLQUhILFVBQW1CLENBQW5CO0FBSUQ7OzsyQkFFTTtBQUNMLG9CQUFjLEtBQWQsV0FBQTtBQUNEOzs7NEJBRU87QUFDTixXQUFBLFdBQUEsR0FBQSxDQUFBO0FBQ0EsV0FBQSxnQkFBQSxHQUF3QixPQUF4QixTQUFBO0FBQ0EsV0FBQSxnQkFBQSxHQUF3QixPQUF4QixTQUFBO0FBQ0EsV0FBQSxnQkFBQSxHQUFBLENBQUE7QUFDRDs7QUFFRDs7Ozs7Ozs7dUNBS21CLFksRUFBYztBQUMvQixXQUFBLFdBQUE7QUFDQSxXQUFBLGdCQUFBLEdBQ0ksS0FBQSxnQkFBQSxHQUFBLFlBQUEsR0FBQSxZQUFBLEdBQXNELEtBRDFELGdCQUFBO0FBRUEsV0FBQSxnQkFBQSxHQUNJLEtBQUEsZ0JBQUEsR0FBQSxZQUFBLEdBQUEsWUFBQSxHQUFzRCxLQUQxRCxnQkFBQTtBQUVBLFdBQUEsZ0JBQUEsR0FDSSxLQUFBLGdCQUFBLEdBQXdCLENBQUMsZUFBZSxLQUFoQixnQkFBQSxJQUF5QyxLQURyRSxXQUFBO0FBRUQ7OztzQ0FFaUI7QUFDaEIsVUFBSSxLQUFBLFdBQUEsR0FBSixDQUFBLEVBQTBCO0FBQ3hCLFlBQU0sVUFBYSxLQUFILFNBQUcsR0FBSCxTQUFHLEdBQXdCLEtBQUEsZ0JBQUEsQ0FBQSxPQUFBLENBQTNCLENBQTJCLENBQXhCLEdBQUgsSUFBRyxJQUFILFVBQ0osS0FBQSxnQkFBQSxDQUFBLE9BQUEsQ0FESSxDQUNKLENBREksR0FBQSxRQUFBLEdBQ3FDLEtBQUEsZ0JBQUEsQ0FBQSxPQUFBLENBRHJDLENBQ3FDLENBRHJDLEdBQWhCLEdBQW1CLENBQW5CO0FBRUEsWUFBSSxLQUFBLGdCQUFBLElBQXlCLEtBQTdCLHdCQUFBLEVBQTREO0FBQzFELGtCQUFBLElBQUEsQ0FBQSxPQUFBO0FBREYsU0FBQSxNQUVPO0FBQ0wsa0JBQUEsS0FBQSxDQUFBLE9BQUE7QUFDRDtBQUNGO0FBQ0Y7Ozs7OztRQUdLLG9CLEdBQUEsb0I7Ozs7Ozs7Ozs7O0FDekVSLE9BQUEsSUFBQSxDQUFBLGFBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxjQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxTQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsVUFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEscUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxzQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsdUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSx3QkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsc0JBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSx1QkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSkEsSUFBQSxnQkFBQSxRQUFBLGlCQUFBLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7O0lBS00seUI7OztBQUNKOzs7QUFHQSxXQUFBLHNCQUFBLENBQUEsVUFBQSxFQUF3QjtBQUFBLG9CQUFBLElBQUEsRUFBQSxzQkFBQTs7QUFHdEI7QUFIc0IsUUFBQSxRQUFBLDJCQUFBLElBQUEsRUFBQSxDQUFBLHVCQUFBLFNBQUEsSUFBQSxPQUFBLGNBQUEsQ0FBQSxzQkFBQSxDQUFBLEVB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RUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsbUJBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLFlBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxhQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxrQkFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLG1CQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxhQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsY0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsa0JBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEs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QTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxRQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxlQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsZ0JBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGlCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsa0JBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLEtBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxNQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFFQSxPQUFBLElBQUEsQ0FBQSxnQkFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGlCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxNQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsT0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLE9BQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7Ozs7Ozs7Ozs7QUNiQSxPQUFBLElBQUEsQ0FBQSxhQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsY0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEseUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSwwQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLE9BQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGdCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsaUJBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLHFCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsc0JBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLHdCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxR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QUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLHFCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxhQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsY0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsY0FBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGVBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIQSxJQUFBLFFBQUEsUUFBQSxZQUFBLENBQUE7O0FBRUEsSUFBQSx1QkFBQSxRQUFBLHlCQUFBLENBQUE7Ozs7Ozs7O0FBRUE7OztJQUdNLHNCO0FBQ0o7Ozs7QUFJQSxXQUFBLG1CQUFBLENBQUEsRUFBQSxFQUFBLE1BQUEsRUFBd0I7QUFBQSxvQkFBQSxJQUFBLEVBQUEsbUJBQUE7O0FBQ3RCLFNBQUEsTUFBQSxHQUFBLE1BQUE7QUFDQSxTQUFBLHdCQUFBLEdBQUEsRUFBQTtBQUNBLFNBQUEsUUFBQSxHQUFBLElBQUE7O0FBRUEsU0FBQSxhQUFBLENB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QUEsU0FBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLFVBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLE9BQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxRQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxRQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsU0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsS0FBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLE1BQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7Ozs7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Q0EsdUIsR0FBQSx1QjtRQUNBLHNDLEdBQUEsc0M7UUFDQSxlLEdBQUEsZTtRQUNBLHNCLEdBQUEsc0I7UUFDQSwwQixHQUFBLDBCO1FBQ0EsWSxHQUFBLFk7UUFDQSxPLEdBQUEsTztRQUNBLFcsR0FBQSxXO1FBQ0EsUSxHQUFBLFE7UUFDQSxRLEdBQUEsUTtRQUNBLFEsR0FBQSxRO1FBQ0EsUSxHQUFBLFE7UUFDQSxRLEdBQUEsUTtRQUNBLG9CLEdBQUEsb0I7UUFDQSwwQixHQUFBLDBCO1FBQ0EsbUIsR0FBQSxtQjtRQUNBLGMsR0FBQSxjO1FBQ0EsVyxHQUFBLFc7UUFDQSxRLEdBQUEsUTtRQUNBLFEsR0FBQSxRO1FBQ0EsWSxHQUFBLFk7UUFDQSxRLEdBQUEsUTtRQUNBLFEsR0FBQSxRO1FBQ0EsYSxHQUFBLGE7UUFDQSxVLEdBQUEsVTtRQUNBLFUsR0FBQSxVO1FBQ0EsRyxHQUFBLEc7UUFDQSxrQixHQUFBLGtCO1FBQ0EsZ0IsR0FBQSxnQjtRQUNBLFUsR0FBQSxVO1FBQ0EscUIsR0FBQSxxQjtRQUNBLEssR0FBQSxLO1FBQ0EsSyxHQUFBLEs7UUFDQSxJLEdBQUEsSTtRQUNBLFEsR0FBQSxRO1FBQ0EsWSxHQUFBLFk7UUFDQSxjLEdBQUEsYzs7QUFHRjs7Ozs7Ozs7QUFRQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCAqIGZyb20gJy4vc3JjJztcbiIsIi8qKlxuICogQW4gQW5pbWF0aW9uSm9iIGlzIHVzZWQgd2l0aCB0aGUgYW5pbWF0b3IgY29udHJvbGxlciB0byB1cGRhdGUgYW5kIHJlLWRyYXcgc29tZXRoaW5nIGVhY2ggZnJhbWUuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25Db21wbGV0ZV0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGlzIEFuaW1hdGlvbkpvYiBpcyBmaW5pc2hlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9uQ29tcGxldGUpIHtcbiAgICAvLyBBbmltYXRpb25Kb2IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgQW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXJ0VGltZSA9IDA7XG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IHRydWU7XG4gICAgdGhpcy5fb25Db21wbGV0ZSA9IG9uQ29tcGxldGU7XG4gIH1cblxuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBBbmltYXRpb25Kb2IgaXMgY29tcGxldGUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNDb21wbGV0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoaXMgQW5pbWF0aW9uSm9iIGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gc3RhcnRUaW1lXG4gICAqL1xuICBzdGFydChzdGFydFRpbWUpIHtcbiAgICB0aGlzLl9zdGFydFRpbWUgPSBzdGFydFRpbWU7XG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGFuaW1hdGlvbiBwcm9ncmVzcyBvZiB0aGlzIEFuaW1hdGlvbkpvYiB0byBtYXRjaCB0aGUgZ2l2ZW4gdGltZS5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgb3ZlcmFsbCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhpcyBBbmltYXRpb25Kb2IuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIG92ZXJhbGwgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZHJhdygpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGFueSBuZWNlc3Nhcnkgc3RhdGUgZm9yIHRoaXMgQW5pbWF0aW9uSm9iIGJlaW5nIGZpbmlzaGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ2FuY2VsbGVkXG4gICAqL1xuICBmaW5pc2goaXNDYW5jZWxsZWQpIHtcbiAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9ICR7aXNDYW5jZWxsZWQgPyAnY2FuY2VsbGVkJyA6ICdjb21wbGV0ZWQnfWApO1xuXG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5fb25Db21wbGV0ZSkge1xuICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0FuaW1hdGlvbkpvYn07XG4iLCJpbXBvcnQge0ZyYW1lTGF0ZW5jeVByb2ZpbGVyfSBmcm9tICcuL2ZyYW1lLWxhdGVuY3ktcHJvZmlsZXInO1xuaW1wb3J0IHtQZXJzaXN0ZW50QW5pbWF0aW9uSm9ifSBmcm9tICcuL3BlcnNpc3RlbnQtYW5pbWF0aW9uLWpvYic7XG5pbXBvcnQge1RyYW5zaWVudEFuaW1hdGlvbkpvYn0gZnJvbSAnLi90cmFuc2llbnQtYW5pbWF0aW9uLWpvYic7XG5cbmNvbnN0IF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA9IDIwMDtcbmNvbnN0IF9GUkFNRV9EVVJBVElPTl9XQVJOSU5HX1RIUkVTSE9MRCA9IDEwMDAgLyAzMDtcbmNvbnN0IF9GUkFNRV9MQVRFTkNZX0xPR19QRVJJT0QgPSA1MDAwO1xuY29uc3QgX0xBVEVOQ1lfTE9HX0xBQkVMID0gJ0FuaW1hdGlvbiBmcmFtZSBwZXJpb2QnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgYW5pbWF0aW9uIGxvb3AuXG4gKlxuICogVGhpcyBjbGFzcydzIHJlc3BvbnNpYmlsaXRpZXMgaW5jbHVkZTpcbiAqIC0gdXBkYXRpbmcgbW9kdWxlcyBmb3IgdGhlIGN1cnJlbnQgZnJhbWUsXG4gKiAtIGRyYXdpbmcgcmVuZGVyYWJsZXMgZm9yIHRoZSBjdXJyZW50IGZyYW1lLFxuICogLSBzdGFydGluZyBhbmQgc3RvcHBpbmcgdHJhbnNpZW50IGFuaW1hdGlvbiBqb2JzLFxuICogLSBjYXBwaW5nIHRpbWUgc3RlcCBkdXJhdGlvbnMgYXQgYSBtYXggdGhyZXNob2xkLlxuICovXG5jbGFzcyBBbmltYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2pvYnMgPSBbXTtcbiAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBudWxsO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7XG4gICAgdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWUgPSAwO1xuICAgIHRoaXMuX2xhc3RVbnBhdXNlVGltZSA9IG51bGw7XG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyID0gbmV3IEZyYW1lTGF0ZW5jeVByb2ZpbGVyKF9GUkFNRV9MQVRFTkNZX0xPR19QRVJJT0QsXG4gICAgICAgIF9GUkFNRV9EVVJBVElPTl9XQVJOSU5HX1RIUkVTSE9MRCwgX0xBVEVOQ1lfTE9HX0xBQkVMKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGdpdmVuIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKi9cbiAgc3RhcnRKb2Ioam9iKSB7XG4gICAgLy8gSXMgdGhpcyBhIHJlc3RhcnQ/XG4gICAgaWYgKCFqb2IuaXNDb21wbGV0ZSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhgUmVzdGFydGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICAgIGlmIChqb2IgaW5zdGFuY2VvZiBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iKSB7XG4gICAgICAgIGpvYi5yZXNldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgam9iLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgam9iLnN0YXJ0KHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoYFN0YXJ0aW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgICAgam9iLnN0YXJ0KHRoaXMuX3ByZXZpb3VzVGltZSk7XG4gICAgICB0aGlzLl9qb2JzLnB1c2goam9iKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydEFuaW1hdGlvbkxvb3AoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIHRoZSBnaXZlbiBBbmltYXRpb25Kb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICovXG4gIGNhbmNlbEpvYihqb2IpIHtcbiAgICBjb25zb2xlLmRlYnVnKGBDYW5jZWxsaW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcbiAgICBqb2IuZmluaXNoKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYWxsIHJ1bm5pbmcgQW5pbWF0aW9uSm9icy5cbiAgICovXG4gIGNhbmNlbEFsbCgpIHtcbiAgICB3aGlsZSAodGhpcy5fam9icy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FuY2VsSm9iKHRoaXMuX2pvYnNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gKi9cbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9wcmV2aW91c1RpbWU7XG4gIH1cblxuICAvKiogQHJldHVybnMge2Jvb2xlYW59ICovXG4gIGdldCBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNQYXVzZWQ7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICB0aGlzLl9zdG9wQW5pbWF0aW9uTG9vcCgpO1xuICAgIGNvbnNvbGUuZGVidWcoJ0FuaW1hdG9yIHBhdXNlZCcpO1xuICB9XG5cbiAgdW5wYXVzZSgpIHtcbiAgICB0aGlzLl9zdGFydEFuaW1hdGlvbkxvb3AoKTtcbiAgICBjb25zb2xlLmRlYnVnKCdBbmltYXRvciB1bnBhdXNlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGFuaW1hdGlvbiBsb29wIHRoYXQgZHJpdmVzIGFsbCBvZiB0aGUgYW5pbWF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYW5pbWF0aW9uTG9vcChjdXJyZW50VGltZSkge1xuICAgIC8vIFdoZW4gcGF1c2luZyBhbmQgcmVzdGFydGluZywgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHByZXZpb3VzIHRpbWUgdG8gYmUgc2xpZ2h0bHkgaW5jb25zaXN0ZW50XG4gICAgLy8gd2l0aCB0aGUgYW5pbWF0aW9uRnJhbWUgdGltZS5cbiAgICBpZiAoY3VycmVudFRpbWUgPCB0aGlzLl9wcmV2aW91c1RpbWUpIHtcbiAgICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IGN1cnJlbnRUaW1lIC0gMTtcbiAgICB9XG5cbiAgICBsZXQgZGVsdGFUaW1lID0gY3VycmVudFRpbWUgLSB0aGlzLl9wcmV2aW91c1RpbWU7XG4gICAgdGhpcy5fcHJldmlvdXNUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIucmVjb3JkRnJhbWVMYXRlbmN5KGRlbHRhVGltZSk7XG5cbiAgICAvLyBMYXJnZSBkZWxheXMgYmV0d2VlbiBmcmFtZXMgY2FuIGNhdXNlIGxlYWQgdG8gaW5zdGFiaWxpdHkgaW4gdGhlIHN5c3RlbSwgc28gdGhpcyBjYXBzIHRoZW0gdG9cbiAgICAvLyBhIG1heCB0aHJlc2hvbGQuXG4gICAgZGVsdGFUaW1lID0gZGVsdGFUaW1lID4gX0RFTFRBX1RJTUVfVVBQRVJfVEhSRVNIT0xEID9cbiAgICAgICAgX0RFTFRBX1RJTUVfVVBQRVJfVEhSRVNIT0xEIDogZGVsdGFUaW1lO1xuXG4gICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPVxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY3VycmVudFRpbWUgPT4gdGhpcy5fYW5pbWF0aW9uTG9vcChjdXJyZW50VGltZSkpO1xuICAgICAgdGhpcy5fdXBkYXRlSm9icyhjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgICAgIHRoaXMuX2RyYXdKb2JzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYWxsIG9mIHRoZSBhY3RpdmUgQW5pbWF0aW9uSm9icy5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUpvYnMoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgbGV0IGpvYiA9IHRoaXMuX2pvYnNbaV07XG5cbiAgICAgIC8vIFJlbW92ZSBqb2JzIGZyb20gdGhlIGxpc3QgYWZ0ZXIgdGhleSBhcmUgY29tcGxldGUuXG4gICAgICBpZiAoam9iLmlzQ29tcGxldGUpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlSm9iKGpvYiwgaSk7XG4gICAgICAgIGktLTtcbiAgICAgICAgY291bnQtLTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGpvYiBpcyB0cmFuc2llbnQgYW5kIGhhcyByZWFjaGVkIGl0cyBlbmQuXG4gICAgICBpZiAoam9iIGluc3RhbmNlb2YgVHJhbnNpZW50QW5pbWF0aW9uSm9iICYmIGpvYi5lbmRUaW1lIDwgY3VycmVudFRpbWUpIHtcbiAgICAgICAgam9iLmZpbmlzaChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2IudXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBqb2IgZnJvbSB0aGUgY29sbGVjdGlvbiBvZiBhY3RpdmUsIGFuaW1hdGluZyBqb2JzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9LTFdXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVtb3ZlSm9iKGpvYiwgaW5kZXggPSAtMSkge1xuICAgIGNvbnNvbGUuZGVidWcoYFJlbW92aW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLl9qb2JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7XG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXgrKykge1xuICAgICAgICBpZiAodGhpcy5fam9ic1tpbmRleF0gPT09IGpvYikge1xuICAgICAgICAgIHRoaXMuX2pvYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0b3AgdGhlIGFuaW1hdGlvbiBsb29wIHdoZW4gdGhlcmUgYXJlIG5vIG1vcmUgam9icyB0byBhbmltYXRlLlxuICAgIGlmICh0aGlzLl9qb2JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fc3RvcEFuaW1hdGlvbkxvb3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgYWxsIG9mIHRoZSBhY3RpdmUgQW5pbWF0aW9uSm9icy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kcmF3Sm9icygpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIHRoaXMuX2pvYnNbaV0uZHJhdygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGFuaW1hdGlvbiBsb29wIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHJ1bm5pbmcuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RhcnRBbmltYXRpb25Mb29wKCkge1xuICAgIGlmICh0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fbGFzdFVucGF1c2VUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuXG4gICAgLy8gT25seSBhY3R1YWxseSBzdGFydCB0aGUgbG9vcCBpZiBpdCBpc24ndCBhbHJlYWR5IHJ1bm5pbmcgYW5kIHRoZSBwYWdlIGhhcyBmb2N1cy5cbiAgICBpZiAoIXRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkICYmICFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5zdGFydCgpO1xuICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPVxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGltZSA9PiB0aGlzLl9hbmltYXRpb25Mb29wKHRpbWUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgdGhlIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0b3BBbmltYXRpb25Mb29wKCkge1xuICAgIGlmICghdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lICs9IHRoaXMuX3RpbWVTaW5jZUxhc3RQYXVzZWQ7XG4gICAgfVxuICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQpO1xuICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIuc3RvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIG9uIHRoZSBuZXh0IGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIHJlc29sdmVPbk5leHRGcmFtZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2Uod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdG90YWwgYW1vdW50IG9mIHRpbWUgdGhlIGFuaW1hdG9yIGhhcyBiZWVuIHJ1bm5pbmcgd2hpbGUgbm90IHBhdXNlZC5cbiAgICpcbiAgICogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9XG4gICAqL1xuICBnZXQgdG90YWxSdW5UaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1BhdXNlZFxuICAgICAgICA/IHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lXG4gICAgICAgIDogdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWUgKyB0aGlzLl90aW1lU2luY2VMYXN0UGF1c2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfVxuICAgKi9cbiAgZ2V0IF90aW1lU2luY2VMYXN0UGF1c2VkKCkge1xuICAgIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9sYXN0VW5wYXVzZVRpbWU7XG4gIH1cbn1cblxuY29uc3QgYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IoKTtcblxuZXhwb3J0IHthbmltYXRvcn07XG5cbi8qKlxuICogQHR5cGVkZWYge251bWJlcn0gRE9NSGlnaFJlc1RpbWVTdGFtcCBBIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFjY3VyYXRlIHRvIG9uZSB0aG91c2FuZHRoIG9mIGFcbiAqIG1pbGxpc2Vjb25kLlxuICovXG5cbiIsIi8qKlxuICogVGhpcyBjbGFzcyBrZWVwcyB0cmFjayBvZiBhdmcvbWluL21heCBmcmFtZSBsYXRlbmNpZXMgb3ZlciB0aGUgbGFzdCBsb2dnaW5nIHRpbWUgcGVyaW9kIGFuZFxuICogcGVyaW9kaWNhbGx5IGxvZ3MgdGhlc2UgdmFsdWVzLlxuICovXG5jbGFzcyBGcmFtZUxhdGVuY3lQcm9maWxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbG9nUGVyaW9kIFRoZSBwZXJpb2QgYXQgd2hpY2ggdG8gcHJpbnQgbGF0ZW5jeSBsb2cgbWVzc2FnZXMuIEluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkIElmIHRoZSBhdmVyYWdlIGxhdGVuY3kgZXhjZWVkcyB0aGlzIHRocmVzaG9sZCwgdGhlbiB0aGVcbiAgICogbG9nIG1lc3NhZ2UgaXMgc2hvd24gYXMgYSB3YXJuaW5nLiBJbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2dMYWJlbCBBIGxhYmVsIHRvIHNob3cgZm9yIGVhY2ggbGF0ZW5jeSBsb2cgbWVzc2FnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGxvZ1BlcmlvZCwgbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQsIGxvZ0xhYmVsKSB7XG4gICAgdGhpcy5fbG9nUGVyaW9kID0gbG9nUGVyaW9kO1xuICAgIHRoaXMuX2xhdGVuY3lXYXJuaW5nVGhyZXNob2xkID0gbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQ7XG4gICAgdGhpcy5fbG9nTGFiZWwgPSBsb2dMYWJlbDtcblxuICAgIHRoaXMuX2ZyYW1lQ291bnQgPSBudWxsO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9IG51bGw7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID0gbnVsbDtcbiAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgPSBudWxsO1xuXG4gICAgdGhpcy5faW50ZXJ2YWxJZCA9IG51bGw7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICB0aGlzLl9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5sb2dGcmFtZUxhdGVuY3koKTtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9LCB0aGlzLl9sb2dQZXJpb2QpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsSWQpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fZnJhbWVDb3VudCA9IDA7XG4gICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5ID0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9IDA7XG4gIH1cblxuICAvKipcbiAgICogS2VlcHMgdHJhY2sgb2YgYSBydW5uaW5nIGF2ZXJhZ2UsIG1pbiB2YWx1ZSwgYW5kIG1heCB2YWx1ZSBmb3IgdGhlIGZyYW1lIGxhdGVuY2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBmcmFtZUxhdGVuY3lcbiAgICovXG4gIHJlY29yZEZyYW1lTGF0ZW5jeShmcmFtZUxhdGVuY3kpIHtcbiAgICB0aGlzLl9mcmFtZUNvdW50Kys7XG4gICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5IDwgZnJhbWVMYXRlbmN5ID8gZnJhbWVMYXRlbmN5IDogdGhpcy5fbWF4RnJhbWVMYXRlbmN5O1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA+IGZyYW1lTGF0ZW5jeSA/IGZyYW1lTGF0ZW5jeSA6IHRoaXMuX21pbkZyYW1lTGF0ZW5jeTtcbiAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgKyAoZnJhbWVMYXRlbmN5IC0gdGhpcy5fYXZnRnJhbWVMYXRlbmN5KSAvIHRoaXMuX2ZyYW1lQ291bnQ7XG4gIH1cblxuICBsb2dGcmFtZUxhdGVuY3koKSB7XG4gICAgaWYgKHRoaXMuX2ZyYW1lQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gYCR7dGhpcy5fbG9nTGFiZWx9OiAgQVZHPSR7dGhpcy5fYXZnRnJhbWVMYXRlbmN5LnRvRml4ZWQoMyl9ICBgICtcbiAgICAgICAgICBgKE1BWD0ke3RoaXMuX21heEZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfTsgTUlOPSR7dGhpcy5fbWluRnJhbWVMYXRlbmN5LnRvRml4ZWQoMyl9KWA7XG4gICAgICBpZiAodGhpcy5fbWF4RnJhbWVMYXRlbmN5ID49IHRoaXMuX2xhdGVuY3lXYXJuaW5nVGhyZXNob2xkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7RnJhbWVMYXRlbmN5UHJvZmlsZXJ9O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9hbmltYXRpb24tam9iJztcbmV4cG9ydCAqIGZyb20gJy4vYW5pbWF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9mcmFtZS1sYXRlbmN5LXByb2ZpbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vcGVyc2lzdGVudC1hbmltYXRpb24tam9iJztcbmV4cG9ydCAqIGZyb20gJy4vdHJhbnNpZW50LWFuaW1hdGlvbi1qb2InO1xuIiwiaW1wb3J0IHtBbmltYXRpb25Kb2J9IGZyb20gJy4vYW5pbWF0aW9uLWpvYic7XG5cbi8qKlxuICogQSBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHJlY3VycyBvciBoYXMgYW4gaW5kZWZpbml0ZSBkdXJhdGlvbi5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBleHRlbmRzIEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25Db21wbGV0ZV0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGlzIEFuaW1hdGlvbkpvYiBpcyBmaW5pc2hlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9uQ29tcGxldGUpIHtcbiAgICBzdXBlcihvbkNvbXBsZXRlKTtcblxuICAgIC8vIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IHtQZXJzaXN0ZW50QW5pbWF0aW9uSm9ifTtcbiIsImltcG9ydCB7X3V0aWx9IGZyb20gJy4vdXRpbCc7XG5cbmltcG9ydCB7QW5pbWF0aW9uSm9ifSBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuXG4vKipcbiAqIEEgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGlzIHRlbXBvcmFyeSBhbmQgaGFzIGEgZGVmaW5pdGUgYmVnaW5uaW5nIGFuZCBlbmQuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIFRyYW5zaWVudEFuaW1hdGlvbkpvYiBleHRlbmRzIEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBlYXNpbmdGdW5jdGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25Db21wbGV0ZV0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGlzIEFuaW1hdGlvbkpvYiBpcyBmaW5pc2hlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nRnVuY3Rpb24sIG9uQ29tcGxldGUpIHtcbiAgICBzdXBlcihvbkNvbXBsZXRlKTtcblxuICAgIC8vIFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFRyYW5zaWVudEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBUcmFuc2llbnRBbmltYXRpb25Kb2IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICB0aGlzLl9kZWxheSA9IGRlbGF5O1xuICAgIHRoaXMuX2Vhc2luZ0Z1bmN0aW9uID0gdHlwZW9mIGVhc2luZ0Z1bmN0aW9uID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gZWFzaW5nRnVuY3Rpb25cbiAgICAgICAgOiBfdXRpbC5lYXNpbmdGdW5jdGlvbnNbZWFzaW5nRnVuY3Rpb25dO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgZW5kVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhcnRUaW1lICsgdGhpcy5fZHVyYXRpb24gKyB0aGlzLl9kZWxheTtcbiAgfVxufVxuXG5leHBvcnQge1RyYW5zaWVudEFuaW1hdGlvbkpvYn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqL1xuXG4vLyBBIGNvbGxlY3Rpb24gb2YgZGlmZmVyZW50IHR5cGVzIG9mIGVhc2luZyBmdW5jdGlvbnMuXG5jb25zdCBlYXNpbmdGdW5jdGlvbnMgPSB7XG4gIGxpbmVhcjogdCA9PiB0LFxuICBlYXNlSW5RdWFkOiB0ID0+IHQgKiB0LFxuICBlYXNlT3V0UXVhZDogdCA9PiB0ICogKDIgLSB0KSxcbiAgZWFzZUluT3V0UXVhZDogdCA9PiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQsXG4gIGVhc2VJbkN1YmljOiB0ID0+IHQgKiB0ICogdCxcbiAgZWFzZU91dEN1YmljOiB0ID0+IDEgKyAtLXQgKiB0ICogdCxcbiAgZWFzZUluT3V0Q3ViaWM6IHQgPT4gdCA8IDAuNSA/IDQgKiB0ICogdCAqIHQgOiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDEsXG4gIGVhc2VJblF1YXJ0OiB0ID0+IHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWFydDogdCA9PiAxIC0gLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWFydDogdCA9PiB0IDwgMC41ID8gOCAqIHQgKiB0ICogdCAqIHQgOiAxIC0gOCAqIC0tdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluUXVpbnQ6IHQgPT4gdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWludDogdCA9PiAxICsgLS10ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluT3V0UXVpbnQ6IHQgPT4gdCA8IDAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAtLXQgKiB0ICogdCAqIHQgKiB0XG59O1xuXG5jb25zdCBfdXRpbCA9IHtcbiAgZWFzaW5nRnVuY3Rpb25zLFxufTtcblxuZXhwb3J0IHtcbiAgX3V0aWwsXG59O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvYW5pbWF0aW9uLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9hbmltYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9mcmFtZS1sYXRlbmN5LXByb2ZpbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BlcnNpc3RlbnQtYW5pbWF0aW9uLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy90cmFuc2llbnQtYW5pbWF0aW9uLWpvYic7XG4iLCIvKipcbiAqIEFuIEFuaW1hdGlvbkpvYiBpcyB1c2VkIHdpdGggdGhlIGFuaW1hdG9yIGNvbnRyb2xsZXIgdG8gdXBkYXRlIGFuZCByZS1kcmF3IHNvbWV0aGluZyBlYWNoIGZyYW1lLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvbkNvbXBsZXRlKSB7XG4gICAgLy8gQW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gQW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydFRpbWUgPSAwO1xuICAgIHRoaXMuX2lzQ29tcGxldGUgPSB0cnVlO1xuICAgIHRoaXMuX29uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGNvbXBsZXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGlzQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQ29tcGxldGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGlzIEFuaW1hdGlvbkpvYiBhcyBzdGFydGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IHN0YXJ0VGltZVxuICAgKi9cbiAgc3RhcnQoc3RhcnRUaW1lKSB7XG4gICAgdGhpcy5fc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBhbmltYXRpb24gcHJvZ3Jlc3Mgb2YgdGhpcyBBbmltYXRpb25Kb2IgdG8gbWF0Y2ggdGhlIGdpdmVuIHRpbWUuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIG92ZXJhbGwgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoaXMgQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBvdmVyYWxsIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGRyYXcoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbnkgbmVjZXNzYXJ5IHN0YXRlIGZvciB0aGlzIEFuaW1hdGlvbkpvYiBiZWluZyBmaW5pc2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0NhbmNlbGxlZFxuICAgKi9cbiAgZmluaXNoKGlzQ2FuY2VsbGVkKSB7XG4gICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSAke2lzQ2FuY2VsbGVkID8gJ2NhbmNlbGxlZCcgOiAnY29tcGxldGVkJ31gKTtcblxuICAgIHRoaXMuX2lzQ29tcGxldGUgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtBbmltYXRpb25Kb2J9O1xuIiwiaW1wb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlcn0gZnJvbSAnLi9mcmFtZS1sYXRlbmN5LXByb2ZpbGVyJztcbmltcG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn0gZnJvbSAnLi9wZXJzaXN0ZW50LWFuaW1hdGlvbi1qb2InO1xuaW1wb3J0IHtUcmFuc2llbnRBbmltYXRpb25Kb2J9IGZyb20gJy4vdHJhbnNpZW50LWFuaW1hdGlvbi1qb2InO1xuXG5jb25zdCBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgPSAyMDA7XG5jb25zdCBfRlJBTUVfRFVSQVRJT05fV0FSTklOR19USFJFU0hPTEQgPSAxMDAwIC8gMzA7XG5jb25zdCBfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9EID0gNTAwMDtcbmNvbnN0IF9MQVRFTkNZX0xPR19MQUJFTCA9ICdBbmltYXRpb24gZnJhbWUgcGVyaW9kJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgdGhlIGFuaW1hdGlvbiBsb29wLlxuICpcbiAqIFRoaXMgY2xhc3MncyByZXNwb25zaWJpbGl0aWVzIGluY2x1ZGU6XG4gKiAtIHVwZGF0aW5nIG1vZHVsZXMgZm9yIHRoZSBjdXJyZW50IGZyYW1lLFxuICogLSBkcmF3aW5nIHJlbmRlcmFibGVzIGZvciB0aGUgY3VycmVudCBmcmFtZSxcbiAqIC0gc3RhcnRpbmcgYW5kIHN0b3BwaW5nIHRyYW5zaWVudCBhbmltYXRpb24gam9icyxcbiAqIC0gY2FwcGluZyB0aW1lIHN0ZXAgZHVyYXRpb25zIGF0IGEgbWF4IHRocmVzaG9sZC5cbiAqL1xuY2xhc3MgQW5pbWF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9qb2JzID0gW107XG4gICAgdGhpcy5fcHJldmlvdXNUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICAgIHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lID0gMDtcbiAgICB0aGlzLl9sYXN0VW5wYXVzZVRpbWUgPSBudWxsO1xuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlciA9IG5ldyBGcmFtZUxhdGVuY3lQcm9maWxlcihfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9ELFxuICAgICAgICBfRlJBTUVfRFVSQVRJT05fV0FSTklOR19USFJFU0hPTEQsIF9MQVRFTkNZX0xPR19MQUJFTCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBnaXZlbiBBbmltYXRpb25Kb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICovXG4gIHN0YXJ0Sm9iKGpvYikge1xuICAgIC8vIElzIHRoaXMgYSByZXN0YXJ0P1xuICAgIGlmICgham9iLmlzQ29tcGxldGUpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoYFJlc3RhcnRpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICBpZiAoam9iIGluc3RhbmNlb2YgUGVyc2lzdGVudEFuaW1hdGlvbkpvYikge1xuICAgICAgICBqb2IucmVzZXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpvYi5maW5pc2godHJ1ZSk7XG4gICAgICAgIGpvYi5zdGFydCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBTdGFydGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICAgIGpvYi5zdGFydCh0aGlzLl9wcmV2aW91c1RpbWUpO1xuICAgICAgdGhpcy5fam9icy5wdXNoKGpvYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnRBbmltYXRpb25Mb29wKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyB0aGUgZ2l2ZW4gQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqL1xuICBjYW5jZWxKb2Ioam9iKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhgQ2FuY2VsbGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gICAgam9iLmZpbmlzaCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFsbCBydW5uaW5nIEFuaW1hdGlvbkpvYnMuXG4gICAqL1xuICBjYW5jZWxBbGwoKSB7XG4gICAgd2hpbGUgKHRoaXMuX2pvYnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNhbmNlbEpvYih0aGlzLl9qb2JzWzBdKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9ICovXG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNUaW1lO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUGF1c2VkO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fc3RvcEFuaW1hdGlvbkxvb3AoKTtcbiAgICBjb25zb2xlLmRlYnVnKCdBbmltYXRvciBwYXVzZWQnKTtcbiAgfVxuXG4gIHVucGF1c2UoKSB7XG4gICAgdGhpcy5fc3RhcnRBbmltYXRpb25Mb29wKCk7XG4gICAgY29uc29sZS5kZWJ1ZygnQW5pbWF0b3IgdW5wYXVzZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBhbmltYXRpb24gbG9vcCB0aGF0IGRyaXZlcyBhbGwgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FuaW1hdGlvbkxvb3AoY3VycmVudFRpbWUpIHtcbiAgICAvLyBXaGVuIHBhdXNpbmcgYW5kIHJlc3RhcnRpbmcsIGl0J3MgcG9zc2libGUgZm9yIHRoZSBwcmV2aW91cyB0aW1lIHRvIGJlIHNsaWdodGx5IGluY29uc2lzdGVudFxuICAgIC8vIHdpdGggdGhlIGFuaW1hdGlvbkZyYW1lIHRpbWUuXG4gICAgaWYgKGN1cnJlbnRUaW1lIDwgdGhpcy5fcHJldmlvdXNUaW1lKSB7XG4gICAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZSAtIDE7XG4gICAgfVxuXG4gICAgbGV0IGRlbHRhVGltZSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fcHJldmlvdXNUaW1lO1xuICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnJlY29yZEZyYW1lTGF0ZW5jeShkZWx0YVRpbWUpO1xuXG4gICAgLy8gTGFyZ2UgZGVsYXlzIGJldHdlZW4gZnJhbWVzIGNhbiBjYXVzZSBsZWFkIHRvIGluc3RhYmlsaXR5IGluIHRoZSBzeXN0ZW0sIHNvIHRoaXMgY2FwcyB0aGVtIHRvXG4gICAgLy8gYSBtYXggdGhyZXNob2xkLlxuICAgIGRlbHRhVGltZSA9IGRlbHRhVGltZSA+IF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA/XG4gICAgICAgIF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA6IGRlbHRhVGltZTtcblxuICAgIGlmICghdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID1cbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGN1cnJlbnRUaW1lID0+IHRoaXMuX2FuaW1hdGlvbkxvb3AoY3VycmVudFRpbWUpKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUpvYnMoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICB0aGlzLl9kcmF3Sm9icygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFsbCBvZiB0aGUgYWN0aXZlIEFuaW1hdGlvbkpvYnMuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVKb2JzKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGxldCBqb2IgPSB0aGlzLl9qb2JzW2ldO1xuXG4gICAgICAvLyBSZW1vdmUgam9icyBmcm9tIHRoZSBsaXN0IGFmdGVyIHRoZXkgYXJlIGNvbXBsZXRlLlxuICAgICAgaWYgKGpvYi5pc0NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUpvYihqb2IsIGkpO1xuICAgICAgICBpLS07XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBqb2IgaXMgdHJhbnNpZW50IGFuZCBoYXMgcmVhY2hlZCBpdHMgZW5kLlxuICAgICAgaWYgKGpvYiBpbnN0YW5jZW9mIFRyYW5zaWVudEFuaW1hdGlvbkpvYiAmJiBqb2IuZW5kVGltZSA8IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIGpvYi5maW5pc2goZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgam9iLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gam9iIGZyb20gdGhlIGNvbGxlY3Rpb24gb2YgYWN0aXZlLCBhbmltYXRpbmcgam9icy5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PS0xXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbW92ZUpvYihqb2IsIGluZGV4ID0gLTEpIHtcbiAgICBjb25zb2xlLmRlYnVnKGBSZW1vdmluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5fam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoO1xuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKHRoaXMuX2pvYnNbaW5kZXhdID09PSBqb2IpIHtcbiAgICAgICAgICB0aGlzLl9qb2JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdG9wIHRoZSBhbmltYXRpb24gbG9vcCB3aGVuIHRoZXJlIGFyZSBubyBtb3JlIGpvYnMgdG8gYW5pbWF0ZS5cbiAgICBpZiAodGhpcy5fam9icy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX3N0b3BBbmltYXRpb25Mb29wKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIGFsbCBvZiB0aGUgYWN0aXZlIEFuaW1hdGlvbkpvYnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZHJhd0pvYnMoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICB0aGlzLl9qb2JzW2ldLmRyYXcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBhbmltYXRpb24gbG9vcCBpZiBpdCBpcyBub3QgYWxyZWFkeSBydW5uaW5nLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpZGVtcG90ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0YXJ0QW5pbWF0aW9uTG9vcCgpIHtcbiAgICBpZiAodGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX2xhc3RVbnBhdXNlVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcblxuICAgIC8vIE9ubHkgYWN0dWFsbHkgc3RhcnQgdGhlIGxvb3AgaWYgaXQgaXNuJ3QgYWxyZWFkeSBydW5uaW5nIGFuZCB0aGUgcGFnZSBoYXMgZm9jdXMuXG4gICAgaWYgKCF0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAmJiAhZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID1cbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpbWUgPT4gdGhpcy5fYW5pbWF0aW9uTG9vcCh0aW1lKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdG9wQW5pbWF0aW9uTG9vcCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSArPSB0aGlzLl90aW1lU2luY2VMYXN0UGF1c2VkO1xuICAgIH1cbiAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkKTtcbiAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7XG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnN0b3AoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbiB0aGUgbmV4dCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICByZXNvbHZlT25OZXh0RnJhbWUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRvdGFsIGFtb3VudCBvZiB0aW1lIHRoZSBhbmltYXRvciBoYXMgYmVlbiBydW5uaW5nIHdoaWxlIG5vdCBwYXVzZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfVxuICAgKi9cbiAgZ2V0IHRvdGFsUnVuVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNQYXVzZWRcbiAgICAgICAgPyB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZVxuICAgICAgICA6IHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lICsgdGhpcy5fdGltZVNpbmNlTGFzdFBhdXNlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH1cbiAgICovXG4gIGdldCBfdGltZVNpbmNlTGFzdFBhdXNlZCgpIHtcbiAgICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy5fbGFzdFVucGF1c2VUaW1lO1xuICB9XG59XG5cbmNvbnN0IGFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKCk7XG5cbmV4cG9ydCB7YW5pbWF0b3J9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IERPTUhpZ2hSZXNUaW1lU3RhbXAgQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhY2N1cmF0ZSB0byBvbmUgdGhvdXNhbmR0aCBvZiBhXG4gKiBtaWxsaXNlY29uZC5cbiAqL1xuXG4iLCIvKipcbiAqIFRoaXMgY2xhc3Mga2VlcHMgdHJhY2sgb2YgYXZnL21pbi9tYXggZnJhbWUgbGF0ZW5jaWVzIG92ZXIgdGhlIGxhc3QgbG9nZ2luZyB0aW1lIHBlcmlvZCBhbmRcbiAqIHBlcmlvZGljYWxseSBsb2dzIHRoZXNlIHZhbHVlcy5cbiAqL1xuY2xhc3MgRnJhbWVMYXRlbmN5UHJvZmlsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvZ1BlcmlvZCBUaGUgcGVyaW9kIGF0IHdoaWNoIHRvIHByaW50IGxhdGVuY3kgbG9nIG1lc3NhZ2VzLiBJbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsYXRlbmN5V2FybmluZ1RocmVzaG9sZCBJZiB0aGUgYXZlcmFnZSBsYXRlbmN5IGV4Y2VlZHMgdGhpcyB0aHJlc2hvbGQsIHRoZW4gdGhlXG4gICAqIGxvZyBtZXNzYWdlIGlzIHNob3duIGFzIGEgd2FybmluZy4gSW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9nTGFiZWwgQSBsYWJlbCB0byBzaG93IGZvciBlYWNoIGxhdGVuY3kgbG9nIG1lc3NhZ2UuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2dQZXJpb2QsIGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkLCBsb2dMYWJlbCkge1xuICAgIHRoaXMuX2xvZ1BlcmlvZCA9IGxvZ1BlcmlvZDtcbiAgICB0aGlzLl9sYXRlbmN5V2FybmluZ1RocmVzaG9sZCA9IGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkO1xuICAgIHRoaXMuX2xvZ0xhYmVsID0gbG9nTGFiZWw7XG5cbiAgICB0aGlzLl9mcmFtZUNvdW50ID0gbnVsbDtcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPSBudWxsO1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9IG51bGw7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID0gbnVsbDtcblxuICAgIHRoaXMuX2ludGVydmFsSWQgPSBudWxsO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5yZXNldCgpO1xuXG4gICAgdGhpcy5faW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMubG9nRnJhbWVMYXRlbmN5KCk7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfSwgdGhpcy5fbG9nUGVyaW9kKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX2ZyYW1lQ291bnQgPSAwO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEtlZXBzIHRyYWNrIG9mIGEgcnVubmluZyBhdmVyYWdlLCBtaW4gdmFsdWUsIGFuZCBtYXggdmFsdWUgZm9yIHRoZSBmcmFtZSBsYXRlbmNpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZnJhbWVMYXRlbmN5XG4gICAqL1xuICByZWNvcmRGcmFtZUxhdGVuY3koZnJhbWVMYXRlbmN5KSB7XG4gICAgdGhpcy5fZnJhbWVDb3VudCsrO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA8IGZyYW1lTGF0ZW5jeSA/IGZyYW1lTGF0ZW5jeSA6IHRoaXMuX21heEZyYW1lTGF0ZW5jeTtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPiBmcmFtZUxhdGVuY3kgPyBmcmFtZUxhdGVuY3kgOiB0aGlzLl9taW5GcmFtZUxhdGVuY3k7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ICsgKGZyYW1lTGF0ZW5jeSAtIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSkgLyB0aGlzLl9mcmFtZUNvdW50O1xuICB9XG5cbiAgbG9nRnJhbWVMYXRlbmN5KCkge1xuICAgIGlmICh0aGlzLl9mcmFtZUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3RoaXMuX2xvZ0xhYmVsfTogIEFWRz0ke3RoaXMuX2F2Z0ZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfSAgYCArXG4gICAgICAgICAgYChNQVg9JHt0aGlzLl9tYXhGcmFtZUxhdGVuY3kudG9GaXhlZCgzKX07IE1JTj0ke3RoaXMuX21pbkZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfSlgO1xuICAgICAgaWYgKHRoaXMuX21heEZyYW1lTGF0ZW5jeSA+PSB0aGlzLl9sYXRlbmN5V2FybmluZ1RocmVzaG9sZCkge1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmRlYnVnKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0ZyYW1lTGF0ZW5jeVByb2ZpbGVyfTtcbiIsImltcG9ydCB7QW5pbWF0aW9uSm9ifSBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuXG4vKipcbiAqIEEgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiByZWN1cnMgb3IgaGFzIGFuIGluZGVmaW5pdGUgZHVyYXRpb24uXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgZXh0ZW5kcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvbkNvbXBsZXRlKSB7XG4gICAgc3VwZXIob25Db21wbGV0ZSk7XG5cbiAgICAvLyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gUGVyc2lzdGVudEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG5cbmV4cG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn07XG4iLCJpbXBvcnQge191dGlsfSBmcm9tICcuL3V0aWwnO1xuXG5pbXBvcnQge0FuaW1hdGlvbkpvYn0gZnJvbSAnLi9hbmltYXRpb24tam9iJztcblxuLyoqXG4gKiBBIFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpcyB0ZW1wb3JhcnkgYW5kIGhhcyBhIGRlZmluaXRlIGJlZ2lubmluZyBhbmQgZW5kLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBUcmFuc2llbnRBbmltYXRpb25Kb2IgZXh0ZW5kcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gZWFzaW5nRnVuY3Rpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkdXJhdGlvbiwgZGVsYXksIGVhc2luZ0Z1bmN0aW9uLCBvbkNvbXBsZXRlKSB7XG4gICAgc3VwZXIob25Db21wbGV0ZSk7XG5cbiAgICAvLyBUcmFuc2llbnRBbmltYXRpb25Kb2IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBUcmFuc2llbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgdGhpcy5fZGVsYXkgPSBkZWxheTtcbiAgICB0aGlzLl9lYXNpbmdGdW5jdGlvbiA9IHR5cGVvZiBlYXNpbmdGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IGVhc2luZ0Z1bmN0aW9uXG4gICAgICAgIDogX3V0aWwuZWFzaW5nRnVuY3Rpb25zW2Vhc2luZ0Z1bmN0aW9uXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGVuZFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0VGltZSArIHRoaXMuX2R1cmF0aW9uICsgdGhpcy5fZGVsYXk7XG4gIH1cbn1cblxuZXhwb3J0IHtUcmFuc2llbnRBbmltYXRpb25Kb2J9O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuLy8gQSBjb2xsZWN0aW9uIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBlYXNpbmcgZnVuY3Rpb25zLlxuY29uc3QgZWFzaW5nRnVuY3Rpb25zID0ge1xuICBsaW5lYXI6IHQgPT4gdCxcbiAgZWFzZUluUXVhZDogdCA9PiB0ICogdCxcbiAgZWFzZU91dFF1YWQ6IHQgPT4gdCAqICgyIC0gdCksXG4gIGVhc2VJbk91dFF1YWQ6IHQgPT4gdCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0LFxuICBlYXNlSW5DdWJpYzogdCA9PiB0ICogdCAqIHQsXG4gIGVhc2VPdXRDdWJpYzogdCA9PiAxICsgLS10ICogdCAqIHQsXG4gIGVhc2VJbk91dEN1YmljOiB0ID0+IHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxLFxuICBlYXNlSW5RdWFydDogdCA9PiB0ICogdCAqIHQgKiB0LFxuICBlYXNlT3V0UXVhcnQ6IHQgPT4gMSAtIC0tdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluT3V0UXVhcnQ6IHQgPT4gdCA8IDAuNSA/IDggKiB0ICogdCAqIHQgKiB0IDogMSAtIDggKiAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJblF1aW50OiB0ID0+IHQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlT3V0UXVpbnQ6IHQgPT4gMSArIC0tdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1aW50OiB0ID0+IHQgPCAwLjUgPyAxNiAqIHQgKiB0ICogdCAqIHQgKiB0IDogMSArIDE2ICogLS10ICogdCAqIHQgKiB0ICogdFxufTtcblxuY29uc3QgX3V0aWwgPSB7XG4gIGVhc2luZ0Z1bmN0aW9ucyxcbn07XG5cbmV4cG9ydCB7XG4gIF91dGlsLFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307IC8vIEZJWE1FOiBQb2ludCB0aGlzIHRvIGRpc3RcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2NhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9maXJzdC1wZXJzb24tY2FtZXJhJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZpeGVkLWNhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9maXhlZC1mb2xsb3ctY2FtZXJhJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZvbGxvdy1jYW1lcmEnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvdGhpcmQtcGVyc29uLWNhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9vdmVyaGVhZC1jYW1lcmEnO1xuIiwiaW1wb3J0IHsgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB9IGZyb20gJ2xzbC1hbmltYXRleCc7XG5cbi8vIFRPRE86IE1ha2UgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24gYmFzZWQgd2l0aCA2RG9GLlxuXG4vLyBUT0RPOiBBZGQgc3VwcG9ydCBmb3Igc2NyaXB0aW5nIHRoZSBjYW1lcmEgdG8gZm9sbG93IGEgY3VydmU6XG4vLyAoaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9iYjIwMzkwOCh2PXhuYWdhbWVzdHVkaW8uMzEpLmFzcHgpXG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGNvbW1vbiBjYW1lcmEgbG9naWMuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIENhbWVyYSBleHRlbmRzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8vIENhbWVyYSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IENhbWVyYSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBDYW1lcmEgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2FtZXJhUGFyYW1zID0gY2FtZXJhUGFyYW1zO1xuICAgIHRoaXMuX2ZvdlkgPSBudWxsO1xuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gbnVsbDtcbiAgICB0aGlzLl96TmVhciA9IG51bGw7XG4gICAgdGhpcy5fekZhciA9IG51bGw7XG4gICAgdGhpcy5fcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuX29yaWVudGF0aW9uID0gcXVhdC5jcmVhdGUoKTsgLy8gVE9ETzogVXNlIHRoaXMuXG4gICAgdGhpcy5fdmlld01hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fdmlld1Byb2plY3Rpb25NYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuXG4gICAgdGhpcy5fbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3NldFBlcnNwZWN0aXZlKHRoaXMuX2NhbWVyYVBhcmFtcy5mb3ZZLCB0aGlzLl9jYW1lcmFQYXJhbXMuZGVmYXVsdEFzcGVjdFJhdGlvLFxuICAgICAgdGhpcy5fY2FtZXJhUGFyYW1zLnpOZWFyLCB0aGlzLl9jYW1lcmFQYXJhbXMuekZhcik7XG4gIH1cblxuICAvLyBUT0RPOiBDYWxsIHRoaXMgYWZ0ZXIgYWRkaW5nIHN1cHBvcnQgZm9yIGR5bmFtaWNhbGx5IHN3aXRjaGluZyBjYW1lcmFzLlxuICBkZXN0cm95KCkge31cblxuICAvKipcbiAgICogU2V0IHRoaXMgY2FtZXJhJ3Mgb3JpZW50YXRpb24gYW5kIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3ZlYzN9IGV5ZSBUaGUgY2FtZXJhIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0ge3ZlYzN9IHRhcmdldCBUaGUgZm9jYWwgcG9pbnQuXG4gICAqIEBwYXJhbSB7dmVjM30gdXAgVGhlIGxvY2FsIHVwIGRpcmVjdGlvbi5cbiAgICogQHBhcmFtIHt2ZWMzfSB2aWV3RGlyZWN0aW9uIFRoZSAobm9ybWFsaXplZCkgZGlyZWN0aW9uIHRoZSBjYW1lcmEgaXMgbG9va2luZy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFBvc2l0aW9uQW5kTG9va0F0KGV5ZSwgdGFyZ2V0LCB1cCwgdmlld0RpcmVjdGlvbikge1xuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgZXllKTtcbiAgICB0aGlzLl9zZXRMb29rQXRGcm9tQ3VycmVudFBvc2l0aW9uKHRhcmdldCwgdXAsIHZpZXdEaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGlzIGNhbWVyYSdzIG9yaWVudGF0aW9uLCBidXQgZG8gbm90IGNoYW5nZSBpdHMgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7dmVjM30gdGFyZ2V0IFRoZSBmb2NhbCBwb2ludC5cbiAgICogQHBhcmFtIHt2ZWMzfSB1cCBUaGUgbG9jYWwgdXAgZGlyZWN0aW9uLlxuICAgKiBAcGFyYW0ge3ZlYzN9IHZpZXdEaXJlY3Rpb24gVGhlIChub3JtYWxpemVkKSBkaXJlY3Rpb24gdGhlIGNhbWVyYSBpcyBsb29raW5nLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2V0TG9va0F0RnJvbUN1cnJlbnRQb3NpdGlvbih0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKSB7XG4gICAgbWF0NC5sb29rQXQodGhpcy5fdmlld01hdHJpeCwgdGhpcy5fcG9zaXRpb24sIHRhcmdldCwgdXApO1xuICAgIHF1YXQucm90YXRpb25Ubyh0aGlzLl9vcmllbnRhdGlvbiwgdGhpcy5fY2FtZXJhUGFyYW1zLl9kZWZhdWx0TG9va0F0RGlyZWN0aW9uLCB2aWV3RGlyZWN0aW9uKTsgLy8gVE9ETzogQ2hlY2sgdGhpczsgbWlnaHQgbmVlZCB0byBzd2FwIGFyZ3VtZW50cy5cbiAgICB0aGlzLl91cGRhdGVWaWV3UHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zbGF0ZSB0aGlzIGNhbWVyYSBieSB0aGUgZ2l2ZW4gYW1vdW50IGZyb20gaXRzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7dmVjM30gdHJhbnNsYXRpb25cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3RyYW5zbGF0ZSh0cmFuc2xhdGlvbikge1xuICAgIHZlYzMuYWRkKHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbiwgdHJhbnNsYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGlzIGNhbWVyYSBieSB0aGUgZ2l2ZW4gYW1vdW50IGZyb20gaXRzIGN1cnJlbnQgb3JpZW50YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7cXVhdH0gcm90YXRpb25cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3JvdGF0ZShyb3RhdGlvbikge1xuICAgIC8vIFRPRE9cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZm92WSBJbiByYWRpYW5zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0UmF0aW8gV2lkdGggLyBoZWlnaHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6TmVhclxuICAgKiBAcGFyYW0ge251bWJlcn0gekZhclxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2V0UGVyc3BlY3RpdmUoZm92WSwgYXNwZWN0UmF0aW8sIHpOZWFyLCB6RmFyKSB7XG4gICAgdGhpcy5fZm92WSA9IGZvdlk7XG4gICAgdGhpcy5fYXNwZWN0UmF0aW8gPSBhc3BlY3RSYXRpbztcbiAgICB0aGlzLl96TmVhciA9IHpOZWFyO1xuICAgIHRoaXMuX3pGYXIgPSB6RmFyO1xuICAgIHRoaXMuX3VwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZS1jYWxjdWxhdGVzIHRoZSB2aWV3LXByb2plY3Rpb24gbWF0cml4LiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYW55IHRpbWUgZWl0aGVyIHRoZSB2aWV3IG9yXG4gICAqIHByb2plY3Rpb24gbWF0cmljZXMgaXMgdXBkYXRlZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3VwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSB7XG4gICAgbWF0NC5wZXJzcGVjdGl2ZShcbiAgICAgIHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX2ZvdlksIHRoaXMuX2FzcGVjdFJhdGlvLCB0aGlzLl96TmVhciwgdGhpcy5fekZhcik7XG4gICAgdGhpcy5fdXBkYXRlVmlld1Byb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZS1jYWxjdWxhdGVzIHRoZSB2aWV3LXByb2plY3Rpb24gbWF0cml4LiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYW55IHRpbWUgZWl0aGVyIHRoZSB2aWV3IG9yXG4gICAqIHByb2plY3Rpb24gbWF0cmljZXMgaXMgdXBkYXRlZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3VwZGF0ZVZpZXdQcm9qZWN0aW9uTWF0cml4KCkge1xuICAgIG1hdDQubXVsdGlwbHkodGhpcy5fdmlld1Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIHRoaXMuX3ZpZXdNYXRyaXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgZHJhdygpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmb3ZZIFRoZSB2ZXJ0aWNhbCBmaWVsZCBvZiB2aWV3LCBpbiByYWRpYW5zLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzZXQgZm92KGZvdlkpIHtcbiAgICB0aGlzLl9mb3ZZID0gZm92WTtcbiAgICB0aGlzLl91cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdFJhdGlvIFdpZHRoIC8gaGVpZ2h0LlxuICAgKi9cbiAgc2V0IGFzcGVjdFJhdGlvKGFzcGVjdFJhdGlvKSB7XG4gICAgdGhpcy5fc2V0UGVyc3BlY3RpdmUodGhpcy5fY2FtZXJhUGFyYW1zLmZvdlksIGFzcGVjdFJhdGlvLCB0aGlzLl9jYW1lcmFQYXJhbXMuek5lYXIsXG4gICAgICB0aGlzLl9jYW1lcmFQYXJhbXMuekZhcik7XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtxdWF0fSAqL1xuICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7bWF0NH0gKi9cbiAgZ2V0IHZpZXdNYXRyaXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdNYXRyaXg7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHttYXQ0fSAqL1xuICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDtcbiAgfVxuICAvKiogQHJldHVybnMge21hdDR9ICovXG4gIGdldCB2aWV3UHJvamVjdGlvbk1hdHJpeCgpIHsgLy8gVE9ETzogU3RvcCB1c2luZyB0aGUgYWJvdmUgdHdvIGdldHRlcnMgYW5kIHVzZSB0aGlzIGluc3RlYWQ/XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdQcm9qZWN0aW9uTWF0cml4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGlzIGNhbWVyYSdzIHN0YXRlIHRvIG1hdGNoIHRoZSBnaXZlbiBvbGQgY2FtZXJhLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbWVyYX0gb2xkQ2FtZXJhXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpIHtcbiAgICBpZiAoIW9sZENhbWVyYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9mb3ZZID0gb2xkQ2FtZXJhLl9mb3ZZO1xuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gb2xkQ2FtZXJhLl9hc3BlY3RSYXRpbztcbiAgICB0aGlzLl96TmVhciA9IG9sZENhbWVyYS5fek5lYXI7XG4gICAgdGhpcy5fekZhciA9IG9sZENhbWVyYS5fekZhcjtcbiAgICB2ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIG9sZENhbWVyYS5fcG9zaXRpb24pO1xuICAgIHZlYzMuY29weSh0aGlzLl9vcmllbnRhdGlvbiwgb2xkQ2FtZXJhLl9vcmllbnRhdGlvbik7XG4gICAgbWF0NC5jb3B5KHRoaXMuX3ZpZXdNYXRyaXgsIG9sZENhbWVyYS5fdmlld01hdHJpeCk7XG4gICAgbWF0NC5jb3B5KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIG9sZENhbWVyYS5fcHJvamVjdGlvbk1hdHJpeCk7XG4gICAgbWF0NC5jb3B5KHRoaXMuX3ZpZXdQcm9qZWN0aW9uTWF0cml4LCBvbGRDYW1lcmEuX3ZpZXdQcm9qZWN0aW9uTWF0cml4KTtcbiAgfVxufVxuXG5leHBvcnQgeyBDYW1lcmEgfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IENhbWVyYUNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvdllcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6TmVhclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpGYXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWZhdWx0QXNwZWN0UmF0aW9cbiAqIEBwcm9wZXJ0eSB7dmVjM30gX2RlZmF1bHRMb29rQXREaXJlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvbGxvd0NhbWVyYUNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNwcmluZ0NvZWZmaWNpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGFtcGluZ0NvZWZmaWNpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gaW50ZW5kZWREaXN0YW5jZUZyb21UYXJnZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnRlbmRlZFJvdGF0aW9uQW5nbGVGcm9tVGFyZ2V0XG4gKiBAcHJvcGVydHkge3ZlYzN9IGludGVuZGVkUm90YXRpb25BeGlzRnJvbVRhcmdldFxuICogQHByb3BlcnR5IHt2ZWMzfSBfaW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnXG4gKiBAcHJvcGVydHkge3ZlYzN9IGludGVuZGVkRGlzcGxhY2VtZW50RnJvbVRhcmdldFxuICogQHByb3BlcnR5IHt2ZWMzfSB2aWV3RGlyZWN0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGFyZ2V0RGlzdGFuY2VcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpeGVkQ2FtZXJhQ29uZmlnXG4gKiBAcHJvcGVydHkge3ZlYzN9IHBvc2l0aW9uXG4gKiBAcHJvcGVydHkge3ZlYzN9IHZpZXdEaXJlY3Rpb25cbiAqIEBwcm9wZXJ0eSB7dmVjM30gX3VwXG4gKi9cbiIsImltcG9ydCB7IENhbWVyYSB9IGZyb20gJy4vY2FtZXJhJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBmaXJzdC1wZXJzb24gY2FtZXJhLlxuICpcbiAqIEEgZmlyc3QtcGVyc29uIGNhbWVyYSBpcyBwb3NpdGlvbmVkIGF0IGEgY2hhcmFjdGVyIGFuZCBtb3ZlcyBhbmQgcm90YXRlcyB3aXRoIHRoZSBjaGFyYWN0ZXIuXG4gKi9cbmNsYXNzIEZpcnN0UGVyc29uQ2FtZXJhIGV4dGVuZHMgQ2FtZXJhIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcbiAgICogQHBhcmFtIHtGaXJzdFBlcnNvbkNhbWVyYUNvbmZpZ30gZmlyc3RQZXJzb25DYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbWVyYVRhcmdldCwgZmlyc3RQZXJzb25DYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgICB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcyA9IGZpcnN0UGVyc29uQ2FtZXJhUGFyYW1zO1xuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgdGhpcy5fdXBkYXRlT3JpZW50YXRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB0aGlzLl9nZXRJbnRlbmRlZFBvc2l0aW9uKCk7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCBpbnRlbmRlZFBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIG9yaWVudGF0aW9uIHVzaW5nIHRoZSBcImxvb2sgYXRcIiBtZXRob2QgYWNjb3JkaW5nIHRvIGl0cyBwb3NpdGlvbiBhbmQgdGhlXG4gICAqIHBvc2l0aW9uIG9mIGl0cyB0YXJnZXQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF91cGRhdGVPcmllbnRhdGlvbigpIHtcbiAgICAvLyBHZXQgdGhlIHZpZXcgZGlyZWN0aW9uLCBhbmQgdHJhbnNmb3JtIGl0IHRvIGFsaWduIHdpdGggdGhlIHRhcmdldCdzIG9yaWVudGF0aW9uLlxuICAgIGNvbnN0IHZpZXdEaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuY29weSh2aWV3RGlyZWN0aW9uLCB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcy52aWV3RGlyZWN0aW9uKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodmlld0RpcmVjdGlvbiwgdmlld0RpcmVjdGlvbiwgdGhpcy5fY2FtZXJhVGFyZ2V0Lm9yaWVudGF0aW9uKTtcblxuICAgIGNvbnN0IHRhcmdldCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zY2FsZUFuZEFkZCh0YXJnZXQsIHRoaXMuX3Bvc2l0aW9uLCB2aWV3RGlyZWN0aW9uLFxuICAgICAgdGhpcy5fZmlyc3RQZXJzb25DYW1lcmFQYXJhbXMudGFyZ2V0RGlzdGFuY2UpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBcInVwXCIgYXMgdGhlIHdvcmxkIHotYXhpcy5cbiAgICBjb25zdCB1cCA9IHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKTtcblxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhIHRhcmdldCdzIGxvY2FsIHotYXhpcy5cbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodXAsIHVwLCB0aGlzLl9jYW1lcmFUYXJnZXQub3JpZW50YXRpb24pO1xuXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuY3Jvc3MocmlnaHQsIHZpZXdEaXJlY3Rpb24sIHVwKTtcblxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhJ3MgbG9jYWwgei1heGlzLlxuICAgIHZlYzMuY3Jvc3ModXAsIHJpZ2h0LCB2aWV3RGlyZWN0aW9uKTtcblxuICAgIHRoaXMuX3NldFBvc2l0aW9uQW5kTG9va0F0KHRoaXMuX3Bvc2l0aW9uLCB0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgcG9zaXRpb24gZm9yIHRoaXMgY2FtZXJhIHRvIGJlIGluIGFjY29yZGluZyB0byB0aGUgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZVxuICAgKiBjYW1lcmEgdGFyZ2V0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQHByb3RlY3RlZFxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIF9nZXRJbnRlbmRlZFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMudHJhbnNmb3JtTWF0NChcbiAgICAgIGludGVuZGVkUG9zaXRpb24sXG4gICAgICB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcy5pbnRlbmRlZERpc3BsYWNlbWVudEZyb21UYXJnZXQsXG4gICAgICB0aGlzLl9jYW1lcmFUYXJnZXQud29ybGRUcmFuc2Zvcm0pO1xuICAgIHJldHVybiBpbnRlbmRlZFBvc2l0aW9uO1xuICB9XG59XG5cbmV4cG9ydCB7IEZpcnN0UGVyc29uQ2FtZXJhIH07XG4iLCJpbXBvcnQge0NhbWVyYX0gZnJvbSAnLi9jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIGZpeGVkIGNhbWVyYS5cbiAqXG4gKiBBIGZpeGVkIGNhbWVyYSdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBhcmUgdXBkYXRlZCBtYW51YWxseSBhbmQgcmVtYWluIGZpeGVkIHVudGlsIGEgbGF0ZXJcbiAqIHVwZGF0ZS5cbiAqL1xuY2xhc3MgRml4ZWRDYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtGaXhlZENhbWVyYUNvbmZpZ30gZml4ZWRDYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGZpeGVkQ2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSkge1xuICAgIHN1cGVyKGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKTtcblxuICAgIHRoaXMuX3Bvc2l0aW9uID0gZml4ZWRDYW1lcmFQYXJhbXMucG9zaXRpb247XG4gICAgdGhpcy5fdmlld0RpcmVjdGlvbiA9IGZpeGVkQ2FtZXJhUGFyYW1zLnZpZXdEaXJlY3Rpb247XG4gICAgdGhpcy5fdXAgPSBmaXhlZENhbWVyYVBhcmFtcy5fdXA7XG4gICAgdGhpcy5fX3RhcmdldCA9IHZlYzMuY3JlYXRlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxuXG4gIF91cGRhdGUoKSB7XG4gICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdmlld0RpcmVjdGlvbiwgdGhpcy5fdmlld0RpcmVjdGlvbik7XG4gICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdXAsIHRoaXMuX3VwKTtcblxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhJ3MgbG9jYWwgei1heGlzLlxuICAgIGNvbnN0IHJpZ2h0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLmNyb3NzKHJpZ2h0LCB0aGlzLl92aWV3RGlyZWN0aW9uLCB0aGlzLl91cCk7XG4gICAgdmVjMy5jcm9zcyh0aGlzLl91cCwgcmlnaHQsIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xuXG4gICAgdGhpcy5fc2V0UG9zaXRpb25BbmRMb29rQXQodGhpcy5fcG9zaXRpb24sIHRoaXMuX3RhcmdldCwgdGhpcy5fdXAsIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7dmVjM30gbmV3RGlyZWN0aW9uICovXG4gIHNldCB2aWV3RGlyZWN0aW9uKG5ld0RpcmVjdGlvbikge1xuICAgIHZlYzMuY29weSh0aGlzLl92aWV3RGlyZWN0aW9uLCBuZXdEaXJlY3Rpb24pO1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7dmVjM30gbmV3VXAgKi9cbiAgc2V0IHVwKG5ld1VwKSB7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3VwLCBuZXdVcCk7XG4gICAgdGhpcy5fdXBkYXRlKCk7XG4gIH1cblxuICAvKiogQHBhcmFtIHt2ZWMzfSBuZXdQb3NpdGlvbiAqL1xuICBzZXQgcG9zaXRpb24obmV3UG9zaXRpb24pIHtcbiAgICB2ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIG5ld1Bvc2l0aW9uKTtcbiAgICB0aGlzLl91cGRhdGUoKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgLy8gVE9ETzogTG9vayBpbnRvIHdoYXRldmVyIGJ1ZyBwcmV2ZW50cyB0aGUgcGFyZW50LWNsYXNzIGdldHRlciBmcm9tIHdvcmtpbmcuXG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCB2aWV3RGlyZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3RGlyZWN0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHVwKCkge1xuICAgIHJldHVybiB0aGlzLl91cDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXQgX3RhcmdldCgpIHtcbiAgICByZXR1cm4gdmVjMy5hZGQodGhpcy5fX3RhcmdldCwgdGhpcy5fcG9zaXRpb24sIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBvbGRDYW1lcmFcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX21hdGNoT2xkQ2FtZXJhKG9sZENhbWVyYSkge1xuICAgIHN1cGVyLl9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpO1xuICAgIGlmIChvbGRDYW1lcmEgaW5zdGFuY2VvZiBGaXhlZENhbWVyYSkge1xuICAgICAgdmVjMy5jb3B5KHRoaXMuX3ZpZXdEaXJlY3Rpb24sIG9sZENhbWVyYS5fdmlld0RpcmVjdGlvbik7XG4gICAgICB2ZWMzLmNvcHkodGhpcy5fdXAsIG9sZENhbWVyYS5fdXApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0ZpeGVkQ2FtZXJhfTtcbiIsImltcG9ydCB7Rm9sbG93Q2FtZXJhfSBmcm9tICcuL2ZvbGxvdy1jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIGZpeGVkLW9mZnNldCBmb2xsb3cgY2FtZXJhLlxuICpcbiAqIFRoaXMgY2FtZXJhIGlzIHBvc2l0aW9uZWQgYXQgYSByZWxhdGl2ZSwgZml4ZWQgZGlzdGFuY2UgYW5kIHJvdGF0aW9uIGZyb20gdGhlIG9ic2VydmVkIHRhcmdldFxuICogYW5kIGZvbGxvd3MgdGhlIHRhcmdldCdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBhdCB0aGlzIGZpeGVkIGRpc3RhbmNlLlxuICpcbiAqIEEgZm9sbG93IGNhbWVyYSByb3RhdGVzIGluIGFsbCB0aHJlZSBkaW1lbnNpb25zOyBpdCBkb2VzIG5vdCBoYXZlIGEgZml4ZWQgcm9sbC5cbiAqL1xuY2xhc3MgRml4ZWRGb2xsb3dDYW1lcmEgZXh0ZW5kcyBGb2xsb3dDYW1lcmEge1xuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgIHRoaXMuX3VwZGF0ZU9yaWVudGF0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVQb3NpdGlvbigpIHtcbiAgICBjb25zdCBpbnRlbmRlZFBvc2l0aW9uID0gdGhpcy5fZ2V0SW50ZW5kZWRQb3NpdGlvbigpO1xuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgaW50ZW5kZWRQb3NpdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IHtGaXhlZEZvbGxvd0NhbWVyYX07XG4iLCJpbXBvcnQge1RoaXJkUGVyc29uQ2FtZXJhfSBmcm9tICcuL3RoaXJkLXBlcnNvbi1jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBhYnN0cmFjdCBmb2xsb3cgY2FtZXJhLlxuICpcbiAqIFRoaXMgaXMgYSB0aGlyZC1wZXJzb24gdHlwZSBvZiBjYW1lcmEgd2hvc2Ugcm9sbCBhbHdheXMgbWF0Y2hlcyB0aGF0IG9mIHRoZSB0YXJnZXQuXG4gKi9cbmNsYXNzIEZvbGxvd0NhbWVyYSBleHRlbmRzIFRoaXJkUGVyc29uQ2FtZXJhIHtcbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3Mgb3JpZW50YXRpb24gdXNpbmcgdGhlIFwibG9vayBhdFwiIG1ldGhvZCBhY2NvcmRpbmcgdG8gaXRzIHBvc2l0aW9uIGFuZCB0aGVcbiAgICogcG9zaXRpb24gb2YgaXRzIHRhcmdldC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3VwZGF0ZU9yaWVudGF0aW9uKCkge1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2NhbWVyYVRhcmdldC5wb3NpdGlvbjtcblxuICAgIGNvbnN0IHZpZXdEaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc3VidHJhY3Qodmlld0RpcmVjdGlvbiwgdGFyZ2V0LCB0aGlzLl9wb3NpdGlvbik7XG4gICAgdmVjMy5ub3JtYWxpemUodmlld0RpcmVjdGlvbiwgdmlld0RpcmVjdGlvbik7XG5cbiAgICAvLyBJbml0aWFsaXplIFwidXBcIiBhcyB0aGUgd29ybGQgei1heGlzLlxuICAgIGNvbnN0IHVwID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xuXG4gICAgLy8gVHJhbnNmb3JtIFwidXBcIiB0byBhbGlnbiB3aXRoIHRoZSBjYW1lcmEgdGFyZ2V0J3MgbG9jYWwgei1heGlzLlxuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh1cCwgdXAsIHRoaXMuX2NhbWVyYVRhcmdldC5vcmllbnRhdGlvbik7XG5cbiAgICBjb25zdCByaWdodCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5jcm9zcyhyaWdodCwgdmlld0RpcmVjdGlvbiwgdXApO1xuXG4gICAgLy8gVHJhbnNmb3JtIFwidXBcIiB0byBhbGlnbiB3aXRoIHRoZSBjYW1lcmEncyBsb2NhbCB6LWF4aXMuXG4gICAgdmVjMy5jcm9zcyh1cCwgcmlnaHQsIHZpZXdEaXJlY3Rpb24pO1xuXG4gICAgdGhpcy5fc2V0UG9zaXRpb25BbmRMb29rQXQodGhpcy5fcG9zaXRpb24sIHRhcmdldCwgdXAsIHZpZXdEaXJlY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCB7Rm9sbG93Q2FtZXJhfTtcbiIsImltcG9ydCB7VGhpcmRQZXJzb25DYW1lcmF9IGZyb20gJy4vdGhpcmQtcGVyc29uLWNhbWVyYSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGFuIG92ZXJoZWFkIGNhbWVyYS5cbiAqXG4gKiBBbiBvdmVyaGVhZCBjYW1lcmEgc2l0cyBhYm92ZSB0aGUgb2JzZXJ2ZWQgY2hhcmFjdGVyIGFuZCBtb3ZlcyByZWxhdGl2ZSB0byB0aGUgY2hhcmFjdGVyIHdpdGhvdXRcbiAqIHJvdGF0aW5nLlxuICpcbiAqIEFuIG92ZXJoZWFkIGNhbWVyYSdzIHJvdGF0aW9uIHdpdGggdGhlIGNoYXJhY3RlciBpbmNsdWRlcyBvbmx5IHlhdzsgaXQgaGFzIGEgZml4ZWQgcGl0Y2ggYW5kXG4gKiByb2xsLlxuICovXG5jbGFzcyBPdmVyaGVhZENhbWVyYSBleHRlbmRzIFRoaXJkUGVyc29uQ2FtZXJhIHtcbiAgLyoqXG4gICAqIElmIG9sZENhbWVyYSBpcyBnaXZlbiwgdGhlbiB0aGUgc3RhdGUgb2YgdGhlIG5ldyBjYW1lcmEgd2lsbCBiZSBpbml0aWFsaXplZCB0byBtYXRjaCB0aGF0IG9mXG4gICAqIHRoZSBvbGQgY2FtZXJhLiBUaGlzIGVuYWJsZXMgYSBzbW9vdGggdHJhbnNpdGlvbiB3aGVuIGNoYW5naW5nIGNhbWVyYXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcbiAgICogQHBhcmFtIHtGb2xsb3dDYW1lcmFDb25maWd9IGZvbGxvd0NhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKTtcblxuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cblxuICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcyFcbn1cblxuZXhwb3J0IHtPdmVyaGVhZENhbWVyYX07XG4iLCJpbXBvcnQge0NhbWVyYX0gZnJvbSAnLi9jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBhYnN0cmFjdCB0aGlyZC1wZXJzb24gY2FtZXJhLlxuICpcbiAqIEEgdGhpcmQtcGVyc29uIGNhbWVyYSBmb2xsb3dzIGEgdGFyZ2V0IGZyb20gYSBkaXN0YW5jZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgVGhpcmRQZXJzb25DYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldFxuICAgKiBAcGFyYW0ge0ZvbGxvd0NhbWVyYUNvbmZpZ30gZm9sbG93Q2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhQ29uZmlnfSBjYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmF9IFtvbGRDYW1lcmFdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYW1lcmFUYXJnZXQsIGZvbGxvd0NhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcbiAgICBzdXBlcihjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSk7XG5cbiAgICAvLyBUaGlyZFBlcnNvbkNhbWVyYSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFRoaXJkUGVyc29uQ2FtZXJhKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFRoaXJkUGVyc29uQ2FtZXJhIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcyA9IGZvbGxvd0NhbWVyYVBhcmFtcztcbiAgICB0aGlzLl9jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGludGVuZGVkIHBvc2l0aW9uIGZvciB0aGlzIGNhbWVyYSB0byBiZSBpbiBhY2NvcmRpbmcgdG8gdGhlIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBvZiB0aGVcbiAgICogY2FtZXJhIHRhcmdldC5cbiAgICpcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBfZ2V0SW50ZW5kZWRQb3NpdGlvbigpIHtcbiAgICBjb25zdCBpbnRlbmRlZFBvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnRyYW5zZm9ybU1hdDQoXG4gICAgICAgIGludGVuZGVkUG9zaXRpb24sXG4gICAgICAgIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcy5faW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQsXG4gICAgICAgIHRoaXMuX2NhbWVyYVRhcmdldC53b3JsZFRyYW5zZm9ybSk7XG4gICAgcmV0dXJuIGludGVuZGVkUG9zaXRpb247XG4gIH1cblxuICAvKiogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldCAqL1xuICBzZXQgY2FtZXJhVGFyZ2V0KGNhbWVyYVRhcmdldCkge1xuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgfVxufVxuXG5leHBvcnQge1RoaXJkUGVyc29uQ2FtZXJhfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYW1lcmFUYXJnZXRcbiAqIEBwcm9wZXJ0eSB7dmVjM30gcG9zaXRpb24gSW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkge3F1YXR9IG9yaWVudGF0aW9uIFJlbGF0aXZlIHRvIHRoZSB3b3JsZCBheGVzLlxuICogQHByb3BlcnR5IHttYXQ0fSB3b3JsZFRyYW5zZm9ybSBUaGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gKi9cbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgdGhlIGV4cG9ydHMgaW4gdGhlIGdyYWZ4IGZyYW1ld29yay4gVGhpcyBtYWtlcyB0aGUgZW50aXJlIGZyYW1ld29ya1xuICogY29udmVuaWVudGx5IGFjY2Vzc2libGUgdmlhIHRoaXMgc2luZ2xlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2NhbWVyYXMnO1xuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMnO1xuZXhwb3J0ICogZnJvbSAnLi9wcm9ncmFtLXdyYXBwZXInO1xuZXhwb3J0ICogZnJvbSAnLi9yZW5kZXJhYmxlLXNoYXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9ncmFmeC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2xpZ2h0JztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NjZW5lJztcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2RlZmF1bHQtbW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvaW52aXNpYmxlLW1vZGVsLWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvbW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvbW9kZWwtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9tb2RlbC1ncm91cC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3N0YW5kYXJkLW1vZGVsLWNvbnRyb2xsZXInO1xuIiwiaW1wb3J0IHtjcmVhdGVCdWZmZXJGcm9tRGF0YX0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge01vZGVsfSBmcm9tICcuL21vZGVsJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRoZSByaWdpZCBtb2RlbC5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGFjY2VwdHMgYSBSZW5kZXJhYmxlU2hhcGUgYW5kIGFwcGxpZXMgc3RhbmRhcmQgT3BlbkdMIGJpbmRpbmcgbG9naWMgb24gdG9wXG4gKiBvZiBpdC5cbiAqL1xuY2xhc3MgRGVmYXVsdE1vZGVsIGV4dGVuZHMgTW9kZWwge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlfSBzaGFwZUNvbmZpZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoZ2wsIHNoYXBlQ29uZmlnKSB7XG4gICAgc3VwZXIoZ2wpO1xuICAgIHRoaXMuX3NoYXBlQ29uZmlnID0gc2hhcGVDb25maWc7XG4gICAgdGhpcy5faW5pdGlhbGl6ZUJ1ZmZlcnMoKTtcbiAgICB0aGlzLl9pbml0aWFsaXplQ29uZmlncygpO1xuICB9XG5cbiAgX2luaXRpYWxpemVCdWZmZXJzKCkge1xuICAgIC8vIENyZWF0ZSwgYmluZCwgYW5kIG1vdmUgZGF0YSBpbnRvIGJ1ZmZlcnMgZm9yIHRoZSB2ZXJ0ZXggcG9zaXRpb25zLCBub3JtYWxzLCB0ZXh0dXJlXG4gICAgLy8gY29vcmRpbmF0ZXMsIGFuZCBlbGVtZW50IGFycmF5LlxuICAgIHRoaXMuX3ZlcnRleFBvc2l0aW9uc0J1ZmZlciA9IGNyZWF0ZUJ1ZmZlckZyb21EYXRhKHRoaXMuX2dsLCB0aGlzLl9zaGFwZUNvbmZpZy52ZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNCdWZmZXIgPSBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgdGhpcy5fc2hhcGVDb25maWcudmVydGV4Tm9ybWFscyk7XG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyID1cbiAgICAgICAgY3JlYXRlQnVmZmVyRnJvbURhdGEodGhpcy5fZ2wsIHRoaXMuX3NoYXBlQ29uZmlnLnRleHR1cmVDb29yZGluYXRlcyk7XG4gICAgaWYgKHRoaXMuX3NoYXBlQ29uZmlnLnZlcnRleEluZGljZXMpIHtcbiAgICAgIHRoaXMuX3ZlcnRleEluZGljZXNCdWZmZXIgPSBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgdGhpcy5fc2hhcGVDb25maWcudmVydGV4SW5kaWNlcyxcbiAgICAgICAgICB0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUik7XG4gICAgfVxuICB9XG5cbiAgX2luaXRpYWxpemVDb25maWdzKCkge1xuICAgIHRoaXMuX3ZlcnRleFBvc2l0aW9uc0NvbmZpZyA9IHtcbiAgICAgIGJ1ZmZlcjogdGhpcy5fdmVydGV4UG9zaXRpb25zQnVmZmVyLFxuICAgICAgc2l6ZTogMyxcbiAgICAgIHR5cGU6IHRoaXMuX2dsLkZMT0FULFxuICAgICAgbm9ybWFsaXplZDogZmFsc2UsXG4gICAgICBzdHJpZGU6IDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9O1xuICAgIHRoaXMuX3RleHR1cmVDb29yZGluYXRlc0NvbmZpZyA9IHtcbiAgICAgIGJ1ZmZlcjogdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyLFxuICAgICAgc2l6ZTogMixcbiAgICAgIHR5cGU6IHRoaXMuX2dsLkZMT0FULFxuICAgICAgbm9ybWFsaXplZDogZmFsc2UsXG4gICAgICBzdHJpZGU6IDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9O1xuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNDb25maWcgPSB7XG4gICAgICBidWZmZXI6IHRoaXMuX3ZlcnRleE5vcm1hbHNCdWZmZXIsXG4gICAgICBzaXplOiAzLFxuICAgICAgdHlwZTogdGhpcy5fZ2wuRkxPQVQsXG4gICAgICBub3JtYWxpemVkOiBmYWxzZSxcbiAgICAgIHN0cmlkZTogMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH07XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGVsZW1lbnRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2hhcGVDb25maWcuZWxlbWVudENvdW50O1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBtb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9nbC5UUklBTkdMRVM7XG4gICAgLy9yZXR1cm4gdGhpcy5fZ2wuTElORV9TVFJJUDsvLyBUT0RPOiBSRU1PVkUgTUVcbiAgfVxufVxuXG5leHBvcnQge0RlZmF1bHRNb2RlbH07XG4iLCJpbXBvcnQge01vZGVsQ29udHJvbGxlcn0gZnJvbSAnLi9tb2RlbC1jb250cm9sbGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYW4gZXh0ZW5zaW9uIG9mIHRoZSBtb2RlbC1jb250cm9sbGVyIGNsYXNzIHRoYXQgd2lsbCBtYWludGFpbiBzdGF0ZSBidXQgd2lsbFxuICogbmV2ZXIgcmVuZGVyIGFueXRoaW5nLlxuICovXG5jbGFzcyBJbnZpc2libGVNb2RlbENvbnRyb2xsZXIgZXh0ZW5kcyBNb2RlbENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJDb25maWd9IHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgc3VwZXIocGFyYW1zKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxuXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxuXG4gIGRyYXcoKSB7fVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcHJvZ3JhbSB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFVwUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZygpIHtcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0ge307XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IG1ldGhvZCB0byBpbnN0ZWFkIGRvIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIF9zZXRVcFByb2dyYW1XcmFwcGVyKGlkKSB7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCA9IGlkO1xuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICByZXR1cm4gdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlO1xuICB9XG59XG5cbmV4cG9ydCB7SW52aXNpYmxlTW9kZWxDb250cm9sbGVyfTtcbiIsImltcG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn0gZnJvbSAnbHNsLWFuaW1hdGV4JztcbmltcG9ydCB7XG4gIHByb2dyYW1XcmFwcGVyU3RvcmUsXG4gIHRleHR1cmVTdG9yZSxcbn0gZnJvbSAnLi4vLi4vcHJvZ3JhbS13cmFwcGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBtb2RlbC1jb250cm9sbGVyIGNsYXNzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGV4dGVuZGVkIGJ5IGFsbCBjb21wb25lbnRzIHRoYXQgaGFuZGxlIG1vZGVscy0taS5lLiwgYW55dGhpbmcgdGhhdCB3aWxsIGJlXG4gKiByZW5kZXJpbmcgc2hhcGVzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9XG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgTW9kZWxDb250cm9sbGVyIGV4dGVuZHMgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBQUkVDT05ESVRJT046IFRoZSBQcm9ncmFtV3JhcHBlciByZWZlcmVuY2VkIGJ5IHRoZSBnaXZlbiBwYXJhbXMgbXVzdCBoYXZlIGFscmVhZHkgYmVlblxuICAgKiByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLy8gTW9kZWxDb250cm9sbGVyIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gTW9kZWxDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IE1vZGVsQ29udHJvbGxlciBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nbCA9IHBhcmFtcy5nbDtcbiAgICB0aGlzLl9nZXRWaWV3TWF0cml4ID0gcGFyYW1zLmdldFZpZXdNYXRyaXg7XG4gICAgdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCA9IHBhcmFtcy5nZXRQcm9qZWN0aW9uTWF0cml4O1xuICAgIHRoaXMuX2dldFBhcmVudFdvcmxkVHJhbnNmb3JtID0gcGFyYW1zLmdldFBhcmVudFdvcmxkVHJhbnNmb3JtO1xuICAgIHRoaXMuX2xvY2FsVHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl93b3JsZFRyYW5zZm9ybSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXIgPSBudWxsO1xuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVySWQgPSBudWxsO1xuICAgIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIgPSAoKSA9PiB0aGlzLmRyYXcoKTtcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0gbnVsbDtcblxuICAgIHRoaXMucG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuc2NhbGUgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSk7XG5cbiAgICB0aGlzLl9zZXRVcFRleHR1cmUocGFyYW1zLnRleHR1cmVQYXRoKTtcbiAgICB0aGlzLl9zZXRVcFByb2dyYW1XcmFwcGVyKHBhcmFtcy5wcm9ncmFtV3JhcHBlcklkKTtcblxuICAgIHRoaXMuX2lzUmVhZHlQcm9taXNlID0gUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5fdGV4dHVyZVByb21pc2UsXG4gICAgICB0aGlzLl9wcm9ncmFtV3JhcHBlclByb21pc2UsXG4gICAgXSk7XG4gIH1cblxuICByZXNldCgpIHt9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoaXMgaXMgZG9uZSBiZWluZyB1c2VkLCBhbmQgaXMgYmVpbmcgZGVzdHJveWVkIGZyb20gbWVtb3J5LlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLnVucmVnaXN0ZXJEcmF3RnJhbWVIYW5kbGVyKHRoaXMuX3Byb2dyYW1XcmFwcGVySWQsIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHVwZGF0ZSwgdXBkYXRlVHJhbnNmb3JtcywgYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMudXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtcygpO1xuICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgdGhlIHN1Yi1jbGFzcy5cbiAgICpcbiAgICogLSBUaGlzIGRvZXMgbm90IHJlY3Vyc2l2ZWx5IHVwZGF0ZSBkZXNjZW5kYW50IG1vZGVsIGNvbnRyb2xsZXJzOyB0aGF0J3MgaGFuZGxlZCBieVxuICAgKiAgIHVwZGF0ZUNoaWxkcmVuLlxuICAgKiAtIFRoaXMgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2NhbCBvciB3b3JsZC1jb29yZGluYXRlIHRyYW5zZm9ybXM7IHRoYXQncyBoYW5kbGVkIGJ5XG4gICAqICAgdXBkYXRlVHJhbnNmb3Jtcy5cbiAgICogLSBUaGlzIGlzIGNhbGxlZCBiZWZvcmUgdXBkYXRlTG9jYWxUcmFuc2Zvcm0gYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHdvcmxkLWNvb3JkaW5hdGUgYW5kIGxvY2FsLWNvb3JkaW5hdGUgbW9kZWwgbWF0cmljZXMuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIHVwZGF0ZSBhbmQgYmVmb3JlIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBOT1RFOiBBbGwgb3ZlcnJpZGVzIG9mIHRoaXMgbWV0aG9kIHNob3VsZCB1cGRhdGUgW3RoaXMuX2xvY2FsVHJhbnNmb3JtXS5cbiAgICovXG4gIHVwZGF0ZVRyYW5zZm9ybXMoKSB7XG4gICAgbWF0NC5tdWx0aXBseSh0aGlzLl93b3JsZFRyYW5zZm9ybSwgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0oKSwgdGhpcy5fbG9jYWxUcmFuc2Zvcm0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgcmVsZXZhbnQgc3RhdGUgZm9yIGFueSBjaGlsZHJlbiBtb2RlbCBjb250cm9sbGVycy5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdXBkYXRlIGFuZCB1cGRhdGVMb2NhbFRyYW5zZm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge31cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBkcmF3KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCBsb2NhbFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxUcmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IHdvcmxkVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JsZFRyYW5zZm9ybTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBnZXRJc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLl9pc1JlYWR5UHJvbWlzZTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3N0cmluZ30gaWQgKi9cbiAgc2V0IHByb2dyYW1XcmFwcGVySWQoaWQpIHtcbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLnVucmVnaXN0ZXJEcmF3RnJhbWVIYW5kbGVyKHRoaXMuX3Byb2dyYW1XcmFwcGVySWQsIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIpO1xuICAgIHRoaXMuX3NldFVwUHJvZ3JhbVdyYXBwZXIoaWQpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAqL1xuICBzZXQgdGV4dHVyZVBhdGgodmFsdWUpIHtcbiAgICB0aGlzLl9zZXRVcFRleHR1cmUodmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBwcm9ncmFtIHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgX3NldFVwUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZygpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RleHR1cmVQYXRoXVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRVcFRleHR1cmUodGV4dHVyZVBhdGgpIHtcbiAgICB0aGlzLl90ZXh0dXJlUHJvbWlzZSA9IHRleHR1cmVQYXRoXG4gICAgICAgID8gdGV4dHVyZVN0b3JlLmxvYWRUZXh0dXJlKHRoaXMuX2dsLCB0ZXh0dXJlUGF0aClcbiAgICAgICAgOiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG5cbiAgICAvLyBBc3NpZ24gdGhlIGFjdHVhbCB0ZXh0dXJlLlxuICAgIHRoaXMuX3RleHR1cmVQcm9taXNlID0gdGhpcy5fdGV4dHVyZVByb21pc2VcbiAgICAgICAgLnRoZW4odGV4dHVyZSA9PiB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5fc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnKCkpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRVcFByb2dyYW1XcmFwcGVyKGlkKSB7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCA9IGlkO1xuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZSA9IHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0UHJvZ3JhbVdyYXBwZXJQcm9taXNlKGlkKVxuICAgICAgICAudGhlbihwcm9ncmFtV3JhcHBlciA9PiB0aGlzLl9wcm9ncmFtV3JhcHBlciA9IHByb2dyYW1XcmFwcGVyKTtcbiAgICBQcm9taXNlLmFsbChbdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlLCB0aGlzLl90ZXh0dXJlUHJvbWlzZV0pXG4gICAgICAgIC50aGVuKCgpID0+IHByb2dyYW1XcmFwcGVyU3RvcmUucmVnaXN0ZXJEcmF3RnJhbWVIYW5kbGVyKGlkLCB0aGlzLl9kcmF3RnJhbWVIYW5kbGVyKSk7XG4gICAgcmV0dXJuIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZTtcbiAgfVxufVxuXG5leHBvcnQge01vZGVsQ29udHJvbGxlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTW9kZWxDb250cm9sbGVySW50ZXJmYWNlXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxQcm9taXNlPn0gZ2V0SXNSZWFkeVxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gcmVzZXRcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRlc3Ryb3lcbiAqIEBwcm9wZXJ0eSB7bWF0NH0gbG9jYWxUcmFuc2Zvcm1cbiAqIEBwcm9wZXJ0eSB7bWF0NH0gd29ybGRUcmFuc2Zvcm1cbiAqIEBwcm9wZXJ0eSB7dmVjM30gcG9zaXRpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1vZGVsQ29udHJvbGxlckNvbmZpZ1xuICogQHByb3BlcnR5IHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0Vmlld01hdHJpeFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48bWF0ND59IGdldFByb2plY3Rpb25NYXRyaXhcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRQYXJlbnRXb3JsZFRyYW5zZm9ybVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHByb2dyYW1XcmFwcGVySWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGV4dHVyZVBhdGhdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ1xuICogQHByb3BlcnR5IHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0Vmlld01hdHJpeFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48bWF0ND59IGdldFByb2plY3Rpb25NYXRyaXhcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRQYXJlbnRXb3JsZFRyYW5zZm9ybVxuICovXG4iLCJpbXBvcnQgeyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIH0gZnJvbSAnbHNsLWFuaW1hdGV4JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGNvbnRyb2xzIGdyb3VwcyBvZiBtb2RlbHMuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIGhpZ2hlci1sZXZlbCBjb250cm9sbGVycyB0aGF0IGNvbnRyb2wgb3RoZXIgbW9kZWxzIGFuZCBhbHNvIHRyYW5zZm9ybSB0aGVtLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9XG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgTW9kZWxHcm91cENvbnRyb2xsZXIgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIElmIGVpdGhlciBvZiB0aGUgc2hhZGVyIHBhdGhzIGFyZSBvbWl0dGVkLCB0aGVuIHRoaXMgbW9kZWwgY29udHJvbGxlciB3aWxsIG5vdCBjcmVhdGUgYVxuICAgKiByZW5kZXJpbmcgcHJvZ3JhbSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvLyBNb2RlbEdyb3VwQ29udHJvbGxlciBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IE1vZGVsR3JvdXBDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IE1vZGVsR3JvdXBDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2dsID0gcGFyYW1zLmdsO1xuICAgIHRoaXMuX2dldFZpZXdNYXRyaXggPSBwYXJhbXMuZ2V0Vmlld01hdHJpeDtcbiAgICB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4ID0gcGFyYW1zLmdldFByb2plY3Rpb25NYXRyaXg7XG4gICAgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gPSBwYXJhbXMuZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gfHwgKCgpID0+IG1hdDQuY3JlYXRlKCkpO1xuICAgIHRoaXMuX2xvY2FsVHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl93b3JsZFRyYW5zZm9ybSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fbW9kZWxDdHJscyA9IFtdO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsZWFyTW9kZWxDb250cm9sbGVycygpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fdHJpZ2dlck9uQWxsTW9kZWxDb250cm9sbGVycygncmVzZXQnKTtcbiAgfVxuXG4gIGNsZWFyTW9kZWxDb250cm9sbGVycygpIHtcbiAgICB0aGlzLl90cmlnZ2VyT25BbGxNb2RlbENvbnRyb2xsZXJzKCdkZXN0cm95Jyk7XG4gICAgdGhpcy5fbW9kZWxDdHJscyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHVwZGF0ZSwgdXBkYXRlVHJhbnNmb3JtcywgYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMudXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtcygpO1xuICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgdGhlIHN1Yi1jbGFzcy5cbiAgICpcbiAgICogLSBUaGlzIGRvZXMgbm90IHJlY3Vyc2l2ZWx5IHVwZGF0ZSBkZXNjZW5kYW50IG1vZGVsIGNvbnRyb2xsZXJzOyB0aGF0J3MgaGFuZGxlZCBieVxuICAgKiAgIHVwZGF0ZUNoaWxkcmVuLlxuICAgKiAtIFRoaXMgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2NhbCBvciB3b3JsZC1jb29yZGluYXRlIHRyYW5zZm9ybXM7IHRoYXQncyBoYW5kbGVkIGJ5XG4gICAqICAgdXBkYXRlVHJhbnNmb3Jtcy5cbiAgICogLSBUaGlzIGlzIGNhbGxlZCBiZWZvcmUgdXBkYXRlTG9jYWxUcmFuc2Zvcm0gYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge31cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgd29ybGQtY29vcmRpbmF0ZSBhbmQgbG9jYWwtY29vcmRpbmF0ZSBtb2RlbCBtYXRyaWNlcy5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdXBkYXRlIGFuZCBiZWZvcmUgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIE5PVEU6IEFsbCBpbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBtZXRob2Qgc2hvdWxkIHVwZGF0ZSBbdGhpcy5fbG9jYWxUcmFuc2Zvcm1dLlxuICAgKi9cbiAgdXBkYXRlVHJhbnNmb3JtcygpIHtcbiAgICBtYXQ0Lm11bHRpcGx5KHRoaXMuX3dvcmxkVHJhbnNmb3JtLCB0aGlzLl9nZXRQYXJlbnRXb3JsZFRyYW5zZm9ybSgpLCB0aGlzLl9sb2NhbFRyYW5zZm9ybSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgYW55IGNoaWxkcmVuIG1vZGVsIGNvbnRyb2xsZXJzLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBhZnRlciB1cGRhdGUgYW5kIHVwZGF0ZUxvY2FsVHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fdHJpZ2dlck9uQWxsTW9kZWxDb250cm9sbGVycygndXBkYXRlU2VsZkFuZENoaWxkcmVuJywgW2N1cnJlbnRUaW1lLCBkZWx0YVRpbWVdKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgLy8gV2UgZG9uJ3QgY2FsbCBkcmF3IG9uIHRoZSBjaGlsZHJlbiBtb2RlbCBjb250cm9sbGVycywgYmVjYXVzZSB0aGV5IHJlZ2lzdGVyIHRoZW1zZWx2ZXMgdG8gYmVcbiAgICAvLyBkcmF3biB3aXRoIHRoZWlyIGdpdmVuIHNoYWRlciBwcm9ncmFtLlxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVySW50ZXJmYWNlfSBtb2RlbEN0cmxcbiAgICogQHJldHVybnMge1Byb21pc2UuPE1vZGVsQ29udHJvbGxlckludGVyZmFjZT59XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zdGFydE1vZGVsQ29udHJvbGxlcihtb2RlbEN0cmwpIHtcbiAgICByZXR1cm4gbW9kZWxDdHJsLmdldElzUmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICAgIG1vZGVsQ3RybC5yZXNldCgpO1xuICAgICAgdGhpcy5fbW9kZWxDdHJscy5wdXNoKG1vZGVsQ3RybCk7XG4gICAgICByZXR1cm4gbW9kZWxDdHJsO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVySW50ZXJmYWNlfSBtb2RlbEN0cmxcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX29uTW9kZWxDb250cm9sbGVyRGVzdHJveWVkKG1vZGVsQ3RybCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbW9kZWxDdHJscy5pbmRleE9mKG1vZGVsQ3RybCk7XG4gICAgdGhpcy5fbW9kZWxDdHJscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIG1vZGVsQ3RybC5kZXN0cm95KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSB0YXJnZXRQb3NpdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4U3F1YXJlZERpc3RhbmNlXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9yZW1vdmVEaXN0YW50TW9kZWxDb250cm9sbGVycyh0YXJnZXRQb3NpdGlvbiwgbWF4U3F1YXJlZERpc3RhbmNlKSB7XG4gICAgdGhpcy5fbW9kZWxDdHJsc1xuICAgICAgLy8gR2V0IHRoZSBNb2RlbENvbnRyb2xsZXJzIHRoYXQgYXJlIHRvbyBmYXIgYXdheS5cbiAgICAgIC5maWx0ZXIobW9kZWxDdHJsID0+XG4gICAgICAgIHZlYzMuc3F1YXJlZERpc3RhbmNlKG1vZGVsQ3RybC5wb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pID4gbWF4U3F1YXJlZERpc3RhbmNlKVxuICAgICAgLy8gUmVtb3ZlIHRoZSBmYXItYXdheSBNb2RlbENvbnRyb2xsZXJzLlxuICAgICAgLmZvckVhY2gobW9kZWxDdHJsID0+IHRoaXMuX29uTW9kZWxDb250cm9sbGVyRGVzdHJveWVkKG1vZGVsQ3RybCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCBsb2NhbFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxUcmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IHdvcmxkVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JsZFRyYW5zZm9ybTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBnZXRJc1JlYWR5KCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLl9tb2RlbEN0cmxzLm1hcChjb250cm9sbGVyID0+IGNvbnRyb2xsZXIuZ2V0SXNSZWFkeSgpKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWVcbiAgICogQHBhcmFtIHtBcnJheS48Kj59IFthcmdzXVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfdHJpZ2dlck9uQWxsTW9kZWxDb250cm9sbGVycyhtZXRob2ROYW1lLCBhcmdzID0gW10pIHtcbiAgICAvL3RoaXMuX2RlbW9PYmplY3RbbWV0aG9kTmFtZV0oLi4uYXJncyk7XG4gICAgdGhpcy5fbW9kZWxDdHJscy5mb3JFYWNoKG9iamVjdCA9PiBvYmplY3RbbWV0aG9kTmFtZV0oLi4uYXJncykpO1xuICB9XG59XG5cbmV4cG9ydCB7IE1vZGVsR3JvdXBDb250cm9sbGVyIH07XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIHRvcC1sZXZlbCBtb2RlbC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgTW9kZWwge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihnbCkge1xuICAgIC8vIE1vZGVsIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gTW9kZWwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgTW9kZWwgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZ2wgPSBnbDtcbiAgICB0aGlzLmJvdW5kcyA9IG51bGw7XG5cbiAgICB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX3RleHR1cmVDb29yZGluYXRlc0J1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNDb25maWcgPSBudWxsO1xuICAgIHRoaXMuX3RleHR1cmVDb29yZGluYXRlc0NvbmZpZyA9IG51bGw7XG4gICAgdGhpcy5fdmVydGV4Tm9ybWFsc0NvbmZpZyA9IG51bGw7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGtlcHQgbnVsbCwgdGhlbiBnbC5kcmF3QXJyYXlzIHdpbGwgYmUgdXNlZCAod2l0aCBnbC5BUlJBWV9CVUZGRVIpIGluc3RlYWQgb2ZcbiAgICAvLyBnbC5kcmF3RWxlbWVudHMgKHdpdGggZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpLlxuICAgIHRoaXMuX3ZlcnRleEluZGljZXNCdWZmZXIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIG5vcm1hbHMgb24gdGhpcyBzaGFwZSB0byBlaXRoZXIgYmUgc3BoZXJpY2FsIChwb2ludCBvdXR3YXJkcyBmcm9tIHRoZSBjZW50ZXIpIG9yXG4gICAqIG9ydGhvZ29uYWwgdG8gdGhlIGZhY2VzIG9mIHRoZWlyIHRyaWFuZ2xlcy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBpc1VzaW5nU3BoZXJpY2FsTm9ybWFsc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgX3NldE5vcm1hbHMoaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7P0F0dHJpYnV0ZUNvbmZpZ30gKi9cbiAgZ2V0IHZlcnRleFBvc2l0aW9uc0NvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5fdmVydGV4UG9zaXRpb25zQ29uZmlnO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHs/QXR0cmlidXRlQ29uZmlnfSAqL1xuICBnZXQgdGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlQ29vcmRpbmF0ZXNDb25maWc7XG4gIH1cblxuICAvKiogQHJldHVybnMgez9BdHRyaWJ1dGVDb25maWd9ICovXG4gIGdldCB2ZXJ0ZXhOb3JtYWxzQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhOb3JtYWxzQ29uZmlnO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHs/V2ViR0xCdWZmZXJ9ICovXG4gIGdldCB2ZXJ0ZXhJbmRpY2VzQnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhJbmRpY2VzQnVmZmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZ2V0IGVsZW1lbnRDb3VudCgpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldCBtb2RlKCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG5cbmV4cG9ydCB7TW9kZWx9O1xuIiwiaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuLi8uLi9yZW5kZXJhYmxlLXNoYXBlcyc7XG5cbmltcG9ydCB7TW9kZWxDb250cm9sbGVyfSBmcm9tICcuL21vZGVsLWNvbnRyb2xsZXInO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBleHRlbnNpb24gb2YgdGhlIG1vZGVsLWNvbnRyb2xsZXIgY2xhc3MgdGhhdCB1c2VzIGEgY29tbW9uIHNldCBvZiBwcm9ncmFtXG4gKiB2YXJpYWJsZXMgYW5kIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICovXG5jbGFzcyBTdGFuZGFyZE1vZGVsQ29udHJvbGxlciBleHRlbmRzIE1vZGVsQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBzaGFwZVBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zLCBzaGFwZVBhcmFtcykge1xuICAgIHN1cGVyKHBhcmFtcyk7XG5cbiAgICB0aGlzLnNjYWxlID0gc2hhcGVQYXJhbXMuc2NhbGUgfHwgdmVjMy5mcm9tVmFsdWVzKDEsIDEsIDEpO1xuICAgIHRoaXMuX212TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl9ub3JtYWxNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIHRoaXMuX21vZGVsID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5jcmVhdGVNb2RlbCh0aGlzLl9nbCwgc2hhcGVQYXJhbXMpO1xuICB9XG5cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XG5cbiAgZHJhdygpIHtcbiAgICAvLyBVcGRhdGUgdGhlIG1vZGVsLXZpZXcgbWF0cml4LlxuICAgIG1hdDQubXVsdGlwbHkodGhpcy5fbXZNYXRyaXgsIHRoaXMuX2dldFZpZXdNYXRyaXgoKSwgdGhpcy5fd29ybGRUcmFuc2Zvcm0pO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBub3JtYWwgbWF0cml4LlxuICAgIG1hdDQuaW52ZXJ0KHRoaXMuX25vcm1hbE1hdHJpeCwgdGhpcy5fbXZNYXRyaXgpO1xuICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25vcm1hbE1hdHJpeCwgdGhpcy5fbm9ybWFsTWF0cml4KTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgdW5pZm9ybSB2YXJpYWJsZXMuXG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtc1sndVBNYXRyaXgnXSA9IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zWyd1TVZNYXRyaXgnXSA9IHRoaXMuX212TWF0cml4O1xuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcudW5pZm9ybXNbJ3VOb3JtYWxNYXRyaXgnXSA9IHRoaXMuX25vcm1hbE1hdHJpeDtcblxuICAgIC8vIERyYXcgc2hhcGVzIHVzaW5nIHRoZSBjdXJyZW50IHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyLmRyYXcodGhpcy5fZ2wsIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcsIDAsIHRoaXMuX21vZGVsLmVsZW1lbnRDb3VudCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHByb2dyYW0gdmFyaWFibGVzIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWcoKSB7XG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHtcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgYVZlcnRleFBvc2l0aW9uOiB0aGlzLl9tb2RlbC52ZXJ0ZXhQb3NpdGlvbnNDb25maWcsXG4gICAgICAgIGFUZXh0dXJlQ29vcmQ6IHRoaXMuX21vZGVsLnRleHR1cmVDb29yZGluYXRlc0NvbmZpZyxcbiAgICAgICAgYVZlcnRleE5vcm1hbDogdGhpcy5fbW9kZWwudmVydGV4Tm9ybWFsc0NvbmZpZyxcbiAgICAgIH0sXG4gICAgICB1bmlmb3Jtczoge1xuICAgICAgICB1UE1hdHJpeDogdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCgpLFxuICAgICAgICB1TVZNYXRyaXg6IHRoaXMuX212TWF0cml4LFxuICAgICAgICB1Tm9ybWFsTWF0cml4OiB0aGlzLl9ub3JtYWxNYXRyaXgsXG4gICAgICAgIHVTYW1wbGVyOiB0aGlzLl90ZXh0dXJlLFxuICAgICAgfSxcbiAgICAgIG1vZGU6IHRoaXMuX21vZGVsLm1vZGUsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB0aGlzLl9tb2RlbC52ZXJ0ZXhJbmRpY2VzQnVmZmVyLFxuICAgICAgZWxlbWVudENvdW50OiB0aGlzLl9tb2RlbC5lbGVtZW50Q291bnQsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQge1N0YW5kYXJkTW9kZWxDb250cm9sbGVyfTtcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL3Byb2dyYW0td3JhcHBlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9wcm9ncmFtLXdyYXBwZXItc3RvcmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvdGV4dHVyZS1zdG9yZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy91bmlmb3JtLXNldHRlcic7XG4iLCJpbXBvcnQge2JpbmRGcmFtZWJ1ZmZlcn0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmltcG9ydCB7cHJvZ3JhbVdyYXBwZXJTdG9yZX0gZnJvbSAnLi9wcm9ncmFtLXdyYXBwZXItc3RvcmUnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgYSBjb2xsZWN0aW9uIG9mIFByb2dyYW1XcmFwcGVycyBhbmQgc3VwcG9ydHMgZHJhd2luZyB0aGVtIGFzIGEgZ3JvdXAuXG4gKi9cbmNsYXNzIEdyb3VwUHJvZ3JhbVdyYXBwZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IGNvbmZpZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoZ2wsIGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2NoaWxkcmVuUHJvZ3JhbVdyYXBwZXJzID0gW107XG4gICAgdGhpcy5faXNSZWFkeSA9IG51bGw7XG5cbiAgICB0aGlzLl9sb2FkQ2hpbGRyZW4oZ2wsIGNvbmZpZykudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY29uZmlnLmluaXRpYWxpemUpIGNvbmZpZy5pbml0aWFsaXplKGdsKTtcbiAgICAgIGlmIChjb25maWcuaXNBUG9zdFByb2Nlc3Nvcikge1xuICAgICAgICBfY3JlYXRlQ2hpbGRyZW5GcmFtZWJ1ZmZlcnNBbmRUZXh0dXJlcyhnbCwgY29uZmlnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7c3RyaW5nfSAqL1xuICBnZXQgcHJvZ3JhbUlkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pZDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7UHJvbWlzZX0gKi9cbiAgZ2V0SXNSZWFkeSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHNoYXBlcyB1c2luZyB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKi9cbiAgZHJhdyhnbCkge1xuICAgIGlmICh0aGlzLmNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyKSB0aGlzLmNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyKGdsKTtcbiAgICB0aGlzLmNvbmZpZy5jaGlsZHJlbkZyYW1lYnVmZmVySWRzLmZvckVhY2goX2NsZWFyRnJhbWVidWZmZXIuYmluZCh0aGlzLCBnbCkpO1xuICAgIHRoaXMuY29uZmlnLmNoaWxkcmVuUHJvZ3JhbXNUb0RyYXcuZm9yRWFjaChfZHJhd0NoaWxkUHJvZ3JhbVdyYXBwZXIuYmluZCh0aGlzLCBnbCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9sb2FkQ2hpbGRyZW4oZ2wsIGNvbmZpZykge1xuICAgIHRoaXMuX2lzUmVhZHkgPSBQcm9taXNlLmFsbChcbiAgICAgICAgY29uZmlnLmNoaWxkcmVuUHJvZ3JhbUNvbmZpZ3MubWFwKGNvbmZpZyA9PlxuICAgICAgICAgICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5sb2FkUHJvZ3JhbVdyYXBwZXIoZ2wsIGNvbmZpZylcbiAgICAgICAgICAgICAgICAudGhlbihwcm9ncmFtV3JhcHBlciA9PiB0aGlzLl9jaGlsZHJlblByb2dyYW1XcmFwcGVycy5wdXNoKHByb2dyYW1XcmFwcGVyKSkpKTtcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2xlYXJGcmFtZWJ1ZmZlcihnbCwgaWQpIHtcbiAgY29uc3QgZnJhbWVidWZmZXIgPSBwcm9ncmFtV3JhcHBlclN0b3JlLmdldEZyYW1lYnVmZmVyKGlkKTtcbiAgYmluZEZyYW1lYnVmZmVyKGdsLCBmcmFtZWJ1ZmZlcik7XG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IGNvbmZpZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZUNoaWxkcmVuRnJhbWVidWZmZXJzQW5kVGV4dHVyZXMoZ2wsIGNvbmZpZykge1xuICBjb25maWcuY2hpbGRyZW5GcmFtZWJ1ZmZlcklkcy5mb3JFYWNoKGlkID0+XG4gICAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmNyZWF0ZU5ld0ZyYW1lYnVmZmVyQW5kVGV4dHVyZShnbCwgaWQsIGZhbHNlKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge0NoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzfSBjaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2RyYXdDaGlsZFByb2dyYW1XcmFwcGVyKGdsLCBjaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkcykge1xuICBjb25zdCB7cHJvZ3JhbUlkLCBpbnB1dEZyYW1lYnVmZmVySWRzLCBvdXRwdXRGcmFtZWJ1ZmZlcklkfSA9IGNoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzO1xuXG4gIGNvbnN0IGZyYW1lYnVmZmVyID0gb3V0cHV0RnJhbWVidWZmZXJJZCA/XG4gICAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmdldEZyYW1lYnVmZmVyKG91dHB1dEZyYW1lYnVmZmVySWQpIDogbnVsbDtcbiAgY29uc3QgcHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlclN0b3JlLmdldFByb2dyYW1XcmFwcGVyKHByb2dyYW1JZCk7XG4gIGNvbnN0IHByb2dyYW1WYXJpYWJsZXNDb25maWcgPVxuICAgICAgcHJvZ3JhbVdyYXBwZXIuY29uZmlnLmdldFByb2dyYW1WYXJpYWJsZXNDb25maWcoZ2wsIGlucHV0RnJhbWVidWZmZXJJZHMpO1xuXG4gIGJpbmRGcmFtZWJ1ZmZlcihnbCwgZnJhbWVidWZmZXIpO1xuICBwcm9ncmFtV3JhcHBlci5zZXRQcm9ncmFtKGdsKTtcbiAgcHJvZ3JhbVdyYXBwZXIuZHJhdyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyk7XG59XG5cbmV4cG9ydCB7R3JvdXBQcm9ncmFtV3JhcHBlcn07XG4iLCJpbXBvcnQge2NyZWF0ZUZyYW1lYnVmZmVyLCBjcmVhdGVSZW5kZXJCdWZmZXIsIGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmd9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge0dyb3VwUHJvZ3JhbVdyYXBwZXJ9IGZyb20gJy4vZ3JvdXAtcHJvZ3JhbS13cmFwcGVyJztcbmltcG9ydCB7UHJvZ3JhbVdyYXBwZXJ9IGZyb20gJy4vcHJvZ3JhbS13cmFwcGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGxvYWRzLCBjb21waWxlcywgYW5kIHN0b3JlcyBXZWJHTCByZW5kZXJpbmcgcHJvZ3JhbXMuXG4gKlxuICogQWxzbywgdGhpcyBzdG9yZXMgZHJhdy1mcmFtZSBoYW5kbGVycyBmb3IgYSBnaXZlbiBwcm9ncmFtLiBUaGlzIG1ha2VzIGl0IGVhc3kgZm9yIGEgdG9wLWxldmVsXG4gKiBjb250cm9sbGVyIHRvIGdyb3VwIHRvZ2V0aGVyIGRyYXcgY2FsbHMgZm9yIGEgZ2l2ZW4gcHJvZ3JhbSBhbmQgdGhlcmVmb3JlIG1pbmltaXplIHByb2dyYW1cbiAqIHN3aXRjaGVzLlxuICpcbiAqIEFsc28sIHRoaXMgZGlzdGluZ3Vpc2hlcyBiZXR3ZWVuIHJlbmRlcmluZyBwcm9ncmFtcyB0aGF0IGFyZSB1c2VkIGZvciByZW5kZXJpbmcgaW5kaXZpZHVhbCBtb2RlbHNcbiAqIGFuZCBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbXMgdGhhdCBhcmUgdXNlZCBmb3IgbWFuaXB1bGF0aW5nIHRoZSBlbnRpcmUgZnJhbWUgYWZ0ZXIgYWxsIHRoZSBtb2RlbHNcbiAqIGhhdmUgcmVuZGVyZWQuXG4gKlxuICogVGhpcyBhbHNvIGFsbG93cyBmb3IgZ3JvdXBpbmcgcHJvZ3JhbXMsIHdoaWNoIGNvbnNpc3Qgb2YgbXVsdGlwbGUgY2hpbGQgcHJvZ3JhbXMgdGhhdCBhcmUgYWxsXG4gKiByZW5kZXJlZCBpbiBzZXF1ZW5jZSBmb3IgYSByZWxhdGVkIHB1cnBvc2UuXG4gKi9cbmNsYXNzIFByb2dyYW1XcmFwcGVyU3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuX3NvcnRlZE1vZGVsUHJvZ3JhbXMgPSBbXTtcbiAgICB0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuX3NvcnRlZFBvc3RQcm9jZXNzaW5nUHJvZ3JhbXMgPSBbXTtcbiAgICB0aGlzLl9mcmFtYnVmZmVycyA9IHt9O1xuICAgIHRoaXMuX3RleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyQnVmZmVycyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGFuZCBjYWNoZXMgYSBwcm9ncmFtIHdyYXBwZXIgdXNpbmcgdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGEgZ2l2ZW4gcHJvZ3JhbSB3aWxsIG9ubHkgYmUgY2FjaGVkIG9uY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge1Byb21pc2UuPFByb2dyYW1XcmFwcGVyfEdyb3VwUHJvZ3JhbVdyYXBwZXIsIEVycm9yPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxvYWRQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKSB7XG4gICAgbGV0IGNhY2hlO1xuICAgIGxldCBzb3J0ZWRMaXN0O1xuICAgIGlmIChwYXJhbXMuaXNBUG9zdFByb2Nlc3Nvcikge1xuICAgICAgY2FjaGUgPSB0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZTtcbiAgICAgIHNvcnRlZExpc3QgPSB0aGlzLl9zb3J0ZWRQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZSA9IHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlO1xuICAgICAgc29ydGVkTGlzdCA9IHRoaXMuX3NvcnRlZE1vZGVsUHJvZ3JhbXM7XG4gICAgfVxuICAgIGxldCBjYWNoZUluZm8gPSBjYWNoZVtwYXJhbXMuaWRdO1xuXG4gICAgLy8gQ2FjaGUgdGhlIHByb2dyYW0gaWYgaXQgaGFzIG5vdCBiZWVuIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC5cbiAgICBpZiAoIWNhY2hlSW5mbykge1xuICAgICAgY2FjaGVJbmZvID0ge307XG5cbiAgICAgIGNhY2hlSW5mby5wYXJhbXMgPSBwYXJhbXM7XG4gICAgICBjYWNoZUluZm8ucmVuZGVyUHJpb3JpdHkgPSBwYXJhbXMucmVuZGVyUHJpb3JpdHk7XG5cbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHBhcmFtcy5jaGlsZHJlblByb2dyYW1Db25maWdzID9cbiAgICAgICAgICBuZXcgR3JvdXBQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKSA6IG5ldyBQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKTtcblxuICAgICAgY2FjaGVJbmZvLnByb2dyYW1XcmFwcGVyID0gcHJvZ3JhbVdyYXBwZXI7XG4gICAgICBjYWNoZUluZm8ucHJvbWlzZSA9IHByb2dyYW1XcmFwcGVyLmdldElzUmVhZHkoKS50aGVuKCgpID0+IGNhY2hlSW5mby5wcm9ncmFtV3JhcHBlcik7XG5cbiAgICAgIGlmIChwYXJhbXMuaXNBUG9zdFByb2Nlc3Nvcikge1xuICAgICAgICAvLyBBcyBzb29uIGFzIHdlIGtub3cgd2UnbGwgdXNlIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIG1ha2Ugc3VyZSB3ZSBjcmVhdGUgdGhlIGRlZmF1bHRcbiAgICAgICAgLy8gZnJhbWVidWZmZXIvdGV4dHVyZSBmb3IgcmVuZGVyaW5nIG1vZGVscyBpbnRvLlxuICAgICAgICBpZiAoIXRoaXMubW9kZWxzRnJhbWVidWZmZXIpIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZU5ld0ZyYW1lYnVmZmVyQW5kVGV4dHVyZShnbCwgTU9ERUxTX0ZSQU1FQlVGRkVSX0lELCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUG9zdC1wcm9jZXNzaW5nIHByb2dyYW1zIGFyZSBub3QgdXNlZCBmb3IgcmVuZGVyaW5nIGluZGl2aWR1YWwgbW9kZWxzLlxuICAgICAgICBjYWNoZUluZm8uZHJhd0ZyYW1lSGFuZGxlcnMgPSBuZXcgU2V0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBwcm9ncmFtIGNhY2hlIGluZm8gaW4gYm90aCBhIG1hcCBhbmQgYSBsaXN0IHRoYXQgaXMgc29ydGVkIGJ5IHJlbmRlciBwcmlvcml0eS5cbiAgICAgIGNhY2hlW3BhcmFtcy5pZF0gPSBjYWNoZUluZm87XG4gICAgICBzb3J0ZWRMaXN0LnB1c2goY2FjaGVJbmZvKTtcbiAgICAgIHNvcnRlZExpc3Quc29ydChfY29tcGFyZVByb2dyYW1DYWNoZUluZm8pO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZUluZm8ucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGdpdmVuIGRyYXctZnJhbWUgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGdpdmVuIHByb2dyYW0uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGRyYXctZnJhbWUgaGFuZGxlcnMgYXJlIHN0b3JlZCBpbiBhIHNldCwgc28gZHVwbGljYXRlIGFkZGl0aW9ucyB3aWxsXG4gICAqIG92ZXJ3cml0ZSBwcmV2aW91cyBhZGRpdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmF3RnJhbWVIYW5kbGVyXG4gICAqL1xuICByZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIoaWQsIGRyYXdGcmFtZUhhbmRsZXIpIHtcbiAgICBjb25zdCBwcm9ncmFtQ2FjaGVJbmZvID0gdGhpcy5fbW9kZWxQcm9ncmFtQ2FjaGVbaWRdO1xuXG4gICAgaWYgKCFwcm9ncmFtQ2FjaGVJbmZvKSB7XG4gICAgICBpZiAodGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGVbaWRdKSB7XG4gICAgICAgIC8vIFRoZSBwcm9ncmFtIGlzIG5vdCBzZXQgdXAgZm9yIHJlbmRlcmluZyBpbmRpdmlkdWFsIG1vZGVscy5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVnaXN0ZXIgYSBkcmF3LWZyYW1lIGhhbmRsZXIgZm9yIGEgcHJvZ3JhbSB0aGF0IGlzIG5vdCBzZXQgdXAgZm9yIFxuICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZyBpbmRpdmlkdWFsIG1vZGVscyByZWdpc3RlcmVkOiAke2lkfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIHByb2dyYW0gaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlZ2lzdGVyIGEgZHJhdy1mcmFtZSBoYW5kbGVyIGZvciBhIHByb2dyYW0gdGhhdCBoYXMgbm90IHlldCBiZWVuIFxuICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWQ6ICR7aWR9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgdGhlIGRyYXctZnJhbWUgaGFuZGxlci5cbiAgICBwcm9ncmFtQ2FjaGVJbmZvLmRyYXdGcmFtZUhhbmRsZXJzLmFkZChkcmF3RnJhbWVIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXQVJOSU5HOiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBwcm9ncmFtIGZyb20gdGhlIHN0b3JlIGV2ZW4gaWYgdGhlcmUgYXJlIHN0aWxsIG90aGVyIGNvbXBvbmVudHNcbiAgICogZGVwZW5kaW5nIG9uIHRoaXMgcHJvZ3JhbSBvciBpdHMgZHJhdy1mcmFtZSBoYW5kbGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqL1xuICBkZWxldGVQcm9ncmFtV3JhcHBlcihpZCkge1xuICAgIC8vIERldGVybWluZSB3aGljaCBjb2xsZWN0aW9ucyB3ZSdyZSByZW1vdmluZyB0aGUgcHJvZ3JhbSBmcm9tLlxuICAgIGxldCBzb3J0ZWRQcm9ncmFtcztcbiAgICBsZXQgcHJvZ3JhbUNhY2hlO1xuICAgIGlmICh0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0pIHtcbiAgICAgIHNvcnRlZFByb2dyYW1zID0gdGhpcy5fc29ydGVkTW9kZWxQcm9ncmFtcztcbiAgICAgIHByb2dyYW1DYWNoZSA9IHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3J0ZWRQcm9ncmFtcyA9IHRoaXMuX3NvcnRlZFBvc3RQcm9jZXNzaW5nUHJvZ3JhbXM7XG4gICAgICBwcm9ncmFtQ2FjaGUgPSB0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcHJvZ3JhbUNhY2hlSW5mbyA9IHByb2dyYW1DYWNoZVtpZF07XG5cbiAgICAvLyBSZW1vdmUgdGhlIHByb2dyYW0uXG4gICAgc29ydGVkUHJvZ3JhbXMuc3BsaWNlKHNvcnRlZFByb2dyYW1zLmluZGV4T2YocHJvZ3JhbUNhY2hlSW5mbyksIDEpO1xuICAgIGRlbGV0ZSBwcm9ncmFtQ2FjaGVbaWRdO1xuICB9XG5cbiAgLy8gVE9ETzogRG9uJ3QgZm9yZ2V0IHRvIHVucmVnaXN0ZXIgZHJhdy1mcmFtZSBoYW5kbGVycyB3aGVuIGRlc3Ryb3lpbmcgbW9kZWxzIChhc3Rlcm9pZHMsIFVGT3MsXG4gIC8vIGV0Yy4pXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhd0ZyYW1lSGFuZGxlclxuICAgKi9cbiAgdW5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIoaWQsIGRyYXdGcmFtZUhhbmRsZXIpIHtcbiAgICB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0uZHJhd0ZyYW1lSGFuZGxlcnMuZGVsZXRlKGRyYXdGcmFtZUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHRocm93cyBJZiB0aGVyZSBpcyBubyBwcm9ncmFtIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqL1xuICBnZXRQcm9ncmFtV3JhcHBlclByb21pc2UoaWQpIHtcbiAgICBjb25zdCBjYWNoZUluZm8gPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0gfHwgdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGVbaWRdO1xuICAgIHJldHVybiBjYWNoZUluZm8ucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHJldHVybnMge1Byb2dyYW1XcmFwcGVyfVxuICAgKiBAdGhyb3dzIElmIHRoZXJlIGlzIG5vIHByb2dyYW0gcmVnaXN0ZXJlZCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICovXG4gIGdldFByb2dyYW1XcmFwcGVyKGlkKSB7XG4gICAgY29uc3QgY2FjaGVJbmZvID0gdGhpcy5fbW9kZWxQcm9ncmFtQ2FjaGVbaWRdIHx8IHRoaXMuX3Bvc3RQcm9jZXNzaW5nUHJvZ3JhbUNhY2hlW2lkXTtcbiAgICByZXR1cm4gY2FjaGVJbmZvLnByb2dyYW1XcmFwcGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHJlZ2lzdGVyZWQgcGVyLW1vZGVsIHByb2dyYW0gd3JhcHBlci5cbiAgICpcbiAgICogVGhlIGNhbGxiYWNrIGlzIHBhc3NlZCB0d28gYXJndW1lbnRzOiB0aGUgcHJvZ3JhbSB3cmFwcGVyIGFuZCB0aGUgcmVnaXN0ZXJlZCBkcmF3LWZyYW1lXG4gICAqIGhhbmRsZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgZm9yRWFjaE1vZGVsUHJvZ3JhbShjYWxsYmFjaykge1xuICAgIHRoaXMuX3NvcnRlZE1vZGVsUHJvZ3JhbXMuZm9yRWFjaChwcm9ncmFtQ2FjaGVJbmZvID0+XG4gICAgICAgIGNhbGxiYWNrKHByb2dyYW1DYWNoZUluZm8ucHJvZ3JhbVdyYXBwZXIsIHByb2dyYW1DYWNoZUluZm8uZHJhd0ZyYW1lSGFuZGxlcnMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCByZWdpc3RlcmVkIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtIHdyYXBwZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBmb3JFYWNoUG9zdFByb2Nlc3NpbmdQcm9ncmFtKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fc29ydGVkUG9zdFByb2Nlc3NpbmdQcm9ncmFtcy5mb3JFYWNoKFxuICAgICAgICBwcm9ncmFtQ2FjaGVJbmZvID0+IGNhbGxiYWNrKHByb2dyYW1DYWNoZUluZm8ucHJvZ3JhbVdyYXBwZXIpKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbiAgZ2V0IGlzVXNpbmdQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zKCkge1xuICAgIHJldHVybiB0aGlzLl9zb3J0ZWRQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zLmxlbmd0aCA+IDA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgc3RvcmVzIGEgZnJhbWVidWZmZXIgd2l0aCBhIHRleHR1cmUuXG4gICAqXG4gICAqIEJvdGggdGhlIGZyYW1lYnVmZmVyIGFuZCB0ZXh0dXJlIGNhbiBiZSBhY2Nlc3NlZCBsYXRlciB1c2luZyB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHBhcmFtIHtib29sZWFufSBbc2hvdWxkU3RvcmVEZXB0aEluZm89ZmFsc2VdXG4gICAqL1xuICBjcmVhdGVOZXdGcmFtZWJ1ZmZlckFuZFRleHR1cmUoZ2wsIGlkLCBzaG91bGRTdG9yZURlcHRoSW5mbz1mYWxzZSkge1xuICAgIGxldCByZW5kZXJCdWZmZXI7XG4gICAgaWYgKHNob3VsZFN0b3JlRGVwdGhJbmZvKSB7XG4gICAgICByZW5kZXJCdWZmZXIgPSBjcmVhdGVSZW5kZXJCdWZmZXIoZ2wpO1xuICAgICAgdGhpcy5fcmVuZGVyQnVmZmVyc1tpZF0gPSByZW5kZXJCdWZmZXI7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dHVyZSA9IGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmcoZ2wpO1xuICAgIHRoaXMuX3RleHR1cmVzW2lkXSA9IHRleHR1cmU7XG5cbiAgICBjb25zdCBmcmFtZWJ1ZmZlciA9IGNyZWF0ZUZyYW1lYnVmZmVyKGdsLCB0ZXh0dXJlLCByZW5kZXJCdWZmZXIpO1xuICAgIHRoaXMuX2ZyYW1idWZmZXJzW2lkXSA9IGZyYW1lYnVmZmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7P1dlYkdMRnJhbWVidWZmZXJ9XG4gICAqL1xuICBnZXRGcmFtZWJ1ZmZlcihpZCkge1xuICAgIHJldHVybiB0aGlzLl9mcmFtYnVmZmVyc1tpZF07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHs/V2ViR0xUZXh0dXJlfVxuICAgKi9cbiAgZ2V0VGV4dHVyZShpZCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlc1tpZF07XG4gIH1cblxuICAvKipcbiAgICogSWYgd2UgYXJlIHVzaW5nIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIHRoZW4gdGhpcyBpcyB0aGUgZGVmYXVsdCBmcmFtZWJ1ZmZlciBmb3IgcmVuZGVyaW5nXG4gICAqIG1vZGVscyBpbnRvLlxuICAgKlxuICAgKiBAcmV0dXJucyB7P1dlYkdMRnJhbWVidWZmZXJ9XG4gICAqL1xuICBnZXQgbW9kZWxzRnJhbWVidWZmZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZyYW1idWZmZXJzW01PREVMU19GUkFNRUJVRkZFUl9JRF07XG4gIH1cblxuICAvKipcbiAgICogSWYgd2UgYXJlIHVzaW5nIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIHRoZW4gdGhpcyBpcyB0aGUgZGVmYXVsdCB0ZXh0dXJlIGZvciByZW5kZXJpbmdcbiAgICogbW9kZWxzIGludG8uXG4gICAqXG4gICAqIEByZXR1cm5zIHs/V2ViR0xUZXh0dXJlfVxuICAgKi9cbiAgZ2V0IG1vZGVsc1RleHR1cmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzW01PREVMU19GUkFNRUJVRkZFUl9JRF07XG4gIH1cblxuICAvKipcbiAgICogSWYgd2UgYXJlIHVzaW5nIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIHRoZW4gdGhpcyBpcyB0aGUgZGVmYXVsdCBkZXB0aCByZW5kZXIgYnVmZmVyIGZvclxuICAgKiByZW5kZXJpbmcgbW9kZWxzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7P1dlYkdMUmVuZGVyQnVmZmVyfVxuICAgKi9cbiAgZ2V0IG1vZGVsc1JlbmRlckJ1ZmZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyQnVmZmVyc1tNT0RFTFNfRlJBTUVCVUZGRVJfSURdO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jb21wYXJlUHJvZ3JhbUNhY2hlSW5mbyhhLCBiKSB7XG4gIHJldHVybiBhLnJlbmRlclByaW9yaXR5IC0gYi5yZW5kZXJQcmlvcml0eTtcbn1cblxuZXhwb3J0IGNvbnN0IE1PREVMU19GUkFNRUJVRkZFUl9JRCA9ICdtb2RlbHMnO1xuXG5leHBvcnQgY29uc3QgcHJvZ3JhbVdyYXBwZXJTdG9yZSA9IG5ldyBQcm9ncmFtV3JhcHBlclN0b3JlKCk7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbUNhY2hlSW5mb1xuICogQHByb3BlcnR5IHtQcm9ncmFtV3JhcHBlckNvbmZpZ30gcGFyYW1zXG4gKiBAcHJvcGVydHkge1Byb2dyYW1XcmFwcGVyfEdyb3VwUHJvZ3JhbVdyYXBwZXJ9IFtwcm9ncmFtV3JhcHBlcl1cbiAqIEBwcm9wZXJ0eSB7U2V0LjxGdW5jdGlvbj59IFtkcmF3RnJhbWVIYW5kbGVyc11cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPFByb2dyYW1XcmFwcGVyPn0gW2NoaWxkcmVuUHJvZ3JhbVdyYXBwZXJzXVxuICovXG4iLCJpbXBvcnQge1xuICBpc0luRGV2TW9kZSxcbiAgZ2V0Vmlld3BvcnRIZWlnaHQsXG4gIGdldFZpZXdwb3J0V2lkdGgsXG4gIGxvYWRQcm9ncmFtLFxufSBmcm9tICcuLi8uLi91dGlsJztcblxuaW1wb3J0IHtVbmlmb3JtU2V0dGVyfSBmcm9tICcuL3VuaWZvcm0tc2V0dGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHdyYXBzIGEgbmF0aXZlIFdlYkdMUHJvZ3JhbSBvYmplY3QgYW5kIHByb3ZpZGVzIGNvbnZlbmllbmNlIG1ldGhvZHMgZm9yOlxuICogLSBzZXR0aW5nIHRoZSB3cmFwcGVkIHByb2dyYW0gZm9yIHVzZSBvbiB0aGUgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQsXG4gKiAtIGVuYWJsaW5nIHRoZSBhdHRyaWJ1dGUgdmFyaWFibGVzIGZvciB0aGUgcHJvZ3JhbSxcbiAqIC0gc2V0dGluZyB0aGUgYXR0cmlidXRlIGFuZCB1bmlmb3JtIHZhcmlhYmxlcyBmb3IgdGhlIHByb2dyYW0sXG4gKiAtIGRyYXdpbmcgc2hhcGVzIHdpdGggdGhlIHByb2dyYW0gYW5kIGl0cyBjdXJyZW50IGNvbmZpZ3VyYXRpb24uXG4gKi9cbmNsYXNzIFByb2dyYW1XcmFwcGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGdsLCBjb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9wcm9ncmFtID0gbnVsbDtcbiAgICB0aGlzLl91bmlmb3JtU2V0dGVycyA9IG51bGw7XG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMgPSBudWxsO1xuICAgIHRoaXMuX2F0dHJpYnV0ZVNldHRlcnMgPSBudWxsO1xuXG4gICAgLy8gVGhpcyBpcyB1c2VkIGZvciBhc3NpZ25pbmcgZGlmZmVyZW50IHRleHR1cmVzIHRvIGRpZmZlcmVudCB0ZXh0dXJlIHVuaXRzLlxuICAgIHRoaXMuYmFzZVRleHR1cmVVbml0SW5kZXggPSAwO1xuXG4gICAgdGhpcy5fYnVpbGRXZWJHTFByb2dyYW1Qcm9taXNlID0gdGhpcy5fYnVpbGRXZWJHTFByb2dyYW0oZ2wsIGNvbmZpZyk7XG5cbiAgICAvLyBUT0RPOiBGcmVlemUgdGhpcyBvYmplY3QgYWZ0ZXIgaW5pdGlhbGl6aW5nXG4gIH1cblxuICAvKiogQHJldHVybnMge3N0cmluZ30gKi9cbiAgZ2V0IHByb2dyYW1JZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuaWQ7XG4gIH1cblxuICAvKiogQHJldHVybnMge1Byb21pc2V9ICovXG4gIGdldElzUmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1aWxkV2ViR0xQcm9ncmFtUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoaXMgcHJvZ3JhbSB0byB1c2UgZm9yIHJlbmRlcmluZyBvbiB0aGUgZ2l2ZW4gV2ViR0wgY29udGV4dC5cbiAgICpcbiAgICogVGhpcyBhbHNvIGVuYWJsZXMgYWxsIHJlbGV2YW50IGF0dHJpYnV0ZSB2YXJpYWJsZXMgZm9yIHRoaXMgcHJvZ3JhbS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqL1xuICBzZXRQcm9ncmFtKGdsKSB7XG4gICAgZ2wudXNlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKTtcbiAgICB0aGlzLl9lbmFibGVBdHRyaWJ1dGVzKCk7XG4gICAgaWYgKHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIpIHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIoZ2wpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgc2hhcGVzIHVzaW5nIHRoaXMgcHJvZ3JhbSB3aXRoIHRoZSBnaXZlbiB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ30gW3Byb2dyYW1WYXJpYWJsZXNDb25maWddXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0PTBdIE9mZnNldCBpbnRvIHRoZSBlbGVtZW50IGFycmF5IGJ1ZmZlciB0byByZW5kZXIgZnJvbS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudD1wcm9ncmFtVmFyaWFibGVzQ29uZmlnLmVsZW1lbnRDb3VudF0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZW5kZXIuXG4gICAqL1xuICBkcmF3KGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnLCBvZmZzZXQsIGNvdW50KSB7XG4gICAgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHByb2dyYW1WYXJpYWJsZXNDb25maWcgfHwgdGhpcy5jb25maWcuZ2V0UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyhnbCk7XG4gICAgdGhpcy5fc2V0VmFyaWFibGVzKGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnKTtcbiAgICB0aGlzLl9kcmF3KGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnLCBvZmZzZXQsIGNvdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoaXMgV2ViR0wgcmVuZGVyaW5nIHByb2dyYW0gdG8gZHJhdyBzaGFwZXMgd2l0aCB0aGUgZ2l2ZW4gcHJvZ3JhbSB2YXJpYWJsZXNcbiAgICogY29uZmlndXJhdGlvbiBhbmQgdGhlIGF0dHJpYnV0ZS91bmlmb3JtIHNldHRlcnMgdGhhdCBoYXZlIGJlZW4gc2V0IHVwIGZvciB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1WYXJpYWJsZXNDb25maWd9IHByb2dyYW1WYXJpYWJsZXNDb25maWdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRWYXJpYWJsZXMoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcpIHtcbiAgICB0aGlzLl9zZXRBdHRyaWJ1dGVzKHByb2dyYW1WYXJpYWJsZXNDb25maWcuYXR0cmlidXRlcyk7XG4gICAgdGhpcy5fc2V0VW5pZm9ybXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcyk7XG5cbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIGFyZSBzZXQgdXAgdG8gZHJhdyB1c2luZyBnbC5kcmF3RWxlbWVudHMgcmF0aGVyIHRoYW4gZ2wuZHJhd0FycmF5cy5cbiAgICBpZiAocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy52ZXJ0ZXhJbmRpY2VzKSB7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnLnZlcnRleEluZGljZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHNoYXBlcyBhY2NvcmRpbmcgdG8gdGhpcyBwcm9ncmFtJ3MgY3VycmVudCBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfSBwcm9ncmFtVmFyaWFibGVzQ29uZmlnXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0PTBdIE9mZnNldCBpbnRvIHRoZSBlbGVtZW50IGFycmF5IGJ1ZmZlciB0byByZW5kZXIgZnJvbS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudD1wcm9ncmFtVmFyaWFibGVzQ29uZmlnLmVsZW1lbnRDb3VudF0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZW5kZXIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZHJhdyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgb2Zmc2V0LCBjb3VudCkge1xuICAgIG9mZnNldCA9IHR5cGVvZiBvZmZzZXQgPT09ICdudW1iZXInID8gb2Zmc2V0IDogMDtcbiAgICBjb3VudCA9IHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgPyBjb3VudCA6IHByb2dyYW1WYXJpYWJsZXNDb25maWcuZWxlbWVudENvdW50O1xuXG4gICAgaWYgKGlzSW5EZXZNb2RlKSB7XG4gICAgICB0aGlzLl9jaGVja1RoYXRHaXZlblZhcmlhYmxlc01hdGNoUHJvZ3JhbShwcm9ncmFtVmFyaWFibGVzQ29uZmlnKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIGFyZSBzZXQgdXAgdG8gZHJhdyB1c2luZyBnbC5kcmF3RWxlbWVudHMgb3IgZ2wuZHJhd0FycmF5cy5cbiAgICBpZiAocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy52ZXJ0ZXhJbmRpY2VzKSB7XG4gICAgICBnbC5kcmF3RWxlbWVudHMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5tb2RlLCBjb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIG9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmRyYXdBcnJheXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5tb2RlLCBvZmZzZXQsIGNvdW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGF0dHJpYnV0ZSBhbmQgdW5pZm9ybSB2YXJpYWJsZXMgc3BlY2lmaWVkIGluIHRoZSBnaXZlbiBjb25maWcgbWF0Y2ggdGhvc2VcbiAgICogZGVmaW5lZCBpbiB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ30gcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrVGhhdEdpdmVuVmFyaWFibGVzTWF0Y2hQcm9ncmFtKHByb2dyYW1WYXJpYWJsZXNDb25maWcpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5hdHRyaWJ1dGVzKS5sZW5ndGggIT09XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9hdHRyaWJ1dGVTZXR0ZXJzKS5sZW5ndGggfHxcbiAgICAgICAgT2JqZWN0LmtleXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3JtcykubGVuZ3RoICE9PVxuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fdW5pZm9ybVNldHRlcnMpLmxlbmd0aCkge1xuICAgICAgY29uc29sZS53YXJuKCdUaGUgYXR0cmlidXRlL3VuaWZvcm0gdmFyaWFibGVzIGluIHRoZSBQcm9ncmFtVmFyaWFibGVzQ29uZmlnIGRvIG5vdCBtYXRjaCAnICtcbiAgICAgICAgICAndGhvc2Ugc3BlY2lmaWVkIGluIHRoZSBzaGFkZXJzLicsIHByb2dyYW1WYXJpYWJsZXNDb25maWcsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB1bmlmb3JtIHZhbHVlcyBmb3IgdGhpcyBwcm9ncmFtLlxuICAgKlxuICAgKiBTcGVjaWZpY2FsbHksIHRoaXMgY2FsbHMgYGdsLnVuaWZvcm08Li4uPihsb2NhdGlvbiwgdmFsdWUpYCBmb3IgZWFjaFxuICAgKiB2YXJpYWJsZS1uYW1lL3ZhcmlhYmxlLXZhbHVlIGtleS12YWx1ZSBwYWlyIGluIHRoZSBnaXZlbiBtYXAuIEFzIHBhcnQgb2YgdGhlIHNldHVwIHByb2Nlc3MsIHRoZVxuICAgKiB1bmlmb3JtIHZhcmlhYmxlIGxvY2F0aW9ucyBhcmUgc3RvcmVkIGluIGEgbWFwIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyB2YXJpYWJsZSBuYW1lcy4gU28gb25seVxuICAgKiB0aGUgdmFyaWFibGUgbmFtZXMgYXJlIG5lZWRlZCBpbiBvcmRlciB0byBjYWxsIHRoaXMgZnVuY3Rpb24gYXQgcmVuZGVyIHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFVuaWZvcm1EYXRhPn0gdW5pZm9ybVZhbHVlc1xuICAgKi9cbiAgX3NldFVuaWZvcm1zKHVuaWZvcm1WYWx1ZXMpIHtcbiAgICBPYmplY3Qua2V5cyh1bmlmb3JtVmFsdWVzKS5mb3JFYWNoKHVuaWZvcm1OYW1lID0+IHtcbiAgICAgIGNvbnN0IHVuaWZvcm1TZXR0ZXIgPSB0aGlzLl91bmlmb3JtU2V0dGVyc1t1bmlmb3JtTmFtZV07XG4gICAgICBjb25zdCB1bmlmb3JtVmFsdWUgPSB1bmlmb3JtVmFsdWVzW3VuaWZvcm1OYW1lXTtcbiAgICAgIHVuaWZvcm1TZXR0ZXIuc2V0VW5pZm9ybSh1bmlmb3JtVmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGF0dHJpYnV0ZSBidWZmZXJzIGZvciB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgdGhpcyBjYWxscyBgZ2wuYmluZEJ1ZmZlciguLi4pYCBhbmQgYGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoLi4uKWAgZm9yIGVhY2hcbiAgICogdmFyaWFibGUtbmFtZS92YXJpYWJsZS12YWx1ZSBwYWlyIGluIHRoZSBnaXZlbiBhdHRyaWJ1dGUtaW5mbyBtYXAuIEFzIHBhcnQgb2YgdGhlIHNldHVwXG4gICAqIHByb2Nlc3MsIHRoZSB1bmlmb3JtIHZhcmlhYmxlIGxvY2F0aW9ucyBhcmUgc3RvcmVkIGluIGEgbWFwIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyB2YXJpYWJsZVxuICAgKiBuYW1lcy4gU28gb25seSB0aGUgdmFyaWFibGUgbmFtZXMgYXJlIG5lZWRlZCBpbiBvcmRlciB0byBjYWxsIHRoaXMgZnVuY3Rpb24gYXQgcmVuZGVyIHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIEF0dHJpYnV0ZUNvbmZpZz59IGF0dHJpYnV0ZUNvbmZpZ3NcbiAgICovXG4gIF9zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZUNvbmZpZ3MpIHtcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVDb25maWdzKS5mb3JFYWNoKGF0dHJpYnV0ZU5hbWUgPT4ge1xuICAgICAgY29uc3QgYXR0cmlidXRlU2V0dGVyID0gdGhpcy5fYXR0cmlidXRlU2V0dGVyc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUNvbmZpZyA9IGF0dHJpYnV0ZUNvbmZpZ3NbYXR0cmlidXRlTmFtZV07XG4gICAgICBhdHRyaWJ1dGVTZXR0ZXIoYXR0cmlidXRlQ29uZmlnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2VuYWJsZUF0dHJpYnV0ZXMoKSB7XG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMuZm9yRWFjaChhdHRyaWJ1dGVFbmFibGVyID0+IGF0dHJpYnV0ZUVuYWJsZXIoKSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB1bmlmb3JtIHNldHRlcnMgZm9yIHRoaXMgcHJvZ3JhbSBhbmQgc2F2ZXMgdGhlbSBpbiB0aGUgX3VuaWZvcm1TZXR0ZXJzIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVVbmlmb3JtU2V0dGVycyhnbCkge1xuICAgIGNvbnN0IHVuaWZvcm1Db3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fcHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgIHRoaXMuX3VuaWZvcm1TZXR0ZXJzID0ge307XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdW5pZm9ybUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBjb25zdCB1bmlmb3JtSW5mbyA9IGdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5fcHJvZ3JhbSwgaW5kZXgpO1xuICAgICAgbGV0IHVuaWZvcm1OYW1lID0gdW5pZm9ybUluZm8ubmFtZTtcblxuICAgICAgLy8gUmVtb3ZlIGFueSBhcnJheSBzdWZmaXguXG4gICAgICAvLyBUT0RPOiBJcyB0aGlzIHJlbW92YWwgcmVkdW5kYW50IHdpdGggdGhlIGlzQXJyYXkgY2hlY2sgYmVsb3c/P1xuICAgICAgaWYgKHVuaWZvcm1OYW1lLnN1YnN0cigtMykgPT09ICdbMF0nKSB7XG4gICAgICAgIHVuaWZvcm1OYW1lID0gdW5pZm9ybU5hbWUuc3Vic3RyKDAsIHVuaWZvcm1OYW1lLmxlbmd0aCAtIDMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl91bmlmb3JtU2V0dGVyc1t1bmlmb3JtTmFtZV0gPSBuZXcgVW5pZm9ybVNldHRlcihnbCwgdGhpcy5fcHJvZ3JhbSwgdW5pZm9ybUluZm8sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGF0dHJpYnV0ZSBlbmFibGVycyBhbmQgc2V0dGVycyBmb3IgdGhpcyBwcm9ncmFtIGFuZCBzYXZlcyB0aGVtIGluIHRoZVxuICAgKiBfYXR0cmlidXRlRW5hYmxlcnMgYW5kIF9hdHRyaWJ1dGVTZXR0ZXJzIHByb3BlcnRpZXMsIHJlc3BlY3RpdmVseS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlQXR0cmlidXRlRW5hYmxlcnNBbmRTZXR0ZXJzKGdsKSB7XG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMgPSBbXTtcbiAgICB0aGlzLl9hdHRyaWJ1dGVTZXR0ZXJzID0ge307XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVDb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fcHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGF0dHJpYnV0ZUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHRoaXMuX3Byb2dyYW0sIGluZGV4KS5uYW1lO1xuICAgICAgY29uc3QgbG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9wcm9ncmFtLCBhdHRyaWJ1dGVOYW1lKTtcblxuICAgICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMucHVzaChQcm9ncmFtV3JhcHBlci5fY3JlYXRlQXR0cmlidXRlRW5hYmxlcihnbCwgbG9jYXRpb24pKTtcbiAgICAgIHRoaXMuX2F0dHJpYnV0ZVNldHRlcnNbYXR0cmlidXRlTmFtZV0gPSBQcm9ncmFtV3JhcHBlci5fY3JlYXRlQXR0cmlidXRlU2V0dGVyKGdsLCBsb2NhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBzaGFkZXIgc291cmNlIGNvZGUgZnJvbSB0aGUgZ2l2ZW4gVVJMcywgY29tcGlsZXMgdGhlIHNoYWRlciBzb3VyY2UgY29kZSwgYW5kIGNyZWF0ZXNcbiAgICogYSBwcm9ncmFtIGZyb20gdGhlIHJlc3VsdGluZyBzaGFkZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlckNvbmZpZ30gY29uZmlnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2J1aWxkV2ViR0xQcm9ncmFtKGdsLCBjb25maWcpIHtcbiAgICByZXR1cm4gbG9hZFByb2dyYW0oZ2wsIGNvbmZpZy52ZXJ0ZXhTaGFkZXJQYXRoLCBjb25maWcuZnJhZ21lbnRTaGFkZXJQYXRoKVxuICAgICAgICAudGhlbih3ZWJHTFByb2dyYW0gPT4ge1xuICAgICAgICAgIHRoaXMuX3Byb2dyYW0gPSB3ZWJHTFByb2dyYW07XG4gICAgICAgICAgdGhpcy5fY3JlYXRlVW5pZm9ybVNldHRlcnMoZ2wpO1xuICAgICAgICAgIHRoaXMuX2NyZWF0ZUF0dHJpYnV0ZUVuYWJsZXJzQW5kU2V0dGVycyhnbCk7XG4gICAgICAgICAgaWYgKGNvbmZpZy5pbml0aWFsaXplKSBjb25maWcuaW5pdGlhbGl6ZShnbCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUuaW5mbyhgUHJvZ3JhbSBsb2FkZWQ6ICR7Y29uZmlnLmlkfWApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvY2F0aW9uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlQXR0cmlidXRlRW5hYmxlcihnbCwgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gKCkgPT4gZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb25cbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjxBdHRyaWJ1dGVDb25maWc+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVBdHRyaWJ1dGVTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZUNvbmZpZyA9PiB7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYXR0cmlidXRlQ29uZmlnLmJ1ZmZlcik7XG4gICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgIGF0dHJpYnV0ZUNvbmZpZy5zaXplLFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcudHlwZSAhPT0gJ3VuZGVmaW5lZCcgPyBhdHRyaWJ1dGVDb25maWcudHlwZSA6IGdsLkZMT0FULFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcubm9ybWFsaXplZCAhPT0gJ3VuZGVmaW5lZCcgPyBhdHRyaWJ1dGVDb25maWcubm9ybWFsaXplZCA6IGZhbHNlLFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcuc3RyaWRlICE9PSAndW5kZWZpbmVkJyA/IGF0dHJpYnV0ZUNvbmZpZy5zdHJpZGUgOiAwLFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcub2Zmc2V0ICE9PSAndW5kZWZpbmVkJyA/IGF0dHJpYnV0ZUNvbmZpZy5vZmZzZXQgOiAwKTtcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7UHJvZ3JhbVdyYXBwZXJ9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFByb2dyYW1XcmFwcGVyQ29uZmlnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtpbml0aWFsaXplXSBBIG1ldGhvZCBmb3Igb25lLXRpbWUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIEdMIHN0YXRlIGZvciB0aGlzXG4gKiBwcm9ncmFtLlxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW3dlYkdMU3RhdGVTZXR0ZXJdIEEgbWV0aG9kIGZvciBzZXR0aW5nIHVwIHRoZSBHTCBzdGF0ZSBmb3IgdGhpcyBwcm9ncmFtXG4gKiB3cmFwcGVyIGluIHByZXBhcmF0aW9uIGZvciB0aGUgY3VycmVudCBkcmF3IGNhbGwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlbmRlclByaW9yaXR5XSBQcm9ncmFtcyB3aXRoIGxvd2VyIHByaW9yaXR5IHdpbGwgcmVuZGVyIGZpcnN0LiBUaGlzIGRvZXMgbm90XG4gKiBuZWVkIHRvIGJlIHByZXNlbnQgZm9yIFByb2dyYW1XcmFwcGVycyB0aGF0IGFyZSBjaGlsZHJlbiBvZiBhIEdyb3VwUHJvZ3JhbVdyYXBwZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3ZlcnRleFNoYWRlclBhdGhdIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3MgZm9yIG5vbi1ncm91cFxuICogUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtmcmFnbWVudFNoYWRlclBhdGhdIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3MgZm9yIG5vbi1ncm91cFxuICogUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNBUG9zdFByb2Nlc3Nvcj1mYWxzZV0gQSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSBpcyB1c2VkIGZvciBtYW5pcHVsYXRpbmdcbiAqIHRoZSBlbnRpcmUgZnJhbWUgYWZ0ZXIgYWxsIHRoZSBtb2RlbHMgaGF2ZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NoaWxkcmVuUHJvZ3JhbUNvbmZpZ3NdIEEgZ3JvdXBpbmcgcHJvZ3JhbSBjb25zaXN0cyBvZiBtdWx0aXBsZSBjaGlsZFxuICogcHJvZ3JhbXMgdGhhdCBhcmUgYWxsIHJlbmRlcmVkIGluIHNlcXVlbmNlIGZvciBhIHJlbGF0ZWQgcHVycG9zZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPENoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzPn0gW2NoaWxkcmVuUHJvZ3JhbXNUb0RyYXddIFRoZSBJRHMgZm9yIHRoZVxuICogc2VxdWVuY2Ugb2YgY2hpbGRyZW4gUHJvZ3JhbVdyYXBwZXJzIHRvIGRyYXcsIGFzIHdlbGwgYXMgdGhlIElEcyBmb3IgdGhlIGlucHV0IGFuZCBvdXRwdXRcbiAqIGZyYW1lYnVmZmVycy90ZXh0dXJlcyB0byB1c2UuIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3MgZm9yIEdyb3VwUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtBcnJheS48c3RyaW5nPn0gW2NoaWxkcmVuRnJhbWVidWZmZXJJZHNdIFRoZSBJRHMgb2YgYWxsIHRoZSBmcmFtZWJ1ZmZlcnMvdGV4dHVyZXMgdGhhdFxuICogd2lsbCBuZWVkIHRvIGJlIGNyZWF0ZWQgZm9yIHRoaXMgcHJvZ3JhbS4gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBmb3JcbiAqIEdyb3VwUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW2dldFByb2dyYW1WYXJpYWJsZXNDb25maWddIEEgbWV0aG9kIGZvciBnZXR0aW5nIHRoZSB2YXJpYWJsZXMgbmVlZGVkIGZvclxuICogZHJhd2luZyB0aGlzIHByb2dyYW0uIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3Mgb2YgcHJvZ3JhbXMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgYVxuICogR3JvdXBQcm9ncmFtV3JhcHBlci5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcHJvZ3JhbUlkIFRoZSBJRCBvZiB0aGUgcHJvZ3JhbSB0byBkcmF3IHdpdGguXG4gKiBAcHJvcGVydHkge0FycmF5LjxzdHJpbmc+fSBpbnB1dEZyYW1lYnVmZmVySWRzIFRoZSBJRHMgb2YgZnJhbWVidWZmZXJzIHdob3NlIHRleHR1cmVzIHdpbGwgYmVcbiAqIHVzZWQgYXMgaW5wdXRzIGZvciB0aGlzIHByb2dyYW0ncyBzaGFkZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG91dHB1dEZyYW1lYnVmZmVySWQgUHJvdmlkZSBudWxsIGluIG9yZGVyIHRvIHJlbmRlciB0byB0aGUgY2FudmFzLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ1xuICogQHByb3BlcnR5IHtPYmplY3QuPFN0cmluZywgQXR0cmlidXRlQ29uZmlnPn0gYXR0cmlidXRlcyBBIG1hcHBpbmcgZnJvbSBhdHRyaWJ1dGUgbmFtZXMgdG9cbiAqIGF0dHJpYnV0ZSBpbmZvLlxuICogQHByb3BlcnR5IHtPYmplY3QuPFN0cmluZywgVW5pZm9ybURhdGE+fSB1bmlmb3JtcyBBIG1hcHBpbmcgZnJvbSB1bmlmb3JtIG5hbWVzIHRvIHVuaWZvcm0gaW5mby5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb2RlIFNwZWNpZmllcyB0aGUgdHlwZSBvZiBwcmltaXRpdmVzIHRvIHJlbmRlcjsgb25lIG9mOlxuICogICAtIGdsLlBPSU5UUyxcbiAqICAgLSBnbC5MSU5FUyxcbiAqICAgLSBnbC5MSU5FX1NUUklQLFxuICogICAtIGdsLkxJTkVfTE9PUCxcbiAqICAgLSBnbC5UUklBTkdMRVMsXG4gKiAgIC0gZ2wuVFJJQU5HTEVfU1RSSVAsXG4gKiAgIC0gZ2wuVFJJQU5HTEVfRkFOLlxuICogQHByb3BlcnR5IHtXZWJHTEJ1ZmZlcn0gW3ZlcnRleEluZGljZXNdIFRoZSBpbmRpY2VzIHRvIHVzZSBmb3IgcmV0cmlldmluZyB0aGUgdmVydGV4IGluZm8gZnJvbVxuICogZWFjaCBvZiB0aGUgb3RoZXIgYXR0cmlidXRlIHZhcmlhYmxlIGJ1ZmZlcnMuIElmIHRoaXMgcHJvcGVydHkgaXMgcHJlc2VudCwgdGhlbiB0aGUgcmVuZGVyaW5nXG4gKiBwaXBlbGluZSB3aWxsIGJlIHNldCB1cCB0byB1c2UgZ2wuZHJhd0VsZW1lbnRzICh3aXRoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKSBpbnN0ZWFkIG9mXG4gKiBnbC5kcmF3QXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVsZW1lbnRDb3VudCBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzL3ZlcnRpY2VzIHRvIHJlbmRlciBmb3IgdGhpcyB2YXJpYWJsZXNcbiAqIGNvbmZpZ3VyYXRpb24uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdHRyaWJ1dGVDb25maWdcbiAqIEBwcm9wZXJ0eSB7V2ViR0xCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIGNvbnRhaW5pbmcgdGhpcyBhdHRyaWJ1dGUncyBkYXRhLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4IEluZGV4IG9mIHRhcmdldCBhdHRyaWJ1dGUgaW4gdGhlIGJ1ZmZlciBib3VuZCB0byBnbC5BUlJBWV9CVUZGRVIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZSBUaGUgbnVtYmVyIG9mIGNvbXBvbmVudHMgcGVyIGF0dHJpYnV0ZS4gTXVzdCBiZSAxLDIsMyxvciA0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHR5cGUgU3BlY2lmaWVzIHRoZSBkYXRhIHR5cGUgb2YgZWFjaCBjb21wb25lbnQgaW4gdGhlIGFycmF5LiBVc2UgZWl0aGVyXG4gKiBnbC5GTE9BVCBvciBnbC5GSVhFRC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbm9ybWFsaXplZCBJZiB0cnVlLCB0aGVuIHZhbHVlcyB3aWxsIGJlIG5vcm1hbGl6ZWQgdG8gYSByYW5nZSBvZiAtMSBvciAwIHRvXG4gKiAxLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cmlkZSBTcGVjaWZpZXMgdGhlIG9mZnNldCBpbiBieXRlcyBiZXR3ZWVuIHRoZSBiZWdpbm5pbmcgb2YgY29uc2VjdXRpdmVcbiAqIHZlcnRleCBhdHRyaWJ1dGVzLiBEZWZhdWx0IHZhbHVlIGlzIDAsIG1heGltdW0gaXMgMjU1LiBNdXN0IGJlIGEgbXVsdGlwbGUgb2YgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvZmZzZXQgU3BlY2lmaWVzIGFuIG9mZnNldCBpbiBieXRlcyBvZiB0aGUgZmlyc3QgY29tcG9uZW50IG9mIHRoZSBmaXJzdFxuICogdmVydGV4IGF0dHJpYnV0ZSBpbiB0aGUgYXJyYXkuIERlZmF1bHQgaXMgMCB3aGljaCBtZWFucyB0aGF0IHZlcnRleCBhdHRyaWJ1dGVzIGFyZSB0aWdodGx5XG4gKiBwYWNrZWQuIE11c3QgYmUgYSBtdWx0aXBsZSBvZiB0eXBlLlxuICovXG5cbi8qKiBAdHlwZWRlZiB7Kn0gVW5pZm9ybURhdGEgKi9cbiIsImltcG9ydCB7bG9hZEltYWdlU3JjfSBmcm9tICcuLi8uLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGxvYWRzLCBzZXRzIHVwLCBhbmQgc3RvcmVzIFdlYkdMIHRleHR1cmUgb2JqZWN0cy5cbiAqXG4gKiBOT1RFOiBPbmx5IHRleHR1cmVzIHdob3NlIHNpZGUgbGVuZ3RocyBhcmUgcG93ZXJzIG9mIHR3byBhcmUgc3VwcG9ydGVkLlxuICovXG5jbGFzcyBUZXh0dXJlU3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRleHR1cmVDYWNoZSA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxuICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgKi9cbiAgZ2V0VGV4dHVyZSh0ZXh0dXJlUGF0aCkge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmVDYWNoZVt0ZXh0dXJlUGF0aF0udGV4dHVyZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgdGV4dHVyZSBpbWFnZSBhdCB0aGUgZ2l2ZW4gcGF0aCwgY3JlYXRlcyBhIHRleHR1cmUgb2JqZWN0IGZyb20gaXQsIGNhY2hlcyB0aGVcbiAgICogdGV4dHVyZSwgYW5kIHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgdGV4dHVyZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudDsgYSBnaXZlbiB0ZXh0dXJlIHdpbGwgb25seSBiZSBsb2FkZWQgb25jZS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48V2ViR0xUZXh0dXJlLCBFcnJvcj59XG4gICAqL1xuICBsb2FkVGV4dHVyZShnbCwgdGV4dHVyZVBhdGgpIHtcbiAgICBsZXQgdGV4dHVyZUNhY2hlSW5mbyA9IHRoaXMudGV4dHVyZUNhY2hlW3RleHR1cmVQYXRoXTtcblxuICAgIC8vIExvYWQsIGNyZWF0ZSwgYW5kIGNhY2hlIHRoZSB0ZXh0dXJlIGlmIGl0IGhhcyBub3QgYmVlbiBwcmV2aW91c2x5IHJlZ2lzdGVyZWQuXG4gICAgaWYgKCF0ZXh0dXJlQ2FjaGVJbmZvKSB7XG4gICAgICB0ZXh0dXJlQ2FjaGVJbmZvID0ge1xuICAgICAgICB0ZXh0dXJlUHJvbWlzZTogbnVsbCxcbiAgICAgICAgdGV4dHVyZTogbnVsbCxcbiAgICAgICAgaW1hZ2U6IG5ldyBJbWFnZSgpXG4gICAgICB9O1xuICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVbdGV4dHVyZVBhdGhdID0gdGV4dHVyZUNhY2hlSW5mbztcbiAgICAgIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZVByb21pc2UgPSBsb2FkSW1hZ2VTcmModGV4dHVyZUNhY2hlSW5mby5pbWFnZSwgdGV4dHVyZVBhdGgpXG4gICAgICAgICAgLnRoZW4oXyA9PiB0aGlzLl9jcmVhdGVUZXh0dXJlKGdsLCB0ZXh0dXJlQ2FjaGVJbmZvKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZVByb21pc2U7XG4gIH1cblxuICAvLyBUT0RPOiBNYWtlIHRoaXMgbW9yZSBnZW5lcmFsL2NvbmZpZ3VyYWJsZSBieSBjcmVhdGluZyBhIG5ldyBUZXh0dXJlQ29uZmlnIHR5cGVkZWYgd2l0aCBtb3N0IG9mXG4gIC8vIHRoZSBnbC54eHggcGFyYW1zIGluY2x1ZGVkIGJlbG93IChsaWtlIHRoZSBBdHRyaWJ1dGVDb25maWcgdHlwZWRlZn0sIHBhc3NpbmcgYSB0ZXh0dXJlQ29uZmlnIGluXG4gIC8vIHRoZSByZWdpc3RlciBtZXRob2QsIGFuZCBzYXZpbmcgaXQgb24gdGhlIHRleHR1cmVDYWNoZUluZm8gb2JqZWN0LlxuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7VGV4dHVyZUNhY2hlSW5mb30gdGV4dHVyZUNhY2hlSW5mb1xuICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVRleHR1cmUoZ2wsIHRleHR1cmVDYWNoZUluZm8pIHtcbiAgICBjb25zb2xlLmluZm8oYFRleHR1cmUgbG9hZGVkOiAke3RleHR1cmVDYWNoZUluZm8uaW1hZ2Uuc3JjfWApO1xuXG4gICAgdGV4dHVyZUNhY2hlSW5mby50ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZSk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0ZXh0dXJlQ2FjaGVJbmZvLmltYWdlKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcbiAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcblxuICAgIHJldHVybiB0ZXh0dXJlQ2FjaGVJbmZvLnRleHR1cmU7XG4gIH1cblxuICAvKipcbiAgICogV0FSTklORzogVGhpcyB3aWxsIHJlbW92ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSBzdG9yZSBldmVuIGlmIHRoZXJlIGFyZSBzdGlsbCBvdGhlciBjb21wb25lbnRzXG4gICAqIGRlcGVuZGluZyBvbiB0aGlzIHRleHR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxuICAgKi9cbiAgZGVsZXRlVGV4dHVyZSh0ZXh0dXJlUGF0aCkge1xuICAgIGRlbGV0ZSB0aGlzLnRleHR1cmVDYWNoZVt0ZXh0dXJlUGF0aF07XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRleHR1cmVTdG9yZSA9IG5ldyBUZXh0dXJlU3RvcmUoKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0dXJlQ2FjaGVJbmZvXG4gKiBAcHJvcGVydHkge1Byb21pc2UuPFdlYkdMVGV4dHVyZSwgRXJyb3I+fSB0ZXh0dXJlUHJvbWlzZVxuICogQHByb3BlcnR5IHtXZWJHTFRleHR1cmV9IFt0ZXh0dXJlXVxuICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fSBbaW1hZ2VdXG4gKi9cbiIsIi8qKlxuICogVGhpcyBjbGFzcyBzdG9yZXMgYSBmdW5jdGlvbiBmb3Igc2V0dGluZyBhIHZhbHVlIHRvIGEgV2ViR0wgdW5pZm9ybSB2YXJpYWJsZS5cbiAqXG4gKiBUaGlzIGlzIGludGVuZGVkIGZvciB1c2UgYXMgYSBoZWxwZXIgZm9yIHRoZSBQcm9ncmFtV3JhcHBlciBjbGFzcy5cbiAqL1xuLy8gVE9ETzogV3JpdGUgdGVzdHMgZm9yIHRoaXMgY2xhc3MuXG5jbGFzcyBVbmlmb3JtU2V0dGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gcHJvZ3JhbVxuICAgKiBAcGFyYW0ge1dlYkdMQWN0aXZlSW5mb30gdW5pZm9ybUluZm9cbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHRocm93cyBJZiB0aGUgZ2l2ZW4gdW5pZm9ybUluZm8gc3BlY2lmaWVzIGFuIHVuZXhwZWN0ZWQgdW5pZm9ybS12YWx1ZSB0eXBlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZ2wsIHByb2dyYW0sIHVuaWZvcm1JbmZvLCBwcm9ncmFtV3JhcHBlcikge1xuICAgIHRoaXMuX2xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIHVuaWZvcm1JbmZvLm5hbWUpO1xuICAgIHRoaXMuX3NldHRlciA9IHRoaXMuX2dldFNldHRlcihnbCwgdW5pZm9ybUluZm8sIHByb2dyYW1XcmFwcGVyKTtcblxuICAgIC8vIFRPRE86IEZyZWV6ZSB0aGlzIG9iamVjdCBhZnRlciBpbml0aWFsaXppbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1VuaWZvcm1EYXRhfSB1bmlmb3JtVmFsdWVcbiAgICovXG4gIHNldFVuaWZvcm0odW5pZm9ybVZhbHVlKSB7XG4gICAgdW5pZm9ybVZhbHVlID0gdW5pZm9ybVZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBuZXcgRmxvYXQzMkFycmF5KHVuaWZvcm1WYWx1ZSkgOiB1bmlmb3JtVmFsdWU7XG4gICAgdGhpcy5fc2V0dGVyKHVuaWZvcm1WYWx1ZSk7XG4gIH1cblxuICAvKiogQHJldHVybnMge1dlYkdMVW5pZm9ybUxvY2F0aW9ufSAqL1xuICBnZXQgbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1dlYkdMQWN0aXZlSW5mb30gdW5pZm9ybUluZm9cbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjwqPn1cbiAgICogQHRocm93cyBJZiB0aGUgZ2l2ZW4gdW5pZm9ybUluZm8gc3BlY2lmaWVzIGFuIHVuZXhwZWN0ZWQgdW5pZm9ybS12YWx1ZSB0eXBlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFNldHRlcihnbCwgdW5pZm9ybUluZm8sIHByb2dyYW1XcmFwcGVyKSB7XG4gICAgY29uc3QgaXNBcnJheSA9IHVuaWZvcm1JbmZvLnNpemUgPiAxICYmIHVuaWZvcm1JbmZvLm5hbWUuc3Vic3RyKC0zKSA9PT0gJ1swXSc7XG4gICAgY29uc3Qgc2V0dGVyTWFwID0gaXNBcnJheSA/IHtcbiAgICAgIFtnbC5GTE9BVF06IHZhbHVlID0+IGdsLnVuaWZvcm0xZnYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWl2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuU0FNUExFUl8yRF06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlQXJyYXlTZXR0ZXIoZ2wsIGdsLlRFWFRVUkVfMkQsIHVuaWZvcm1JbmZvLnNpemUsXG4gICAgICAgICAgcHJvZ3JhbVdyYXBwZXIpLFxuICAgICAgW2dsLlNBTVBMRVJfQ1VCRV06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlQXJyYXlTZXR0ZXIoZ2wsIGdsLlRFWFRVUkVfQ1VCRV9NQVAsXG4gICAgICAgICAgdW5pZm9ybUluZm8uc2l6ZSwgcHJvZ3JhbVdyYXBwZXIpLFxuICAgIH0gOiB7XG4gICAgICBbZ2wuRkxPQVRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5GTE9BVF9WRUMyXTogdmFsdWUgPT4gZ2wudW5pZm9ybTJmdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLkZMT0FUX1ZFQzNdOiB2YWx1ZSA9PiBnbC51bmlmb3JtM2Z2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfVkVDNF06IHZhbHVlID0+IGdsLnVuaWZvcm00ZnYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWkodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRfVkVDMl06IHZhbHVlID0+IGdsLnVuaWZvcm0yaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRfVkVDM106IHZhbHVlID0+IGdsLnVuaWZvcm0zaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRfVkVDNF06IHZhbHVlID0+IGdsLnVuaWZvcm00aXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5CT09MXTogdmFsdWUgPT4gZ2wudW5pZm9ybTFpKHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuQk9PTF9WRUMyXTogdmFsdWUgPT4gZ2wudW5pZm9ybTJpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLkJPT0xfVkVDM106IHZhbHVlID0+IGdsLnVuaWZvcm0zaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5CT09MX1ZFQzRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtNGl2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfTUFUMl06IHZhbHVlID0+IGdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5fbG9jYXRpb24sIGZhbHNlLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfTUFUM106IHZhbHVlID0+IGdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5fbG9jYXRpb24sIGZhbHNlLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfTUFUNF06IHZhbHVlID0+IGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5fbG9jYXRpb24sIGZhbHNlLCB2YWx1ZSksXG4gICAgICBbZ2wuU0FNUExFUl8yRF06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlU2V0dGVyKGdsLCBnbC5URVhUVVJFXzJELFxuICAgICAgICAgIHByb2dyYW1XcmFwcGVyLmJhc2VUZXh0dXJlVW5pdEluZGV4KyspLFxuICAgICAgW2dsLlNBTVBMRVJfQ1VCRV06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlU2V0dGVyKGdsLCBnbC5URVhUVVJFX0NVQkVfTUFQLFxuICAgICAgICAgIHByb2dyYW1XcmFwcGVyLmJhc2VUZXh0dXJlVW5pdEluZGV4KyspLFxuICAgIH07XG4gICAgcmV0dXJuIHNldHRlck1hcFt1bmlmb3JtSW5mby50eXBlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldCBBbiBlbnVtIGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgdGhpcyBidWZmZXI7IG9uZSBvZjpcbiAgICogICAtIGdsLlRFWFRVUkVfMkQsXG4gICAqICAgLSBnbC5URVhUVVJFX0NVQkVfTUFQLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdW5pZm9ybVNpemVcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjwqPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRVbmlmb3JtVGV4dHVyZUFycmF5U2V0dGVyKGdsLCB0YXJnZXQsIHVuaWZvcm1TaXplLCBwcm9ncmFtV3JhcHBlcikge1xuICAgIGNvbnN0IHRleHR1cmVVbml0SW5kaWNlcyA9XG4gICAgICAgIEFycmF5LmZyb20oe2xlbmd0aDogdW5pZm9ybVNpemV9LCBfID0+IHByb2dyYW1XcmFwcGVyLmJhc2VUZXh0dXJlVW5pdEluZGV4KyspO1xuXG4gICAgcmV0dXJuIHRleHR1cmVzID0+IHtcbiAgICAgIHRleHR1cmVzLmZvckVhY2goKHRleHR1cmUsIGluZGV4KSA9PiB7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0ZXh0dXJlVW5pdEluZGljZXNbaW5kZXhdKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCB0ZXh0dXJlKTtcbiAgICAgIH0pO1xuICAgICAgZ2wudW5pZm9ybTFpdih0aGlzLl9sb2NhdGlvbiwgdGV4dHVyZVVuaXRJbmRpY2VzKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IEFuIGVudW0gZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGlzIGJ1ZmZlcjsgb25lIG9mOlxuICAgKiAgIC0gZ2wuVEVYVFVSRV8yRCxcbiAgICogICAtIGdsLlRFWFRVUkVfQ1VCRV9NQVAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0ZXh0dXJlVW5pdEluZGV4XG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbi48Kj59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0VW5pZm9ybVRleHR1cmVTZXR0ZXIoZ2wsIHRhcmdldCwgdGV4dHVyZVVuaXRJbmRleCkge1xuICAgIHJldHVybiB0ZXh0dXJlID0+IHtcbiAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0ZXh0dXJlVW5pdEluZGV4KTtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKHRhcmdldCwgdGV4dHVyZSk7XG4gICAgICBnbC51bmlmb3JtMWkodGhpcy5fbG9jYXRpb24sIHRleHR1cmVVbml0SW5kZXgpO1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHtVbmlmb3JtU2V0dGVyfTtcbiIsImltcG9ydCB7cmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvcmVuZGVyYWJsZS1zaGFwZS1mYWN0b3J5JztcblxuaW1wb3J0IHtjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jYXBzdWxlLXJlbmRlcmFibGUtc2hhcGUnO1xuaW1wb3J0IHtjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jdWJlLXJlbmRlcmFibGUtc2hhcGUnO1xuaW1wb3J0IHtpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc2FoZWRyb24tcmVuZGVyYWJsZS1zaGFwZSc7XG5pbXBvcnQge2ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc3BoZXJlLXJlbmRlcmFibGUtc2hhcGUnO1xuaW1wb3J0IHtsYXRMb25nU3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9sYXQtbG9uZy1zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5pbXBvcnQge3RldHJhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy90ZXRyYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlJztcblxuW1xuICBjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgY3ViZVJlbmRlcmFibGVTaGFwZUZhY3RvcnksXG4gIGljb3NhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgaWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgbGF0TG9uZ1NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3RvcnksXG4gIHRldHJhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeVxuXS5mb3JFYWNoKHJlbmRlcmFibGVTaGFwZUZhY3RvcnkucmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KTtcblxuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jYXBzdWxlLXJlbmRlcmFibGUtc2hhcGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jdWJlLXJlbmRlcmFibGUtc2hhcGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9pY29zYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc3BoZXJlLXJlbmRlcmFibGUtc2hhcGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9sYXQtbG9uZy1zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL3RldHJhaGVkcm9uLXJlbmRlcmFibGUtc2hhcGUnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9yZW5kZXJhYmxlLXNoYXBlLWZhY3RvcnknO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG4iLCJpbXBvcnQge0RlZmF1bHRNb2RlbH0gZnJvbSAnLi4vLi4vbW9kZWxzJztcbmltcG9ydCB7cmVuZGVyYWJsZVNoYXBlU3RvcmV9IGZyb20gJy4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGZhY3RvcnkgZm9yIERlZmF1bHRSaWdpZE1vZGFsIGluc3RhbmNlcyB0aGF0IGFyZSBiYXNlZCBvbiB0aGUgdmFyaW91c1xuICogcHJlLWRlZmluZWQgcmVuZGVyYWJsZSBzaGFwZXMgaW4gdGhpcyBkaXJlY3RvcnkuXG4gKi9cblxuY29uc3QgcmVuZGVyYWJsZVNoYXBlRmFjdG9yeSA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtEZWZhdWx0TW9kZWx9XG4gICAqL1xuICBjcmVhdGVNb2RlbDogKGdsLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBzaGFwZUNvbmZpZyA9IHJlbmRlcmFibGVTaGFwZUZhY3RvcnkuZ2V0UmVuZGVyYWJsZVNoYXBlKHBhcmFtcyk7XG4gICAgcmV0dXJuIG5ldyBEZWZhdWx0TW9kZWwoZ2wsIHNoYXBlQ29uZmlnKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscyA9IHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscyB8fCBmYWxzZTtcbiAgICBwYXJhbXMuZGl2aXNpb25zQ291bnQgPSB0eXBlb2YgcGFyYW1zLmRpdmlzaW9uc0NvdW50ID09PSAnbnVtYmVyJyA/IHBhcmFtcy5kaXZpc2lvbnNDb3VudCA6IDA7XG5cbiAgICBsZXQgc2hhcGVDb25maWcgPSByZW5kZXJhYmxlU2hhcGVTdG9yZS5nZXRTaGFwZShwYXJhbXMpO1xuICAgIGlmICghc2hhcGVDb25maWcpIHtcbiAgICAgIHNoYXBlQ29uZmlnID0gX3NoYXBlSWRzVG9SZW5kZXJhYmxlU2hhcGVGYWN0b3JpZXNbcGFyYW1zLnNoYXBlSWRdLmdldFJlbmRlcmFibGVTaGFwZShwYXJhbXMpO1xuICAgICAgX3VwZGF0ZVRleHR1cmVDb29yZGluYXRlc1NwYW4oc2hhcGVDb25maWcsIHBhcmFtcy50ZXh0dXJlU3Bhbik7XG4gICAgICByZW5kZXJhYmxlU2hhcGVTdG9yZS5yZWdpc3RlclNoYXBlKHNoYXBlQ29uZmlnLCBwYXJhbXMpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcGVDb25maWc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gc2hhcGVDb25maWdGYWN0b3J5XG4gICAqL1xuICByZWdpc3RlclJlbmRlcmFibGVTaGFwZUZhY3Rvcnk6IHNoYXBlQ29uZmlnRmFjdG9yeSA9PiB7XG4gICAgX3NoYXBlSWRzVG9SZW5kZXJhYmxlU2hhcGVGYWN0b3JpZXNbc2hhcGVDb25maWdGYWN0b3J5LnNoYXBlSWRdID0gc2hhcGVDb25maWdGYWN0b3J5O1xuICAgIHJlbmRlcmFibGVTaGFwZVN0b3JlLnJlZ2lzdGVyUmVuZGVyYWJsZVNoYXBlRmFjdG9yeShzaGFwZUNvbmZpZ0ZhY3RvcnkpO1xuICB9XG59O1xuXG5jb25zdCBfc2hhcGVJZHNUb1JlbmRlcmFibGVTaGFwZUZhY3RvcmllcyA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlfSBzaGFwZUNvbmZpZ1xuICogQHBhcmFtIHtUZXh0dXJlU3Bhbn0gdGV4dHVyZVNwYW5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF91cGRhdGVUZXh0dXJlQ29vcmRpbmF0ZXNTcGFuKHNoYXBlQ29uZmlnLCB0ZXh0dXJlU3Bhbikge1xuICBpZiAoIXRleHR1cmVTcGFuKSByZXR1cm47XG5cbiAgY29uc3QgbWluWCA9IHRleHR1cmVTcGFuLm1pblg7XG4gIGNvbnN0IG1pblkgPSB0ZXh0dXJlU3Bhbi5taW5ZO1xuICBjb25zdCByYW5nZVggPSB0ZXh0dXJlU3Bhbi5tYXhYIC0gdGV4dHVyZVNwYW4ubWluWDtcbiAgY29uc3QgcmFuZ2VZID0gdGV4dHVyZVNwYW4ubWF4WSAtIHRleHR1cmVTcGFuLm1pblk7XG5cbiAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gc2hhcGVDb25maWcudGV4dHVyZUNvb3JkaW5hdGVzLnNsaWNlKCk7XG4gIHNoYXBlQ29uZmlnLnRleHR1cmVDb29yZGluYXRlcyA9IHRleHR1cmVDb29yZGluYXRlcztcblxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMikge1xuICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSA9IG1pblggKyByYW5nZVggKiB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV07XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyAxXSA9IG1pblkgKyByYW5nZVkgKiB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDFdO1xuICB9XG59XG5cbmV4cG9ydCB7cmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyYWJsZVNoYXBlRmFjdG9yeVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYXBlSWRcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPFJlbmRlcmFibGVTaGFwZT59IGdldFJlbmRlcmFibGVTaGFwZVxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48U3RyaW5nPn0gZ2V0Q2FjaGVJZFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyYWJsZVNoYXBlXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhQb3NpdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IHZlcnRleE5vcm1hbHNcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IHRleHR1cmVDb29yZGluYXRlc1xuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gW3ZlcnRleEluZGljZXNdXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWxlbWVudENvdW50XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0dXJlU3BhblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ZXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFlcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbmRlcmFibGVTaGFwZUNvbmZpZ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYXBlSWQgVGhlIElEIG9mIHRoZSB0eXBlIG9mIHJlbmRlcmFibGUgc2hhcGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc1VzaW5nU3BoZXJpY2FsTm9ybWFscz1mYWxzZV0gV2hldGhlciBsaWdodCByZWZsZWN0aW9ucyBzaG91bGQgc2hvdyBzaGFycFxuICogZWRnZXMuXG4gKiBAcHJvcGVydHkge1RleHR1cmVTcGFufSBbdGV4dHVyZVNwYW5dIEZvciBpbmRpY2F0aW5nIGhvdyBtdWNoIGEgdGV4dHVyZSBzaG91bGQgcmVwZWF0IGluIGJvdGggYXhlcy5cbiAqIEEgcmFuZ2Ugb2YgMC0wLjUgc2hvdWxkIHNob3cgaGFsZiB0aGUgdGV4dHVyZS4gQSByYW5nZSBvZiAwLTIgd291bGQgc2hvdyB0aGUgdGV4dHVyZSB0d2ljZS4gVGhlXG4gKiBkZWZhdWx0IGlzIDAtMSBpbiBib3RoIGRpcmVjdGlvbnMuXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtzY2FsZV1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IFNwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRpdmlzaW9uc0NvdW50IEhvdyBtYW55IHRpbWVzIHRvIHN1Yi1kaXZpZGUgdGhlIHNwaGVyZS5cbiAqL1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGNhY2hlcyByZW5kZXJhYmxlIHNoYXBlIGRhdGEuXG4gKi9cbmNsYXNzIFJlbmRlcmFibGVTaGFwZVN0b3JlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc2hhcGVDYWNoZSA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRTaGFwZShwYXJhbXMpIHtcbiAgICBjb25zdCBrZXkgPSBfc2hhcGVJZHNUb0NhY2hlS2V5Q2FsY3VsYXRvcnNbcGFyYW1zLnNoYXBlSWRdKHBhcmFtcyk7XG4gICAgcmV0dXJuIHRoaXMuX3NoYXBlQ2FjaGUuZ2V0KGtleSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGVzIHRoZSBnaXZlbiBzaGFwZSBpbmZvLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZX0gc2hhcGVDb25maWdcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKi9cbiAgcmVnaXN0ZXJTaGFwZShzaGFwZUNvbmZpZywgcGFyYW1zKSB7XG4gICAgY29uc3Qga2V5ID0gX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzW3BhcmFtcy5zaGFwZUlkXShwYXJhbXMpO1xuICAgIHRoaXMuX3NoYXBlQ2FjaGUuc2V0KGtleSwgc2hhcGVDb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gc2hhcGVDb25maWdGYWN0b3J5XG4gICAqL1xuICByZWdpc3RlclJlbmRlcmFibGVTaGFwZUZhY3Rvcnkoc2hhcGVDb25maWdGYWN0b3J5KSB7XG4gICAgX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzW3NoYXBlQ29uZmlnRmFjdG9yeS5zaGFwZUlkXSA9IHNoYXBlQ29uZmlnRmFjdG9yeS5nZXRDYWNoZUlkO1xuICB9XG5cbiAgLy8gVE9ETzogQWRkIHN1cHBvcnQgZm9yIHVuLXJlZ2lzdGVyaW5nIHNoYXBlcy5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRDYWNoZUtleShwYXJhbXMpIHtcbiAgY29uc3QgdGV4dHVyZVNwYW5TdHIgPSBwYXJhbXMudGV4dHVyZVNwYW5cbiAgICAgID8gYDoke3BhcmFtcy50ZXh0dXJlU3Bhbi5taW5YfSwke3BhcmFtcy50ZXh0dXJlU3Bhbi5taW5ZfSwke3BhcmFtcy50ZXh0dXJlU3Bhbi5tYXhYfSxgICtcbiAgYCR7cGFyYW1zLnRleHR1cmVTcGFuLm1heFl9YFxuICAgICAgOiAnJztcblxuICByZXR1cm4gYCR7cGFyYW1zLnNoYXBlSWR9OiR7cGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzfSR7dGV4dHVyZVNwYW5TdHJ9YDtcbn1cblxuY29uc3QgX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzID0ge307XG5cbmNvbnN0IHJlbmRlcmFibGVTaGFwZVN0b3JlID0gbmV3IFJlbmRlcmFibGVTaGFwZVN0b3JlKCk7XG5leHBvcnQge3JlbmRlcmFibGVTaGFwZVN0b3JlLCBnZXRDYWNoZUtleX07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb25maWd1cmF0aW9uIGZhY3RvcnkgZm9yIGEgY2Fwc3VsZSBzaGFwZS5cbiAqXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4gd2l0aCB0aGUgcG9sZXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXG4gKi9cblxuaW1wb3J0IHtcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcbiAgY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHMsXG4gIGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyxcbiAgY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyxcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxTZWN0aW9uLFxuICBjYWxjdWxhdGVDeWxpbmRyaWNhbFRleHR1cmVDb29yZGluYXRlcyxcbiAgVFdPX1BJLFxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xuXG4vLyBUT0RPOiBPbmNlIEkgaGF2ZSBhIGJldHRlciBjYW1lcmEgaW4gcGxhY2UsIHRlc3QgdGhhdCB0aGVzZSB0ZXh0dXJlIGNvb3JkaW5hdGUgY2FsY3VsYXRpb25zIGFyZVxuLy8gY29ycmVjdC5cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVUb3BTaGFwZShwYXJhbXMpIHtcbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIC8vIFRPRE86IFRoaXMgdXNlcyBsYXQtbG9uZyBzcGhlcmVzIGZvciB0aGUgZW5kcyBvZiB0aGUgY2Fwc3VsZS4gVXNlIGljb3NwaGVyZXMgaW5zdGVhZC5cbiAgY29uc3QgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucyA9IGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oXG4gICAgICAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQgLyAyLCBNYXRoLlBJIC8gcGFyYW1zLmRpdmlzaW9uc0NvdW50LFxuICAgICAgMCwgcGFyYW1zLmRpdmlzaW9uc0NvdW50LCBUV09fUEkgLyBwYXJhbXMuZGl2aXNpb25zQ291bnQpO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgaW5kaWNlcyBhbmQgbm9ybWFscy5cbiAgbGV0IHZlcnRleFBvc2l0aW9ucztcbiAgbGV0IHZlcnRleEluZGljZXM7XG4gIGxldCB2ZXJ0ZXhOb3JtYWxzO1xuICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xuICAgIC8vIElmIHdlIHVzZSBvcnRob2dvbmFsIG5vcm1hbHMsIHRoZW4gd2UgY2Fubm90IHVzZSB2ZXJ0ZXhJbmRpY2VzLlxuICAgIHZlcnRleFBvc2l0aW9ucyA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnM7XG4gICAgdmVydGV4SW5kaWNlcyA9IG51bGw7XG4gICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgKHt2ZXJ0ZXhQb3NpdGlvbnMsIHZlcnRleEluZGljZXN9ID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKFxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKSk7XG4gICAgdmVydGV4Tm9ybWFscyA9IHZlcnRleFBvc2l0aW9ucztcbiAgfVxuXG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcblxuICBsZXQgc2NhbGU7XG4gIGxldCB0cmFuc2xhdGlvbjtcblxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cztcbiAgdHJhbnNsYXRpb24gPSBwYXJhbXMuY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlIC8gMjtcbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMpIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaV0gKj0gc2NhbGU7XG4gICAgdmVydGV4UG9zaXRpb25zW2kgKyAxXSAqPSBzY2FsZTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdID0gdmVydGV4UG9zaXRpb25zW2kgKyAyXSAqIHNjYWxlICsgdHJhbnNsYXRpb247XG4gIH1cblxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXMgLyAocGFyYW1zLnJhZGl1cyArIHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UpO1xuICB0cmFuc2xhdGlvbiA9IDEgLSBzY2FsZTtcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVCb3R0b21TaGFwZShwYXJhbXMpIHtcbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIC8vIFRPRE86IFRoaXMgdXNlcyBsYXQtbG9uZyBzcGhlcmVzIGZvciB0aGUgZW5kcyBvZiB0aGUgY2Fwc3VsZS4gVXNlIGljb3NwaGVyZXMgaW5zdGVhZC5cbiAgY29uc3QgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucyA9IGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oXG4gICAgICBwYXJhbXMuZGl2aXNpb25zQ291bnQgLyAyLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIE1hdGguUEkgLyBwYXJhbXMuZGl2aXNpb25zQ291bnQsXG4gICAgICAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIFRXT19QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBpbmRpY2VzIGFuZCBub3JtYWxzLlxuICBsZXQgdmVydGV4UG9zaXRpb25zO1xuICBsZXQgdmVydGV4SW5kaWNlcztcbiAgbGV0IHZlcnRleE5vcm1hbHM7XG4gIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgdmVydGV4UG9zaXRpb25zID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb3NpdGlvbnNBbmRJbmRpY2VzID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKFxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gcG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhJbmRpY2VzO1xuICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XG4gIH1cblxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucyk7XG5cbiAgbGV0IHNjYWxlO1xuICBsZXQgdHJhbnNsYXRpb247XG5cbiAgLy8gU2NhbGUgYW5kIHRyYW5zbGF0ZSB0aGUgcG9zaXRpb25zLlxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXM7XG4gIHRyYW5zbGF0aW9uID0gLXBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAyO1xuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMykge1xuICAgIHZlcnRleFBvc2l0aW9uc1tpXSAqPSBzY2FsZTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdICo9IHNjYWxlO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMl0gPSB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdICogc2NhbGUgKyB0cmFuc2xhdGlvbjtcbiAgfVxuXG4gIC8vIFNjYWxlIGFuZCB0cmFuc2xhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMuXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cyAvIChwYXJhbXMucmFkaXVzICsgcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSk7XG4gIHRyYW5zbGF0aW9uID0gMDtcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVNaWRkbGVTaGFwZShwYXJhbXMpIHtcbiAgbGV0IHNjYWxlO1xuICBsZXQgdHJhbnNsYXRpb247XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIHRyYW5zbGF0aW9uID0gcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSAvIDI7XG4gIGNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24oXG4gICAgICAtdHJhbnNsYXRpb24sIHRyYW5zbGF0aW9uLCAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIFRXT19QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCk7XG5cbiAgbGV0IHZlcnRleFBvc2l0aW9ucztcbiAgbGV0IHZlcnRleEluZGljZXM7XG4gIGxldCB2ZXJ0ZXhOb3JtYWxzO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgdmVydGV4IGluZGljZXMgYW5kIG5vcm1hbHMuXG4gIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgdmVydGV4UG9zaXRpb25zID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb3NpdGlvbnNBbmRJbmRpY2VzID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKFxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gcG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhJbmRpY2VzO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB2ZXJ0ZXggbm9ybWFscy5cbiAgICB2ZXJ0ZXhOb3JtYWxzID0gdmVydGV4UG9zaXRpb25zLm1hcCgoY29vcmQsIGluZGV4KSA9PiBpbmRleCAlIDMgPT09IDIgPyAwIDogY29vcmQpO1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVDeWxpbmRyaWNhbFRleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuXG4gIC8vIFNjYWxlIHRoZSB4IGFuZCB5IHBvc2l0aW9uIGNvb3JkaW5hdGVzLlxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXM7XG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAzKSB7XG4gICAgdmVydGV4UG9zaXRpb25zW2ldICo9IHNjYWxlO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMV0gKj0gc2NhbGU7XG4gIH1cblxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxuICBzY2FsZSA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAocGFyYW1zLnJhZGl1cyArIHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UpO1xuICB0cmFuc2xhdGlvbiA9ICgxIC0gc2NhbGUpIC8gMjtcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgfTtcbn1cblxuY29uc3QgY2Fwc3VsZVJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdDQVBTVUxFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtDYXBzdWxlUmVuZGVyYWJsZVNoYXBlUGFyYW1zfSBwYXJhbXNcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAgICovXG4gIGdldFJlbmRlcmFibGVTaGFwZTogKHBhcmFtcykgPT4ge1xuICAgIC8vIEVuc3VyZSB0aGUgZGl2aXNpb25zIGNvdW50IGlzIGV2ZW4uXG4gICAgaWYgKHBhcmFtcy5kaXZpc2lvbnNDb3VudCAlIDIgPT09IDEpIHtcbiAgICAgIHBhcmFtcy5kaXZpc2lvbnNDb3VudCsrO1xuICAgIH1cblxuICAgIC8vIFRoZSBjYXBzdWxlJ3Mgc3ViLXNoYXBlcy5cbiAgICBjb25zdCB0b3BTaGFwZSA9IF9jYWxjdWxhdGVDYXBzdWxlVG9wU2hhcGUocGFyYW1zKTtcbiAgICBjb25zdCBib3R0b21TaGFwZSA9IF9jYWxjdWxhdGVDYXBzdWxlQm90dG9tU2hhcGUocGFyYW1zKTtcbiAgICBjb25zdCBtaWRkbGVTaGFwZSA9IF9jYWxjdWxhdGVDYXBzdWxlTWlkZGxlU2hhcGUocGFyYW1zKTtcblxuICAgIC8vIENvbmNhdGVuYXRlIHBvc2l0aW9ucywgbm9ybWFscywgdGV4dHVyZSBjb29yZGluYXRlcywgYW5kIGluZGljZXMuXG4gICAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gdG9wU2hhcGUudmVydGV4UG9zaXRpb25zLmNvbmNhdChtaWRkbGVTaGFwZS52ZXJ0ZXhQb3NpdGlvbnMsIFxuICAgICAgICBib3R0b21TaGFwZS52ZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIGNvbnN0IHZlcnRleE5vcm1hbHMgPSB0b3BTaGFwZS52ZXJ0ZXhOb3JtYWxzLmNvbmNhdChtaWRkbGVTaGFwZS52ZXJ0ZXhOb3JtYWxzLFxuICAgICAgICBib3R0b21TaGFwZS52ZXJ0ZXhOb3JtYWxzKTtcbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSB0b3BTaGFwZS50ZXh0dXJlQ29vcmRpbmF0ZXMuY29uY2F0KG1pZGRsZVNoYXBlLnRleHR1cmVDb29yZGluYXRlcyxcbiAgICAgICAgYm90dG9tU2hhcGUudGV4dHVyZUNvb3JkaW5hdGVzKTtcbiAgICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gdG9wU2hhcGUudmVydGV4SW5kaWNlc1xuICAgICAgICA/IHRvcFNoYXBlLnZlcnRleEluZGljZXMuY29uY2F0KG1pZGRsZVNoYXBlLnZlcnRleEluZGljZXMsIGJvdHRvbVNoYXBlLnZlcnRleEluZGljZXMpXG4gICAgICAgIDogbnVsbDtcbiAgICBjb25zdCBlbGVtZW50Q291bnQgPSB0b3BTaGFwZS5lbGVtZW50Q291bnQgKyBtaWRkbGVTaGFwZS5lbGVtZW50Q291bnQgKyBib3R0b21TaGFwZS5lbGVtZW50Q291bnQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzLFxuICAgICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gYCR7Z2V0Q2FjaGVLZXkocGFyYW1zKX06JHtwYXJhbXMuZGl2aXNpb25zQ291bnR9YDtcbiAgfVxufTtcblxuZXhwb3J0IHtjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG5cbi8qKlxuICogQHR5cGVkZWYge1NwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc30gQ2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhZGl1c1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY2VudGVycyBvZiB0aGUgc3BoZXJlcyBvblxuICogZWl0aGVyIGVuZCBvZiB0aGUgY2Fwc3VsZS5cbiAqL1xuIiwiLyoqXG4gKiBUaGlzIG1vZGVsIGRlZmluZXMgYSBzaGFwZSBjb25maWd1cmF0aW9uIGZhY3RvcnkgZm9yIGEgY3ViZS5cbiAqXG4gKiBUaGlzIGN1YmUgaXMgb25lIHVuaXQgbG9uZyBvbiBlYWNoIHNpZGUuXG4gKi9cblxuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbmNvbnN0IFZFUlRFWF9DT09SRElOQVRFID0gMC41O1xuXG5jb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSBbXG4gIC8vIEZyb250IGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxuICAvLyBCYWNrIGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLy8gVG9wIGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIC8vIEJvdHRvbSBmYWNlXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAvLyBSaWdodCBmYWNlXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAvLyBMZWZ0IGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEVcbl07XG5cbmNvbnN0IG9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzID0gW1xuICAvLyBGcm9udCBmYWNlXG4gIDAsIDAsIDEsXG4gIDAsIDAsIDEsXG4gIDAsIDAsIDEsXG4gIDAsIDAsIDEsXG4gIC8vIEJhY2sgZmFjZVxuICAwLCAwLCAtMSxcbiAgMCwgMCwgLTEsXG4gIDAsIDAsIC0xLFxuICAwLCAwLCAtMSxcbiAgLy8gVG9wIGZhY2VcbiAgMCwgMSwgMCxcbiAgMCwgMSwgMCxcbiAgMCwgMSwgMCxcbiAgMCwgMSwgMCxcbiAgLy8gQm90dG9tIGZhY2VcbiAgMCwgLTEsIDAsXG4gIDAsIC0xLCAwLFxuICAwLCAtMSwgMCxcbiAgMCwgLTEsIDAsXG4gIC8vIFJpZ2h0IGZhY2VcbiAgMSwgMCwgMCxcbiAgMSwgMCwgMCxcbiAgMSwgMCwgMCxcbiAgMSwgMCwgMCxcbiAgLy8gTGVmdCBmYWNlXG4gIC0xLCAwLCAwLFxuICAtMSwgMCwgMCxcbiAgLTEsIDAsIDAsXG4gIC0xLCAwLCAwXG5dO1xuXG5jb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBbXG4gIC8vIEZyb250IGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMSxcbiAgLy8gQmFjayBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDEsXG4gIC8vIFRvcCBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDEsXG4gIC8vIEJvdHRvbSBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDEsXG4gIC8vIFJpZ2h0IGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMSxcbiAgLy8gTGVmdCBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDFcbl07XG5cbi8vIFRoaXMgYXJyYXkgZGVmaW5lcyBlYWNoIGZhY2UgYXMgdHdvIHRyaWFuZ2xlcywgdXNpbmcgdGhlIGluZGljZXMgaW50byB0aGUgdmVydGV4IGFycmF5XG4vLyB0byBzcGVjaWZ5IGVhY2ggdHJpYW5nbGUncyBwb3NpdGlvbi5cbmNvbnN0IHZlcnRleEluZGljZXMgPSBbXG4gIC8vIEZyb250IGZhY2VcbiAgMCwgIDEsICAyLFxuICAwLCAgMiwgIDMsXG4gIC8vIEJhY2sgZmFjZVxuICA0LCAgNSwgIDYsXG4gIDQsICA2LCAgNyxcbiAgLy8gVG9wIGZhY2VcbiAgOCwgIDksICAxMCxcbiAgOCwgIDEwLCAxMSxcbiAgLy8gQm90dG9tIGZhY2VcbiAgMTIsIDEzLCAxNCxcbiAgMTIsIDE0LCAxNSxcbiAgLy8gUmlnaHQgZmFjZVxuICAxNiwgMTcsIDE4LFxuICAxNiwgMTgsIDE5LFxuICAvLyBMZWZ0IGZhY2VcbiAgMjAsIDIxLCAyMixcbiAgMjAsIDIyLCAyM1xuXTtcblxuY29uc3QgY3ViZVJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdDVUJFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIGNvbnN0IHZlcnRleE5vcm1hbHMgPSBwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMgPyB2ZXJ0ZXhQb3NpdGlvbnMgOiBvcnRob2dvbmFsVmVydGV4Tm9ybWFscztcblxuICAgIHJldHVybiB7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcbiAgICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgICBlbGVtZW50Q291bnQ6IHZlcnRleEluZGljZXMubGVuZ3RoXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IHtjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG4iLCIvKipcbiAqIFRoaXMgbW9kZWwgZGVmaW5lcyBhIHNoYXBlIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSByZWd1bGFyIGljb3NhaGVkcm9uLlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbi5cbiAqL1xuXG5pbXBvcnQge1xuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgZXhwYW5kVmVydGV4SW5kaWNlc0Fyb3VuZExvbmdpdHVkZVNlYW0sXG4gIGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyxcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQge2dldENhY2hlS2V5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcblxuLy8gVGhlIGNvcm5lcnMgb2YgYSB1bml0IGljb3NhaGVkcm9uIHdpdGggdmVydGljZXMgYWxpZ25lZCB3aXRoIHRoZSB5LWF4aXMuXG5jb25zdCBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zID0gW1xuICAtMC41MjU3MzEwODY3MzA5NTcsIC0wLjcyMzYwNjgyNDg3NDg3NzksIDAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgMC41MjU3MzEwODY3MzA5NTcsIC0wLjcyMzYwNjgyNDg3NDg3NzksIDAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgLTAuNTI1NzMxMDg2NzMwOTU3LCAwLjcyMzYwNjgyNDg3NDg3NzksIC0wLjQ0NzIxMzU5MDE0NTExMTEsXG4gIDAuNTI1NzMxMDg2NzMwOTU3LCAwLjcyMzYwNjgyNDg3NDg3NzksIC0wLjQ0NzIxMzU5MDE0NTExMTEsXG4gIDAsIDAsIDEsXG4gIDAsIDAuODk0NDI3MTgwMjkwMjIyMiwgMC40NDcyMTM2MTk5NDc0MzM0NyxcbiAgMCwgLTAuODk0NDI3MTgwMjkwMjIyMiwgLTAuNDQ3MjEzNjE5OTQ3NDMzNDcsXG4gIDAsIDAsIC0xLFxuICAwLjg1MDY1MDg0Njk1ODE2MDQsIDAuMjc2MzkzMjA0OTI3NDQ0NDYsIDAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgLTAuODUwNjUwODQ2OTU4MTYwNCwgMC4yNzYzOTMyMDQ5Mjc0NDQ0NiwgMC40NDcyMTM1OTAxNDUxMTExLFxuICAwLjg1MDY1MDg0Njk1ODE2MDQsIC0wLjI3NjM5MzIwNDkyNzQ0NDQ2LCAtMC40NDcyMTM1OTAxNDUxMTExLFxuICAtMC44NTA2NTA4NDY5NTgxNjA0LCAtMC4yNzYzOTMyMDQ5Mjc0NDQ0NiwgLTAuNDQ3MjEzNTkwMTQ1MTExMVxuXTtcblxuY29uc3QgaW5kaXZpZHVhbFZlcnRleEluZGljZXMgPSBbXG4gIDEsICA0LCAgMCxcbiAgNCwgIDksICAwLFxuICA0LCAgNSwgIDksXG4gIDgsICA1LCAgNCxcbiAgMSwgIDgsICA0LFxuICAxLCAgMTAsIDgsXG4gIDEwLCAzLCAgOCxcbiAgOCwgIDMsICA1LFxuICAzLCAgMiwgIDUsXG4gIDMsICA3LCAgMixcbiAgMywgIDEwLCA3LFxuICAxMCwgNiwgIDcsXG4gIDYsICAxMSwgNyxcbiAgNiwgIDAsICAxMSxcbiAgNiwgIDEsICAwLFxuICAxMCwgMSwgIDYsXG4gIDExLCAwLCAgOSxcbiAgMiwgIDExLCA5LFxuICA1LCAgMiwgIDksXG4gIDExLCAyLCAgN1xuXTtcblxubGV0IHZlcnRleFBvc2l0aW9uc0V4cGFuZGVkQXJvdW5kU2VhbSA9IG51bGw7XG5sZXQgdmVydGV4SW5kaWNlc0V4cGFuZGVkQXJvdW5kU2VhbSA9IG51bGw7XG5sZXQgdGV4dHVyZUNvb3JkaW5hdGVzID0gbnVsbDtcblxuY29uc3QgaWNvc2FoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnSUNPU0FIRURST04nLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgbGV0IHZlcnRleFBvc2l0aW9ucztcbiAgICBsZXQgdmVydGV4SW5kaWNlcztcblxuICAgIGlmICghdmVydGV4UG9zaXRpb25zRXhwYW5kZWRBcm91bmRTZWFtKSB7XG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIG1vZGlmaWVkIHBvc2l0aW9ucyBhbmQgaW5kaWNlcy5cbiAgICAgIGNvbnN0IHBvc2l0aW9uc0FuZEluZGljZXMgPSBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbShcbiAgICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zLCBpbmRpdmlkdWFsVmVydGV4SW5kaWNlcyk7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNFeHBhbmRlZEFyb3VuZFNlYW0gPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleFBvc2l0aW9ucztcbiAgICAgIHZlcnRleEluZGljZXNFeHBhbmRlZEFyb3VuZFNlYW0gPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleEluZGljZXM7XG4gICAgfVxuXG4gICAgdmVydGV4UG9zaXRpb25zID0gdmVydGV4UG9zaXRpb25zRXhwYW5kZWRBcm91bmRTZWFtO1xuICAgIHZlcnRleEluZGljZXMgPSB2ZXJ0ZXhJbmRpY2VzRXhwYW5kZWRBcm91bmRTZWFtO1xuXG4gICAgbGV0IHZlcnRleE5vcm1hbHM7XG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgaWYgKCFwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAgIHZlcnRleFBvc2l0aW9ucyA9IGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyh2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICAgICAgdmVydGV4SW5kaWNlcyk7XG4gICAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcbiAgICAgIHZlcnRleE5vcm1hbHMgPSBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJ0ZXhOb3JtYWxzID0gdmVydGV4UG9zaXRpb25zO1xuICAgIH1cblxuICAgIHRleHR1cmVDb29yZGluYXRlcyA9IHRleHR1cmVDb29yZGluYXRlc1xuICAgICAgICA/IHRleHR1cmVDb29yZGluYXRlc1xuICAgICAgICA6IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcblxuICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IHZlcnRleEluZGljZXMgPyB2ZXJ0ZXhJbmRpY2VzLmxlbmd0aCA6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICAgIGVsZW1lbnRDb3VudDogZWxlbWVudENvdW50XG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IHtpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGxvZ2ljIHRoYXQgY3JlYXRlcyBhIHNwaGVyaWNhbCBzaGFwZSBjb25maWd1cmF0aW9uIGJ5IHRha2luZyBhIHNoYXBlLFxuICogc3ViLWRpdmlkaW5nIGVhY2ggb2YgaXRzIHRyaWFuZ2xlcywgYW5kIHByb2plY3RpbmcgZWFjaCBuZXcgdmVydGV4IG9udG8gdGhlIGVkZ2Ugb2YgYSBzcGhlcmUuXG4gKlxuICogVGhpcyBpcyB0ZWNobmljYWxseSBvbmx5IGFuIFwiaWNvc3BoZXJlXCIgaWYgdGhlIHN0YXJ0aW5nIHNoYXBlIGlzIGFuIGljb3NhaGVkcm9uLlxuICpcbiAqIFRoaXMgc2hhcGUgYWxzbyBpcyBrbm93biBhcyBhIFwiZ2Vvc3BoZXJlXCIuXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luLlxuICovXG5cbmltcG9ydCB7XG4gIGRlZXBDb3B5LFxuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgZXhwYW5kVmVydGV4SW5kaWNlc0Fyb3VuZExvbmdpdHVkZVNlYW0sXG4gIGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyxcbiAgdGVzc2VsYXRlU3BoZXJlLFxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xuaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLWZhY3RvcnknO1xuXG5jb25zdCBpY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnSUNPU1BIRVJFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtJY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIHBhcmFtcy5kaXZpc2lvbnNDb3VudCA9IE1hdGgubWF4KHBhcmFtcy5kaXZpc2lvbnNDb3VudCwgMSk7XG5cbiAgICBjb25zdCBjb3B5UGFyYW1zID0gZGVlcENvcHkocGFyYW1zKTtcbiAgICBjb3B5UGFyYW1zLnNoYXBlSWQgPSBwYXJhbXMuYmFzZVNoYXBlSWQgfHwgJ0lDT1NBSEVEUk9OJztcbiAgICBjb25zdCBiYXNlUmVuZGVyYWJsZVNoYXBlID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5nZXRSZW5kZXJhYmxlU2hhcGUoY29weVBhcmFtcyk7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9ucyBhbmQgaW5kaWNlcy5cbiAgICBsZXQge3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSB0ZXNzZWxhdGVTcGhlcmUocGFyYW1zLmRpdmlzaW9uc0NvdW50LFxuICAgICAgICBiYXNlUmVuZGVyYWJsZVNoYXBlLnZlcnRleFBvc2l0aW9ucywgYmFzZVJlbmRlcmFibGVTaGFwZS52ZXJ0ZXhJbmRpY2VzKTtcbiAgICAoe3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbShcbiAgICAgICAgdmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzKSk7XG5cbiAgICBsZXQgdmVydGV4Tm9ybWFscztcbiAgICAvLyBJZiB3ZSB1c2Ugb3J0aG9nb25hbCBub3JtYWxzLCB0aGVuIHdlIGNhbm5vdCB1c2UgdmVydGV4SW5kaWNlcy5cbiAgICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xuICAgICAgdmVydGV4UG9zaXRpb25zID0gZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zKHZlcnRleFBvc2l0aW9ucyxcbiAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzKTtcbiAgICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xuICAgICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuXG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzLFxuICAgICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRDYWNoZUlkKHBhcmFtcykge1xuICAgIHJldHVybiBgJHtnZXRDYWNoZUtleShwYXJhbXMpfToke3BhcmFtcy5kaXZpc2lvbnNDb3VudH1gO1xuICB9XG59O1xuXG5leHBvcnQge2ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IEljb3NwaGVyZVJlbmRlcmFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGJhc2VTaGFwZUlkIFRoZSBJRCBvZiB0aGUgYmFzZSByZW5kZXJhYmxlIHNoYXBlIHRoYXQgd2lsbCBiZSBzdWItZGl2aWRlZCB0b1xuICogY3JlYXRlIHRoaXMgaWNvc3BoZXJlIHNoYXBlLlxuICovXG4iLCJpbXBvcnQge1xuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcbiAgZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzLFxuICBUV09fUEksXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSBzcGhlcmljYWwgc2hhcGUgd2hvc2UgdmVydGljZXMgbGllIGFsb25nXG4gKiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIGxpbmVzLlxuICpcbiAqIFRoaXMgc2hhcGUgYWxzbyBpcyBrbm93biBhcyBhIFwiVVYgc3BoZXJlXCIuXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luIHdpdGggdGhlIHBvbGVzIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9uc0NvdW50XG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlTGF0TG9uZ1NwaGVyZVBvc2l0aW9ucyhkaXZpc2lvbnNDb3VudCkge1xuICBjb25zdCBkZWx0YVBpdGNoID0gTWF0aC5QSSAvIGRpdmlzaW9uc0NvdW50O1xuICBjb25zdCBkZWx0YUF6aW11dGggPSBUV09fUEkgLyBkaXZpc2lvbnNDb3VudDtcblxuICByZXR1cm4gY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbihcbiAgICAgIDAsIGRpdmlzaW9uc0NvdW50LCBkZWx0YVBpdGNoLFxuICAgICAgMCwgZGl2aXNpb25zQ291bnQsIGRlbHRhQXppbXV0aCk7XG59XG5cbmNvbnN0IGxhdExvbmdTcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnTEFUX0xPTkdfU1BIRVJFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgcG9zaXRpb25zLlxuICAgIGNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBfY2FsY3VsYXRlTGF0TG9uZ1NwaGVyZVBvc2l0aW9ucyhwYXJhbXMuZGl2aXNpb25zQ291bnQpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBpbmRpY2VzIGFuZCBub3JtYWxzLlxuICAgIGxldCB2ZXJ0ZXhQb3NpdGlvbnM7XG4gICAgbGV0IHZlcnRleEluZGljZXM7XG4gICAgbGV0IHZlcnRleE5vcm1hbHM7XG4gICAgaWYgKCFwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAgIC8vIElmIHdlIHVzZSBvcnRob2dvbmFsIG5vcm1hbHMsIHRoZW4gd2UgY2Fubm90IHVzZSB2ZXJ0ZXhJbmRpY2VzLlxuICAgICAgdmVydGV4UG9zaXRpb25zID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucztcbiAgICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xuICAgICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh7dmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzfSA9IGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyhcbiAgICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKSk7XG4gICAgICB2ZXJ0ZXhOb3JtYWxzID0gdmVydGV4UG9zaXRpb25zO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcblxuICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IHZlcnRleEluZGljZXMgPyB2ZXJ0ZXhJbmRpY2VzLmxlbmd0aCA6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICAgIGVsZW1lbnRDb3VudDogZWxlbWVudENvdW50XG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gYCR7Z2V0Q2FjaGVLZXkocGFyYW1zKX06JHtwYXJhbXMuZGl2aXNpb25zQ291bnR9YDtcbiAgfVxufTtcblxuZXhwb3J0IHtsYXRMb25nU3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG4iLCJpbXBvcnQge2NhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzfSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xuXG4vKipcbiAqIFRoaXMgbW9kZWwgZGVmaW5lcyBhIHNoYXBlIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSByZWd1bGFyIHRldHJhaGVkcm9uLlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbi5cbiAqL1xuXG4vLyB8fChWRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFKXx8ID0gMVxuY29uc3QgVkVSVEVYX0NPT1JESU5BVEUgPSAwLjU3NzM1MDI1ODgyNzIwOTU7XG5cbmNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtcbiAgLy8gTGVmdC10b3AtbmVhciBmYWNlXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLFxuXG4gIC8vIFJpZ2h0LXRvcC1mYXIgZmFjZVxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG5cbiAgLy8gUmlnaHQtYm90dG9tLW5lYXIgZmFjZVxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcblxuICAvLyBMZWZ0LWJvdHRvbS1mYXIgZmFjZVxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFXG5dO1xuXG4vLyAxIC0gTWF0aC5zcXJ0KDMpIC8gMlxuY29uc3QgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEUgPSAwLjEzMzk3NDU5NjIxO1xuXG5jb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBbXG4gIC8vIExlZnQtdG9wLW5lYXIgZmFjZVxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcbiAgMC41LCAxLFxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcblxuICAvLyBSaWdodC10b3AtZmFyIGZhY2VcbiAgMCwgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEUsXG4gIDAuNSwgMSxcbiAgMSwgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEUsXG5cbiAgLy8gUmlnaHQtYm90dG9tLW5lYXIgZmFjZVxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcbiAgMC41LCAxLFxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcblxuICAvLyBMZWZ0LWJvdHRvbS1mYXIgZmFjZVxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcbiAgMC41LCAxLFxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURVxuXTtcblxuY29uc3QgdGV0cmFoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnVEVUUkFIRURST04nLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgY29uc3QgdmVydGV4Tm9ybWFscyA9IHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFsc1xuICAgICAgICA/IHZlcnRleFBvc2l0aW9uc1xuICAgICAgICA6IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiBudWxsLFxuICAgICAgZWxlbWVudENvdW50OiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gM1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldENhY2hlSWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGdldENhY2hlS2V5KHBhcmFtcyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7dGV0cmFoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5fTtcbiIsImltcG9ydCB7XG4gIGFuaW1hdG9yLFxuICBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iXG59XG5mcm9tICcuLi8uLi8uLi9hbmltYXRleCc7XG5pbXBvcnQgeyBQaHlzaWNzRW5naW5lIH0gZnJvbSAnbHNsLXBoeXN4JztcbmltcG9ydCB7XG4gIFByb2dyYW1XcmFwcGVyLFxuICBwcm9ncmFtV3JhcHBlclN0b3JlLFxuICB0ZXh0dXJlU3RvcmVcbn1cbmZyb20gJy4uL3Byb2dyYW0td3JhcHBlcic7XG5pbXBvcnQge1xuICBiaW5kRnJhbWVidWZmZXIsXG4gIGJpbmRHTENvbnRleHRUb1ZpZXdwb3J0RGltZW5zaW9ucyxcbiAgZ2V0V2ViR0xDb250ZXh0LFxuICBnZXRWaWV3cG9ydEhlaWdodCxcbiAgZ2V0Vmlld3BvcnRXaWR0aCxcbn1cbmZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgdG9wLWxldmVsIENvbnRyb2xsZXIgY2xhc3MgaW5pdGlhbGl6ZXMgYW5kIHJ1bnMgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAqL1xuY2xhc3MgR3JhZnhDb250cm9sbGVyIGV4dGVuZHMgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9jYW52YXMgPSBudWxsO1xuICAgIHRoaXMuX2dsID0gbnVsbDtcbiAgICB0aGlzLl9zY2VuZSA9IG51bGw7XG4gICAgdGhpcy5fY3VycmVudFByb2dyYW1XcmFwcGVyID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgYXBwLiBBZnRlciB0aGlzIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHksIGNhbGwgcnVuIHRvIGFjdHVhbGx5IHN0YXJ0IHRoZSBhcHAuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9ncmFtV3JhcHBlckNvbmZpZz59IHByb2dyYW1Db25maWdzIENvbmZpZ3VyYXRpb25zIGZvciBwcm9ncmFtIHdyYXBwZXJzIHRoYXRcbiAgICogc2hvdWxkIGJlIHByZS1jYWNoZWQgYmVmb3JlIHN0YXJ0aW5nIHRoZSByZXN0IG9mIHRoZSBhcHAuXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHRleHR1cmVQYXRocyBUZXh0dXJlIGltYWdlcyB0aGF0IHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZVxuICAgKiBzdGFydGluZyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjxTY2VuZT59IHNjZW5lRmFjdG9yeVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGluaXRpYWxpemUoY2FudmFzLCBwcm9ncmFtQ29uZmlncywgdGV4dHVyZVBhdGhzLCBzY2VuZUZhY3RvcnkpIHtcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuX3NldFVwV2ViR0xDb250ZXh0KCkpXG4gICAgICAudGhlbigoKSA9PiBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMuX3ByZUNhY2hlUHJvZ3JhbXMocHJvZ3JhbUNvbmZpZ3MpLFxuICAgICAgICB0aGlzLl9wcmVDYWNoZVRleHR1cmVzKHRleHR1cmVQYXRocylcbiAgICAgIF0pKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5fc2V0VXBTY2VuZShzY2VuZUZhY3RvcnkpKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxuXG4gIHJlc2V0KCkge1xuICAgIC8vIEZJWE1FOiBXaWxsIGl0IGJlIGVhc2llciB0byByZXBsYWNlIHRoaXMgd2l0aCBpbml0aWFsaXplP1xuICAgIHRoaXMuX3NjZW5lLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUnVucyB0aGUgYXBwLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbGl6ZS5cbiAgICpcbiAgICogQSBmZXcgdGhpbmdzIGhhcHBlbiBpZiB0aGlzIGlzIHJ1biBpbiBkZXYgbW9kZTpcbiAgICogLSBUaGUgZHJhdyBhbmQgdXBkYXRlIHN0ZXBzIG9mIGVhY2ggZnJhbWUgYXJlIHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2ggYmxvY2suXG4gICAqIC0gVGhpcyBtZXRob2QgcmV0dXJucyBhIFByb21pc2UgdGhhdCByZWplY3RzIGlmIGFuIGVycm9yIGlzIHRocm93IGR1cmluZyBhbnkgdXBkYXRlIG9yIGRyYXdcbiAgICogICBzdGVwIGFuZCByZXNvbHZlcyB3aGVuIHRoaXMgY29udHJvbGxlciBoYXMgZmluaXNoZWQgKGN1cnJlbnRseSBuZXZlcilcbiAgICovXG4gIHJ1bigpIHtcbiAgICB0aGlzLl9zdGFydEFuaW1hdG9yKCk7XG4gIH1cblxuICBfc3RhcnRBbmltYXRvcigpIHsgLy8gRklYTUU6IERlY291cGxlIHBoeXN4XG4gICAgYW5pbWF0b3Iuc3RhcnRKb2IoUGh5c2ljc0VuZ2luZS5pbnN0YW5jZSk7XG4gICAgYW5pbWF0b3Iuc3RhcnRKb2IodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc2NlbmUuXG4gICAqXG4gICAqIFRoaXMgdXBkYXRlcyBhbGwgb2YgdGhlIGN1cnJlbnQgcGFyYW1ldGVycyBmb3IgZWFjaCBjb21wb25lbnQgaW4gdGhlIHNjZW5lIGZvciB0aGUgY3VycmVudFxuICAgKiBmcmFtZS4gSG93ZXZlciwgdGhpcyBkb2VzIG5vdCByZW5kZXIgYW55dGhpbmcuIFJlbmRlcmluZyBpcyBkb25lIGJ5IGEgZm9sbG93aW5nIGNhbGwgdG8gdGhlXG4gICAqIGRyYXcgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fc2NlbmUudXBkYXRlU2VsZkFuZENoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBzY2VuZS5cbiAgICpcbiAgICogVGhpcyByZW5kZXJzIHRoZSBjdXJyZW50IGZyYW1lIGZvciBhbGwgY29tcG9uZW50cyBpbiB0aGUgc2NlbmUuIFRoaXMgYXNzdW1lcyB0aGF0IGFsbCByZWxldmFudFxuICAgKiBwYXJhbWV0ZXIgdXBkYXRlcyBmb3IgdGhpcyBmcmFtZSBoYXZlIGFscmVhZHkgYmVlbiBjb21wdXRlZCBieSBhIHByZXZpb3VzIGNhbGwgdG8gX3VwZGF0ZVNjZW5lLlxuICAgKi9cbiAgZHJhdygpIHtcbiAgICAvLyBDbGVhciB0aGUgY2FudmFzIGJlZm9yZSB3ZSBzdGFydCBkcmF3aW5nIG9uIGl0LlxuICAgIHRoaXMuX2dsLmNsZWFyKHRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQgfCB0aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKTtcblxuICAgIC8vIElmIHdlIGFyZSB1c2luZyBhIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtLCB0aGVuIHdlIG5lZWQgdG8gcmVuZGVyIG1vZGVscyB0byBhIGZyYW1lYnVmZmVyXG4gICAgLy8gcmF0aGVyIHRoYW4gZGlyZWN0bHkgdG8gdGhlIGNhbnZhcy5cbiAgICBpZiAocHJvZ3JhbVdyYXBwZXJTdG9yZS5pc1VzaW5nUG9zdFByb2Nlc3NpbmdQcm9ncmFtcykge1xuICAgICAgYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLCBwcm9ncmFtV3JhcHBlclN0b3JlLm1vZGVsc0ZyYW1lYnVmZmVyKTtcbiAgICAgIHRoaXMuX2dsLmNsZWFyKHRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQgfCB0aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IGVhY2ggcHJvZ3JhbSBzZXBhcmF0ZWx5LiBUaGlzIG1pbmltaXplcyBob3cgbWFueSB0aW1lcyB3ZSBuZWVkIHRvIHN3aXRjaCBwcm9ncmFtcyBieVxuICAgIC8vIGdyb3VwaW5nIGFsbCBvZiB0aGUgZHJhdyBjYWxscyBmb3IgbW9kZWxzIHRoYXQgdXNlIHRoZSBzYW1lIHByb2dyYW0vc2hhZGVycy5cbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmZvckVhY2hNb2RlbFByb2dyYW0oKHByb2dyYW1XcmFwcGVyLCBkcmF3RnJhbWVIYW5kbGVycykgPT5cbiAgICAgIHRoaXMuX2RyYXdNb2RlbFByb2dyYW0ocHJvZ3JhbVdyYXBwZXIsIGRyYXdGcmFtZUhhbmRsZXJzKSk7XG4gICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5mb3JFYWNoUG9zdFByb2Nlc3NpbmdQcm9ncmFtKFxuICAgICAgKHByb2dyYW1XcmFwcGVyKSA9PiB0aGlzLl9kcmF3UG9zdFByb2Nlc3NpbmdQcm9ncmFtKHByb2dyYW1XcmFwcGVyKSk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHRoZSBnaXZlbiBwcm9ncmFtIGtleSwgdGhpcyBiaW5kcyB0aGUgcmVnaXN0ZXJlZCBzaGFkZXIgcHJvZ3JhbSB0byB0aGUgR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICogYW5kIGNhbGxzIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgZHJhdy1mcmFtZSBoYW5kbGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcnxHcm91cFByb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxuICAgKiBAcGFyYW0ge1NldC48RnVuY3Rpb24+fSBbZHJhd0ZyYW1lSGFuZGxlcnNdXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZHJhd01vZGVsUHJvZ3JhbShwcm9ncmFtV3JhcHBlciwgZHJhd0ZyYW1lSGFuZGxlcnMpIHtcbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIG5lZWQgdG8gc3dpdGNoIHByb2dyYW1zIChhbHdheXMgdHJ1ZSBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHByb2dyYW1cbiAgICAvLyByZWdpc3RlcmVkKS5cbiAgICBpZiAodGhpcy5fY3VycmVudFByb2dyYW1XcmFwcGVyICE9PSBwcm9ncmFtV3JhcHBlcikge1xuICAgICAgcHJvZ3JhbVdyYXBwZXIuc2V0UHJvZ3JhbSh0aGlzLl9nbCk7XG4gICAgICB0aGlzLl9jdXJyZW50UHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcjtcbiAgICB9XG5cbiAgICAvLyBDYWxsIGVhY2ggb2YgdGhlIGRyYXctZnJhbWUgaGFuZGxlcnMgdGhhdCB1c2UgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIHByb2dyYW0uXG4gICAgZHJhd0ZyYW1lSGFuZGxlcnMuZm9yRWFjaChkcmF3RnJhbWVIYW5kbGVyID0+IGRyYXdGcmFtZUhhbmRsZXIoKSk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHRoZSBnaXZlbiBwcm9ncmFtIGtleSwgdGhpcyBiaW5kcyB0aGUgcmVnaXN0ZXJlZCBzaGFkZXIgcHJvZ3JhbSB0byB0aGUgR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICogYW5kIGNhbGxzIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgZHJhdy1mcmFtZSBoYW5kbGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcnxHcm91cFByb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RyYXdQb3N0UHJvY2Vzc2luZ1Byb2dyYW0ocHJvZ3JhbVdyYXBwZXIpIHtcbiAgICB0aGlzLl9jdXJyZW50UHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcjtcbiAgICBwcm9ncmFtV3JhcHBlci5kcmF3KHRoaXMuX2dsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0VXBXZWJHTENvbnRleHQoKSB7XG4gICAgLy8gR2V0IHRoZSBXZWJHTCByZW5kZXJpbmcgY29udGV4dC5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fZ2wgPSBnZXRXZWJHTENvbnRleHQodGhpcy5fY2FudmFzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGFsZXJ0KCdXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlciEgOignKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgLy8gSGF2ZSB0aGUgY2FudmFzIGNvbnRleHQgbWF0Y2ggdGhlIHJlc29sdXRpb24gb2YgdGhlIHdpbmRvdydzIHZpZXdwb3J0LlxuICAgIGJpbmRHTENvbnRleHRUb1ZpZXdwb3J0RGltZW5zaW9ucyh0aGlzLl9jYW52YXMsIHRoaXMuX2dsLCAoKSA9PiB0aGlzLl91cGRhdGVBc3BlY3RSYXRpbygpKTtcblxuICAgIC8vIENsZWFyIGV2ZXJ5dGhpbmcgdG8gYmxhY2suXG4gICAgdGhpcy5fZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAxKTtcbiAgICB0aGlzLl9nbC5jbGVhckRlcHRoKDEpO1xuXG4gICAgLy8gRW5hYmxlIGRlcHRoIHRlc3RpbmcuXG4gICAgdGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkRFUFRIX1RFU1QpO1xuICAgIHRoaXMuX2dsLmRlcHRoRnVuYyh0aGlzLl9nbC5MRVFVQUwpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzLCBjb21waWxlcywgY2FjaGVzLCBhbmQgaW5pdGlhbGl6ZXMgc29tZSByZW5kZXJpbmcgcHJvZ3JhbXMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb2dyYW1XcmFwcGVyQ29uZmlnPn0gcHJvZ3JhbUNvbmZpZ3NcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJlQ2FjaGVQcm9ncmFtcyhwcm9ncmFtQ29uZmlncykge1xuICAgIGNvbnN0IHByb21pc2VzID1cbiAgICAgIHByb2dyYW1Db25maWdzLm1hcChjb25maWcgPT4gcHJvZ3JhbVdyYXBwZXJTdG9yZS5sb2FkUHJvZ3JhbVdyYXBwZXIodGhpcy5fZ2wsIGNvbmZpZykpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMsIGNvbXBpbGVzLCBhbmQgY2FjaGVzIHNvbWUgdGV4dHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHRleHR1cmVQYXRoc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcmVDYWNoZVRleHR1cmVzKHRleHR1cmVQYXRocykge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh0ZXh0dXJlUGF0aHNcbiAgICAgIC5tYXAodGV4dHVyZVBhdGggPT4gdGV4dHVyZVN0b3JlLmxvYWRUZXh0dXJlKHRoaXMuX2dsLCB0ZXh0dXJlUGF0aCkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgc2NlbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb24uPFNjZW5lPn0gc2NlbmVGYWN0b3J5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAYWJzdHJhY3RcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFVwU2NlbmUoc2NlbmVGYWN0b3J5KSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3VwZGF0ZUFzcGVjdFJhdGlvKCkge1xuICAgIHRoaXMuX3NjZW5lLmNhbWVyYS5hc3BlY3RSYXRpbyA9IGdldFZpZXdwb3J0V2lkdGgoKSAvIGdldFZpZXdwb3J0SGVpZ2h0KCk7XG4gICAgX3Jlc2l6ZUZyYW1lYnVmZmVyc1RvTWF0Y2hWaWV3cG9ydFNpemUodGhpcy5fZ2wpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfZ2V0Vmlld01hdHJpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NlbmUuY2FtZXJhLnZpZXdNYXRyaXg7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge21hdDR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9nZXRQcm9qZWN0aW9uTWF0cml4KCkge1xuICAgIHJldHVybiB0aGlzLl9zY2VuZS5jYW1lcmEucHJvamVjdGlvbk1hdHJpeDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3Jlc2l6ZUZyYW1lYnVmZmVyc1RvTWF0Y2hWaWV3cG9ydFNpemUoZ2wpIHtcbiAgaWYgKHByb2dyYW1XcmFwcGVyU3RvcmUuaXNVc2luZ1Bvc3RQcm9jZXNzaW5nUHJvZ3JhbXMpIHtcbiAgICBjb25zdCB3aWR0aCA9IGdldFZpZXdwb3J0V2lkdGgoKTtcbiAgICBjb25zdCBoZWlnaHQgPSBnZXRWaWV3cG9ydEhlaWdodCgpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwZXItbW9kZWwgZnJhbWVidWZmZXIgdGV4dHVyZS5cbiAgICBjb25zdCB0ZXh0dXJlID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5tb2RlbHNUZXh0dXJlO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHBlci1tb2RlbCBmcmFtZWJ1ZmZlciBkZXB0aCByZW5kZXIgYnVmZmVyLlxuICAgIGNvbnN0IHJlbmRlckJ1ZmZlciA9IHByb2dyYW1XcmFwcGVyU3RvcmUubW9kZWxzUmVuZGVyQnVmZmVyO1xuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJCdWZmZXIpO1xuICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHBvc3QtcHJvY2Vzc2luZyBmcmFtZWJ1ZmZlciB0ZXh0dXJlcy5cbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmZvckVhY2hQb3N0UHJvY2Vzc2luZ1Byb2dyYW0ocHJvZ3JhbVdyYXBwZXIgPT4ge1xuICAgICAgcHJvZ3JhbVdyYXBwZXIuY29uZmlnLmNoaWxkcmVuRnJhbWVidWZmZXJJZHMuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBwcm9ncmFtV3JhcHBlclN0b3JlLmdldFRleHR1cmUoaWQpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IEdyYWZ4Q29udHJvbGxlciB9O1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBsaWdodCBzb3VyY2UuXG4gKi9cbmNsYXNzIExpZ2h0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gVE9ET1xuICB9XG5cbiAgLy8gVE9ETzogSW1wbGVtZW50IHRoaXMuXG59XG5cbmV4cG9ydCB7TGlnaHR9O1xuIiwiaW1wb3J0IHsgTW9kZWxHcm91cENvbnRyb2xsZXIgfSBmcm9tICcuLi9tb2RlbHMnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgb3ZlcmFsbCBzY2VuZS5cbiAqL1xuY2xhc3MgU2NlbmUgZXh0ZW5kcyBNb2RlbEdyb3VwQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJQYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcykge1xuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcyk7XG5cbiAgICAvLyBTY2VuZSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFNjZW5lKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFNjZW5lIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2dldFdvcmxkVHJhbnNmb3JtID0gKCkgPT4gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICB0aGlzLl9saWdodHMgPSBbXTtcbiAgICB0aGlzLl9jYW1lcmEgPSBudWxsO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgICB0aGlzLl9saWdodHMuZm9yRWFjaChsaWdodCA9PiBsaWdodC5yZXNldCgpKTtcbiAgICB0aGlzLl9jYW1lcmEucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgc3VwZXIudXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgdGhpcy5fY2FtZXJhLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7Q2FtZXJhfSAqL1xuICBnZXQgY2FtZXJhKCkge1xuICAgIHJldHVybiB0aGlzLl9jYW1lcmE7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2NlbmUgfTtcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2dlb21ldHJ5JztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dsLXV0aWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvaGFzaC1tYXAnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvdXRpbCc7XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW9tZXRyeSB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqL1xuXG5pbXBvcnQge3JhbmRvbUZsb2F0SW5SYW5nZX0gZnJvbSAnLi91dGlsJztcblxuY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAwMTtcbmNvbnN0IERFR19UT19SQURfUkFUSU8gPSBNYXRoLlBJIC8gMTgwO1xuY29uc3QgUkFEX1RPX0RFR19SQVRJTyA9IDE4MCAvIE1hdGguUEk7XG5jb25zdCBIQUxGX1BJID0gTWF0aC5QSSAvIDI7XG5jb25zdCBUV09fUEkgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gZGVnXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBkZWdUb1JhZChkZWcpIHtcbiAgcmV0dXJuIGRlZyAqIERFR19UT19SQURfUkFUSU87XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gcmFkVG9EZWcocmFkKSB7XG4gIHJldHVybiByYWQgKiBSQURfVE9fREVHX1JBVElPO1xufVxuXG4vKipcbiAqIFRoaXMgY2hlY2tzIHdoZXRoZXIgdHdvIGZsb2F0aW5nLXBvaW50IG51bWJlcnMgYXJlIGNsb3NlIGVub3VnaCB0aGF0IHRoZXkgY291bGQgYmUgZXF1YWwgaWYgbm90XG4gKiBmb3Igcm91bmQtb2ZmIGVycm9ycy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhcmVDbG9zZShhLCBiKSB7XG4gIGNvbnN0IGRpZmYgPSBhIC0gYjtcbiAgcmV0dXJuIChkaWZmID4gMCA/IGRpZmYgOiAtZGlmZikgPCBFUFNJTE9OO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gYVxuICogQHBhcmFtIHt2ZWMzfSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYXJlVmVjM3NFcXVhbChhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmXG4gICAgICBhWzFdID09PSBiWzFdICYmXG4gICAgICBhWzJdID09PSBiWzJdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gdlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdmVjM1RvU3RyaW5nKHYpIHtcbiAgcmV0dXJuIGAoJHt2WzBdfSwke3ZbMV19LCR7dlsyXX0pYDtcbn1cblxuLyoqXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlPTFdXG4gKiBAcmV0dXJucyB7dmVjM31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmFuZG9tVmVjMyhzY2FsZSA9IDEpIHtcbiAgY29uc3QgdiA9IHZlYzMuY3JlYXRlKCk7XG4gIHJldHVybiBzZXRSYW5kb21WZWMzKHYsIHNjYWxlKTtcbn1cblxuLyoqXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHZcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGU9MV1cbiAqIEByZXR1cm5zIHt2ZWMzfVxuICovXG5mdW5jdGlvbiBzZXRSYW5kb21WZWMzKHYsIHNjYWxlID0gMSkge1xuICB2ZWMzLnNldCh2LCBNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgdmVjMy5ub3JtYWxpemUodiwgdik7XG4gIHZlYzMuc2NhbGUodiwgdiwgc2NhbGUpO1xuICByZXR1cm4gdjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgdmVjdG9yIHRoYXQgaXMgb3J0aG9nb25hbCB0byB0aGUgZ2l2ZW4gdmVjdG9yLlxuICpcbiAqIFRPRE86IFRoaXMgZmluZHMgYSByYW5kb20gcG9pbnQgd2l0aCB1bmlmb3JtIHByb2JhYmlsaXR5IHdpdGhpbiBhIGN1YmljIGFyZWEsIHdoaWNoIGJpYXNlcyB0aGUgcmVzdWx0aW5nIHZlY3RvciB0b3dhcmQgdGhlIGNvcm5lcnMgb2YgdGhpcyBjdWJpYyBhcmVhLiBSZS13cml0ZSB0aGlzIHRvIHByb2R1Y2UgYW4gdW5iaWFzZWQgdmVjdG9yLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gYmFzaXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGU9MV1cbiAqIEByZXR1cm5zIHt2ZWMzfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSYW5kb21PcnRob2dvbmFsVmVjMyhiYXNpcywgc2NhbGUgPSAxKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHZlYzMuY3JlYXRlKCk7XG4gIHJldHVybiBzZXRSYW5kb21PcnRob2dvbmFsVmVjMyhyZXN1bHQsIGJhc2lzLCBzY2FsZSk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIHZlY3RvciB0aGF0IGlzIG9ydGhvZ29uYWwgdG8gdGhlIGdpdmVuIHZlY3Rvci5cbiAqXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHJlc3VsdFxuICogQHBhcmFtIHt2ZWMzfSBiYXNpc1xuICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZT0xXVxuICogQHJldHVybnMge3ZlYzN9XG4gKi9cbmZ1bmN0aW9uIHNldFJhbmRvbU9ydGhvZ29uYWxWZWMzKHJlc3VsdCwgYmFzaXMsIHNjYWxlID0gMSkge1xuICBzZXRSYW5kb21WZWMzKHJlc3VsdCk7XG4gIC8vIFRoaXMgaXMgYmFzZWQgb24gdGhlIGRvdCBhbmQgY3Jvc3MgcHJvZHVjdHMgYW5kIHRoZSBmYWN0IHRoYXQgdGhlIGRvdCBwcm9kdWN0IGZvciB0d29cbiAgLy8gb3J0aG9nb25hbCB2ZWN0b3JzIGlzIHplcm8uXG4gIHJlc3VsdFsyXSA9IC0oYmFzaXNbMF0gKiByZXN1bHRbMF0gKyBiYXNpc1sxXSAqIHJlc3VsdFsxXSkgLyBiYXNpc1syXTtcbiAgdmVjMy5ub3JtYWxpemUocmVzdWx0LCByZXN1bHQpO1xuICB2ZWMzLnNjYWxlKHJlc3VsdCwgcmVzdWx0LCBzY2FsZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBhdmdcbiAqIEBwYXJhbSB7dmVjM30gcmFuZ2VcbiAqIEByZXR1cm5zIHt2ZWMzfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmFuZG9tVmVjM0luUmFuZ2UoYXZnLCByYW5nZSkge1xuICBjb25zdCBwb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgY29uc3QgbWluID0gYXZnW2ldIC0gcmFuZ2VbaV0gLyAyO1xuICAgIGNvbnN0IG1heCA9IGF2Z1tpXSArIHJhbmdlW2ldIC8gMjtcbiAgICBwb3NpdGlvbltpXSA9IHJhbmRvbUZsb2F0SW5SYW5nZShtaW4sIG1heCk7XG4gIH1cbiAgcmV0dXJuIHBvc2l0aW9uO1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIHZlY3RvciBhcm91bmQgYSByYW5kb20gb3J0aG9nb25hbCBheGlzIGJ5IGEgcmFuZG9tIGFuZ2xlIHdpdGhpbiB0aGUgZ2l2ZW4gYW5nbGVcbiAqIGJvdW5kcy5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHZcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5Sb3RhdGlvbkFuZ2xlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4Um90YXRpb25BbmdsZVxuICovXG5mdW5jdGlvbiBhZGRSYW5kb21Sb3RhdGlvblRvVmVjdG9yKHYsIG1pblJvdGF0aW9uQW5nbGUsIG1heFJvdGF0aW9uQW5nbGUpIHtcbiAgLy8gQ3JlYXRlIGEgcmFuZG9tIG9ydGhvZ29uYWwgYXhpcy5cbiAgY29uc3Qgcm90YXRpb25BeGlzID0gY3JlYXRlUmFuZG9tVmVjMygpO1xuICB2ZWMzLmNyb3NzKHJvdGF0aW9uQXhpcywgcm90YXRpb25BeGlzLCB2KTtcbiAgdmVjMy5ub3JtYWxpemUocm90YXRpb25BeGlzLCByb3RhdGlvbkF4aXMpO1xuXG4gIC8vIENyZWF0ZSBhIHJhbmRvbSBhbmdsZS5cbiAgY29uc3Qgcm90YXRpb25BbmdsZSA9IHJhbmRvbUZsb2F0SW5SYW5nZShtaW5Sb3RhdGlvbkFuZ2xlLCBtYXhSb3RhdGlvbkFuZ2xlKTtcblxuICAvLyBDcmVhdGUgYSByb3RhdGlvbiBxdWF0ZXJuaW9uLlxuICBjb25zdCByb3RhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XG4gIHF1YXQuc2V0QXhpc0FuZ2xlKHJvdGF0aW9uLCByb3RhdGlvbkF4aXMsIHJvdGF0aW9uQW5nbGUpO1xuXG4gIC8vIEFwcGx5IHRoZSByb3RhdGlvbiB0byB0aGUgdmVjdG9yLlxuICB2ZWMzLnRyYW5zZm9ybVF1YXQodiwgdiwgcm90YXRpb24pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7cXVhdH0gb3V0XG4gKiBAcGFyYW0ge3F1YXR9IGFcbiAqIEBwYXJhbSB7cXVhdH0gYlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlXG4gKiBAcmV0dXJucyB7cXVhdH1cbiAqL1xuZnVuY3Rpb24gc2NhbGVBbmRBZGRRdWF0KG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgcmV0dXJuIHF1YXQuc2V0KG91dCxcbiAgICAgIGFbMF0gKyBiWzBdICogc2NhbGUsXG4gICAgICBhWzFdICsgYlsxXSAqIHNjYWxlLFxuICAgICAgYVsyXSArIGJbMl0gKiBzY2FsZSxcbiAgICAgIGFbM10gKyBiWzNdICogc2NhbGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gdlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0TWF4VmVjM0RpbWVuc2lvbih2KSB7XG4gIGxldCBtYXggPSB2WzBdID4gdlsxXSA/IHZbMF0gOiB2WzFdO1xuICBtYXggPSBtYXggPiB2WzJdID8gbWF4IDogdlsyXTtcbiAgcmV0dXJuIG1heDtcbn1cblxuZXhwb3J0IHtcbiAgRVBTSUxPTixcbiAgSEFMRl9QSSxcbiAgVFdPX1BJLFxuICBkZWdUb1JhZCxcbiAgcmFkVG9EZWcsXG4gIGFyZUNsb3NlLFxuICBhcmVWZWMzc0VxdWFsLFxuICB2ZWMzVG9TdHJpbmcsXG4gIGNyZWF0ZVJhbmRvbVZlYzMsXG4gIHNldFJhbmRvbVZlYzMsXG4gIGNyZWF0ZVJhbmRvbU9ydGhvZ29uYWxWZWMzLFxuICBzZXRSYW5kb21PcnRob2dvbmFsVmVjMyxcbiAgcmFuZG9tVmVjM0luUmFuZ2UsXG4gIGFkZFJhbmRvbVJvdGF0aW9uVG9WZWN0b3IsXG4gIHNjYWxlQW5kQWRkUXVhdCxcbiAgZ2V0TWF4VmVjM0RpbWVuc2lvbixcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW5lcmFsIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBXZWJHTC5cbiAqL1xuXG5pbXBvcnQge0hhc2hNYXB9IGZyb20gJy4vaGFzaC1tYXAnO1xuaW1wb3J0IHtIQUxGX1BJLCBUV09fUEl9IGZyb20gJy4vZ2VvbWV0cnknO1xuaW1wb3J0IHtkZWJvdW5jZSwgaXNJbkRldk1vZGUsIGxvYWRUZXh0fSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtwcm9ncmFtV3JhcHBlclN0b3JlfSBmcm9tICcuLi8uLi9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci1zdG9yZSc7XG5cbmxldCB2aWV3cG9ydFdpZHRoID0gMTA7XG5sZXQgdmlld3BvcnRIZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEByZXR1cm5zIHs/V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICogQHRocm93cyBJZiB1bmFibGUgdG8gZ2V0IGEgV2ViR0wgY29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZ2V0V2ViR0xDb250ZXh0KGNhbnZhcykge1xuICBjb25zdCBwYXJhbXMgPSB7YWxwaGE6IGZhbHNlfTtcbiAgLy8gVHJ5IHRvIGdyYWIgdGhlIHN0YW5kYXJkIGNvbnRleHQuIElmIGl0IGZhaWxzLCBmYWxsYmFjayB0byB0aGUgZXhwZXJpbWVudGFsIGNvbnRleHQuXG4gIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBwYXJhbXMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBwYXJhbXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHJldHVybnMgez9XZWJHTEJ1ZmZlcn1cbiAqIEB0aHJvd3MgSWYgdW5hYmxlIHRvIGNyZWF0ZSBhIGJ1ZmZlciBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCkge1xuICBjb25zdCBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgaWYgKCFidWZmZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNyZWF0aW5nIHRoZSBidWZmZXIgb2JqZWN0Jyk7XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cbi8vIFRPRE86IHVzZSBhbGwgdGhpcyBoZWxwZXIgc3R1ZmYgaW4gdGhlIHByb2dyYW1XcmFwcGVyIGxvZ2ljP1xuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBwcm9ncmFtXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25OYW1lXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICogQHRocm93cyBJZiB1bmFibGUgdG8gZ2V0IGFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBmb3IgdGhlIGdpdmVuIG5hbWUuXG4gKi9cbmZ1bmN0aW9uIGdldEF0dHJpYkxvY2F0aW9uKGdsLCBwcm9ncmFtLCBsb2NhdGlvbk5hbWUpIHtcbiAgY29uc3QgYXR0cmliTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBsb2NhdGlvbk5hbWUpO1xuICBpZiAoYXR0cmliTG9jYXRpb24gPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCBnZXR0aW5nIHRoZSBhdHRyaWJ1dGUgbG9jYXRpb246ICR7bG9jYXRpb25OYW1lfWApO1xuICB9XG4gIHJldHVybiBhdHRyaWJMb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7V2ViR0xTaGFkZXJ9IHZlcnRleFNoYWRlclxuICogQHBhcmFtIHtXZWJHTFNoYWRlcn0gZnJhZ21lbnRTaGFkZXJcbiAqIEByZXR1cm5zIHtXZWJHTFByb2dyYW19XG4gKiBAdGhyb3dzIElmIHVuYWJsZSB0byBsaW5rIHRoZSBwcm9ncmFtLlxuICovXG5mdW5jdGlvbiBidWlsZFByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpIHtcbiAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICBjb25zdCBpbmZvTG9nID0gZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSk7XG4gICAgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgbGlua2luZyB0aGUgc2hhZGVyIHByb2dyYW0nLCBpbmZvTG9nKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGxpbmtpbmcgdGhlIHNoYWRlciBwcm9ncmFtJyk7XG4gIH1cblxuICByZXR1cm4gcHJvZ3JhbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7c3RyaW5nfSBzaGFkZXJTb3VyY2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNGcmFnbWVudFNoYWRlclxuICogQHJldHVybnMge1dlYkdMU2hhZGVyfVxuICogQHRocm93cyBJZiB1bmFibGUgdG8gY29tcGlsZSB0aGUgc2hhZGVyLlxuICovXG5mdW5jdGlvbiBidWlsZFNoYWRlcihnbCwgc2hhZGVyU291cmNlLCBpc0ZyYWdtZW50U2hhZGVyKSB7XG4gIGNvbnN0IHNoYWRlclR5cGUgPSBpc0ZyYWdtZW50U2hhZGVyID8gZ2wuRlJBR01FTlRfU0hBREVSIDogZ2wuVkVSVEVYX1NIQURFUjtcbiAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICBjb25zdCBpbmZvTG9nID0gZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyJywgaW5mb0xvZyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHNoYWRlcicpO1xuICB9XG5cbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIHNoYWRlciBwcm9ncmFtIGJ5IHNjb3VyaW5nIHRoZSBjdXJyZW50IGRvY3VtZW50LCBsb29raW5nIGZvciBhIHNjcmlwdCB3aXRoIHRoZSBzcGVjaWZpZWRcbiAqIElELlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge1Byb21pc2UuPFdlYkdMU2hhZGVyLCBFcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGxvYWRTaGFkZXIoZ2wsIHVybCkge1xuICByZXR1cm4gbG9hZFRleHQodXJsKVxuICAgICAgLnRoZW4oc2hhZGVyU291cmNlID0+IGJ1aWxkU2hhZGVyKGdsLCBzaGFkZXJTb3VyY2UsIHVybC5lbmRzV2l0aCgnLmZyYWcnKSkpO1xufVxuXG4vKipcbiAqIExvYWRzIHRoZSBzaGFkZXIgc291cmNlIGNvZGUgZnJvbSB0aGUgZ2l2ZW4gVVJMcywgY29tcGlsZXMgdGhlIHNoYWRlciBzb3VyY2UgY29kZSwgYW5kIGNyZWF0ZXNcbiAqIGEgcHJvZ3JhbSBmcm9tIHRoZSByZXN1bHRpbmcgc2hhZGVycy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJ0ZXhTaGFkZXJVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnbWVudFNoYWRlclVybFxuICogQHJldHVybnMge1Byb21pc2UuPFdlYkdMUHJvZ3JhbSwgRXJyb3I+fVxuICogQHRocm93cyBJZiBhbnkgZXJyb3Igb2NjdXJzIHdoaWxlIGxvYWRpbmcgYW5kIGJ1aWxkaW5nIHRoZSBzaGFkZXJzIGFuZCBwcm9ncmFtLlxuICovXG5mdW5jdGlvbiBsb2FkUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyVXJsLCBmcmFnbWVudFNoYWRlclVybCkge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICB2ZXJ0ZXhTaGFkZXJVcmwsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyVXJsXG4gICAgICBdLm1hcCh1cmwgPT4gbG9hZFNoYWRlcihnbCwgdXJsKSkpXG4gICAgICAudGhlbihzaGFkZXJzID0+IHtcbiAgICAgICAgY29uc3QgdmVydGV4U2hhZGVyID0gc2hhZGVyc1swXTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXJzWzFdO1xuXG4gICAgICAgIHJldHVybiBidWlsZFByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlLCBiaW5kLCBhbmQgbW92ZSB0aGUgZ2l2ZW4gcmF3IGRhdGEgaW50byBhIFdlYkdMIGJ1ZmZlci5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHJhd0RhdGEgQSBwbGFpbiwgZmxhdCBhcnJheSBjb250YWluaW5nIHRoZSBkYXRhIHRvIGJpbmQgdG8gYSBidWZmZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW3RhcmdldD1nbC5BUlJBWV9CVUZGRVJdIEFuIGVudW0gZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGlzIGJ1ZmZlcjsgb25lIG9mOlxuICogICAtIGdsLkFSUkFZX0JVRkZFUixcbiAqICAgLSBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbdXNhZ2U9Z2wuU1RBVElDX0RSQVddIEFuIGVudW0gZGVzY3JpYmluZyBob3cgdGhpcyBidWZmZXIgaXMgZ29pbmcgdG8gYmUgdXNlZDtcbiAqIG9uZSBvZjpcbiAqICAgLSBnbC5TVEFUSUNfRFJBVyxcbiAqICAgLSBnbC5EWU5BTUlDX0RSQVcsXG4gKiAgIC0gZ2wuU1RSRUFNX0RSQVcuXG4gKiBAcmV0dXJucyB7V2ViR0xCdWZmZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlckZyb21EYXRhKGdsLCByYXdEYXRhLCB0YXJnZXQsIHVzYWdlKSB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBnbC5BUlJBWV9CVUZGRVI7XG4gIHVzYWdlID0gdXNhZ2UgfHwgZ2wuU1RBVElDX0RSQVc7XG4gIGNvbnN0IHR5cGVkQXJyYXkgPSB0YXJnZXQgPT09IGdsLkFSUkFZX0JVRkZFUiA/IG5ldyBGbG9hdDMyQXJyYXkocmF3RGF0YSkgOiBuZXcgVWludDE2QXJyYXkocmF3RGF0YSk7XG5cbiAgY29uc3QgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gIGdsLmJpbmRCdWZmZXIodGFyZ2V0LCBidWZmZXIpO1xuICBnbC5idWZmZXJEYXRhKHRhcmdldCwgdHlwZWRBcnJheSwgdXNhZ2UpO1xuXG4gIC8vIE1ha2luZyB0aGUgb3JpZ2luYWwgZGF0YSB2aXNpYmxlIG9uIHRoZSBidWZmZXIgb2JqZWN0IGlzIGhlbHBmdWwgZm9yIGRlYnVnZ2luZy5cbiAgaWYgKGlzSW5EZXZNb2RlKSB7XG4gICAgYnVmZmVyLnJhd0RhdGEgPSB0eXBlZEFycmF5O1xuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cblxuLyoqXG4gKiBBZGp1c3RzIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBnaXZlbiBlbGVtZW50IHRvIG1hdGNoIHRob3NlIG9mIHRoZSB2aWV3cG9ydC4gQWxzbywgd2hlbiB0aGVcbiAqIHZpZXdwb3J0IGlzIHJlc2l6ZWQsIHRoZSBnaXZlbiBlbGVtZW50IHdpbGwgYWxzbyBiZSByZXNpemVkIHRvIG1hdGNoLlxuICpcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkdMUmVzaXplZFxuICogQHBhcmFtIHs/TnVtYmVyfSBbdXBkYXRlSW50ZXJ2YWw9MTUwXVxuICovXG5mdW5jdGlvbiBiaW5kR0xDb250ZXh0VG9WaWV3cG9ydERpbWVuc2lvbnMoY2FudmFzLCBnbCwgb25HTFJlc2l6ZWQsIHVwZGF0ZUludGVydmFsID0gMTUwKSB7XG4gIF9yZXNpemVHTENvbnRleHRUb01hdGNoVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wpO1xuICBjb25zdCBkZWJvdW5jZWRSZXNpemUgPVxuICAgICAgZGVib3VuY2UoXyA9PiB7XG4gICAgICAgIF9yZXNpemVHTENvbnRleHRUb01hdGNoVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wpO1xuICAgICAgICBvbkdMUmVzaXplZCgpO1xuICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2VkUmVzaXplKTtcbn1cblxuLyoqXG4gKiBSZXNpemVzIHRoZSBnaXZlbiBlbGVtZW50IHRvIG1hdGNoIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB2aWV3cG9ydCBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVzaXplR0xDb250ZXh0VG9NYXRjaFZpZXdwb3J0RGltZW5zaW9ucyhjYW52YXMsIGdsKSB7XG4gIC8vIEFjY291bnQgZm9yIGhpZ2gtZGVmaW5pdGlvbiBEUEkgZGlzcGxheXMuXG4gIGNvbnN0IGRldmljZVBpeGVsVG9Dc3NQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgdmlld3BvcnRXaWR0aCA9IE1hdGguZmxvb3IoY2FudmFzLmNsaWVudFdpZHRoICogZGV2aWNlUGl4ZWxUb0Nzc1BpeGVsUmF0aW8pO1xuICB2aWV3cG9ydEhlaWdodCA9IE1hdGguZmxvb3IoY2FudmFzLmNsaWVudEhlaWdodCAqIGRldmljZVBpeGVsVG9Dc3NQaXhlbFJhdGlvKTtcbiAgY2FudmFzLndpZHRoID0gdmlld3BvcnRXaWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IHZpZXdwb3J0SGVpZ2h0O1xuICBnbC52aWV3cG9ydCgwLCAwLCB2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCk7XG59XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0Vmlld3BvcnRXaWR0aCgpIHtcbiAgcmV0dXJuIHZpZXdwb3J0V2lkdGg7XG59XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0Vmlld3BvcnRIZWlnaHQoKSB7XG4gIHJldHVybiB2aWV3cG9ydEhlaWdodDtcbn1cblxuLyoqXG4gKiBCaW5kcyBhIGZyYW1lYnVmZmVyIHRvIHRoZSBHTCBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtXZWJHTEZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICovXG5mdW5jdGlvbiBiaW5kRnJhbWVidWZmZXIoZ2wsIGZyYW1lYnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIC8vIEZJWE1FOiBSZW1vdmUgb3IgYWRkIGJhY2sgaW4/XG4gIC8vIHdpZHRoID0gd2lkdGggfHwgZ2V0Vmlld3BvcnRXaWR0aCgpO1xuICAvLyBoZWlnaHQgPSBoZWlnaHQgfHwgZ2V0Vmlld3BvcnRIZWlnaHQoKTtcblxuICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgLy8gRklYTUU6IFJlbW92ZSBvciBhZGQgYmFjayBpbj9cbiAgLy8gZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZyYW1lYnVmZmVyIGFuZCBhdHRhY2hlcyBhIHRleHR1cmUgdG8gdGhlIGZyYW1lYnVmZmVyLlxuICpcbiAqIFRoaXMgbWVhbnMgdGhhdCB3aGVuIHdlIGJpbmQgdG8gdGhlIGZyYW1lYnVmZmVyLCBkcmF3IGNhbGxzIHdpbGwgcmVuZGVyIHRvIHRoZSBnaXZlbiB0ZXh0dXJlLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleHR1cmVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJCdWZmZXJ9IFtyZW5kZXJCdWZmZXJdXG4gKiBAcmV0dXJucyB7V2ViR0xGcmFtZWJ1ZmZlcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRnJhbWVidWZmZXIoZ2wsIHRleHR1cmUsIHJlbmRlckJ1ZmZlcikge1xuICBjb25zdCBmcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG5cbiAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7XG5cbiAgaWYgKHJlbmRlckJ1ZmZlcikge1xuICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHJlbmRlckJ1ZmZlcik7XG4gIH1cblxuICByZXR1cm4gZnJhbWVidWZmZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRleHR1cmUgZm9yIHJlbmRlcmluZyB0by5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIERlZmF1bHRzIHRvIHRoZSB2aWV3cG9ydCB3aWR0aCBzdG9yZWQgaW4gZ2wtdXRpbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgaGVpZ2h0IHN0b3JlZCBpbiBnbC11dGlsLlxuICogQHJldHVybnMge1dlYkdMVGV4dHVyZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZUZvclJlbmRlcmluZyhnbCwgd2lkdGgsIGhlaWdodCkge1xuICB3aWR0aCA9IHdpZHRoIHx8IGdldFZpZXdwb3J0V2lkdGgoKTtcbiAgaGVpZ2h0ID0gaGVpZ2h0IHx8IGdldFZpZXdwb3J0SGVpZ2h0KCk7XG5cbiAgLy8gVE9ETzogRG91YmxlLWNoZWNrIHRoZXNlIHBhcmFtc1xuICBjb25zdCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICByZXR1cm4gdGV4dHVyZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVuZGVyIGJ1ZmZlci5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIERlZmF1bHRzIHRvIHRoZSB2aWV3cG9ydCB3aWR0aCBzdG9yZWQgaW4gZ2wtdXRpbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgaGVpZ2h0IHN0b3JlZCBpbiBnbC11dGlsLlxuICogQHJldHVybnMge1dlYkdMUmVuZGVyQnVmZmVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJCdWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpIHtcbiAgd2lkdGggPSB3aWR0aCB8fCBnZXRWaWV3cG9ydFdpZHRoKCk7XG4gIGhlaWdodCA9IGhlaWdodCB8fCBnZXRWaWV3cG9ydEhlaWdodCgpO1xuXG4gIGNvbnN0IHJlbmRlckJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgcmVuZGVyQnVmZmVyKTtcbiAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3aWR0aCwgaGVpZ2h0KTtcblxuICByZXR1cm4gcmVuZGVyQnVmZmVyO1xufVxuXG5jb25zdCBfU1FVQVJFX0NPT1JESU5BVEVTXzJEID0gW1xuICAwLCAwLFxuICAxLCAwLFxuICAwLCAxLFxuXG4gIDEsIDAsXG4gIDEsIDEsXG4gIDAsIDEsXG5dO1xuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHJldHVybnMge0F0dHJpYnV0ZUNvbmZpZ31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlMkRTcXVhcmVQb3NpdGlvbnNDb25maWcoZ2wpIHtcbiAgY29uc3QgcG9zaXRpb25zQnVmZmVyID0gY3JlYXRlQnVmZmVyRnJvbURhdGEoZ2wsIF9TUVVBUkVfQ09PUkRJTkFURVNfMkQpO1xuICByZXR1cm4ge1xuICAgIGJ1ZmZlcjogcG9zaXRpb25zQnVmZmVyLFxuICAgIHNpemU6IDIsXG4gICAgdHlwZTogZ2wuRkxPQVQsXG4gICAgbm9ybWFsaXplZDogZmFsc2UsXG4gICAgc3RyaWRlOiAwLFxuICAgIG9mZnNldDogMFxuICB9O1xufVxuXG4vL1xuLy8gR2VvbWV0cmljYWwgY2FsY3VsYXRpb25zLlxuLy9cblxuLyoqXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBpbmRpdmlkdWFsIHZlcnRleCBwb3NpdGlvbnMgYW5kIGFuIGFycmF5IG9mIHZlcnRleCBpbmRpY2VzLCBjcmVhdGVzIGFuIGV4cGFuZGVkXG4gKiBhcnJheSBvZiB0aGUgcG9zaXRpb25zIGdyb3VwZWQgYnkgdGhlIHRyaWFuZ2xlcyB0aGV5IGZvcm0uXG4gKlxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1xuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gdmVydGV4SW5kaWNlc1xuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICovXG5mdW5jdGlvbiBleHBhbmRWZXJ0ZXhJbmRpY2VzVG9EdXBsaWNhdGVQb3NpdGlvbnMoaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlcykge1xuICBjb25zdCBleHBhbmRlZFZlcnRleFBvc2l0aW9ucyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwLCBqID0gMCwgayA9IDAsIGNvdW50ID0gdmVydGV4SW5kaWNlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrLCBrICs9IDMpIHtcbiAgICBqID0gdmVydGV4SW5kaWNlc1tpXSAqIDM7XG5cbiAgICBleHBhbmRlZFZlcnRleFBvc2l0aW9uc1trXSA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnNbal07XG4gICAgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnNbayArIDFdID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1tqICsgMV07XG4gICAgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnNbayArIDJdID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1tqICsgMl07XG4gIH1cblxuICByZXR1cm4gZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnM7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgbm9ybWFsIHZlY3RvcnMgdGhhdCBhcmUgZWFjaCBvcnRob2dvbmFsIHRvIHRoZSB0cmlhbmdsZXMgdGhleSBhcmUgYSBwYXJ0IG9mLlxuICpcbiAqIFRoZSBnaXZlbiB2ZXJ0aWNlcyBzaG91bGQgcmVwcmVzZW50IGluZGl2aWR1YWwgdHJpYW5nbGVzIHdob3NlIHZlcnRpY2VzIGFyZSBkZWZpbmVkIGluIGNsb2Nrd2lzZVxuICogb3JkZXIgKGFzIHNlZW4gd2hlbiBsb29raW5nIGF0IHRoZSBleHRlcmlvciBzaWRlKS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0aWNlc1xuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0aWNlcykge1xuICBjb25zdCB2ZXJ0ZXgxID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgdmVydGV4MiA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHZlcnRleDMgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCB2ZWN0b3JBID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgdmVjdG9yQiA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IG5vcm1hbDEgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBub3JtYWwyID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3Qgbm9ybWFsMyA9IHZlYzMuY3JlYXRlKCk7XG5cbiAgY29uc3Qgbm9ybWFscyA9IFtdO1xuXG4gIC8vIExvb3Agb3ZlciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBmbGF0dGVuZWQgdmVydGV4IGFycmF5LlxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB2ZXJ0aWNlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSA5KSB7XG4gICAgLy8gR2V0IHRoZSB2ZXJ0aWNlcyBvZiB0aGUgY3VycmVudCB0cmlhbmdsZSBmcm9tIHRoZSBmbGF0dGVuZWQgYXJyYXkuXG4gICAgdmVjMy5zZXQodmVydGV4MSwgdmVydGljZXNbaSArIDBdLCB2ZXJ0aWNlc1tpICsgMV0sIHZlcnRpY2VzW2kgKyAyXSk7XG4gICAgdmVjMy5zZXQodmVydGV4MiwgdmVydGljZXNbaSArIDNdLCB2ZXJ0aWNlc1tpICsgNF0sIHZlcnRpY2VzW2kgKyA1XSk7XG4gICAgdmVjMy5zZXQodmVydGV4MywgdmVydGljZXNbaSArIDZdLCB2ZXJ0aWNlc1tpICsgN10sIHZlcnRpY2VzW2kgKyA4XSk7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBub3JtYWxzLlxuICAgIHZlYzMuc3VidHJhY3QodmVjdG9yQSwgdmVydGV4MywgdmVydGV4MSk7XG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JCLCB2ZXJ0ZXgyLCB2ZXJ0ZXgxKTtcbiAgICB2ZWMzLmNyb3NzKG5vcm1hbDEsIHZlY3RvckEsIHZlY3RvckIpO1xuICAgIHZlYzMubm9ybWFsaXplKG5vcm1hbDEsIG5vcm1hbDEpO1xuXG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JBLCB2ZXJ0ZXgxLCB2ZXJ0ZXgyKTtcbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckIsIHZlcnRleDMsIHZlcnRleDIpO1xuICAgIHZlYzMuY3Jvc3Mobm9ybWFsMiwgdmVjdG9yQSwgdmVjdG9yQik7XG4gICAgdmVjMy5ub3JtYWxpemUobm9ybWFsMiwgbm9ybWFsMik7XG5cbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckEsIHZlcnRleDIsIHZlcnRleDMpO1xuICAgIHZlYzMuc3VidHJhY3QodmVjdG9yQiwgdmVydGV4MSwgdmVydGV4Myk7XG4gICAgdmVjMy5jcm9zcyhub3JtYWwzLCB2ZWN0b3JBLCB2ZWN0b3JCKTtcbiAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwzLCBub3JtYWwzKTtcblxuICAgIC8vIFNhdmUgdGhlIG5vcm1hbCB2ZWN0b3JzIGluIGEgZmxhdHRlbmVkIGFycmF5LlxuICAgIG5vcm1hbHNbaSArIDBdID0gbm9ybWFsMVswXTtcbiAgICBub3JtYWxzW2kgKyAxXSA9IG5vcm1hbDFbMV07XG4gICAgbm9ybWFsc1tpICsgMl0gPSBub3JtYWwxWzJdO1xuICAgIG5vcm1hbHNbaSArIDNdID0gbm9ybWFsMlswXTtcbiAgICBub3JtYWxzW2kgKyA0XSA9IG5vcm1hbDJbMV07XG4gICAgbm9ybWFsc1tpICsgNV0gPSBub3JtYWwyWzJdO1xuICAgIG5vcm1hbHNbaSArIDZdID0gbm9ybWFsM1swXTtcbiAgICBub3JtYWxzW2kgKyA3XSA9IG5vcm1hbDNbMV07XG4gICAgbm9ybWFsc1tpICsgOF0gPSBub3JtYWwzWzJdO1xuICB9XG5cbiAgcmV0dXJuIG5vcm1hbHM7XG59XG5cbmNvbnN0IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSA9IDAuNTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIGxhdC1sb25nIHRleHR1cmUgY29vcmRpbmF0ZXMgZm9yIHRoZSBnaXZlbiB2ZXJ0ZXggcG9zaXRpb25zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9uc1xuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpIHtcbiAgY29uc3QgY3VycmVudFZlcnRleFBvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgY3VycmVudFRleHR1cmVDb29yZGluYXRlcyA9IHZlYzIuY3JlYXRlKCk7XG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IFtdO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBvZiBlYWNoIHZlcnRleC5cbiAgZm9yIChsZXQgaSA9IDAsIGogPSAwLCBjb3VudCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAzLCBqICs9IDIpIHtcbiAgICB2ZWMzLnNldChjdXJyZW50VmVydGV4UG9zaXRpb24sXG4gICAgICAgIHZlcnRleFBvc2l0aW9uc1tpXSwgdmVydGV4UG9zaXRpb25zW2kgKyAxXSwgdmVydGV4UG9zaXRpb25zW2kgKyAyXSk7XG4gICAgX2dldFRleHR1cmVDb29yZGluYXRlc09mTGF0TG9uZ1Bvc2l0aW9uKGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXMsIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbik7XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2pdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1swXTtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaiArIDFdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1sxXTtcbiAgfVxuXG4gIF9jb3JyZWN0VGV4dHVyZUZvclRyaWFuZ2xlc0Fyb3VuZFNlYW0odGV4dHVyZUNvb3JkaW5hdGVzKTtcblxuICByZXR1cm4gdGV4dHVyZUNvb3JkaW5hdGVzO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgY3lsaW5kcmljYWwgdGV4dHVyZSBjb29yZGluYXRlcyBmb3IgdGhlIGdpdmVuIHZlcnRleCBwb3NpdGlvbnMuXG4gKlxuICogVGhpcyBhc3N1bWVzIHRoZSBjeWxpbmRlciBpcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcyBhbmQgY2VudGVyZWQgYXQgdGhlIG9yaWdpbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhQb3NpdGlvbnNcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUN5bGluZHJpY2FsVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucykge1xuICBjb25zdCBjdXJyZW50VmVydGV4UG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzID0gdmVjMi5jcmVhdGUoKTtcbiAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gW107XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIG9mIGVhY2ggdmVydGV4LlxuICBmb3IgKGxldCBpID0gMCwgaiA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMsIGogKz0gMikge1xuICAgIHZlYzMuc2V0KGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbixcbiAgICAgICAgdmVydGV4UG9zaXRpb25zW2ldLCB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdLCB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdKTtcbiAgICBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZDeWxpbmRyaWNhbFBvc2l0aW9uKGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXMsIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbik7XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2pdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1swXTtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaiArIDFdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1sxXTtcbiAgfVxuXG4gIF9jb3JyZWN0VGV4dHVyZUZvclRyaWFuZ2xlc0Fyb3VuZFNlYW0odGV4dHVyZUNvb3JkaW5hdGVzKTtcblxuICByZXR1cm4gdGV4dHVyZUNvb3JkaW5hdGVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHRleHR1cmVDb29yZGluYXRlc1xuICovXG5mdW5jdGlvbiBfY29ycmVjdFRleHR1cmVGb3JUcmlhbmdsZXNBcm91bmRTZWFtKHRleHR1cmVDb29yZGluYXRlcykge1xuICBsZXQgdjE7XG4gIGxldCB2MjtcbiAgbGV0IHYzO1xuXG4gIC8vIERldGVybWluZSB3aGljaCB0cmlhbmdsZXMgc3BhbiB0aGUgc2VhbSBhY3Jvc3MgMC8yUEksIGFuZCBjb3JyZWN0IHRoZWlyIHRleHR1cmVzLlxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gNikge1xuICAgIHYxID0gdGV4dHVyZUNvb3JkaW5hdGVzW2ldO1xuICAgIHYyID0gdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyAyXTtcbiAgICB2MyA9IHRleHR1cmVDb29yZGluYXRlc1tpICsgNF07XG5cbiAgICBpZiAodjMgLSB2MSA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSB8fCB2MiAtIHYxID4gTUFYX1RFWFRVUkVfVl9DT09SRElOQVRFX0RFTFRBKSB7XG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0rKztcbiAgICB9XG4gICAgaWYgKHYzIC0gdjIgPiBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEgfHwgdjEgLSB2MiA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSkge1xuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyAyXSsrO1xuICAgIH1cbiAgICBpZiAodjIgLSB2MyA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSB8fCB2MSAtIHYzID4gTUFYX1RFWFRVUkVfVl9DT09SRElOQVRFX0RFTFRBKSB7XG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDRdKys7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciBhIG5vcm1hbGl6ZWQgcG9pbnQgb24gYSBnbG9iZS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IHRleHR1cmVDb29yZGluYXRlcyBPdXRwdXQgcGFyYW1ldGVyLlxuICogQHBhcmFtIHt2ZWMzfSB2ZXJ0ZXhQb3NpdGlvbiBJbnB1dCBwYXJhbWV0ZXIuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZMYXRMb25nUG9zaXRpb24odGV4dHVyZUNvb3JkaW5hdGVzLCB2ZXJ0ZXhQb3NpdGlvbikge1xuICBjb25zdCB4ID0gdmVydGV4UG9zaXRpb25bMF07XG4gIGNvbnN0IHkgPSB2ZXJ0ZXhQb3NpdGlvblsxXTtcbiAgY29uc3QgeiA9IHZlcnRleFBvc2l0aW9uWzJdO1xuXG4gIGxldCBsb25naXR1ZGU7XG4gIGlmICh5ICE9PSAwKSB7XG4gICAgbG9uZ2l0dWRlID0gTWF0aC5hdGFuMih4LCB5KTtcbiAgfSBlbHNlIGlmICh4ID4gMCkge1xuICAgIGxvbmdpdHVkZSA9IEhBTEZfUEk7XG4gIH0gZWxzZSB7XG4gICAgbG9uZ2l0dWRlID0gLUhBTEZfUEk7XG4gIH1cblxuICBjb25zdCB1ID0gKGxvbmdpdHVkZSArIE1hdGguUEkpIC8gVFdPX1BJO1xuXG4gIC8vIFRPRE86IFNob3VsZCBJIGluc3RlYWQgYmUgY2FsY3VsYXRpbmcgdGhlIHYgdmFsdWUgZnJvbSB3cmFwcGluZyB0aGUgdGV4dHVyZSBhcm91bmQgdGhlIGdsb2JlXG4gIC8vIGN1cnZhdHVyZSByYXRoZXIgdGhhbiBzaW1wbHkgcHJvamVjdGluZyBpdCBkaXJlY3RseT9cblxuICAvLyBUaGlzIGFzc3VtZXMgdGhhdCB0aGUgdGV4dHVyZSBoYXMgYmVlbiB2ZXJ0aWNhbGx5IGRpc3RvcnRlZCBzbyB0aGF0IGl0IGNhbiBiZSBkaXJlY3RseVxuICAvLyBwcm9qZWN0ZWQgb250byB0aGUgY3VydmF0dXJlIG9mIHRoZSBnbG9iZS5cbiAgY29uc3QgdiA9ICh6ICsgMSkgKiAwLjU7XG5cbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzBdID0gdTtcbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzFdID0gdjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMgZm9yIGEgbm9ybWFsaXplZCBwb2ludCBvbiBhIGN5bGluZGVyLlxuICpcbiAqIFRoaXMgYXNzdW1lcyB0aGUgY3lsaW5kZXIgaXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMgYW5kIGNlbnRlcmVkIGF0IHRoZSBvcmlnaW4uXG4gKlxuICogQHBhcmFtIHt2ZWMyfSB0ZXh0dXJlQ29vcmRpbmF0ZXMgT3V0cHV0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7dmVjM30gdmVydGV4UG9zaXRpb24gSW5wdXQgcGFyYW1ldGVyLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldFRleHR1cmVDb29yZGluYXRlc09mQ3lsaW5kcmljYWxQb3NpdGlvbih0ZXh0dXJlQ29vcmRpbmF0ZXMsIHZlcnRleFBvc2l0aW9uKSB7XG4gIGNvbnN0IHggPSB2ZXJ0ZXhQb3NpdGlvblswXTtcbiAgY29uc3QgeSA9IHZlcnRleFBvc2l0aW9uWzFdO1xuICBjb25zdCB6ID0gdmVydGV4UG9zaXRpb25bMl07XG5cbiAgbGV0IGxvbmdpdHVkZTtcbiAgaWYgKHkgIT09IDApIHtcbiAgICBsb25naXR1ZGUgPSBNYXRoLmF0YW4yKHgsIHkpO1xuICB9IGVsc2UgaWYgKHggPiAwKSB7XG4gICAgbG9uZ2l0dWRlID0gSEFMRl9QSTtcbiAgfSBlbHNlIHtcbiAgICBsb25naXR1ZGUgPSAtSEFMRl9QSTtcbiAgfVxuXG4gIGNvbnN0IHUgPSAobG9uZ2l0dWRlICsgTWF0aC5QSSkgLyBUV09fUEk7XG5cbiAgY29uc3QgdiA9IHogPiAwID8gMSA6IDA7XG5cbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzBdID0gdTtcbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzFdID0gdjtcbn1cblxuLyoqXG4gKiBFeHBhbmRzIHRoZSBnaXZlbiB2ZXJ0aWNlcyBhcm91bmQgdGhlIHNlYW0gd2hlcmUgbG9uZ2l0dWRlIHN3aXRjaGVzIGZyb20gMCB0byAyUEkuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSwgd2hlbiBhcHBseWluZyBhIHNwaGVyaWNhbCB0ZXh0dXJlIHVzaW5nIGxhdC1sb25nIGNvb3JkaW5hdGVzLCBhbnlcbiAqIHRyaWFuZ2xlIHRoYXQgc3BhbnMgdGhlIHNlYW0gKGZyb20gbG9uZ2l0dWRlIDJQSSB0byAwKSB3b3VsZCBvdGhlcndpc2Ugc2hvdyB0aGUgd3JvbmcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IG9sZFZlcnRleFBvc2l0aW9uc1xuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb2xkVmVydGV4SW5kaWNlc1xuICogQHJldHVybnMge3t2ZXJ0ZXhQb3NpdGlvbnM6IEFycmF5LjxOdW1iZXI+LCB2ZXJ0ZXhJbmRpY2VzOiBBcnJheS48TnVtYmVyPn19XG4gKi9cbmZ1bmN0aW9uIGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtKG9sZFZlcnRleFBvc2l0aW9ucywgb2xkVmVydGV4SW5kaWNlcykge1xuICAvLyBjb25zdCBuZXdWZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcbiAgLy8gY29uc3QgbmV3VmVydGV4SW5kaWNlcyA9IFtdO1xuICAvL1xuICAvLyAqKioqXG4gIC8vIC8vIFRPRE86IGxvb3Agb3ZlciB0cmlhbmdsZXMsIHVzZSBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZMYXRMb25nUG9zaXRpb24gb24gZWFjaCB2ZXJ0ZXgsXG4gIC8vIC8vIGNoZWNrIGlmIHR3byB2ZXJ0aWNlcyBpbiBhIHRyaWFuZ2xlIHNwYW4gdGhlIHNlYW07IHRvIGNoZWNrIHRoZSBzcGFuLCBqdXN0IGNoZWNrIGlmIGJvdGggYXJlXG4gIC8vIC8vIHdpdGhpbiBhIGRpc3RhbmNlIGZyb20gdGhlIHNlYW0sIGJ1dCBvbiBvcHBvc2l0ZSBlbmRzO1xuICAvL1xuICAvLyByZXR1cm4ge1xuICAvLyAgIHZlcnRleFBvc2l0aW9uczogbmV3VmVydGV4UG9zaXRpb25zLFxuICAvLyAgIHZlcnRleEluZGljZXM6IG5ld1ZlcnRleEluZGljZXNcbiAgLy8gfTtcblxuICByZXR1cm4ge1xuICAgIHZlcnRleFBvc2l0aW9uczogb2xkVmVydGV4UG9zaXRpb25zLFxuICAgIHZlcnRleEluZGljZXM6IG9sZFZlcnRleEluZGljZXNcbiAgfTtcbn1cblxuLyoqXG4gKiBTdWJkaXZpZGVzIHRoZSB0cmlhbmdsZXMgb2YgYSBzaGFwZSBhbmQgcHJvamVjdHMgYWxsIHJlc3VsdGluZyB2ZXJ0aWNlcyB0byBhIHJhZGl1cyBvZiBvbmUuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9uRmFjdG9yXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRQb3NpdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IFtvbGRJbmRpY2VzXVxuICogQHJldHVybnMge3t2ZXJ0ZXhQb3NpdGlvbnM6IEFycmF5LjxOdW1iZXI+LCB2ZXJ0ZXhJbmRpY2VzOiBBcnJheS48TnVtYmVyPn19XG4gKi9cbmZ1bmN0aW9uIHRlc3NlbGF0ZVNwaGVyZShkaXZpc2lvbkZhY3Rvciwgb2xkUG9zaXRpb25zLCBvbGRJbmRpY2VzKSB7XG4gIGNvbnN0IG5ld1Bvc2l0aW9ucyA9IF9leHBhbmRBbmRUZXNzZWxhdGVUcmlhbmdsZXMoZGl2aXNpb25GYWN0b3IsIG9sZFBvc2l0aW9ucywgb2xkSW5kaWNlcyk7XG5cbiAgLy8gQ29udmVydCB0aGUgZXhwYW5kZWQgcG9zaXRpb25zIGFycmF5IGludG8gYSB1bmlxdWUgcG9zaXRpb25zIGFycmF5IHdpdGggYSBjb3JyZXNwb25kaW5nIGluZGljZXNcbiAgLy8gYXJyYXkuXG4gIGNvbnN0IHBvc2l0aW9uc0FuZEluZGljZXMgPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMobmV3UG9zaXRpb25zKTtcblxuICAvLyBQcm9qZWN0IHRoZSBnaXZlbiBwb3NpdGlvbnMgdG8gYSBkaXN0YW5jZSBvZiBvbmUuXG4gIF9ub3JtYWxpemVQb3NpdGlvbnMocG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhQb3NpdGlvbnMsIHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zKTtcblxuICByZXR1cm4gcG9zaXRpb25zQW5kSW5kaWNlcztcbn1cblxuLyoqXG4gKiBTdWJkaXZpZGVzIHRyaWFuZ2xlcy5cbiAqXG4gKiBUaGlzIGhhcyB0aGUgc2lkZS1lZmZlY3Qgb2YgZmxhdHRlbmluZyB0aGUgZ2l2ZW4gdmVydGljZXMgaW50byBhbiBleHBhbmRlZCBsaXN0IHRoYXQgY2FuIGNvbnRhaW5cbiAqIGR1cGxpY2F0ZSBwb3NpdGlvbnMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9uRmFjdG9yXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRQb3NpdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IFtvbGRJbmRpY2VzXVxuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2V4cGFuZEFuZFRlc3NlbGF0ZVRyaWFuZ2xlcyhkaXZpc2lvbkZhY3Rvciwgb2xkUG9zaXRpb25zLCBvbGRJbmRpY2VzKSB7XG4gIGNvbnN0IGV4cGFuZGVkT2xkUG9zaXRpb25zID0gb2xkSW5kaWNlc1xuICAgICAgPyBleHBhbmRWZXJ0ZXhJbmRpY2VzVG9EdXBsaWNhdGVQb3NpdGlvbnMob2xkUG9zaXRpb25zLCBvbGRJbmRpY2VzKVxuICAgICAgOiBvbGRQb3NpdGlvbnM7XG5cbiAgY29uc3QgbmV3UG9zaXRpb25zID0gW107XG4gIGNvbnN0IGEgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBiID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgYyA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IGFUb0IgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBhVG9DID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgYlRvQyA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHJvd0RlbHRhID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgY29sdW1uRGVsdGEgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBiYWNrd2FyZHNEZWx0YSA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHJvd1N0YXJ0UG9pbnQgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCByb3dDb2x1bW5TdGFydFBvaW50ID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgdGVtcFZlYyA9IHZlYzMuY3JlYXRlKCk7XG5cbiAgbGV0IG9sZEluZGV4O1xuICBsZXQgY291bnQ7XG4gIGxldCBuZXdJbmRleDtcbiAgbGV0IHJvd0luZGV4O1xuICBsZXQgY29sdW1uSW5kZXg7XG5cbiAgLy9cbiAgLy8gVGhlIGJhc2ljIHRlc3NlbGF0aW9uIGFsZ29yaXRobTpcbiAgLy8gLSBJdGVyYXRlIGFjcm9zcyB0aGUgb3JpZ2luYWwgdHJpYW5nbGVzIHRoYXQgd2UgYXJlIHN1Yi1kaXZpZGluZy5cbiAgLy8gLSBBLCBCLCBhbmQgQyBhcmUgdGhlIHZlcnRpY2VzIG9mIHRoZSBjdXJyZW50LCBvcmlnaW5hbCB0cmlhbmdsZS5cbiAgLy8gLSBDb25zaWRlciBcInJvd3NcIiB0byBpdGVyYXRlIGFjcm9zcyB0aGUgYS10by1iIGRpcmVjdGlvbiBhbmQgXCJjb2x1bW5zXCIgdG8gaXRlcmF0ZSBhY3Jvc3MgdGhlXG4gIC8vICAgYS10by1jIGRpcmVjdGlvbi5cbiAgLy8gLSBGaXJzdCBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW4gb25lIHJvdyBhbmQgb25lIGNvbHVtbi5cbiAgLy8gLSBUaGVuIGxvb3Agb3ZlciB0aGUgcm93cyBhbmQgY29sdW1ucyBhbmQgY3JlYXRlIGEgdGhlIG5ldyB0cmlhbmdsZSBmb3IgZWFjaCBcImNlbGxcIi5cbiAgLy9cbiAgLy8gICAgICAgICAgICAgICAgICAgL1xcXG4gIC8vICAgICAgICAgICAgICAgICBCICAgXFwtLS0gQSBcImNvbHVtblwiXG4gIC8vICAgICAgICAgICAgICAgICBvICAgIFxcXG4gIC8vICAgICAgICAgICAgICAgIC8gXFwgICAvXG4gIC8vICAgICAgICAgICAgICAgLyAgIFxcICAgICAgICAgICAgIHJvd0RlbHRhOiAgICAgIGNvbHVtbkRlbHRhOiAgICAgYmFja3dhcmRzRGVsdGE6XG4gIC8vICAgICAgICAgICAgICBvLS0tLS1vICAgICAgICAgICAgICAgICBvICAgICAgICAgICAgIG9cbiAgLy8gICAgICAgICAgICAgLyBcXCAgIC8gXFwgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgXFwgICAgICAgICAgICAgIG8tLS0tLW9cbiAgLy8gICAgICAgICAgICAvICAgXFwgLyAgIFxcICAgICAgICAgICAgIC8gICAgICAgICAgICAgICAgIFxcXG4gIC8vICAgICAgICAgICBvLS0tLS1vLS0tLS1vICAgICAgICAgICBvICAgICAgICAgICAgICAgICAgIG9cbiAgLy8gICAgICAgICAgLyBcXCAgIC8gXFwgICAvIFxcXG4gIC8vICAgICAgICAgLyAgIFxcIC8gICBcXCAvICAgXFxcbiAgLy8gICAgICAgIG8tLS0tLW8tLS0tLW8tLS0tLW9cbiAgLy8gICAgICAgLyBcXCAgIC8gXFwgICAvIFxcICAgLyBcXFxuICAvLyAgICAgIC8gICBcXCAvICAgXFwgLyAgIFxcIC8gICBcXFxuICAvLyAgQSAgby0tLS0tby0tLS0tby0tLS0tby0tLS0tbyAgQ1xuICAvL1xuICAvLyAgICAgICBcXF9fX19fXFxcbiAgLy8gICAgICAgICAgIFxcXG4gIC8vICAgICAgICAgQSBcInJvd1wiXG4gIC8vXG5cbiAgLy8gTG9vcCBvdmVyIHRoZSBvbGQgdHJpYW5nbGVzLlxuICBmb3IgKG9sZEluZGV4ID0gMCwgbmV3SW5kZXggPSAwLCBjb3VudCA9IGV4cGFuZGVkT2xkUG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICBvbGRJbmRleCA8IGNvdW50O1xuICAgICAgIG9sZEluZGV4ICs9IDkpIHtcbiAgICAvLyBQdWxsIG91dCB0aGUgdGhyZWUgdmVydGljZXMgb2YgdGhlIGN1cnJlbnQgdHJpYW5nbGUuXG4gICAgdmVjMy5zZXQoYSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXhdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDFdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDJdKTtcbiAgICB2ZWMzLnNldChiLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDNdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDRdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDVdKTtcbiAgICB2ZWMzLnNldChjLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDZdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDddLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDhdKTtcblxuICAgIHZlYzMuc3VidHJhY3QoYVRvQiwgYiwgYSk7XG4gICAgdmVjMy5zdWJ0cmFjdChiVG9DLCBjLCBiKTtcbiAgICB2ZWMzLnN1YnRyYWN0KGFUb0MsIGMsIGEpO1xuXG4gICAgdmVjMy5zY2FsZShyb3dEZWx0YSwgYVRvQiwgMSAvIGRpdmlzaW9uRmFjdG9yKTtcbiAgICB2ZWMzLnNjYWxlKGNvbHVtbkRlbHRhLCBiVG9DLCAxIC8gZGl2aXNpb25GYWN0b3IpO1xuICAgIHZlYzMuc2NhbGUoYmFja3dhcmRzRGVsdGEsIGFUb0MsIDEgLyBkaXZpc2lvbkZhY3Rvcik7XG5cbiAgICAvLyBMb29wIG92ZXIgZWFjaCBuZXcgZGl2aXNpb24gKHJvdykgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlLlxuICAgIGZvciAocm93SW5kZXggPSAwOyByb3dJbmRleCA8IGRpdmlzaW9uRmFjdG9yOyByb3dJbmRleCsrKSB7XG4gICAgICB2ZWMzLnNjYWxlQW5kQWRkKHJvd1N0YXJ0UG9pbnQsIGEsIHJvd0RlbHRhLCByb3dJbmRleCk7XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgZmlyc3QgdHJpYW5nbGUgaW4gdGhlIHJvdyAoYWRkcmVzcyB0aGUgZmVuY2UtcG9zdCBwcm9ibGVtKS5cbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd1N0YXJ0UG9pbnRbMF07XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dTdGFydFBvaW50WzFdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93U3RhcnRQb2ludFsyXTtcbiAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd1N0YXJ0UG9pbnQsIHJvd0RlbHRhKTtcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcbiAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd1N0YXJ0UG9pbnQsIGJhY2t3YXJkc0RlbHRhKTtcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcblxuICAgICAgLy8gTG9vcCBvdmVyIHRoZSBuZXcgdHJpYW5nbGVzIGluIHRoZSBjdXJyZW50IGRpdmlzaW9uLlxuICAgICAgZm9yIChjb2x1bW5JbmRleCA9IDE7IGNvbHVtbkluZGV4IDw9IHJvd0luZGV4OyBjb2x1bW5JbmRleCsrKSB7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQocm93Q29sdW1uU3RhcnRQb2ludCwgcm93U3RhcnRQb2ludCwgY29sdW1uRGVsdGEsIGNvbHVtbkluZGV4KTtcblxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzBdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzFdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzJdO1xuICAgICAgICB2ZWMzLnN1YnRyYWN0KHRlbXBWZWMsIHJvd0NvbHVtblN0YXJ0UG9pbnQsIGNvbHVtbkRlbHRhKTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcbiAgICAgICAgdmVjMy5hZGQodGVtcFZlYywgcm93Q29sdW1uU3RhcnRQb2ludCwgcm93RGVsdGEpO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzBdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzJdO1xuXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMF07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMV07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMl07XG4gICAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd0NvbHVtblN0YXJ0UG9pbnQsIHJvd0RlbHRhKTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcbiAgICAgICAgdmVjMy5hZGQodGVtcFZlYywgcm93Q29sdW1uU3RhcnRQb2ludCwgYmFja3dhcmRzRGVsdGEpO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzBdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzJdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdQb3NpdGlvbnM7XG59XG5cbi8qKlxuICogUHJvamVjdHMgdGhlIGdpdmVuIHBvc2l0aW9ucyB0byBhIGRpc3RhbmNlIG9mIG9uZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvdXRcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHBvc2l0aW9uc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX25vcm1hbGl6ZVBvc2l0aW9ucyhvdXQsIHBvc2l0aW9ucykge1xuICBjb25zdCB0ZW1wVmVjID0gdmVjMy5jcmVhdGUoKTtcblxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSBwb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMykge1xuICAgIHZlYzMuc2V0KHRlbXBWZWMsIHBvc2l0aW9uc1tpXSwgcG9zaXRpb25zW2kgKyAxXSwgcG9zaXRpb25zW2kgKyAyXSk7XG5cbiAgICB2ZWMzLm5vcm1hbGl6ZSh0ZW1wVmVjLCB0ZW1wVmVjKTtcblxuICAgIG91dFtpXSA9IHRlbXBWZWNbMF07XG4gICAgb3V0W2kgKyAxXSA9IHRlbXBWZWNbMV07XG4gICAgb3V0W2kgKyAyXSA9IHRlbXBWZWNbMl07XG4gIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhIGNvbGxlY3Rpb24gb2YgdmVydGljZXMgdGhhdCBwb3NzaWJseSBjb250YWlucyBkdXBsaWNhdGVzLCBjcmVhdGVzIGFuIGFycmF5IG9mIHRoZSB1bmlxdWVcbiAqIHZlcnRleCBwb3NpdGlvbnMgYW5kIGFuIGFycmF5IG9mIHRoZSBpbmRpY2VzIG9mIHRoZSBvcmlnaW5hbCwgZHVwbGljYXRlZCB2ZXJ0aWNlcyBpbiB0aGUgdW5pcXVlXG4gKiBhcnJheS5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgcmVuZGVyaW5nIHVzaW5nIGdsLmRyYXdFbGVtZW50cyAod2l0aCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUikgaW5zdGVhZCBvZlxuICogZ2wuZHJhd0FycmF5cy5cbiAqXG4gKiBOT1RFOiBBbHRob3VnaCB0aGlzIGZ1bmN0aW9uIGRvZXMgcGFydGlhbGx5IGFkZHJlc3MgZmxvYXRpbmctcG9pbnQgcm91bmQtb2ZmIGVycm9ycyB3aXRoaW4gdGhlXG4gKiBnaXZlbiBwb3NpdGlvbnMsIGl0IGRvZXMgbm90IGd1YXJhbnRlZSBjb3JyZWN0bmVzcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRWZXJ0ZXhQb3NpdGlvbnNcbiAqIEByZXR1cm5zIHt7dmVydGV4UG9zaXRpb25zOiBBcnJheS48TnVtYmVyPiwgdmVydGV4SW5kaWNlczogQXJyYXkuPE51bWJlcj59fVxuICovXG5mdW5jdGlvbiBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMob2xkVmVydGV4UG9zaXRpb25zKSB7XG4gIGNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtdO1xuICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gW107XG5cbiAgY29uc3QgdmVydGV4VG9JbmRleE1hcCA9IG5ldyBIYXNoTWFwKF92ZXJ0ZXhIYXNoRnVuY3Rpb24pO1xuICBjb25zdCB2ZXJ0ZXggPSB2ZWMzLmNyZWF0ZSgpO1xuICBsZXQgb2xkQ29vcmRpbmF0ZUluZGV4O1xuICBsZXQgb2xkQ29vcmRpbmF0ZUNvdW50O1xuICBsZXQgbmV3VmVydGV4SW5kZXg7XG5cbiAgLy8gTG9vcCBvdmVyIHRoZSBvcmlnaW5hbCwgZHVwbGljYXRlZCB2ZXJ0ZXggcG9zaXRpb25zLlxuICBmb3IgKG9sZENvb3JkaW5hdGVJbmRleCA9IDAsIG9sZENvb3JkaW5hdGVDb3VudCA9IG9sZFZlcnRleFBvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgb2xkQ29vcmRpbmF0ZUluZGV4IDwgb2xkQ29vcmRpbmF0ZUNvdW50O1xuICAgICAgIG9sZENvb3JkaW5hdGVJbmRleCArPSAzKSB7XG4gICAgdmVjMy5zZXQodmVydGV4LFxuICAgICAgICBvbGRWZXJ0ZXhQb3NpdGlvbnNbb2xkQ29vcmRpbmF0ZUluZGV4XSxcbiAgICAgICAgb2xkVmVydGV4UG9zaXRpb25zW29sZENvb3JkaW5hdGVJbmRleCArIDFdLFxuICAgICAgICBvbGRWZXJ0ZXhQb3NpdGlvbnNbb2xkQ29vcmRpbmF0ZUluZGV4ICsgMl0pO1xuXG4gICAgLy8gSGFzIHRoaXMgcG9zaXRpb24gYWxyZWFkeSBiZWVuIHJlY29yZGVkP1xuICAgIGlmICghdmVydGV4VG9JbmRleE1hcC5oYXModmVydGV4KSkge1xuICAgICAgLy8gUmVjb3JkIHRoZSBpbmRleCBvZiB0aGUgdW5pcXVlIHZlcnRleCBwb3NpdGlvbi5cbiAgICAgIG5ld1ZlcnRleEluZGV4ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG4gICAgICB2ZXJ0ZXhUb0luZGV4TWFwLnNldCh2ZXJ0ZXgsIG5ld1ZlcnRleEluZGV4KTtcblxuICAgICAgLy8gUmVjb3JkIHRoZSB1bmlxdWUgdmVydGV4IHBvc2l0aW9uLlxuICAgICAgdmVydGV4UG9zaXRpb25zLnB1c2godmVydGV4WzBdKTtcbiAgICAgIHZlcnRleFBvc2l0aW9ucy5wdXNoKHZlcnRleFsxXSk7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnMucHVzaCh2ZXJ0ZXhbMl0pO1xuICAgIH1cblxuICAgIG5ld1ZlcnRleEluZGV4ID0gdmVydGV4VG9JbmRleE1hcC5nZXQodmVydGV4KTtcblxuICAgIC8vIFJlY29yZCB0aGUgaW5kZXggb2YgdGhlIHVuaXF1ZSBwb3NpdGlvbi5cbiAgICB2ZXJ0ZXhJbmRpY2VzLnB1c2gobmV3VmVydGV4SW5kZXgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzXG4gIH07XG59XG5cbmNvbnN0IF9WRVJURVhfQ09PUkRJTkFURV9CVUNLRVRfU0laRV9ESUdJVFMgPSA0O1xuXG4vLyBUaGlzIG9mZnNldCBpcyBpbXBvcnRhbnQgZm9yIHByZXZlbnRpbmcgYnVja2V0LWFsaWduZWQgbnVtYmVycyBmcm9tIGJlaW5nIHBsYWNlZCBpbiBpbmNvbnNpc3RlbnRcbi8vIGJ1Y2tldHMuIEZvciBleGFtcGxlLCB3aG9sZSBpbnRlZ2VyIHZhbHVlcyBjb3VsZCBlYXNpbHkgYmUgcGxhY2VkIGluIGxvd2VyIG9yIGhpZ2hlciBidWNrZXRzXG4vLyBkZXBlbmRpbmcgb24gcm91bmQtb2ZmIGVycm9yLlxuY29uc3QgX09GRlNFVCA9IE1hdGgucmFuZG9tKCk7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIGhhc2ggY29kZSBmb3IgdGhlIGdpdmVuIHZlcnRleC5cbiAqXG4gKiBOT1RFOiBUaGlzIGRvZXMgbm90IGd1YXJhbnRlZSBjb3JyZWN0IHJlc3VsdHMuIER1ZSB0byByb3VuZC1vZmYgZXJyb3IsIFwiZXF1YWxcIiBjb29yZGluYXRlcyBjb3VsZFxuICogYmUgY2FsY3VsYXRlZCBpcyBiZWluZyBpbiBkaWZmZXJlbnQgYnVja2V0cy4gTGFyZ2VyIGJ1Y2tldCBzaXplcyBtaWdodCByZWR1Y2UgdGhlIHJhdGUgb2YgZmFsc2VcbiAqIG5lZ2F0aXZlcywgYnV0IHdpdGggdGhlIHRyYWRlLW9mZiBvZiBwb3RlbnRpYWxseSBpbnRyb2R1Y2luZyBmYWxzZSBwb3NpdGl2ZXMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSB2ZXJ0ZXhcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfdmVydGV4SGFzaEZ1bmN0aW9uKHZlcnRleCkge1xuICByZXR1cm4gYCR7KHZlcnRleFswXSArIF9PRkZTRVQpLnRvRml4ZWQoX1ZFUlRFWF9DT09SRElOQVRFX0JVQ0tFVF9TSVpFX0RJR0lUUyl9LGAgK1xuICAgICAgYCR7KHZlcnRleFsxXSArIF9PRkZTRVQpLnRvRml4ZWQoX1ZFUlRFWF9DT09SRElOQVRFX0JVQ0tFVF9TSVpFX0RJR0lUUyl9LGAgK1xuICAgICAgYCR7KHZlcnRleFsyXSArIF9PRkZTRVQpLnRvRml4ZWQoX1ZFUlRFWF9DT09SRElOQVRFX0JVQ0tFVF9TSVpFX0RJR0lUUyl9YDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHZlcnRleCBwb3NpdGlvbnMgZm9yIGEgc2VjdGlvbiBvZiBhIHNwaGVyZS5cbiAqXG4gKiAtIFRoZXNlIHBvaW50cyB3aWxsIGxpZSBhbG9uZyBsYXRpdHVkZS1sb25naXR1ZGUgbGluZXMuXG4gKiAtIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbiB3aXRoIHRoZSBwb2xlcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAqIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlIHdpbGwgYmUgb25lLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFBpdGNoSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRQaXRjaEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFQaXRjaFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QXppbXV0aEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kQXppbXV0aEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFBemltdXRoXG4gKiBAcmV0dXJuIHtBcnJheS48TnVtYmVyPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oc3RhcnRQaXRjaEluZGV4LCBlbmRQaXRjaEluZGV4LCBkZWx0YVBpdGNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEF6aW11dGhJbmRleCwgZW5kQXppbXV0aEluZGV4LCBkZWx0YUF6aW11dGgpIHtcbiAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gW107XG4gIGxldCB2ZXJ0ZXhQb3NpdGlvbnNJbmRleCA9IDA7XG5cbiAgbGV0IHBpdGNoSW5kZXg7XG4gIGxldCBhemltdXRoSW5kZXg7XG4gIGxldCBsb3dlclBpdGNoO1xuICBsZXQgdXBwZXJQaXRjaDtcbiAgbGV0IGxvd2VyQXppbXV0aDtcbiAgbGV0IHVwcGVyQXppbXV0aDtcbiAgbGV0IHgxO1xuICBsZXQgeTE7XG4gIGxldCB6MTtcbiAgbGV0IHgyO1xuICBsZXQgeTI7XG4gIGxldCB6MjtcbiAgbGV0IHgzO1xuICBsZXQgeTM7XG4gIGxldCB6MztcbiAgbGV0IHg0O1xuICBsZXQgeTQ7XG4gIGxldCB6NDtcblxuICAvLyBUT0RPOiBUaGlzIGltcGxlbWVudGF0aW9uIGNhbGN1bGF0ZXMgYWxsIGNvb3JkaW5hdGVzIG11bHRpcGxlIHRpbWVzLiBSZWZhY3RvciBpdCB0byBiZSBtb3JlXG4gIC8vIGVmZmljaWVudC5cblxuICAvLyBMb29wIG92ZXIgZWFjaCBsYXRpdHVkaW5hbCBzdHJpcC5cbiAgZm9yIChwaXRjaEluZGV4ID0gc3RhcnRQaXRjaEluZGV4OyBwaXRjaEluZGV4IDwgZW5kUGl0Y2hJbmRleDsgcGl0Y2hJbmRleCsrKSB7XG4gICAgbG93ZXJQaXRjaCA9IGRlbHRhUGl0Y2ggKiBwaXRjaEluZGV4O1xuICAgIHVwcGVyUGl0Y2ggPSBkZWx0YVBpdGNoICsgbG93ZXJQaXRjaDtcblxuICAgIC8vIENyZWF0ZSB0aGUgdHJpYW5nbGVzIGZvciB0aGUgc3RyaXAgYXQgdGhlIGN1cnJlbnQgcGl0Y2guXG4gICAgZm9yIChhemltdXRoSW5kZXggPSBzdGFydEF6aW11dGhJbmRleDsgYXppbXV0aEluZGV4IDwgZW5kQXppbXV0aEluZGV4OyBhemltdXRoSW5kZXgrKykge1xuICAgICAgbG93ZXJBemltdXRoID0gZGVsdGFBemltdXRoICogYXppbXV0aEluZGV4O1xuICAgICAgdXBwZXJBemltdXRoID0gZGVsdGFBemltdXRoICsgbG93ZXJBemltdXRoO1xuXG4gICAgICAvLyBUaGUgY29ybmVycyBvZiB0aGUgY3VycmVudCBzcXVhcmUuXG5cbiAgICAgIHgxID0gTWF0aC5zaW4obG93ZXJQaXRjaCkgKiBNYXRoLmNvcyhsb3dlckF6aW11dGgpO1xuICAgICAgeTEgPSBNYXRoLnNpbihsb3dlclBpdGNoKSAqIE1hdGguc2luKGxvd2VyQXppbXV0aCk7XG4gICAgICB6MSA9IE1hdGguY29zKGxvd2VyUGl0Y2gpO1xuXG4gICAgICB4MiA9IE1hdGguc2luKHVwcGVyUGl0Y2gpICogTWF0aC5jb3MobG93ZXJBemltdXRoKTtcbiAgICAgIHkyID0gTWF0aC5zaW4odXBwZXJQaXRjaCkgKiBNYXRoLnNpbihsb3dlckF6aW11dGgpO1xuICAgICAgejIgPSBNYXRoLmNvcyh1cHBlclBpdGNoKTtcblxuICAgICAgeDMgPSBNYXRoLnNpbihsb3dlclBpdGNoKSAqIE1hdGguY29zKHVwcGVyQXppbXV0aCk7XG4gICAgICB5MyA9IE1hdGguc2luKGxvd2VyUGl0Y2gpICogTWF0aC5zaW4odXBwZXJBemltdXRoKTtcbiAgICAgIHozID0gTWF0aC5jb3MobG93ZXJQaXRjaCk7XG5cbiAgICAgIHg0ID0gTWF0aC5zaW4odXBwZXJQaXRjaCkgKiBNYXRoLmNvcyh1cHBlckF6aW11dGgpO1xuICAgICAgeTQgPSBNYXRoLnNpbih1cHBlclBpdGNoKSAqIE1hdGguc2luKHVwcGVyQXppbXV0aCk7XG4gICAgICB6NCA9IE1hdGguY29zKHVwcGVyUGl0Y2gpO1xuXG4gICAgICAvLyBUaGUgZmlyc3QgdHJpYW5nbGUuXG5cbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleF0gPSB4MTtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDFdID0geTE7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAyXSA9IHoxO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgM10gPSB4MjtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDRdID0geTI7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA1XSA9IHoyO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNl0gPSB4MztcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDddID0geTM7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA4XSA9IHozO1xuXG4gICAgICAvLyBUaGUgc2Vjb25kIHRyaWFuZ2xlLlxuXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA5XSA9IHg0O1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTBdID0geTQ7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMV0gPSB6NDtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDEyXSA9IHgzO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTNdID0geTM7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNF0gPSB6MztcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDE1XSA9IHgyO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTZdID0geTI7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxN10gPSB6MjtcblxuICAgICAgdmVydGV4UG9zaXRpb25zSW5kZXggKz0gMTg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZlcnRleFBvc2l0aW9ucztcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHZlcnRleCBwb3NpdGlvbnMgZm9yIGEgc2VjdGlvbiBvZiBhIGN5bGluZGVyLlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbiB3aXRoIHRoZSBwb2xlcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gY3lsaW5kZXJCb3R0b21cbiAqIEBwYXJhbSB7bnVtYmVyfSBjeWxpbmRlclRvcFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24oY3lsaW5kZXJCb3R0b20sIGN5bGluZGVyVG9wLCBzdGFydEluZGV4LCBlbmRJbmRleCwgZGVsdGEpIHtcbiAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gW107XG4gIGxldCB2ZXJ0ZXhQb3NpdGlvbnNJbmRleCA9IDA7XG5cbiAgbGV0IGluZGV4O1xuICBsZXQgbG93ZXJBemltdXRoO1xuICBsZXQgdXBwZXJBemltdXRoO1xuICBsZXQgeDE7XG4gIGxldCB5MTtcbiAgbGV0IHoxO1xuICBsZXQgeDI7XG4gIGxldCB5MjtcbiAgbGV0IHoyO1xuICBsZXQgeDM7XG4gIGxldCB5MztcbiAgbGV0IHozO1xuICBsZXQgeDQ7XG4gIGxldCB5NDtcbiAgbGV0IHo0O1xuXG4gIC8vIENyZWF0ZSB0aGUgdHJpYW5nbGVzIGZvciB0aGUgY3lsaW5kcmljYWwgc3RyaXAuXG4gIGZvciAoaW5kZXggPSBzdGFydEluZGV4OyBpbmRleCA8IGVuZEluZGV4OyBpbmRleCsrKSB7XG4gICAgbG93ZXJBemltdXRoID0gZGVsdGEgKiBpbmRleDtcbiAgICB1cHBlckF6aW11dGggPSBkZWx0YSArIGxvd2VyQXppbXV0aDtcblxuICAgIC8vIFRoZSBjb3JuZXJzIG9mIHRoZSBjdXJyZW50IHNxdWFyZS5cblxuICAgIHgxID0gTWF0aC5jb3MobG93ZXJBemltdXRoKTtcbiAgICB5MSA9IE1hdGguc2luKGxvd2VyQXppbXV0aCk7XG4gICAgejEgPSBjeWxpbmRlckJvdHRvbTtcblxuICAgIHgyID0gTWF0aC5jb3MobG93ZXJBemltdXRoKTtcbiAgICB5MiA9IE1hdGguc2luKGxvd2VyQXppbXV0aCk7XG4gICAgejIgPSBjeWxpbmRlclRvcDtcblxuICAgIHgzID0gTWF0aC5jb3ModXBwZXJBemltdXRoKTtcbiAgICB5MyA9IE1hdGguc2luKHVwcGVyQXppbXV0aCk7XG4gICAgejMgPSBjeWxpbmRlckJvdHRvbTtcblxuICAgIHg0ID0gTWF0aC5jb3ModXBwZXJBemltdXRoKTtcbiAgICB5NCA9IE1hdGguc2luKHVwcGVyQXppbXV0aCk7XG4gICAgejQgPSBjeWxpbmRlclRvcDtcblxuICAgIC8vIFRoZSBmaXJzdCB0cmlhbmdsZS5cblxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleF0gPSB4MTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxXSA9IHkxO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDJdID0gejE7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgM10gPSB4MjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA0XSA9IHkyO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDVdID0gejI7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNl0gPSB4MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA3XSA9IHkzO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDhdID0gejM7XG5cbiAgICAvLyBUaGUgc2Vjb25kIHRyaWFuZ2xlLlxuXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgOV0gPSB4NDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMF0gPSB5NDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMV0gPSB6NDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMl0gPSB4MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxM10gPSB5MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNF0gPSB6MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNV0gPSB4MjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNl0gPSB5MjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxN10gPSB6MjtcblxuICAgIHZlcnRleFBvc2l0aW9uc0luZGV4ICs9IDE4O1xuICB9XG5cbiAgcmV0dXJuIHZlcnRleFBvc2l0aW9ucztcbn1cblxuLyoqXG4gKiBTY2FsZSBhbmQgdGhlbiB0cmFuc2xhdGUgdGhlIDMtZGltZW5zaW9uYWwgcG9zaXRpb25zIGluIHRoZSBnaXZlbiBmbGF0dGVuZWQgYXJyYXkuXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luIHdpdGggdGhlIHBvbGVzIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9ucyBPdXRwdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZEluZGV4XG4gKiBAcGFyYW0ge3ZlYzN9IHNjYWxlXG4gKiBAcGFyYW0ge3ZlYzN9IHRyYW5zbGF0ZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2NhbGVUaGVuVHJhbnNsYXRlUG9zaXRpb25zKHZlcnRleFBvc2l0aW9ucywgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHNjYWxlLCB0cmFuc2xhdGUpIHtcbiAgY29uc3Qgc2NhbGVYID0gc2NhbGVbMF07XG4gIGNvbnN0IHNjYWxlWSA9IHNjYWxlWzFdO1xuICBjb25zdCBzY2FsZVogPSBzY2FsZVsyXTtcbiAgY29uc3QgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZVswXTtcbiAgY29uc3QgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZVsxXTtcbiAgY29uc3QgdHJhbnNsYXRlWiA9IHRyYW5zbGF0ZVsyXTtcblxuICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpICs9IDMpIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaV0gPSB2ZXJ0ZXhQb3NpdGlvbnNbaV0gKiBzY2FsZVggKyB0cmFuc2xhdGVYO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMV0gPSB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdICogc2NhbGVZICsgdHJhbnNsYXRlWTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdID0gdmVydGV4UG9zaXRpb25zW2kgKyAyXSAqIHNjYWxlWiArIHRyYW5zbGF0ZVo7XG4gIH1cbn1cblxuLy8gRXhwb3J0IHRoaXMgbW9kdWxlJ3MgbG9naWNcblxuZXhwb3J0IHtcbiAgZ2V0Vmlld3BvcnRXaWR0aCxcbiAgZ2V0Vmlld3BvcnRIZWlnaHQsXG4gIGdldFdlYkdMQ29udGV4dCxcbiAgY3JlYXRlQnVmZmVyLFxuICBnZXRBdHRyaWJMb2NhdGlvbixcbiAgYnVpbGRQcm9ncmFtLFxuICBidWlsZFNoYWRlcixcbiAgbG9hZFNoYWRlcixcbiAgbG9hZFByb2dyYW0sXG4gIGNyZWF0ZUJ1ZmZlckZyb21EYXRhLFxuICBiaW5kR0xDb250ZXh0VG9WaWV3cG9ydERpbWVuc2lvbnMsXG4gIGJpbmRGcmFtZWJ1ZmZlcixcbiAgY3JlYXRlRnJhbWVidWZmZXIsXG4gIGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmcsXG4gIGNyZWF0ZVJlbmRlckJ1ZmZlcixcbiAgY3JlYXRlMkRTcXVhcmVQb3NpdGlvbnNDb25maWcsXG5cbiAgZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyxcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxUZXh0dXJlQ29vcmRpbmF0ZXMsXG4gIGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtLFxuICB0ZXNzZWxhdGVTcGhlcmUsXG4gIGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyxcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxTZWN0aW9uLFxuICBzY2FsZVRoZW5UcmFuc2xhdGVQb3NpdGlvbnMsXG59O1xuXG4vLyBTb21lIHR5cGUgZGVmcyB0byBtYWtlIG15IGVkaXRvcidzIGF1dG8tY29tcGxldGUgaGFwcHkuXG5cbi8qKiBAdHlwZWRlZiB7T2JqZWN0fSBXZWJHTFByb2dyYW0gKi9cbi8qKiBAdHlwZWRlZiB7T2JqZWN0fSBXZWJHTFNoYWRlciAqL1xuLyoqIEB0eXBlZGVmIHtPYmplY3R9IFdlYkdMQnVmZmVyICovXG4vKiogQHR5cGVkZWYge09iamVjdH0gV2ViR0xUZXh0dXJlICovXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gbWF0MyAqL1xuLyoqIEB0eXBlZGVmIHtGbG9hdDMyQXJyYXl8QXJyYXkuPE51bWJlcj59IG1hdDQgKi9cbi8qKiBAdHlwZWRlZiB7RmxvYXQzMkFycmF5fEFycmF5LjxOdW1iZXI+fSBxdWF0ICovXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gdmVjMiAqL1xuLyoqIEB0eXBlZGVmIHtGbG9hdDMyQXJyYXl8QXJyYXkuPE51bWJlcj59IHZlYzMgKi9cbi8qKiBAdHlwZWRlZiB7RmxvYXQzMkFycmF5fEFycmF5LjxOdW1iZXI+fSB2ZWM0ICovXG4iLCIvKipcbiAqIEEgaGFzaCBtYXAgdGhhdCB1c2VzIGEgY3VzdG9tIGhhc2ggZnVuY3Rpb24uXG4gKi9cbmNsYXNzIEhhc2hNYXAge1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzaEZ1bmN0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihoYXNoRnVuY3Rpb24pIHtcbiAgICB0aGlzLl9oYXNoRnVuY3Rpb24gPSBoYXNoRnVuY3Rpb247XG4gICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlcbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gICAqL1xuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGhhc2hDb2RlID0gdGhpcy5faGFzaEZ1bmN0aW9uKGtleSk7XG4gICAgdGhpcy5fbWFwLnNldChoYXNoQ29kZSwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIGdldChrZXkpIHtcbiAgICBjb25zdCBoYXNoQ29kZSA9IHRoaXMuX2hhc2hGdW5jdGlvbihrZXkpO1xuICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KGhhc2hDb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0ga2V5XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzKGtleSkge1xuICAgIGNvbnN0IGhhc2hDb2RlID0gdGhpcy5faGFzaEZ1bmN0aW9uKGtleSk7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoaGFzaENvZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgcmVtb3ZlKGl0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmRlbGV0ZShpdGVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgIHRoaXMuX21hcC5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX21hcC5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnNpemU7XG4gIH1cbn1cblxuZXhwb3J0IHtIYXNoTWFwfTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIGdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgc2V0IGZyb20gc29tZXdoZXJlIGVsc2UgKHByb2JhYmx5IGFzIGEgcGFyYW0gdG8gY29udHJvbGxlciBsaWtlIGJlZm9yZTsgYnV0IHRoZW4gSSBuZWVkIHRvIG1ha2UgdGhpcyB1cGRhdGFibGUpXG5jb25zdCBpc0luRGV2TW9kZSA9IHRydWU7XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgZWFjaCBvZiB0aGUgZ2l2ZW4gZXZlbnRzIHRvIGVhY2ggb2YgdGhlIGdpdmVuIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPEhUTUxFbGVtZW50Pn0gZWxlbWVudHMgVGhlIGVsZW1lbnRzIHRvIGFkZCBldmVudCBsaXN0ZW5lcnMgdG8uXG4gKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBldmVudHMgVGhlIGV2ZW50IGxpc3RlbmVycyB0byBhZGQgdG8gdGhlIGVsZW1lbnRzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIHNpbmdsZSBjYWxsYmFjayBmb3IgaGFuZGxpbmcgdGhlIGV2ZW50cy5cbiAqL1xuZnVuY3Rpb24gbGlzdGVuVG9NdWx0aXBsZUZvck11bHRpcGxlKGVsZW1lbnRzLCBldmVudHMsIGNhbGxiYWNrKSB7XG4gIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgZXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgRE9NIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gdGFnIG5hbWUsIGFwcGVuZHMgaXQgdG8gdGhlIGdpdmVuIHBhcmVudCBlbGVtZW50LCBhbmRcbiAqIGdpdmVzIGl0IHRoZSBnaXZlbiBpZCBhbmQgY2xhc3Nlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBUaGUgdGFnIG5hbWUgdG8gZ2l2ZSB0aGUgbmV3IGVsZW1lbnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50XSBUaGUgcGFyZW50IGVsZW1lbnQgdG8gYXBwZW5kIHRoZSBuZXcgZWxlbWVudCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaWRdIFRoZSBpZCB0byBnaXZlIHRoZSBuZXcgZWxlbWVudC5cbiAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtjbGFzc2VzXSBUaGUgY2xhc3NlcyB0byBnaXZlIHRoZSBuZXcgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIG5ldyBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHBhcmVudCwgaWQsIGNsYXNzZXMpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbiAgaWYgKGlkKSB7XG4gICAgZWxlbWVudC5pZCA9IGlkO1xuICB9XG4gIGlmIChjbGFzc2VzKSB7XG4gICAgY2xhc3Nlcy5mb3JFYWNoKGNsYXNzTmFtZSA9PiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIGVsZW1lbnQgY29udGFpbnMgdGhlIGdpdmVuIGNsYXNzLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gY2hlY2suXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byBjaGVjayBmb3IuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZWxlbWVudCBkb2VzIGNvbnRhaW4gdGhlIGNsYXNzLlxuICovXG5mdW5jdGlvbiBjb250YWluc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBsZXQgc3RhcnRJbmRleDtcbiAgbGV0IGluZGV4QWZ0ZXJFbmQ7XG4gIHN0YXJ0SW5kZXggPSBlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzTmFtZSk7XG4gIGlmIChzdGFydEluZGV4ID49IDApIHtcbiAgICBpZiAoc3RhcnRJbmRleCA9PT0gMCB8fCBlbGVtZW50LmNsYXNzTmFtZVtzdGFydEluZGV4IC0gMV0gPT09ICcgJykge1xuICAgICAgaW5kZXhBZnRlckVuZCA9IHN0YXJ0SW5kZXggKyBjbGFzc05hbWUubGVuZ3RoO1xuICAgICAgaWYgKGluZGV4QWZ0ZXJFbmQgPT09IGVsZW1lbnQuY2xhc3NOYW1lLmxlbmd0aCB8fFxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZVtpbmRleEFmdGVyRW5kXSA9PT0gJyAnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVG9nZ2xlcyB3aGV0aGVyIHRoZSBnaXZlbiBlbGVtZW50IGhhcyB0aGUgZ2l2ZW4gY2xhc3MuIElmIHRoZSBlbmFibGVkIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGVuXG4gKiB0aGUgaW5jbHVzaW9uIG9mIHRoZSBjbGFzcyB3aWxsIGJlIGZvcmNlZC4gVGhhdCBpcywgaWYgZW5hYmxlZD10cnVlLCB0aGVuIHRoaXMgd2lsbCBlbnN1cmUgdGhlXG4gKiBlbGVtZW50IGhhcyB0aGUgY2xhc3M7IGlmIGVuYWJsZWQ9ZmFsc2UsIHRoZW4gdGhpcyB3aWxsIGVuc3VyZSB0aGUgZWxlbWVudCBkb2VzIE5PVCBoYXZlIHRoZVxuICogY2xhc3M7IGlmIGVuYWJsZWQ9dW5kZWZpbmVkLCB0aGVuIHRoaXMgd2lsbCBzaW1wbHkgdG9nZ2xlIHdoZXRoZXIgdGhlIGVsZW1lbnQgaGFzIHRoZSBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFkZCB0aGUgY2xhc3MgdG8gb3IgcmVtb3ZlIHRoZSBjbGFzcyBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgY2xhc3MgdG8gYWRkIG9yIHJlbW92ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuYWJsZWRdIElmIGdpdmVuLCB0aGVuIHRoZSBpbmNsdXNpb24gb2YgdGhlIGNsYXNzIHdpbGwgYmUgZm9yY2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIGVuYWJsZWQpIHtcbiAgaWYgKHR5cGVvZiBlbmFibGVkID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChjb250YWluc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkpIHtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoZW5hYmxlZCkge1xuICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIHBhZ2UuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBnZXQgdGhlIGNvb3JkaW5hdGVzIG9mLlxuICogQHJldHVybnMge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IFRoZSBjb29yZGluYXRlcyBvZiB0aGUgZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgdG9wLWxlZnRcbiAqIGNvcm5lciBvZiB0aGUgcGFnZS5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFnZU9mZnNldChlbGVtZW50KSB7XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIHggKz0gZWxlbWVudC5vZmZzZXRMZWZ0O1xuICAgIHkgKz0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICB9XG4gIHggLT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gIHkgLT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpZXdwb3J0LlxuICpcbiAqIEByZXR1cm5zIHt7dzogTnVtYmVyLCBoOiBOdW1iZXJ9fSBUaGUgZGltZW5zaW9ucyBvZiB0aGUgdmlld3BvcnQuXG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdwb3J0U2l6ZSgpIHtcbiAgbGV0IHc7XG4gIGxldCBoO1xuICBpZiAodHlwZW9mIHdpbmRvdy5pbm5lcldpZHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEdvb2QgYnJvd3NlcnNcbiAgICB3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgaCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggIT09ICd1bmRlZmluZWQnICYmXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICE9PSAwKSB7XG4gICAgLy8gSUU2IGluIHN0YW5kYXJkcyBjb21wbGlhbnQgbW9kZVxuICAgIHcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgaCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gT2xkZXIgdmVyc2lvbnMgb2YgSUVcbiAgICB3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5jbGllbnRXaWR0aDtcbiAgICBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5jbGllbnRIZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIHsgdzogdywgaDogaCB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGdpdmVuIGNoaWxkIGVsZW1lbnQgZnJvbSB0aGUgZ2l2ZW4gcGFyZW50IGVsZW1lbnQgaWYgdGhlIGNoaWxkIGRvZXMgaW5kZWVkIGJlbG9uZ1xuICogdG8gdGhlIHBhcmVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnQgVGhlIHBhcmVudCB0byByZW1vdmUgdGhlIGNoaWxkIGZyb20uXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjaGlsZCBUaGUgY2hpbGQgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGNoaWxkIGRpZCBpbmRlZWQgYmVsb25nIHRvIHRoZSBwYXJlbnQuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkSWZQcmVzZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgaWYgKGNoaWxkICYmIGNoaWxkLnBhcmVudE5vZGUgPT09IHBhcmVudCkge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZHMgdGhlIGdpdmVuIGNsYXNzIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYWRkIHRoZSBjbGFzcyB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIGNsYXNzIHRvIGFkZC5cbiAqL1xuZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnICsgY2xhc3NOYW1lKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBnaXZlbiBjbGFzcyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gcmVtb3ZlIHRoZSBjbGFzcyBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgY2xhc3MgdG8gcmVtb3ZlLlxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyxcbiAgICBlbGVtZW50LmNsYXNzTmFtZVxuICAgIC5zcGxpdCgnICcpXG4gICAgLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZSAhPT0gY2xhc3NOYW1lKVxuICAgIC5qb2luKCcgJykpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGNsYXNzZXMgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHJlbW92ZSBhbGwgY2xhc3NlcyBmcm9tLlxuICovXG5mdW5jdGlvbiBjbGVhckNsYXNzZXMoZWxlbWVudCkge1xuICBlbGVtZW50LmNsYXNzTmFtZSA9ICcnO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHdpZHRoIHRoYXQgdGhlIERPTSB3b3VsZCBnaXZlIHRvIGEgZGl2IHdpdGggdGhlIGdpdmVuIHRleHQuIFRoZSBnaXZlbiB0YWdcbiAqIG5hbWUsIHBhcmVudCwgaWQsIGFuZCBjbGFzc2VzIGFsbG93IHRoZSB3aWR0aCB0byBiZSBhZmZlY3RlZCBieSB2YXJpb3VzIENTUyBydWxlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBkZXRlcm1pbmUgdGhlIHdpZHRoIG9mLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIHRhZyBuYW1lIHRoaXMgdGV4dCB3b3VsZCBzdXBwb3NlZGx5IGhhdmUuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50XSBUaGUgcGFyZW50IHRoaXMgdGV4dCB3b3VsZCBzdXBwb3NlZGx5IGJlIGEgY2hpbGQgb2Y7IGRlZmF1bHRzXG4gKiB0byB0aGUgZG9jdW1lbnQgYm9keS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaWRdIFRoZSBpZCB0aGlzIHRleHQgd291bGQgc3VwcG9zZWRseSBoYXZlLlxuICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gW2NsYXNzZXNdIFRoZSBjbGFzc2VzIHRoaXMgdGV4dCB3b3VsZCBzdXBwb3NlZGx5IGhhdmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgd2lkdGggb2YgdGhlIHRleHQgdW5kZXIgdGhlc2UgY29uZGl0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dFdpZHRoKHRleHQsIHRhZ05hbWUsIHBhcmVudCwgaWQsIGNsYXNzZXMpIHtcbiAgbGV0IHRtcEVsZW1lbnQ7XG4gIGxldCB3aWR0aDtcbiAgcGFyZW50ID0gcGFyZW50IHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG4gIHRtcEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIG51bGwsIGlkLCBjbGFzc2VzKTtcbiAgdG1wRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIHRtcEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICB0bXBFbGVtZW50LnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcbiAgcGFyZW50LmFwcGVuZENoaWxkKHRtcEVsZW1lbnQpO1xuICB0bXBFbGVtZW50LmlubmVySFRNTCA9IHRleHQ7XG4gIHdpZHRoID0gdG1wRWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcGFyZW50LnJlbW92ZUNoaWxkKHRtcEVsZW1lbnQpO1xuICByZXR1cm4gd2lkdGg7XG59XG5cbi8qKlxuICogRW5jb2RlcyBhbmQgY29uY2F0ZW5hdGVzIHRoZSBnaXZlbiBVUkwgcGFyYW1ldGVycyBpbnRvIGEgc2luZ2xlIHF1ZXJ5IHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmF3UGFyYW1zIEFuIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIHJlcHJlc2VudCB0aGUgVVJMIHF1ZXJ5IHN0cmluZ1xuICogcGFyYW1ldGVycy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBxdWVyeSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5U3RyaW5nKHJhd1BhcmFtcykge1xuICBsZXQgcGFyYW1ldGVyO1xuICBsZXQgZW5jb2RlZFBhcmFtcztcbiAgZW5jb2RlZFBhcmFtcyA9IFtdO1xuICBmb3IgKHBhcmFtZXRlciBpbiByYXdQYXJhbXMpIHtcbiAgICBpZiAocmF3UGFyYW1zLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgIGVuY29kZWRQYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQocGFyYW1ldGVyKSArICc9JyArXG4gICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChyYXdQYXJhbXNbcGFyYW1ldGVyXSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJz8nICsgZW5jb2RlZFBhcmFtcy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBuYW1lIGZyb20gdGhlIGdpdmVuIHF1ZXJ5IHN0cmluZy5cbiAqXG4gKiAoYm9ycm93ZWQgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdClcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmcgVGhlIHF1ZXJ5IHN0cmluZyBjb250YWluaW5nIHRoZSBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgKG5vbi1lbmNvZGVkKSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIgdmFsdWUgdG8gcmV0cmlldmUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciB2YWx1ZSwgb3IgbnVsbCBpZiB0aGUgcGFyYW1ldGVyIHdhcyBub3QgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nUGFyYW1ldGVyVmFsdWUocXVlcnlTdHJpbmcsIG5hbWUpIHtcbiAgbGV0IHJlZ2V4O1xuICBsZXQgcmVzdWx0cztcbiAgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKTtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW10vLCAnXFxcXFsnKS5yZXBsYWNlKC9bXFxdXS8sICdcXFxcXScpO1xuICByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJywgJ2knKTtcbiAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMocXVlcnlTdHJpbmcpO1xuICByZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/IG51bGwgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHRyYW5zaXRpb24gc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdHJhbnNpdGlvbiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvbiA9IHZhbHVlO1xuICBlbGVtZW50LnN0eWxlLk1velRyYW5zaXRpb24gPSB2YWx1ZTtcbiAgZWxlbWVudC5zdHlsZS5tc1RyYW5zaXRpb24gPSB2YWx1ZTtcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvbiA9IHZhbHVlO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIENTUyB0cmFuc2l0aW9uIGR1cmF0aW9uIHN0eWxlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGR1cmF0aW9uLlxuICovXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uRHVyYXRpb25TZWNvbmRzKGVsZW1lbnQsIHZhbHVlKSB7XG4gIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUuTW96VHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2l0aW9uRHVyYXRpb24gPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHRyYW5zaXRpb24gZGVsYXkgc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgZGVsYXkuXG4gKi9cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25EZWxheVNlY29uZHMoZWxlbWVudCwgdmFsdWUpIHtcbiAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5XZWJraXRUcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5tc1RyYW5zaXRpb25EZWxheSA9IHZhbHVlICsgJ3MnO1xuICBlbGVtZW50LnN0eWxlLk9UcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB1c2VyU2VsZWN0IHN0eWxlIG9mIHRoZSBnaXZlbiBlbGVtZW50IHRvICdub25lJy5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldFVzZXJTZWxlY3ROb25lKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xuICBlbGVtZW50LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gIGVsZW1lbnQuc3R5bGUuTW96VXNlclNlbGVjdCA9ICdub25lJztcbiAgZWxlbWVudC5zdHlsZS5tc1VzZXJTZWxlY3QgPSAnbm9uZSc7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbnkgY2hpbGRyZW4gZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gcGFyZW50IHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gY2xhc3MuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IFRoZSBwYXJlbnQgdG8gcmVtb3ZlIGNoaWxkcmVuIGZyb20uXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byBtYXRjaC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3MocGFyZW50LCBjbGFzc05hbWUpIHtcbiAgbGV0IG1hdGNoaW5nQ2hpbGRyZW4gPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWUpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IG1hdGNoaW5nQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChtYXRjaGluZ0NoaWxkcmVuW2ldKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIENTUyB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiBzdHlsZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB3aXRoIHRoZSBnaXZlbiBjdWJpYy1cbiAqIGJlemllciBwb2ludHMuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7e3AxeDogTnVtYmVyLCBwMXk6IE51bWJlciwgcDJ4OiBOdW1iZXIsIHAyeTogTnVtYmVyfX0gYmV6aWVyUHRzIFRoZSBjdWJpYy1iZXppZXJcbiAqIHBvaW50cyB0byB1c2UgZm9yIHRoaXMgdGltaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uQ3ViaWNCZXppZXJUaW1pbmdGdW5jdGlvbihlbGVtZW50LCBiZXppZXJQdHMpIHtcbiAgY29uc3QgdmFsdWUgPSAnY3ViaWMtYmV6aWVyKCcgKyBiZXppZXJQdHMucDF4ICsgJywnICsgYmV6aWVyUHRzLnAxeSArICcsJyArIGJlemllclB0cy5wMnggKyAnLCcgK1xuICAgIGJlemllclB0cy5wMnkgKyAnKSc7XG4gIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuTW96VHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSB2YWx1ZTtcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG59XG5cbi8vIEEgY29sbGVjdGlvbiBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgZWFzaW5nIGZ1bmN0aW9ucy5cbmNvbnN0IGVhc2luZ0Z1bmN0aW9ucyA9IHtcbiAgbGluZWFyOiB0ID0+IHQsXG4gIGVhc2VJblF1YWQ6IHQgPT4gdCAqIHQsXG4gIGVhc2VPdXRRdWFkOiB0ID0+IHQgKiAoMiAtIHQpLFxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdCxcbiAgZWFzZUluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICBlYXNlT3V0Q3ViaWM6IHQgPT4gMSArIC0tdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRDdWJpYzogdCA9PiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSxcbiAgZWFzZUluUXVhcnQ6IHQgPT4gdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1YXJ0OiB0ID0+IDEgLSAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+IHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5RdWludDogdCA9PiB0ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1aW50OiB0ID0+IDEgKyAtLXQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWludDogdCA9PiB0IDwgMC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqIC0tdCAqIHQgKiB0ICogdCAqIHRcbn07XG5cbi8vIEEgY29sbGVjdGlvbiBvZiB0aGUgaW52ZXJzZXMgb2YgZGlmZmVyZW50IHR5cGVzIG9mIGVhc2luZyBmdW5jdGlvbnMuXG5jb25zdCBpbnZlcnNlRWFzaW5nRnVuY3Rpb25zID0ge1xuICBsaW5lYXI6IHQgPT4gdCxcbiAgZWFzZUluUXVhZDogdCA9PiBNYXRoLnNxcnQodCksXG4gIGVhc2VPdXRRdWFkOiB0ID0+IDEgLSBNYXRoLnNxcnQoMSAtIHQpLFxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyBNYXRoLnNxcnQodCAqIDAuNSkgOiAxIC0gMC43MDcxMDY3OCAqIE1hdGguc3FydCgxIC0gdClcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gQmV6aWVyIGN1cnZlIGF0IHRoZSBnaXZlblxuICogcGVyY2VudGFnZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudCBFeHByZXNzZWQgYXMgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuICogQHBhcmFtIHtBcnJheS48e3g6TnVtYmVyLHk6TnVtYmVyfT59IGNvbnRyb2xQb2ludHNcbiAqIEByZXR1cm5zIHt7eDpOdW1iZXIseTpOdW1iZXJ9fVxuICovXG5mdW5jdGlvbiBnZXRYWUZyb21QZXJjZW50V2l0aEJlemllcihwZXJjZW50LCBjb250cm9sUG9pbnRzKSB7XG4gIGxldCB4O1xuICBsZXQgeTtcbiAgbGV0IG9uZU1pbnVzUGVyY2VudDtcbiAgbGV0IHRtcDE7XG4gIGxldCB0bXAyO1xuICBsZXQgdG1wMztcbiAgbGV0IHRtcDQ7XG5cbiAgb25lTWludXNQZXJjZW50ID0gMSAtIHBlcmNlbnQ7XG4gIHRtcDEgPSBvbmVNaW51c1BlcmNlbnQgKiBvbmVNaW51c1BlcmNlbnQgKiBvbmVNaW51c1BlcmNlbnQ7XG4gIHRtcDIgPSAzICogcGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudDtcbiAgdG1wMyA9IDMgKiBwZXJjZW50ICogcGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudDtcbiAgdG1wNCA9IHBlcmNlbnQgKiBwZXJjZW50ICogcGVyY2VudDtcblxuICB4ID0gY29udHJvbFBvaW50c1swXS54ICogdG1wMSArXG4gICAgY29udHJvbFBvaW50c1sxXS54ICogdG1wMiArXG4gICAgY29udHJvbFBvaW50c1syXS54ICogdG1wMyArXG4gICAgY29udHJvbFBvaW50c1szXS54ICogdG1wNDtcbiAgeSA9IGNvbnRyb2xQb2ludHNbMF0ueSAqIHRtcDEgK1xuICAgIGNvbnRyb2xQb2ludHNbMV0ueSAqIHRtcDIgK1xuICAgIGNvbnRyb2xQb2ludHNbMl0ueSAqIHRtcDMgK1xuICAgIGNvbnRyb2xQb2ludHNbM10ueSAqIHRtcDQ7XG5cbiAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xufVxuXG4vKipcbiAqIEFwcGxpZXMgdGhlIGdpdmVuIHRyYW5zZm9ybSB0byB0aGUgZ2l2ZW4gZWxlbWVudCBhcyBhIENTUyBzdHlsZSBpbiBhIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJsZVxuICogbWFubmVyLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm1cbiAqL1xuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsZW1lbnQsIHRyYW5zZm9ybSkge1xuICBlbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIGVsZW1lbnQuc3R5bGUuT1RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIGdpdmVuIGFycmF5IHdpdGggaXRzIGNvbnRlbnRzIHJlLWFycmFuZ2VkIGluIGEgcmFuZG9tIG9yZGVyLlxuICpcbiAqIFRoZSBvcmlnaW5hbCBhcnJheSBpcyBsZWZ0IGluIGl0cyBvcmlnaW5hbCBvcmRlci5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XG4gIGxldCBpO1xuICBsZXQgajtcbiAgbGV0IGNvdW50O1xuICBsZXQgdGVtcDtcblxuICBmb3IgKGkgPSAwLCBjb3VudCA9IGFycmF5Lmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICBqID0gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIGNvdW50KTtcbiAgICB0ZW1wID0gYXJyYXlbal07XG4gICAgYXJyYXlbal0gPSBhcnJheVtpXTtcbiAgICBhcnJheVtpXSA9IHRlbXA7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBzaGFsbG93IGNvcHkgb2YgdGhlIGdpdmVuIG9iamVjdC5cbiAqXG4gKiBUaGlzIG9ubHkgY29waWVzIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBzaGFsbG93Q29weShvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgY2xvbmVPYmplY3QgPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKG9iamVjdClcbiAgICAgIC5mb3JFYWNoKGtleSA9PiBjbG9uZU9iamVjdFtrZXldID0gb2JqZWN0W2tleV0pO1xuXG4gICAgcmV0dXJuIGNsb25lT2JqZWN0O1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29weSBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIFRoaXMgb25seSBjb3BpZXMgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5KG9iamVjdCkge1xuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBIYWNrOiBOb3QgYSByb2J1c3QgY29weSBwb2xpY3lcbiAgICBsZXQgY2xvbmVPYmplY3Q7XG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBjbG9uZU9iamVjdCA9IFtdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNsb25lT2JqZWN0ID0ge307XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMob2JqZWN0KVxuICAgICAgLmZvckVhY2goa2V5ID0+IGNsb25lT2JqZWN0W2tleV0gPSBkZWVwQ29weShvYmplY3Rba2V5XSkpO1xuXG4gICAgcmV0dXJuIGNsb25lT2JqZWN0O1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gSFNMIGNvbG9yIHZhbHVlcyB0byBIU1YgY29sb3IgdmFsdWVzLlxuICpcbiAqIEdpdmVuIGFuZCByZXR1cm5lZCB2YWx1ZXMgd2lsbCBiZSBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICpcbiAqIEBwYXJhbSB7SHNsQ29sb3J9IGhzbFxuICogQHJldHVybnMge3toOk51bWJlcixzOk51bWJlcix2Ok51bWJlcn19XG4gKi9cbmZ1bmN0aW9uIGhzbFRvSHN2KGhzbCkge1xuICBjb25zdCB0ZW1wID0gaHNsLnMgKiAoaHNsLmwgPCAwLjUgPyBoc2wubCA6IDEgLSBoc2wubCk7XG4gIHJldHVybiB7XG4gICAgaDogaHNsLmgsXG4gICAgczogMiAqIHRlbXAgLyAoaHNsLmwgKyB0ZW1wKSxcbiAgICB2OiBoc2wubCArIHRlbXBcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gSFNWIGNvbG9yIHZhbHVlcyB0byBIU0wgY29sb3IgdmFsdWVzLlxuICpcbiAqIEdpdmVuIGFuZCByZXR1cm5lZCB2YWx1ZXMgd2lsbCBiZSBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICpcbiAqIEBwYXJhbSB7e2g6TnVtYmVyLHM6TnVtYmVyLHY6TnVtYmVyfX0gaHN2XG4gKiBAcmV0dXJucyB7SHNsQ29sb3J9XG4gKi9cbmZ1bmN0aW9uIGhzdlRvSHNsKGhzdikge1xuICBjb25zdCB0ZW1wID0gKDIgLSBoc3YucykgKiBoc3YudjtcbiAgcmV0dXJuIHtcbiAgICBoOiBoc3YuaCxcbiAgICBzOiBoc3YucyAqIGhzdi52IC8gKHRlbXAgPCAxID8gdGVtcCA6IDIuMDAwMDAwMDEgLSB0ZW1wKSxcbiAgICBsOiB0ZW1wICogMC41XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIEhTTCBjb2xvciB2YWx1ZXMgdG8gUkdCIGNvbG9yIHZhbHVlcy5cbiAqXG4gKiBHaXZlbiBhbmQgcmV0dXJuZWQgdmFsdWVzIHdpbGwgYmUgaW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqXG4gKiBPcmlnaW5hbGx5IGFkYXB0ZWQgZnJvbSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9jb2xvcl9zcGFjZS5cbiAqXG4gKiBAcGFyYW0ge0hzbENvbG9yfSBoc2xcbiAqIEByZXR1cm5zIHtSZ2JDb2xvcn0gcmdiXG4gKi9cbmZ1bmN0aW9uIGhzbFRvUmdiKGhzbCkge1xuICBsZXQgcjtcbiAgbGV0IGc7XG4gIGxldCBiO1xuXG4gIGlmIChoc2wucyA9PT0gMCkge1xuICAgIC8vIEFjaHJvbWF0aWMuXG4gICAgciA9IGhzbC5sO1xuICAgIGcgPSBoc2wubDtcbiAgICBiID0gaHNsLmw7XG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc3QgcSA9IGhzbC5sIDwgMC41ID9cbiAgICAgIGhzbC5sICogKDEgKyBoc2wucykgOlxuICAgICAgaHNsLmwgKyBoc2wucyAtIGhzbC5sICogaHNsLnM7XG4gICAgY29uc3QgcCA9IDIgKiBoc2wubCAtIHE7XG5cbiAgICByID0gX2h1ZTJSZ2IocCwgcSwgaHNsLmggKyAxIC8gMyk7XG4gICAgZyA9IF9odWUyUmdiKHAsIHEsIGhzbC5oKTtcbiAgICBiID0gX2h1ZTJSZ2IocCwgcSwgaHNsLmggLSAxIC8gMyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHI6IHIsXG4gICAgZzogZyxcbiAgICBiOiBiXG4gIH07XG59XG5cbmZ1bmN0aW9uIF9odWUyUmdiKHAsIHEsIHQpIHtcbiAgaWYgKHQgPCAwKSB7XG4gICAgdCsrO1xuICB9XG4gIGVsc2UgaWYgKHQgPiAxKSB7XG4gICAgdC0tO1xuICB9XG5cbiAgaWYgKHQgPCAxIC8gNikge1xuICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICB9XG4gIGVsc2UgaWYgKHQgPCAxIC8gMikge1xuICAgIHJldHVybiBxO1xuICB9XG4gIGVsc2UgaWYgKHQgPCAyIC8gMykge1xuICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gcDtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiBSR0IgY29sb3IgdmFsdWVzIHRvIEhTTCBjb2xvciB2YWx1ZXMuXG4gKlxuICogR2l2ZW4gYW5kIHJldHVybmVkIHZhbHVlcyB3aWxsIGJlIGluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKlxuICogT3JpZ2luYWxseSBhZGFwdGVkIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXG4gKlxuICogQHBhcmFtIHt7cjpOdW1iZXIsZzpOdW1iZXIsYjpOdW1iZXJ9fSByZ2JcbiAqIEByZXR1cm5zIHtIc2xDb2xvcn0gaHNsXG4gKi9cbmZ1bmN0aW9uIHJnYlRvSHNsKHJnYikge1xuICBjb25zdCBtYXggPSBNYXRoLm1heChyZ2IuciwgcmdiLmcsIHJnYi5iKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4ocmdiLnIsIHJnYi5nLCByZ2IuYik7XG4gIGxldCBoO1xuICBsZXQgcztcbiAgY29uc3QgbCA9IChtYXggKyBtaW4pIC8gMjtcblxuICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICAvLyBBY2hyb21hdGljLlxuICAgIGggPSAwO1xuICAgIHMgPSAwO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnN0IGQgPSBtYXggLSBtaW47XG4gICAgcyA9IGwgPiAwLjUgP1xuICAgICAgZCAvICgyIC0gbWF4IC0gbWluKSA6XG4gICAgICBkIC8gKG1heCArIG1pbik7XG5cbiAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgY2FzZSByZ2IucjpcbiAgICAgICAgaCA9IChyZ2IuZyAtIHJnYi5iKSAvIGQgKyAocmdiLmcgPCByZ2IuYiA/IDYgOiAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHJnYi5nOlxuICAgICAgICBoID0gKHJnYi5iIC0gcmdiLnIpIC8gZCArIDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSByZ2IuYjpcbiAgICAgICAgaCA9IChyZ2IuciAtIHJnYi5nKSAvIGQgKyA0O1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBoIC89IDY7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGg6IGgsXG4gICAgczogcyxcbiAgICBsOiBsXG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHZhbGlkIGNvbG9yIHN0cmluZyB0byBhc3NpZ24gdG8gYSBDU1MgcHJvcGVydHkgZnJvbSB0aGUgZ2l2ZW4gaC9zL2wgY29sb3IgdmFsdWVzLlxuICpcbiAqIEdpdmVuIHZhbHVlcyBzaG91bGQgYmUgaW4gdGhlIHJhbmdlIG9mIFswLDFdLlxuICpcbiAqIEBwYXJhbSB7SHNsQ29sb3J9IGhzbFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSHNsQ29sb3JTdHJpbmcoaHNsKSB7XG4gIHJldHVybiB0eXBlb2YgaHNsLmEgIT09ICd1bmRlZmluZWQnID9cbiAgICBgaHNsYSgke2hzbC5oICogMzYwfSwke2hzbC5zICogMTAwfSUsJHtoc2wubCAqIDEwMH0lLCR7aHNsLmF9KWAgOlxuICAgIGBoc2woJHtoc2wuaCAqIDM2MH0sJHtoc2wucyAqIDEwMH0lLCR7aHNsLmwgKiAxMDB9JSlgO1xufVxuXG4vKipcbiAqIENoZWNrcyB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgYWxsIG9mIGl0cyBhbmNlc3RvcnMsIGFuZCByZXR1cm5zIHRoZSBmaXJzdCB0aGF0IGNvbnRhaW5zIHRoZVxuICogZ2l2ZW4gY2xhc3MuXG4gKlxuICogQHBhcmFtIHs/SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHs/SFRNTEVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGZpbmRDbGFzc0luU2VsZk9yQW5jZXN0b3JzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIGlmIChjb250YWluc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5sZXQgdXRpbFN0eWxlU2hlZXQ7XG5cbi8qKlxuICogQWRkcyB0aGUgZ2l2ZW4gc3R5bGUgcnVsZSB0byBhIHN0eWxlIHNoZWV0IGZvciB0aGUgY3VycmVudCBkb2N1bWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVSdWxlXG4gKi9cbmZ1bmN0aW9uIGFkZFJ1bGVUb1N0eWxlU2hlZXQoc3R5bGVSdWxlKSB7XG4gIC8vIENyZWF0ZSB0aGUgY3VzdG9tIHN0eWxlIHNoZWV0IGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdFxuICBpZiAoIXV0aWxTdHlsZVNoZWV0KSB7XG4gICAgdXRpbFN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQodXRpbFN0eWxlU2hlZXQpO1xuICB9XG5cbiAgLy8gQWRkIHRoZSBnaXZlbiBydWxlIHRvIHRoZSBjdXN0b20gc3R5bGUgc2hlZXRcbiAgaWYgKHV0aWxTdHlsZVNoZWV0LnN0eWxlU2hlZXQpIHtcbiAgICB1dGlsU3R5bGVTaGVldC5zdHlsZVNoZWV0LmNzc1RleHQgPSBzdHlsZVJ1bGU7XG4gIH1cbiAgZWxzZSB7XG4gICAgdXRpbFN0eWxlU2hlZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3R5bGVSdWxlKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JTYWZhcmkoKSB7XG4gIHJldHVybiAvU2FmYXJpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIS9DaHJvbWUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JJb3MoKSB7XG4gIHJldHVybiAvaVBob25lfGlQb2R8aVBhZC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gZnVuY3Rpb24uXG4gKlxuICogRXZlbiBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIGlzIGludm9rZWQgbWFueSB0aW1lcywgdGhlIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGludm9rZWRcbiAqIGFmdGVyIHRoZSBnaXZlbiBkZWxheSBoYXMgZWxsYXBzZWQgc2luY2UgdGhlIGxhc3QgaW52b2NhdGlvbi5cbiAqXG4gKiBJZiBpc0ludm9rZWRJbW1lZGlhdGVseSBpcyB0cnVlLCB0aGVuIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGF0IHRoZSBzdGFydCBvZiB0aGVcbiAqIGludm9jYXRpb24gZ3JvdXAgcmF0aGVyIHRoYW4gYXQgdGhlIGVuZC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVkRnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBJbiBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0ludm9rZWRJbW1lZGlhdGVseT1mYWxzZV1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gZGVib3VuY2Uod3JhcHBlZEZ1bmN0aW9uLCBkZWxheSwgaXNJbnZva2VkSW1tZWRpYXRlbHkgPSBmYWxzZSkge1xuICBsZXQgdGltZW91dElkO1xuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgLy8gU2F2ZSB0aGUgY29udGV4dCBhbmQgYXJndW1lbnRzIHBhc3NlZCBmcm9tIHRoZSBjbGllbnQgKHRoaXMgd2lsbCB1c2UgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICAgIC8vIGZpcnN0IGludm9jYXRpb24gb2YgdGhlIGludm9jYXRpb24gZ3JvdXAuXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcblxuICAgIC8vIEludm9rZSBpbW1lZGlhdGVseSBvbmx5IGlmIHRoaXMgaXMgdGhlIGZpcnN0IGludm9jYXRpb24gb2YgYSBncm91cC5cbiAgICBpZiAoaXNJbnZva2VkSW1tZWRpYXRlbHkgJiYgIXRpbWVvdXRJZCkge1xuICAgICAgd3JhcHBlZEZ1bmN0aW9uLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IHRoZSBkZWxheS5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIFRoZSBpbnZvY2F0aW9uIGdyb3VwIGhhcyBlbmRlZC5cbiAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICBpZiAoIWlzSW52b2tlZEltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHdyYXBwZWRGdW5jdGlvbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHRocm90dGxlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBmdW5jdGlvbi5cbiAqXG4gKiBFdmVuIGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gaXMgaW52b2tlZCBtYW55IHRpbWVzLCB0aGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgaW52b2tlZFxuICogYXQgZWFjaCBpbnRlcnZhbCBvZiB0aGUgZ2l2ZW4gZGVsYXkuIEFmdGVyIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gc3RvcHMgYmVpbmcgaW52b2tlZCwgdGhlblxuICogd3JhcHBlZCBmdW5jdGlvbiB3aWxsIGFsc28gc3RvcCBiZWluZyBpbnZva2VkLlxuICpcbiAqIElmIGlzSW52b2tlZEltbWVkaWF0ZWx5IGlzIHRydWUsIHRoZW4gdGhlIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBiZSB0cmlnZ2VyZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZVxuICogaW52b2NhdGlvbiBkZWxheSByYXRoZXIgdGhhbiBhdCB0aGUgZW5kLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZWRGdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IEluIG1pbGxpc2Vjb25kcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzSW52b2tlZEltbWVkaWF0ZWx5PWZhbHNlXVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiB0aHJvdHRsZSh3cmFwcGVkRnVuY3Rpb24sIGRlbGF5LCBpc0ludm9rZWRJbW1lZGlhdGVseSA9IGZhbHNlKSB7XG4gIGxldCB0aW1lb3V0SWQ7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICAvLyBTYXZlIHRoZSBjb250ZXh0IGFuZCBhcmd1bWVudHMgcGFzc2VkIGZyb20gdGhlIGNsaWVudCAodGhpcyB3aWxsIHVzZSB0aGUgdmFsdWVzIGZyb20gdGhlXG4gICAgLy8gZmlyc3QgaW52b2NhdGlvbiBvZiB0aGUgaW52b2NhdGlvbiBncm91cC5cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgLy8gT25seSB0cmlnZ2VyIGEgbmV3IGludm9jYXRpb24gZ3JvdXAgaWYgd2UgYXJlIG5vdCBhbHJlYWR5L3N0aWxsIHdhaXRpbmcgb24gdGhlIGRlbGF5IGZyb20gYVxuICAgIC8vIHByZXZpb3VzIGludm9jYXRpb24uXG4gICAgaWYgKCF0aW1lb3V0SWQpIHtcbiAgICAgIGlmIChpc0ludm9rZWRJbW1lZGlhdGVseSkge1xuICAgICAgICB3cmFwcGVkRnVuY3Rpb24uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXJ0IHRoZSBkZWxheS5cbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBUaGUgaW52b2NhdGlvbiBncm91cCBoYXMgZW5kZWQuXG4gICAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgIGlmICghaXNJbnZva2VkSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgICB3cmFwcGVkRnVuY3Rpb24uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0sIGRlbGF5KTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheS48Kj58U3RyaW5nfSBhcnJheVxuICogQHBhcmFtIHsqfSBkZWxpbWl0ZXJcbiAqIEByZXR1cm5zIHtBcnJheS48Kj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfaW50ZXJsZWF2ZShhcnJheSwgZGVsaW1pdGVyKSB7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheShhcnJheS5sZW5ndGggKiAyIC0gMSk7XG4gIGlmIChhcnJheS5sZW5ndGgpIHtcbiAgICByZXN1bHQucHVzaChhcnJheVswXSk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gYXJyYXkubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHJlc3VsdC5wdXNoKGRlbGltaXRlcik7XG4gICAgcmVzdWx0LnB1c2goYXJyYXlbaV0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogTG9hZHMgdGhlIGdpdmVuIHNyYyBmb3IgdGhlIGdpdmVuIGltYWdlLlxuICpcbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxIVE1MSW1hZ2VFbGVtZW50LCBFcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGxvYWRJbWFnZVNyYyhpbWFnZSwgc3JjKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc29sZS5kZWJ1ZyhgTG9hZGluZyBpbWFnZTogJHtzcmN9YCk7XG5cbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgXyA9PiByZXNvbHZlKGltYWdlKSk7XG4gICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCByZWplY3QpO1xuICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgcmVqZWN0KTtcblxuICAgIGltYWdlLnNyYyA9IHNyYztcbiAgfSk7XG59XG5cbi8qKlxuICogTG9hZHMgdGV4dCBmcm9tIHRoZSBnaXZlbiBVUkwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge1Byb21pc2UuPFN0cmluZywgRXJyb3I+fVxuICovXG5mdW5jdGlvbiBsb2FkVGV4dCh1cmwpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgXyA9PiByZXNvbHZlKHhoci5yZXNwb25zZSkpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHJlamVjdCk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgcmVqZWN0KTtcblxuICAgIGNvbnNvbGUuZGVidWcoYExvYWRpbmcgdGV4dDogJHt1cmx9YCk7XG5cbiAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIEpTT04gb2JqZWN0IGZyb20gdGhlIGdpdmVuIFVSTC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48T2JqZWN0LCBFcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGxvYWRKc29uKHVybCkge1xuICByZXR1cm4gbG9hZFRleHQodXJsKS50aGVuKGpzb25UZXh0ID0+IEpTT04ucGFyc2UoanNvblRleHQpKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IHN0YWNrIHRyYWNlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFN0YWNrVHJhY2UoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoKS5zdGFjaztcbn1cblxuLyoqXG4gKiBGcmVlemVzIHRoZSBnaXZlbiBvYmplY3QgYW5kIHJlY3Vyc2l2ZWx5IGZyZWV6ZXMgYWxsIG9mIGl0cyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgT2JqZWN0LmZyZWV6ZShvYmplY3QpO1xuICAgIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaChrZXkgPT4gZGVlcEZyZWV6ZShvYmplY3Rba2V5XSkpO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIEdVSUQuXG4gKlxuICogR1VJRCBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxuICpcbiAqIExvZ2ljIGFkb3B0ZWQgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzLzQ4OTU2OC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjcmVhdGVHdWlkKCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcbiAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcbiAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuXG4vKipcbiAqIC0xMSAlIDMgPT09IC0yXG4gKiBtb2QoLTExLCAzKSA9PT0gMVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBuXG4gKiBAcGFyYW0ge251bWJlcn0gbVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbW9kKG4sIG0pIHtcbiAgcmV0dXJuICgobiAlIG0pICsgbSkgJSBtO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUZsb2F0SW5SYW5nZShtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gSW5jbHVzaXZlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IEV4Y2x1c2l2ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gcmFuZG9tSW50SW5SYW5nZShtaW4sIG1heCkge1xuICByZXR1cm4gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBsaXN0XG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gcGlja1JhbmRvbShsaXN0KSB7XG4gIHJldHVybiBsaXN0W3JhbmRvbUludEluUmFuZ2UoMCwgbGlzdC5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VycyB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBlaXRoZXIgdGhlIGN1cnJlbnQgdGFiIG9yIHRoZSBicm93c2VyIHdpbmRvdyBsb3Nlcy9nYWlucyBmb2N1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmb2N1c0NoYW5nZUhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gaGFuZGxlUGFnZUZvY3VzQ2hhbmdlKGZvY3VzQ2hhbmdlSGFuZGxlcikge1xuICAvLyBQYXVzZS91bnBhdXNlIHRoZSBhcHAgd2hlbiB0aGUgdGFiIGxvc2VzL2dhaW5zIGZvY3VzLlxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4gZm9jdXNDaGFuZ2VIYW5kbGVyKCFkb2N1bWVudC5oaWRkZW4pKTtcbiAgLy8gUGF1c2UvdW5wYXVzZSB0aGUgYXBwIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93IGxvc2VzL2dhaW5zIGZvY3VzLlxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IGZvY3VzQ2hhbmdlSGFuZGxlcihmYWxzZSkpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBmb2N1c0NoYW5nZUhhbmRsZXIodHJ1ZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgdGhlIGNvbnNlY3V0aXZlIG51bWJlcnMgZnJvbSBzdGFydCAoaW5jbHVzaXZlKSB0byBlbmQgKGV4Y2x1c2l2ZSkuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XG4gKi9cbmZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgciA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHN0YXJ0OyBqIDwgZW5kOyBpKyssIGorKykge1xuICAgIHJbaV0gPSBqO1xuICB9XG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ludCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgIGlzRmluaXRlKHZhbHVlKSAmJlxuICAgIHBhcnNlSW50KHZhbHVlKSA9PT0gdmFsdWU7XG59XG5cbi8qKlxuICogRmluZCB0aGUgZmlyc3QgdmFsdWUgaW4gYSBsaXN0IHRoYXQgc2F0aXNmaWVzIGEgcHJlZGljYXRlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZVxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGZpbmQobGlzdCwgcHJlZGljYXRlKSB7XG4gIGZvciAodmFyIGkgPSAwLCBjb3VudCA9IGxpc3QubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gbGlzdFtpXTtcbiAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgdmFsdWUsIGksIGxpc3QpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBrZXlDb2RlcyA9IHtcbiAgJ2EnOiA2NSxcbiAgJ2InOiA2NixcbiAgJ2MnOiA2NyxcbiAgJ2QnOiA2OCxcbiAgJ2UnOiA2OSxcbiAgJ2YnOiA3MCxcbiAgJ2cnOiA3MSxcbiAgJ2gnOiA3MixcbiAgJ2knOiA3MyxcbiAgJ2onOiA3NCxcbiAgJ2snOiA3NSxcbiAgJ2wnOiA3NixcbiAgJ20nOiA3NyxcbiAgJ24nOiA3OCxcbiAgJ28nOiA3OSxcbiAgJ3AnOiA4MCxcbiAgJ3EnOiA4MSxcbiAgJ3InOiA4MixcbiAgJ3MnOiA4MyxcbiAgJ3QnOiA4NCxcbiAgJ3UnOiA4NSxcbiAgJ3YnOiA4NixcbiAgJ3cnOiA4NyxcbiAgJ3gnOiA4OCxcbiAgJ3knOiA4OSxcbiAgJ3onOiA5MCxcbiAgJzAnOiA0OCxcbiAgJzEnOiA0OSxcbiAgJzInOiA1MCxcbiAgJzMnOiA1MSxcbiAgJzQnOiA1MixcbiAgJzUnOiA1MyxcbiAgJzYnOiA1NCxcbiAgJzcnOiA1NSxcbiAgJzgnOiA1NixcbiAgJzknOiA1NyxcbiAgJ1NQQUNFJzogMzIsXG4gICdFTlRFUic6IDEzLFxuICAnRVNDQVBFJzogMjcsXG4gICdMRUZUJzogMzcsXG4gICdVUCc6IDM4LFxuICAnUklHSFQnOiAzOSxcbiAgJ0RPV04nOiA0MFxufTtcblxuY29uc3Qgc3ZnTmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IHhsaW5rTmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuXG5leHBvcnQge1xuICBpc0luRGV2TW9kZSxcbiAgbGlzdGVuVG9NdWx0aXBsZUZvck11bHRpcGxlLFxuICBjcmVhdGVFbGVtZW50LFxuICBjb250YWluc0NsYXNzLFxuICB0b2dnbGVDbGFzcyxcbiAgZ2V0UGFnZU9mZnNldCxcbiAgZ2V0Vmlld3BvcnRTaXplLFxuICByZW1vdmVDaGlsZElmUHJlc2VudCxcbiAgYWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzLFxuICBjbGVhckNsYXNzZXMsXG4gIGdldFRleHRXaWR0aCxcbiAgZW5jb2RlUXVlcnlTdHJpbmcsXG4gIGdldFF1ZXJ5U3RyaW5nUGFyYW1ldGVyVmFsdWUsXG4gIHNldFRyYW5zaXRpb24sXG4gIHNldFRyYW5zaXRpb25EdXJhdGlvblNlY29uZHMsXG4gIHNldFRyYW5zaXRpb25EZWxheVNlY29uZHMsXG4gIHNldFVzZXJTZWxlY3ROb25lLFxuICByZW1vdmVDaGlsZHJlbldpdGhDbGFzcyxcbiAgc2V0VHJhbnNpdGlvbkN1YmljQmV6aWVyVGltaW5nRnVuY3Rpb24sXG4gIGVhc2luZ0Z1bmN0aW9ucyxcbiAgaW52ZXJzZUVhc2luZ0Z1bmN0aW9ucyxcbiAgZ2V0WFlGcm9tUGVyY2VudFdpdGhCZXppZXIsXG4gIHNldFRyYW5zZm9ybSxcbiAgc2h1ZmZsZSxcbiAgc2hhbGxvd0NvcHksXG4gIGRlZXBDb3B5LFxuICBoc3ZUb0hzbCxcbiAgaHNsVG9Ic3YsXG4gIGhzbFRvUmdiLFxuICByZ2JUb0hzbCxcbiAgY3JlYXRlSHNsQ29sb3JTdHJpbmcsXG4gIGZpbmRDbGFzc0luU2VsZk9yQW5jZXN0b3JzLFxuICBhZGRSdWxlVG9TdHlsZVNoZWV0LFxuICBjaGVja0ZvclNhZmFyaSxcbiAgY2hlY2tGb3JJb3MsXG4gIGRlYm91bmNlLFxuICB0aHJvdHRsZSxcbiAgbG9hZEltYWdlU3JjLFxuICBsb2FkVGV4dCxcbiAgbG9hZEpzb24sXG4gIGdldFN0YWNrVHJhY2UsXG4gIGRlZXBGcmVlemUsXG4gIGNyZWF0ZUd1aWQsXG4gIG1vZCxcbiAgcmFuZG9tRmxvYXRJblJhbmdlLFxuICByYW5kb21JbnRJblJhbmdlLFxuICBwaWNrUmFuZG9tLFxuICBoYW5kbGVQYWdlRm9jdXNDaGFuZ2UsXG4gIHJhbmdlLFxuICBpc0ludCxcbiAgZmluZCxcbiAga2V5Q29kZXMsXG4gIHN2Z05hbWVzcGFjZSxcbiAgeGxpbmtOYW1lc3BhY2UsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEhzbENvbG9yXG4gKiBAcHJvcGVydHkge051bWJlcn0gaCBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHMgSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKiBAcHJvcGVydHkge051bWJlcn0gW2FdIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZ2JDb2xvclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHIgSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBnIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKiBAcHJvcGVydHkge051bWJlcn0gYiBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFthXSBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICovXG4iXX0="}